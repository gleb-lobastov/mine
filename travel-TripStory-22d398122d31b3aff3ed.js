(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{804:function(t,e,r){"use strict";var n=r(0),a=r.n(n),i=r(266),o=function(t){return function(e){var r=e.provision,n=(r=void 0===r?{}:r).isPending,o=void 0===n||n,u=r.hasFallback;return o&&!u?a.a.createElement(i.a,null):a.a.createElement(t,e)}},u=r(129);e.a=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}}(u.a.apply(void 0,e),o)(t)}}},805:function(t,e,r){var n=r(812),a=r(139);t.exports=function(t,e){return t&&n(t,e,a)}},807:function(t,e,r){var n=r(264),a=r(808),i=Object.prototype.hasOwnProperty,o=a(function(t,e,r){i.call(t,r)?t[r].push(e):n(t,r,[e])});t.exports=o},808:function(t,e,r){var n=r(809),a=r(810),i=r(380),o=r(29);t.exports=function(t,e){return function(r,u){var c=o(r)?n:a,s=e?e():{};return c(r,t,i(u,2),s)}}},809:function(t,e){t.exports=function(t,e,r,n){for(var a=-1,i=null==t?0:t.length;++a<i;){var o=t[a];e(n,o,r(o),t)}return n}},810:function(t,e,r){var n=r(811);t.exports=function(t,e,r,a){return n(t,function(t,n,i){e(a,t,r(t),i)}),a}},811:function(t,e,r){var n=r(805),a=r(814)(n);t.exports=a},812:function(t,e,r){var n=r(813)();t.exports=n},813:function(t,e){t.exports=function(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),u=o.length;u--;){var c=o[t?u:++a];if(!1===r(i[c],c,i))break}return e}}},814:function(t,e,r){var n=r(269);t.exports=function(t,e){return function(r,a){if(null==r)return r;if(!n(r))return t(r,a);for(var i=r.length,o=e?i:-1,u=Object(r);(e?o--:++o<i)&&!1!==a(u[o],o,u););return r}}},830:function(t,e,r){"use strict";r.d(e,"b",function(){return u}),r.d(e,"a",function(){return c});var n=r(807),a=r.n(n),i=r(831),o=r.n(i),u=function(t){return t.sort(function(t,e){return t.orderInTrip-e.orderInTrip})},c=function(t){return o()(a()(t,"tripId"),u)}},831:function(t,e,r){var n=r(264),a=r(805),i=r(380);t.exports=function(t,e){var r={};return e=i(e,3),a(t,function(t,a,i){n(r,a,e(t,a,i))}),r}},983:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),i=r(2),o=r.n(i),u=r(41),c=r(267),s=r.n(c),l=r(7),f=r(137),d=r(129),p=r(804),v=r(176),m=r(183),h=r(830),b=r(177),g=Object(f.a)(h.b),y=function(t){var e=t.classes,r=t.visits,n=(r=void 0===r?{}:r).data,i=void 0===n?[]:n,o=t.ridesDict;if(!o||!i)return a.a.createElement("div",null,"None");var u=a.a.createElement("div",null,"Заметки о поездке не найдены");if(!i.length)return u;var c=i.length-1,s=g(i).map(function(t,r){var n,i=t.visitId,u=t.arrivalRideId,s=t.departureRideId,l=t.visitComment,f=t.locationName,d=(o[u]||{}).rideComment;c===r&&(n=(o[s]||{}).rideComment);return d||n||l?a.a.createElement("article",{key:"id".concat(i),className:e.visitContainer},a.a.createElement("h1",{className:e.location},f),Boolean(d)&&a.a.createElement("section",{className:e.storyPart},d),Boolean(l)&&a.a.createElement("section",{className:e.storyPart},l),Boolean(n)&&a.a.createElement("section",{className:e.storyPart},n)):null}),l=s.some(Boolean)?s:u;return a.a.createElement("div",{className:e.container},l)};y.propTypes={classes:o.a.objectOf(o.a.string).isRequired,trips:o.a.shape({data:o.a.arrayOf(o.a.shape(m.default))}).isRequired,visits:o.a.shape({data:o.a.arrayOf(o.a.shape(b.default))}).isRequired,ridesDict:o.a.objectOf(o.a.shape(v.default)).isRequired};e.default=s()(u.g,Object(l.a)({container:{fontSize:"16px",lineHeight:"1.5"},visitContainer:{margin:"20px 0"},location:{fontWeight:"bold",fontSize:"21px"},storyPart:{margin:"12px 0"}}),Object(p.a)(function(t,e){var r,n,a=e.match.params.strTripId,i=(r=a,n=Number(r),Number.isNaN(n)?NaN:parseFloat(r));return{identity:{strTripId:a},request:{rides:{modelName:"rides",query:{filter:{trip_id:{comparator:"=",value:i}},navigation:{isDisabled:!0}}},visits:{modelName:"visits",query:{filter:{trip_id:{comparator:"=",value:i}},navigation:{isDisabled:!0}}}},domain:"tripStoryPage"}},function(t){return{ridesDict:Object(d.d)(t,"rides")}}))(y)}}]);
//# sourceMappingURL=travel-TripStory-22d398122d31b3aff3ed.js.map