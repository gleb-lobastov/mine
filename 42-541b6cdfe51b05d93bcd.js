"use strict";(self.webpackChunkmine=self.webpackChunkmine||[]).push([[42],{53273:(e,t,r)=>{r.d(t,{xp:()=>c,ZP:()=>s,kk:()=>u,sZ:()=>l});var n=r(67294),a=r(9041);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t,r,l=(t=(0,n.useState)((function(){return(t=e)?a.EditorState.createWithContent((0,a.convertFromRaw)(t)):a.EditorState.createEmpty();var t})),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{editorState:l[0],setEditorState:l[1]}}r(82886),r(79753),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(74916),r(77601);var i=r(31313);function c(e){var t=e.data,r=(0,n.useMemo)((function(){return(0,i.E)(t)}),[t]);return n.createElement("div",{dangerouslySetInnerHTML:{__html:r}})}function u(e){return(0,a.convertToRaw)(e.getCurrentContent())}function s(e){var t=e.editorState,r=e.setEditorState,o=(0,n.useCallback)((function(e){r(e)})),l=(0,n.useCallback)((function(e,t){var r=a.RichUtils.handleKeyCommand(t,e);return r?(o(r),"handled"):"not-handled"}),[o]);return n.createElement(a.Editor,{editorState:t,onChange:o,handleKeyCommand:l})}},40043:(e,t,r)=>{r.d(t,{Z:()=>u}),r(47941),r(82772),r(82526),r(19601);var n=r(67294),a=r(73727),o=r(89659),l=r(22318),i=["optional","children"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e){var t=e.optional,r=e.children,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i);return Boolean(!t||u.href||u.to||u.onClick)?n.createElement(o.Z,c({},u,{component:a.rU}),r):n.createElement(l.Z,u,r)}u.defaultProps={optional:!1}},73135:(e,t,r)=>{r.d(t,{ZP:()=>s,ug:()=>m,jA:()=>d}),r(26699),r(69070),r(47941),r(82526),r(57327),r(41539),r(88449),r(2490),r(59849),r(38880),r(89554),r(15581),r(34514),r(54747),r(49337),r(33321),r(79753),r(41817),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(74916),r(77601);var n=r(12291),a=r(24774),o=r(91949);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){var e=(0,a.xv)({domain:"articles",isProvision:!0,modelName:"articles",observe:!1,query:{navigation:{isDisabled:!0}}}),t=((0,o.tF)(e)||{}).data,r=void 0===t?[]:t,l=(0,n.v9)((function(e){return(0,a.Fz)(e,"articles",r)}));return c(c({},e),{},{articlesList:l,isReady:(0,o.Jk)(e)})}function m(e){var t=e.slug,r=e.domain,o=(0,a.xv)({domain:r,isProvision:!0,modelName:"articles",observe:t,condition:Boolean(t),query:{id:t}}),l=(0,n.v9)((function(e){return(0,a.Gh)(e,"articles",t)}));return c(c({},o),{},{article:l})}function d(e){var t,r,n=e.domain,o=(t=(0,a.QT)({domain:n,modelName:"articles",method:"POST"}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],u=o[1];return c(c({},u),{},{isSubmitting:![0,4].includes(u.readyState),submitArticle:i})}},1042:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E}),r(21249),r(57640),r(9924);var n=r(67294),a=r(5977),o=r(41120),l=r(62822),i=r(50998),c=r(95757),u=r(92448),s=r(84090),m=r(40043),d=r(27610),f=r(73135),y=(r(66992),r(41539),r(88674),r(78783),r(33948),r(9041)),p=r(22318),v=r(53273);function b(e){var t=e.slug,r=(0,d.Eu)(),a=r.isAuthenticated,o=r.userId,l=(0,f.ug)({slug:t,domain:"ArticleEditor"}).article,i=(0,s._l)(),c=i.literature,u=i.code,b=c||u;if(t&&!l)return n.createElement(p.Z,{variant:"body"},"Статья еще не опубликована или недоступна для чтения");var g=l.body,h=l.title,E=l.userId,O=l.isDraft,Z=a&&o===E;return!Z&&O||!g?n.createElement(p.Z,{variant:"body"},"Статья еще не опубликована или недоступна для чтения"):n.createElement(n.Fragment,null,n.createElement(p.Z,{variant:"h6"},h),Z&&n.createElement(m.Z,{to:b.editArticle.toUrl({slug:t})},"Редактировать"),n.createElement(v.xp,{data:(0,y.convertFromRaw)(g)}))}const g=(0,a.EN)((function(e){var t=e.slug,a=function(e){switch(e){case"chaldini":return n.lazy((function(){return Promise.all([r.e(579),r.e(930)]).then(r.bind(r,56875))}));case"blackSwan":return n.lazy((function(){return Promise.all([r.e(579),r.e(721)]).then(r.bind(r,51770))}));case"importThis":return n.lazy((function(){return Promise.all([r.e(579),r.e(978)]).then(r.bind(r,89101))}));default:return b}}(t);return a?n.createElement(a,{slug:t}):n.createElement("div",null,"Статья не найдена")}));var h=(0,o.Z)({container:{display:"flex"},iconHome:{padding:"0 16px"},slugList:{flex:"0 1 350px"},loader:{margin:"12px"}});const E=function(){var e=h(),t=(0,a.UO)(),r=t.slug,o=t.tag,y=(0,d.Eu)(),p=y.isAuthenticated,v=y.userAlias,b=y.userId,E=(0,f.ZP)({userAlias:v}),O=E.articlesList,Z=E.isReady,S=(0,s._l)(),w=S.literature,j=S.code,A=!o||"summary"===o,P=!o||"code"===o,k=w||j;return n.createElement(n.Fragment,null,!w&&n.createElement(m.Z,{to:k.entry.toUrl(),className:e.iconHome},n.createElement(u.Z,null)),n.createElement("div",{className:e.container},Z?n.createElement(l.Z,{component:"nav","aria-label":"articles",classes:{root:e.slugList}},A&&n.createElement(i.Z,{button:!0,component:m.Z,to:k.articles.toUrl({slug:"chaldini"})},n.createElement(c.Z,{primary:"«Психология убеждения» Чалдини"})),A&&n.createElement(i.Z,{button:!0,component:m.Z,to:k.articles.toUrl({slug:"blackSwan"})},n.createElement(c.Z,{primary:"«Черный лебедь» Талеба"})),P&&n.createElement(i.Z,{button:!0,component:m.Z,to:k.articles.toUrl({slug:"importThis"})},n.createElement(c.Z,{primary:"19 принципов достижения дзена при написании компьютерных программ"})),O.map((function(e){var t=e.userId,r=e.isDraft,a=e.title,o=e.slug;if(r&&(!p||b!==t))return null;var l=r?"Черновик: ".concat(a):a;return n.createElement(i.Z,{button:!0,component:m.Z,to:k.articles.toUrl({slug:o})},n.createElement(c.Z,{primary:l}))})),p&&n.createElement(i.Z,{button:!0,component:m.Z,to:k.createArticle.toUrl({userAlias:v})},n.createElement(c.Z,{primary:"Добавить статью"}))):n.createElement("div",{className:e.loader},"...Loading"),r&&n.createElement("div",null,n.createElement(g,{slug:r}))))}}}]);
//# sourceMappingURL=42-541b6cdfe51b05d93bcd.js.map