{"version":3,"file":"literature-Blog-f378a91050f2411cc797.js","mappings":"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","sources":["webpack://mine/./src/packages/literature/pages/Blog/Blog.jsx","webpack://mine/./src/packages/literature/pages/Blog/blocks/Post.jsx","webpack://mine/./src/packages/literature/pages/Blog/blocks/Posts.jsx","webpack://mine/./src/packages/literature/pages/Quotes/Quotes.jsx","webpack://mine/./node_modules/core-js/internals/array-sort.js","webpack://mine/./node_modules/core-js/internals/engine-ff-version.js","webpack://mine/./node_modules/core-js/internals/engine-is-ie-or-edge.js","webpack://mine/./node_modules/core-js/internals/engine-webkit-version.js","webpack://mine/./node_modules/core-js/modules/es.array.sort.js"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useProvision, selectDict } from 'core/connection';\nimport { selectResult } from 'core/connection/request/controllerRedux';\nimport Posts from './blocks/Posts';\n\nexport default function Blog() {\n  const provision = useProvision({\n    domain: 'literature.blogPosts',\n    isProvision: true,\n    modelName: 'posts',\n    query: { navigation: { isDisabled: true } },\n  });\n  const { data: postsIds = [] } = selectResult(provision) || {};\n  const postsDict = useSelector(state => selectDict(state, 'posts'));\n  const postsList = postsIds.map(postId => postsDict[postId]).filter(Boolean);\n  // console.log({ postsDict, postsIds, postsList });\n  return <Posts source={postsList} />;\n}\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport format from 'date-fns/format';\nimport ru from 'date-fns/locale/ru';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  date: {\n    color: '#999',\n    fontSize: '75%',\n    fontWeight: 'normal',\n    marginLeft: '4px',\n  },\n};\n\nclass Post extends React.PureComponent {\n  render() {\n    const {\n      classes,\n      source: { date, header, content },\n    } = this.props;\n\n    return (\n      <article>\n        <h3>\n          {header}\n          {date && (\n            <span className={classes.date}>\n              {format(date, 'eeeeee, d MMMM yyyy', { locale: ru })}\n            </span>\n          )}\n        </h3>\n        <ReactMarkdown>{content}</ReactMarkdown>\n      </article>\n    );\n  }\n}\n\nexport default withStyles(styles)(Post);\n","import React from 'react';\nimport Post from './Post';\n\nconst sortByDateDesc = ({ date: dateA }, { date: dateB }) => {\n  if (dateA > dateB) {\n    return -1;\n  }\n  if (dateA < dateB) {\n    return 1;\n  }\n  return 0;\n};\n\nclass Posts extends React.PureComponent {\n  render() {\n    const { source } = this.props;\n\n    return (\n      <section>\n        {source.sort(sortByDateDesc).map(post => (\n          <Post key={`post${post.id}`} source={post} />\n        ))}\n      </section>\n    );\n  }\n}\n\nexport default Posts;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useProvision, selectDict } from 'core/connection';\nimport Posts from 'literature/pages/Blog/blocks/Posts';\n\nexport default function Quotes() {\n  const { provision = {} } = useProvision({\n    domain: 'literature.quotesPage',\n    isProvision: true,\n    modelName: 'quotes',\n    query: { navigation: { isDisabled: true } },\n  });\n  const { data: quotesIds = [] } = provision;\n  const articlesDict = useSelector(state => selectDict(state, 'articles'));\n  const quotesList = quotesIds.map(articlesId => articlesId[articlesDict]);\n  return <Posts source={quotesList} />;\n}\n","var arraySlice = require('../internals/array-slice');\n\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    array,\n    mergeSort(arraySlice(array, 0, middle), comparefn),\n    mergeSort(arraySlice(array, middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (array, left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n\n  while (lindex < llength || rindex < rlength) {\n    array[lindex + rindex] = (lindex < llength && rindex < rlength)\n      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n      : lindex < llength ? left[lindex++] : right[rindex++];\n  } return array;\n};\n\nmodule.exports = mergeSort;\n","var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar un$Sort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n"],"names":["Blog","provision","useProvision","domain","isProvision","modelName","query","navigation","isDisabled","selectResult","data","postsIds","postsDict","useSelector","state","selectDict","postsList","map","postId","filter","Boolean","source","Post","this","props","classes","date","header","content","className","format","locale","ru","React","withStyles","color","fontSize","fontWeight","marginLeft","sortByDateDesc","dateA","dateB","Posts","sort","post","key","id","Quotes","quotesIds","articlesDict","quotesList","articlesId","arraySlice","floor","Math","mergeSort","array","comparefn","length","middle","insertionSort","merge","element","j","i","left","right","llength","rlength","lindex","rindex","module","exports","firefox","match","UA","test","webkit","$","uncurryThis","aCallable","toObject","lengthOfArrayLike","toString","fails","internalSort","arrayMethodIsStrict","FF","IE_OR_EDGE","V8","WEBKIT","un$Sort","push","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","STABLE_SORT","code","chr","value","index","result","String","fromCharCode","k","v","a","b","charAt","target","proto","forced","itemsLength","items","arrayLength","x","y","getSortCompare"],"sourceRoot":""}