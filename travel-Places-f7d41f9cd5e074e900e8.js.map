{"version":3,"sources":["webpack:///./node_modules/blurhash/dist/esm/utils.js","webpack:///./node_modules/blurhash/dist/esm/error.js","webpack:///./node_modules/blurhash/dist/esm/base83.js","webpack:///./node_modules/react-scrolllock/dist/TouchScrollable.js","webpack:///./node_modules/core-js/modules/esnext.async-iterator.constructor.js","webpack:///./node_modules/core-js/modules/esnext.async-iterator.to-array.js","webpack:///./node_modules/core-js/modules/esnext.iterator.to-array.js","webpack:///./src/modules/components/LazyWithPlaceholder/LazyWithPlaceholder.jsx","webpack:///./node_modules/blurhash/dist/esm/decode.js","webpack:///./node_modules/react-blurhash/es/BlurhashCanvas.js","webpack:///./node_modules/react-blurhash/es/Blurhash.js","webpack:///./src/modules/components/PhotosGallery/components/LazyImage/LazyImage.jsx","webpack:///./node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js","webpack:///./src/modules/components/PhotosGallery/components/GallerySkeleton/GallerySkeleton.jsx","webpack:///./src/modules/components/PhotosGallery/components/FullscreenFallback/FullscreenFallback.jsx","webpack:///./src/modules/components/PhotosGallery/PhotosGallery.jsx","webpack:///./node_modules/react-dropzone/node_modules/prop-types/index.js","webpack:///./node_modules/react-dropzone/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/react-dropzone/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/attr-accept/dist/index.js","webpack:///./node_modules/react-image-gallery/build/image-gallery.js","webpack:///./node_modules/react-lazy-load/lib/LazyLoad.js","webpack:///./node_modules/eventlistener/eventlistener.js","webpack:///./node_modules/lodash.debounce/index.js","webpack:///./node_modules/lodash.throttle/index.js","webpack:///./node_modules/react-lazy-load/lib/utils/parentScroll.js","webpack:///./node_modules/react-lazy-load/lib/utils/inViewport.js","webpack:///./node_modules/react-lazy-load/lib/utils/getElementPosition.js","webpack:///./node_modules/react-scrolllock/dist/index.js","webpack:///./node_modules/react-scrolllock/dist/ScrollLock.js","webpack:///./node_modules/react-scrolllock/dist/withLockSheet.js","webpack:///./node_modules/react-scrolllock/dist/withTouchListeners.js","webpack:///./node_modules/core-js/modules/esnext.array.group-by.js","webpack:///./node_modules/core-js/internals/array-group-by.js","webpack:///./node_modules/core-js/internals/array-from-constructor-and-list.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/@material-ui/icons/Event.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./node_modules/@material-ui/icons/Flag.js","webpack:///./node_modules/@material-ui/icons/Place.js","webpack:///./node_modules/@material-ui/icons/Timelapse.js","webpack:///./node_modules/@material-ui/icons/FiberNew.js","webpack:///./node_modules/lodash/orderBy.js","webpack:///./node_modules/blurhash/dist/esm/encode.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/file-selector/dist/es5/file.js","webpack:///./node_modules/file-selector/dist/es5/file-selector.js","webpack:///./node_modules/react-dropzone/dist/es/utils/index.js","webpack:///./node_modules/react-dropzone/dist/es/index.js","webpack:///./src/packages/travel/pages/VisitPage/resolveDropzoneStyles.js","webpack:///./src/packages/travel/pages/VisitPage/components/PhotosDropzone/PhotosDropzone.jsx","webpack:///./src/packages/travel/pages/VisitPage/VisitPage.jsx","webpack:///./src/modules/components/loaders/BackdropLoader.jsx","webpack:///./src/packages/travel/pages/VisitsPage/sidebarConsts.js","webpack:///./src/packages/travel/pages/VisitsPage/consts.js","webpack:///./src/packages/travel/pages/VisitsPage/useVisitsGroupingSidebar.jsx","webpack:///./src/packages/travel/pages/VisitsPage/components/VisitsTitle/VisitsTitle.jsx","webpack:///./src/packages/travel/pages/VisitsPage/locators.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveGroupsOrder.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveSortingOrder.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveFiltering.js","webpack:///./src/packages/travel/pages/VisitsPage/VisitsPage.jsx","webpack:///./src/packages/travel/pages/LocationPage/blocks/LocationRating.jsx","webpack:///./src/packages/travel/pages/LocationPage/useLocationWithTripStats.js","webpack:///./src/packages/travel/dataSource/useLocation.js","webpack:///./src/packages/travel/pages/LocationPage/LocationPage.jsx","webpack:///./src/packages/travel/pages/LocationsPage/blocks/LocationRating.jsx","webpack:///./src/packages/travel/pages/LocationsPage/LocationsPage.jsx","webpack:///./src/packages/travel/pages/LocationsPage/useUserLocations.js","webpack:///./src/packages/travel/pages/CountryPage/CountryPage.jsx","webpack:///./src/packages/travel/pages/CountryPage/useCountryWithTripStats.js","webpack:///./src/packages/travel/dataSource/useTrips.js","webpack:///./src/core/connection/request/utils/mergeProvisionsState.js","webpack:///./src/modules/utilities/dateTime/dateTimePeriodToString.js","webpack:///./src/modules/components/muiExtended/ConnectedLink/ConnectedLink.jsx","webpack:///./src/packages/travel/dataSource/useCountries.js","webpack:///./src/modules/utilities/dateTime/safeDateFormat.js","webpack:///./src/modules/utilities/dateTime/isValidDate.js","webpack:///./src/packages/travel/dataSource/useLocations.js","webpack:///./src/packages/travel/dataSource/useUser.js","webpack:///./src/packages/travel/dataSource/useVisit.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/filtering/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/filtering/switchFilteringFn.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/CountryVisitsGroup/CountryVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/utils/resolveGroupingUtils.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/LocationVisitsGroup/LocationVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/YearVisitsGroup/YearVisitsGroup.jsx","webpack:///./src/modules/utilities/hooks/makeVisibleOnlyOnHoverStyles.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/TripVisitsGroup/TripInfo/TripInfo.jsx","webpack:///./src/modules/components/AutoMargin/AutoMargin.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/components/LocationWithRideInfo/LocationWithRideInfo.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/components/VisitInfo/VisitInfo.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/TripVisitsGroup/TripVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/VisitsItselfGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/utils/groupVisitsBy.js","webpack:///./node_modules/memoize-one/dist/memoize-one.esm.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/createCalcByYearUtils.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/calcDaysTravellingStats.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/calcStats.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/StatsIndicator/StatsIndicator.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/CountriesStats/CountriesStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/LocationStats/LocationStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/DaysTravellingStats/DaysTravellingStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/utils/isNewbie.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/StatsPanel.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/sorting/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/sorting/utils/sortVisitsBy.js","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitsPhotosGallery/VisitsPhotosGallery.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitsLocationsMap/VisitsLocationsMap.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitGroup/VisitGroup.jsx","webpack:///./src/modules/utilities/virtual/useRect.js","webpack:///./src/modules/utilities/virtual/calculateRange.js","webpack:///./src/modules/utilities/virtual/index.js","webpack:///./src/modules/utilities/virtual/useRange.js","webpack:///./src/packages/travel/components/VisitsArranger/components/Virtualizer/components/Virtualized/Virtualized.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Virtualizer/components/BypassVirtualized/BypassVirtualized.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Virtualizer/Virtualizer.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Expandable/components/ExpandableActions/ExpandableActions.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Expandable/Expandable.jsx","webpack:///./src/packages/travel/components/VisitsArranger/renderGroupsRecursive.jsx","webpack:///./src/packages/travel/components/VisitsArranger/VisitsArranger.jsx","webpack:///./src/packages/travel/components/VisitsArranger/index.js","webpack:///./src/packages/travel/components/VisitInfo/VisitInfo.jsx","webpack:///./src/packages/travel/components/VisitIcon/VisitIcon.jsx","webpack:///./node_modules/exenv/index.js","webpack:///./node_modules/react-scrolllock/dist/utils.js","webpack:///./src/packages/travel/components/RideIcon/RideIcon.jsx","webpack:///./src/packages/travel/components/LocationsMap/utils/adaptMarkerData.js","webpack:///./src/packages/travel/components/LocationsMap/utils/resolveLocationFirstAndLastVisitDateTime.js","webpack:///./src/packages/travel/components/LocationsMap/consts.js","webpack:///./src/packages/travel/components/LocationsMap/utils/makeScaleUtils.js","webpack:///./src/modules/utilities/dateTime/formatDate.js","webpack:///./src/packages/travel/components/LocationsMap/utils/renderTitle.js","webpack:///./src/packages/travel/components/LocationsMap/utils/resolveMarkerUrl.js","webpack:///./src/packages/travel/components/LocationsMap/useMarkers.js","webpack:///./src/packages/travel/components/LocationsMap/blocks/MarkersScaleSelect/MarkersScaleSelect.jsx","webpack:///./src/packages/travel/components/LocationsMap/blocks/MarkersRatingLevelSelect/MarkersRatingLevelSelect.jsx","webpack:///./src/packages/travel/components/LocationsMap/useMarkersScaleSidebar.js","webpack:///./src/packages/travel/components/LocationsMap/LocationsMap.jsx","webpack:///./src/packages/travel/components/LocationsMap/utils/filterMarkerData.js","webpack:///./src/packages/travel/components/RideInfo/RideInfo.jsx","webpack:///./src/packages/travel/utils/useVisitsUrls.js","webpack:///./src/modules/utilities/text/uniqTrimAndJoin.js","webpack:///./src/packages/travel/models/trips/utils/resolveTripCaption.js"],"names":["sRGBToLinear","value","v","Math","pow","linearTosRGB","max","min","round","signPow","val","exp","abs","ValidationError","Error","message","super","this","name","digitCharacters","decode83","str","i","length","c","indexOf","encode83","n","result","digit","floor","Object","defineProperty","exports","TouchScrollable","undefined","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_exenv","_utils","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_PureComponent","_ref","_temp","_this","_len","args","Array","_key","__proto__","getPrototypeOf","apply","concat","getScrollableArea","ref","scrollableArea","subClass","superClass","create","constructor","setPrototypeOf","_inherits","canUseEventListeners","addEventListener","preventInertiaScroll","listenerOptions","allowTouchMove","removeEventListener","_props","children","rest","obj","keys","_objectWithoutProperties","cloneElement","PureComponent","$","anInstance","createNonEnumerableProperty","hasOwn","wellKnownSymbol","AsyncIteratorPrototype","IS_PURE","TO_STRING_TAG","AsyncIteratorConstructor","global","forced","AsyncIterator","$toArray","toArray","proto","real","iterate","anObject","push","that","IS_ITERATOR","LazyWithPlaceholder","placeholder","forwardingProps","useState","loaded","setLoaded","handleVisible","useCallback","onContentVisible","validateBlurhash","blurhash","sizeFlag","numY","numX","decodeDC","intR","intG","intB","decodeAC","maximumValue","quantR","quantG","quantB","extendStatics","width","height","punch","colors","substring","bytesPerRow","pixels","Uint8ClampedArray","y","x","r","g","b","j","basis","cos","PI","color","__extends","d","p","__","__assign","t","s","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","_super","BlurhashCanvas","canvas","handleRef","draw","_a","hash","ctx","getContext","imageData","createImageData","data","set","putImageData","componentDidUpdate","render","defaultProps","canvasStyle","position","top","bottom","left","right","Blurhash","resolutionX","resolutionY","style","display","LOADING_STATE","INITIAL_STATE","LazyImage","aspectRatio","className","require","tag","src","alt","constraints","onLoad","loadingState","setLoadingState","handleError","imgRef","useRef","handleLoad","current","naturalWidth","naturalHeight","useEffect","hasResult","imageHeight","imageWidth","heightConstraint","widthConstraint","resolveImageSize","realImgWidth","setRealImgWidth","useLayoutEffect","getBoundingClientRect","data-tag","resolveActualSrc","maxWidth","onError","loading","_props$animation","animation","classes","_props$component","component","Component","_props$variant","variant","other","hasChildren","Boolean","root","withChildren","fitContent","heightAuto","withStyles","theme","backgroundColor","palette","text","primary","type","marginTop","marginBottom","transformOrigin","transform","borderRadius","shape","content","rect","circle","pulse","opacity","wave","overflow","background","action","hover","visibility","useStyles","makeStyles","container","imageSkeleton","flexGrow","thumbsContainer","thumbSkeleton","margin","GallerySkeleton","thumbsCount","ceil","times","map","zIndex","drawer","FullscreenFallback","fullscreen","uniqKey","inlineGalleryRef","portalGalleryRef","element","document","createElement","id","body","append","remove","setState","isFullscreen","modalFullscreen","ReactDOM","createPortal","React","additionalClass","window","getElementById","FULLSCREEN_ENABLED","fullscreenEnabled","mozFullScreenEnabled","documentElement","webkitRequestFullScreen","photoContainer","minHeight","overflowY","scrollbarWidth","photo","PhotosGallery","photos","useMemo","uuidV4","useLayoutContext","vw","vh","setFullscreen","aspectRatios","setAspectRatios","currentIndex","setCurrentIndex","RATIOS","FULLSCREEN","DEFAULT","HEIGHT","WIDTH","calc","CONFIG","unit","PERCENT","MAX_PX","resolveImageConstraints","thumbnailElement","querySelector","closest","scrollIntoView","block","behavior","actualPhotos","index","fullSizePhotoUrl","thumbnailUrl","previewUrl","description","original","originalClass","thumbnail","galleryRef","imageGalleryNode","useBrowserFullscreen","startIndex","showIndex","items","thumbnailPosition","onScreenChange","nextFullscreen","onBeforeSlide","nextIndex","disableKeyDown","disableThumbnailScroll","renderItem","item","ratio","originalAlt","title","originalTitle","renderThumbInner","thumbnailAlt","thumbnailTitle","prevRatios","cls","offset","Infinity","module","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","elementType","instanceOf","node","objectOf","oneOf","oneOfType","exact","checkPropTypes","PropTypes","o","l","m","get","__esModule","default","isArray","split","u","replace","some","trim","charAt","toLowerCase","endsWith","703","a","697","414","590","Element","Map","Set","ArrayBuffer","isView","size","entries","next","done","has","RegExp","flags","valueOf","toString","$$typeof","match","console","warn","37","delta","preventDefaultTouchmoveEvent","rotationAngle","trackMouse","trackTouch","first","initial","start","swiping","xy","sin","h","touches","f","clientX","clientY","timeStamp","sqrt","w","absX","absY","deltaX","deltaY","dir","event","velocity","vxvy","onSwiping","T","onSwiped","cancelable","preventDefault","eventData","onTap","forEach","passive","el","cleanUpTouch","onMouseDown","DOWN","LEFT","RIGHT","UP","useSwipeable","888","globalThis","Function","Symbol","toStringTag","Me","Date","now","S","O","E","I","parseInt","k","NaN","slice","test","_","L","setTimeout","clearTimeout","leading","maxWait","trailing","cancel","flush","P","M","R","D","__entries__","delete","splice","clear","F","C","W","requestAnimationFrame","bind","N","MutationObserver","z","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","connect_","removeObserver","disconnect_","updateObservers_","filter","gatherActive","hasActive","broadcastActive","observe","attributes","childList","characterData","subtree","disconnect","propertyName","getInstance","instance_","B","A","ownerDocument","defaultView","G","V","U","parseFloat","H","reduce","q","SVGGraphicsElement","SVGElement","getBBox","X","broadcastWidth","broadcastHeight","contentRect_","isActive","clientWidth","clientHeight","getComputedStyle","boxSizing","K","broadcastRect","Y","DOMRectReadOnly","contentRect","activeObservations_","observations_","callback_","controller_","callbackCtx_","unobserve","clearActive","J","WeakMap","Q","Z","ResizeObserver","ee","te","ne","memo","handleImageLoaded","onImageError","originalHeight","originalWidth","sizes","srcSet","Fragment","displayName","propTypes","ie","re","points","maximize","minimize","play","pause","ae","strokeWidth","viewBox","icon","xmlns","fill","stroke","strokeLinecap","strokeLinejoin","se","oe","onClick","le","ue","disabled","ce","he","de","fe","isPlaying","pe","me","ve","ge","be","iterator","ye","getOwnPropertyDescriptor","we","Te","getOwnPropertyDescriptors","Oe","Ee","Ie","ke","xe","_e","media","Le","keyCode","which","Pe","Reflect","construct","sham","Proxy","state","thumbsTranslate","thumbsSwipedTranslate","currentSlideOffset","galleryWidth","thumbnailsWrapperWidth","thumbnailsWrapperHeight","thumbsStyle","transition","slideDuration","isSwipingThumbnail","loadedImages","imageGallery","createRef","thumbnailsWrapper","thumbnails","imageGallerySlideWrapper","handleKeyDown","handleMouseDown","handleTouchMove","handleOnSwiped","handleScreenChange","handleSwiping","handleThumbnailSwiping","handleOnThumbnailSwiped","onThumbnailMouseLeave","handleImageError","pauseOrPlay","slideLeft","slideRight","toggleFullScreen","togglePlay","unthrottledSlideToIndex","slideToIndex","lazyLoad","lazyLoaded","autoPlay","useWindowKeyDown","initResizeObserver","addScreenChangeEvent","slideInterval","showThumbnails","removeResizeObserver","handleResize","slideThumbnailBar","removeScreenChangeEvent","playPauseIntervalId","clearInterval","transitionTimer","isTransitioning","onSlide","onThumbnailClick","parentNode","blur","thumbnailMouseOverTimer","isThumbnailVertical","scrollHeight","scrollWidth","infinite","previousIndex","direction","gallerySlideWrapperHeight","slideStyle","useTranslate3D","isRTL","getTranslateXForTwoSlide","isSlideVisible","WebkitTransform","MozTransform","msTransform","OTransform","slideOnThumbnailOver","onTouchMove","onTouchEnd","onTouchStart","onMouseOver","onMouseLeave","showBullets","getAlignmentClassName","thumbnailClass","getSlideStyle","tabIndex","onKeyUp","handleSlideKeyUp","onFocus","role","active","handleThumbnailMouseOver","handleThumbnailKeyUp","bulletClass","bulletOnClick","itemIndex","slides","bullets","slideIsTransitioning","ignoreIsTransitioning","isFirstOrLastSlide","getThumbsTranslate","canSlideNext","canSlidePrevious","disableSwipe","stopPropagation","swipingUpDown","swipingLeftRight","swipingTransitionDuration","swipingThumbnailTransitionDuration","resetSwipingDirection","swipeThreshold","flickThreshold","handleOnSwipedTo","sufficientSwipe","canSlideLeft","canSlideRight","classList","add","exitFullScreen","onErrorImageURL","resizeObserver","offsetWidth","offsetHeight","setThumbsTranslate","fullScreen","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","onSliding","slideTo","onThumbnailMouseOver","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","setModalFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","onPlay","setInterval","onPause","onImageLoad","onThumbnailError","thumbnailHeight","thumbnailWidth","thumbnailLabel","disableThumbnailSwipe","indexSeparator","renderFullscreenButton","renderCustomControls","renderLeftNav","renderRightNav","showFullscreenButton","showNav","showPlayButton","renderPlayPauseButton","getThumbnailStyle","getSlideItems","canSlide","getThumbnailBarHeight","Se","imageSet","_react2","_interopRequireDefault","_propTypes2","_reactDom","_eventlistener","_lodash2","_lodash4","_parentScroll2","_inViewport2","LazyLoad","_Component","lazyLoadHandler","throttle","debounce","visible","_mounted","eventNode","getEventNode","_nextProps","nextState","detachListeners","findDOMNode","offsetVertical","offsetHorizontal","offsetTop","offsetBottom","offsetLeft","offsetRight","_offsetAll","threshold","_offsetVertical","_offsetHorizontal","getOffset","_props2","elStyles","elClasses","Children","only","wrap","standard","fallback","evtName","listener","useCapture","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","objectToString","nativeMax","nativeMin","isObject","toNumber","isObjectLike","isSymbol","isBinary","wait","options","lastArgs","lastThis","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","prop","getPropertyValue","HTMLElement","parent","inViewport","customOffset","offsetParent","isHidden","pageYOffset","pageXOffset","innerHeight","innerWidth","containerPosition","_getElementPosition2","elementPosition","_getElementPosition","_ScrollLock","_TouchScrollable","_withLockSheet2","_withTouchListeners2","ScrollLock","canUseDOM","initialHeight","scrollTo","SheetLock","pipe","compose","LockToggle","accountForScrollbars","WrappedComponent","SheetProvider","addSheet","styles","getStyles","sheet","makeStyleTag","injectStyles","insertStyleTag","getDocumentHeight","paddingRight","getPadding","removeChild","removeSheet","TouchProvider","isTouchDevice","preventTouchMove","$groupBy","arraySpeciesConstructor","addToUnscopables","groupBy","callbackfn","uncurryThis","IndexedObject","toObject","toPropertyKey","lengthOfArrayLike","objectCreate","arrayFromConstructorAndList","$this","specificConstructor","boundFunction","list","createHTML","forcedStringHTMLMethod","link","url","requireObjectCoercible","quot","attribute","p1","fails","METHOD_NAME","baseClamp","lower","upper","baseIteratee","baseUniq","iteratee","_interopRequireWildcard","_default","baseExtremum","baseLt","baseGt","baseOrderBy","collection","iteratees","orders","guard","multiplyBasisFunction","basisFunction","scale","componentX","componentY","factors","normalisation","factor","dc","ac","actualMaximumValue","quantisedMaximumValue","encodeAC","__awaiter","_arguments","generator","Promise","resolve","reject","fulfilled","step","rejected","then","__generator","label","sent","trys","ops","verb","op","pop","__read","ar","error","COMMON_MIME_TYPES","toFileWithPath","file","path","lastIndexOf","ext","withMimeType","webkitRelativePath","FILES_TO_IGNORE","fromEvent","evt","dataTransfer","getDataTransferFiles","getInputFiles","files","fromList","dt","kind","all","toFilePromises","noIgnoredFiles","flatten","webkitGetAsEntry","fromDataTransferItem","entry","isDirectory","fromDirEntry","acc","getAsFile","fwp","fromEntry","fromFileEntry","reader","createReader","readEntries","batch","err_1","fullPath","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_s","_i","_iterableToArrayLimit","_nonIterableRest","getInvalidTypeRejectionErr","accept","messageSuffix","join","code","getTooLargeRejectionErr","maxSize","getTooSmallRejectionErr","minSize","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","fileMatchSize","isDefined","allFilesAccepted","multiple","every","accepted","sizeMatch","isPropagationStopped","cancelBubble","isEvtWithFiles","types","onDocumentDragOver","isIe","userAgent","isEdge","isIeOrEdge","navigator","composeEventHandlers","fns","_len2","_key2","fn","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","ownKeys","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","Dropzone","_useDropzone","useDropzone","open","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","getFilesFromEvent","onFileDialogCancel","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","initialState","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","draggedFiles","acceptedFiles","fileRejections","_ref2","_ref2$disabled","_ref2$getFilesFromEve","_ref2$maxSize","_ref2$minSize","_ref2$multiple","_ref2$preventDropOnDo","_ref2$noClick","_ref2$noKeyboard","_ref2$noDrag","_ref2$noDragEventsBub","rootRef","inputRef","_useReducer","reducer","_useReducer2","dispatch","openFileDialog","click","onWindowFocus","onKeyDownCb","isEqualNode","onFocusCb","onBlurCb","onClickCb","dragTargetsRef","onDocumentDrop","contains","onDragEnterCb","persist","onDragOverCb","dropEffect","_unused","onDragLeaveCb","targets","targetIdx","onDropCb","_fileAccepted2","acceptError","_fileMatchSize2","sizeError","errors","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref3","_ref3$refKey","refKey","onKeyDown","onBlur","onInputElementClick","getInputProps","_ref4","_ref4$refKey","onChange","inputProps","autoComplete","fileCount","hexToRgba","hex","alpha","exec","rgba","STRIPLES_SHIFT_PX","makeStriplesBackground","actualColor","backgroundSize","dropzoneContainer","flexDirection","justifyContent","padding","cursor","dropzoneStandby","border","dark","light","borderColor","main","dropzoneActive","secondary","dropzoneAccept","dropzoneReject","dropzoneUpload","backgroundPositionX","PhotosDropzone","onUpload","visit","progress","setProgress","rejectedFiles","setRejectedFiles","isUploadInProgress","visitId","currentRejectedFiles","measureImage","meta","isAsset","renderDropzoneCaption","rejectedFile","errorsMessage","getImageData","image","context","drawImage","gcd","v1","v2","temp","fileImage","imageURL","URL","createObjectURL","Image","onload","nod","aspect_ratio","encode","VisitPage","params","userAlias","strVisitId","useAuthContext","isAuthenticated","authenticatedUserAlias","travelPaths","usePaths","travel","useVisit","domain","isError","isPending","invalidate","submitVisitPhoto","useAddVisitPhotoRequest","isEditable","locationId","VisitInfo","isLong","locationUrl","toUrl","strLocationId","String","values","backdrop","BackdropLoader","Backdrop","CircularProgress","GROUP_VISITS_BY","PLAIN_GROUPS_MAPPING","PLAIN_GROUPS","LOCATIONS","COUNTRIES","YEARS","TRIPS","SORT_VISITS_BY","RATING_ALPHABET","VISITS_ALPHABET","FIRST_VISIT_ALPHABET","LAST_VISIT_ALPHABET","ALPHABET","SORT_VISITS_BY_DEFAULT","PLAIN_SORTING_MAPPING","PLAIN_SORTING","RATING","fv","FIRST_VISIT","lv","LAST_VISIT","VISITS_COUNT","FILTER_VISITS_BY","ANY","FOREIGN","DOMESTIC","FILTER_VISITS_BY_DEFAULT","PLAIN_FILTERING_MAPPING","PLAIN_FILTERING","VISITS_SECTIONS","PLACES","VISITS_SECTION_DEFAULT","VISITS_SECTIONS_GROUPS","l10n","GROUP_VISITS_BY_DEFAULTS","formControl","setQueryFilter","queryFilter","section","groupByQuery","sortByQuery","filterByQuery","sortBy","includes","resolveActualSortBy","filterBy","resolveActualFilterBy","actualSection","visitsSectionGroups","find","resolveActualGroupBy","useSidebar","closeSidebar","List","ListItem","FormControl","InputLabel","shrink","Select","labelId","autoWidth","visitsSectionGroup","MenuItem","renderTitle","tripCreateUrl","locationsUrl","stats","locationsCount","locationsStats","total","countriesCount","countriesStats","Typography","paragraph","to","Link","IconButton","href","data-locator","resolveGroupsOrder","groupingOrder","currentGroupBy","shouldShowVisits","lastGroup","JUST_VISITS","resolveSortingOrder","currentSortBy","resolveFiltering","VisitsPage","editable","isObscure","useQueryFilter","useVisitsGroupingSidebar","provision","useTripsStats","urls","useVisitsUrls","visitsIds","visitsDict","visitsList","commonVisitsGroup","field","totalStats","calcStats","VisitsArranger","groupsOrder","sortingOrder","filteringOption","virtualize","RATING_LOCALIZATION","LOCATION_RATING","PLACE_TO_LIVE","FEW_PER_YEAR","ONCE_PER_YEAR","ONCE_PER_TWO_YEARS","ONCE_PER_FIVE_YEARS","ONCE_PER_DECADE","TWICE_PER_LIVE","ONCE_PER_LIVE","NEVER","LocationRating","locationRating","onSubmitLocationRating","useLocationWithTripStats","tripsStatsProvision","isTripsError","isTripsPending","isTripsReady","isReady","locationsIds","locationsRating","useSelector","selectItem","useProvision","isProvision","modelName","condition","query","useLocation","restProvision","submitLocationRating","useLocationRatingRequest","isVisited","LocationPage","userProvision","handleSubmitLocationRating","locationIdToSubmit","rating","photosSectionLevel","mapSectionLevel","config","LocationVisitsGroup","hyperlinks","StatsPanel","appearance","CountriesStats","level","locationName","fontSize","lineHeight","visitContainer","fontWeight","googleMapContainer","maxHeight","LocationsPage","locationsDict","useUserLocations","actualLocationsIds","locationsIdToRender","CountryPage","strCountryId","countryId","tripsProvision","countriesIds","countriesDict","country","useCountryWithTripStats","CountryVisitsGroup","countryName","requiredTripsIds","tripsIds","tripsDict","selectDict","shouldRequireAllTrips","missingTripsIds","tripId","navigation","isDisabled","comparator","useTrips","useUser","user","selectResult","ridesDict","useUniqField","ridesIds","countriesProvision","useCountries","locationsProvision","useLocations","commonProvisionState","provisions","updatesCounter","sum","selectUpdatesCounter","selectIsReady","selectIsPending","isValid","selectIsValid","selectIsError","selectError","mergeProvisionsState","ridesStats","calcRidesStats","earliestDeparture","rideId","departureDateTime","getTime","latestArrival","arrivalDateTime","entitiesIds","entitiesDict","fieldName","flatMap","entityId","DATE_FORMATS","dateTimePeriodToString","periodStart","periodEnd","fullFormat","periodEndString","dateFormat","locale","ru","isSameDay","periodStartString","isSameMonth","isSameYear","shortFormat","rideDateTimePeriodToString","visitDateTimePeriodToString","dateTimeOpenPeriodToString","format","startDateStr","ConnectedLink","optional","RouterLink","safeDateFormat","date","isValidDate","Number","isNaN","requiredLocationIds","missingLocationsIds","useRequest","method","applicableSchemaName","requiredVisitId","visit_id","contentType","switchFilteringFn","isForeign","isVisitExist","trip","originLocationId","originLocation","originCountryId","createFilterBasedOnOrigin","visitsGroup","countryHyperlink","CountryInfo","countryUrl","resolveCountryUrl","header","findClosestGroupValue","plainGroup","currentVisitsGroup","findClosestGroup","locationIdStr","locationHyperlink","groupCountryId","resolveLocationUrl","LocationInfo","showCountry","countryAppearance","countryNode","locationNode","YearInfo","year","useVisibleOnHoverStyles","containerClassName","contentClassName","makeVisibleOnHoverStyles","TripInfo","hoverTrigger","visibleOnHover","tripEditUrl","resolveTripEditUrl","resolveTripCaption","autoMargin","marginLeft","AutoMargin","childrenArray","lastChildren","restChildren","Grid","justify","alignItems","halfDown","LocationWithRideInfo","locationInfoChildren","ownClasses","locationContainer","RideInfo","ride","detail","editButton","departureRideId","visitUrl","resolveVisitUrl","PLAIN_GROUPS_CONFIG","groupFieldName","adapter","getFullYear","groupTripId","actualVisitsList","uniqBy","groupVisitsBy","groupByFn","groupFieldValue","groupVisitsList","isFunction","groupVisitsByValue","areInputsEqual","newInputs","lastInputs","resultFn","isEqual","lastResult","calledOnce","newArgs","createCalcByYearUtils","lookupKey","memoizedCalcOldies","memoizeOne","memoize","arrivalYear","calcOldies","calcTotal","calcByYear","oldies","freshies","newbies","difference","totalAtYear","newAtYear","calcDaysTravellingStats","considerRides","visitToPeriodMapper","startDate","endDate","arrivalRideId","arrivalRide","prevVisitId","departureVisitId","rideStartDate","departureRide","nextVisitId","arrivalVisitId","rideEndDate","stack","createMapperWithRides","simpleMapper","visitsPeriods","detailedStats","createPeriods","stay","differenceInCalendarDays","totalStay","visitsStats","calcVisitsStats","calcCountriesStats","calcLocationsStats","daysTravellingStats","calcCountriesTotal","calcCountriesByYear","calcLocationsTotal","calcLocationsByYear","visitsCount","firstVisit","minBy","lastVisit","maxBy","statsIndicator","marginRLeft","marginRight","StatsIndicator","hint","contentNode","Tooltip","showByYear","hintNode","renderHint","detailsNode","renderDetails","LocationStats","DaysTravellingStats","totalStr","periodStr","locationsStr","renderLocations","isNewbie","isNewbieCountry","yearVisitsGroup","countriesVisitsGroup","countryLocationStats","isNewbieLocation","countriesStatsAppearance","LocationsStats","locationStatsAppearance","daysTravellingStatsAppearance","isLocationGroup","hasCountryGroup","hasLocationGroup","hasYearGroup","daysTravellingStatsNode","visibleOnlyOnHover","sortVisitsBy","visitsGroups","comparators","plainSorting","dates","nullsLast","order","createRatingComparator","createAlphabetComparator","property","orderBy","withOrder","iterateeFn","VisitsPhotosGallery","visitPhotos","renderDescription","mapVisibilityToggle","VisitsLocationsMap","onToggle","mapVisible","setMapVisible","uniq","frRef","prevMapVisible","LocationsMap","mapContainer","scaleBy","MARKERS_SCALES","BY_LAST_VISIT","ratingLevel","VisitGroup","showMap","showPhotos","VisitsGroupComponent","onHeightChange","nextLevel","rectReducer","calculateRange","prevRange","measurements","outerSize","scrollOffset","low","high","getCurrentValue","middle","currentValue","findNearestBinarySearch","end","defaultEstimateSize","defaultKeyExtractor","useVirtual","estimateSize","overscan","paddingStart","paddingEnd","parentRef","keyExtractor","useReducer","resizeHandler","useRect","latestRef","totalSize","measuredCache","setMeasuredCache","updDep","measure","pendingMeasuredCacheIndexesRef","measuredSize","range","setRange","rangeTimeoutIdRef","cancelAsyncRange","onScroll","scrollOffsetFn","capture","useRange","virtualItems","indexes","defaultRangeExtractor","len","measureRef","defaultScrollToFn","old","mountedRef","scrollToOffset","toOffset","align","tryScrollToIndex","measurement","scrollToIndex","scrollY","forwardRef","originalItems","useImperativeHandle","virtualItem","noop","bypass","BypassVirtualized","Virtualized","ExpandableActions","onExpand","onExpandAll","diffCount","Expandable","collapsible","alwaysExpandedItemsCount","collapsibleThreshold","collapsed","setCollapsed","actualCollapsed","actualItems","actions","renderRecursive","virtualizerRef","setCollapsible","disableCollapsible","virtualized","renderRecursiveInternal","parentVisitsGroup","groupsOrderInternal","restGroupsOrder","visitsListInternal","nestingLevel","lookupLevel","expectedMaxLevel","sectionLevel","clamp","MAX_LEVEL","resolveSectionLevel","sortedVisitsGroups","enhancedVisitsGroup","bypassVirtualization","actualVisitsGroups","resolveVisitsGroupClasses","isFirstChild","noMarginTop","header0","typography","h2","wordBreak","container0","level0","header1","h4","container1","level1","breakpoints","up","paddingLeft","header2","body1","container2","level2","renderGroupsRecursive","verticalAlign","period","VisitIcon","visitType","IconComponent","VISIT_TYPES","TRANSIT","TransferWithinAStationIcon","BASE_CAMP","DomainIcon","RELOCATION","LocalShippingIcon","REGULAR","LocationCityIcon","resolveRideIconComponent","ExecutionEnvironment","canUseWorkers","Worker","attachEvent","canUseViewport","screen","currentTarget","scrollTop","totalScroll","currentScroll","maxTouchPoints","camelToKebab","parse","getWindowHeight","multiplier","setAttribute","css","styleSheet","cssText","appendChild","createTextNode","head","getElementsByTagName","pipeFns","RideIcon","vehicleType","VEHICLE_TYPES","CAR","CarIcon","TRAIN","TrainIcon","AIRCRAFT","FlightIcon","BUS","TROLLEY","CITY_BUS","BusIcon","MOTORHOME","JITNEY","VanIcon","LOCAL_TRAIN","FERRY","BoatIcon","BIKE","BikeIcon","BY_FEET","WalkIcon","MOTORBIKE","MotorcycleIcon","TRUCK","TruckIcon","ALL_TERRAIN_VEHICLE","TerrainIcon","TRAM","TramIcon","TAXI","LocalTaxiIcon","SUBWAY","SubwayIcon","PUBLIC_TRANSPORT","SeatIcon","ROPEWAY","FUNICULAR","CustomTransportIcon","UnknownRideIcon","adaptMarkerData","lon","lat","accumulator","firstVisitDateTime","lastVisitDateTime","resolveLocationFirstAndLastVisitDateTime","BY_FIRST_VISIT","BY_VISITS_COUNT","BY_RATING","MARKERS_SCALE_DEFAULT","MARKERS_SCALE_BY_TIME_FILENAMES","MARKERS_SCALE_BY_SOURCES","MARKERS_RATING_LEVELS","ALL","WANT_COME_BACK","LOVE_THIS_PLACE","MARKERS_RATING_LEVEL_DEFAULT","stepByVisitsCount","stepByRating","makeScaleByDateTimeUtils","resolveStep","minTime","diff","resolveOptions","markersDataList","markerData","formatDate","renderRating","resolveMarkerUrl","markerSources","subPath","MarkersScaleSelect","onClose","nextScaleBy","updates","MarkersRatingLevelSelect","scaleByQuery","ratingLevelQuery","resolveActualScaleBy","resolveActualRatingLevel","googleMapPosition","handleGoogleApiLoaded","markersData","googleMapsApi","setGoogleMapsApi","isFirsRenderRef","maps","bounds","LatLngBounds","markers","iconUrl","marker","Marker","lng","scaledSize","Size","extend","setOptions","maxZoom","minZoom","fitBounds","setMap","setVisible","api","useMarkers","actualMarkersData","adaptedMarkersData","validMarkersData","filterMarkerData","makeScaleUtils","bootstrapURLKeys","__GOOGLE_MAP_API_KEY__","center","zoom","onGoogleApiLoaded","visitsPropTypes","locationPropTypes","absoluteIcon","rideType","RIDE_TYPES","HITCH_HIKING","locations","tripCreate","tripEdit","strTripId","maxLength","separator","uniqArray","visits","tripName","hasAutogeneratedTripName","dateMin","visitsId","dateMax","visitsByCountries","locationsNames","uniqTrimAndJoin","countriesNames"],"mappings":"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","file":"travel-Places-f7d41f9cd5e074e900e8.js","sourcesContent":["export const sRGBToLinear = (value) => {\n    let v = value / 255;\n    if (v <= 0.04045) {\n        return v / 12.92;\n    }\n    else {\n        return Math.pow((v + 0.055) / 1.055, 2.4);\n    }\n};\nexport const linearTosRGB = (value) => {\n    let v = Math.max(0, Math.min(1, value));\n    if (v <= 0.0031308) {\n        return Math.round(v * 12.92 * 255 + 0.5);\n    }\n    else {\n        return Math.round((1.055 * Math.pow(v, 1 / 2.4) - 0.055) * 255 + 0.5);\n    }\n};\nexport const sign = (n) => (n < 0 ? -1 : 1);\nexport const signPow = (val, exp) => sign(val) * Math.pow(Math.abs(val), exp);\n//# sourceMappingURL=utils.js.map","export class ValidationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"ValidationError\";\n        this.message = message;\n    }\n}\n//# sourceMappingURL=error.js.map","const digitCharacters = [\n    \"0\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"A\",\n    \"B\",\n    \"C\",\n    \"D\",\n    \"E\",\n    \"F\",\n    \"G\",\n    \"H\",\n    \"I\",\n    \"J\",\n    \"K\",\n    \"L\",\n    \"M\",\n    \"N\",\n    \"O\",\n    \"P\",\n    \"Q\",\n    \"R\",\n    \"S\",\n    \"T\",\n    \"U\",\n    \"V\",\n    \"W\",\n    \"X\",\n    \"Y\",\n    \"Z\",\n    \"a\",\n    \"b\",\n    \"c\",\n    \"d\",\n    \"e\",\n    \"f\",\n    \"g\",\n    \"h\",\n    \"i\",\n    \"j\",\n    \"k\",\n    \"l\",\n    \"m\",\n    \"n\",\n    \"o\",\n    \"p\",\n    \"q\",\n    \"r\",\n    \"s\",\n    \"t\",\n    \"u\",\n    \"v\",\n    \"w\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"#\",\n    \"$\",\n    \"%\",\n    \"*\",\n    \"+\",\n    \",\",\n    \"-\",\n    \".\",\n    \":\",\n    \";\",\n    \"=\",\n    \"?\",\n    \"@\",\n    \"[\",\n    \"]\",\n    \"^\",\n    \"_\",\n    \"{\",\n    \"|\",\n    \"}\",\n    \"~\"\n];\nexport const decode83 = (str) => {\n    let value = 0;\n    for (let i = 0; i < str.length; i++) {\n        const c = str[i];\n        const digit = digitCharacters.indexOf(c);\n        value = value * 83 + digit;\n    }\n    return value;\n};\nexport const encode83 = (n, length) => {\n    var result = \"\";\n    for (let i = 1; i <= length; i++) {\n        let digit = (Math.floor(n) / Math.pow(83, length - i)) % 83;\n        result += digitCharacters[Math.floor(digit)];\n    }\n    return result;\n};\n//# sourceMappingURL=base83.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TouchScrollable = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _exenv = require('exenv');\n\nvar _utils = require('./utils');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TouchScrollable = exports.TouchScrollable = function (_PureComponent) {\n  _inherits(TouchScrollable, _PureComponent);\n\n  function TouchScrollable() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, TouchScrollable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TouchScrollable.__proto__ || Object.getPrototypeOf(TouchScrollable)).call.apply(_ref, [this].concat(args))), _this), _this.getScrollableArea = function (ref) {\n      _this.scrollableArea = ref;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(TouchScrollable, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!_exenv.canUseEventListeners) return;\n\n      this.scrollableArea.addEventListener('touchstart', _utils.preventInertiaScroll, _utils.listenerOptions);\n      this.scrollableArea.addEventListener('touchmove', _utils.allowTouchMove, _utils.listenerOptions);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (!_exenv.canUseEventListeners) return;\n\n      this.scrollableArea.removeEventListener('touchstart', _utils.preventInertiaScroll, _utils.listenerOptions);\n      this.scrollableArea.removeEventListener('touchmove', _utils.allowTouchMove, _utils.listenerOptions);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          rest = _objectWithoutProperties(_props, ['children']);\n\n      return typeof children === 'function' ? children(this.getScrollableArea) : (0, _react.cloneElement)(children, _extends({ ref: this.getScrollableArea }, rest));\n    }\n  }]);\n\n  return TouchScrollable;\n}(_react.PureComponent);","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar anInstance = require('../internals/an-instance');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar AsyncIteratorPrototype = require('../internals/async-iterator-prototype');\nvar IS_PURE = require('../internals/is-pure');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar AsyncIteratorConstructor = function AsyncIterator() {\n  anInstance(this, AsyncIteratorPrototype);\n};\n\nAsyncIteratorConstructor.prototype = AsyncIteratorPrototype;\n\nif (!hasOwn(AsyncIteratorPrototype, TO_STRING_TAG)) {\n  createNonEnumerableProperty(AsyncIteratorPrototype, TO_STRING_TAG, 'AsyncIterator');\n}\n\nif (IS_PURE || !hasOwn(AsyncIteratorPrototype, 'constructor') || AsyncIteratorPrototype.constructor === Object) {\n  createNonEnumerableProperty(AsyncIteratorPrototype, 'constructor', AsyncIteratorConstructor);\n}\n\n$({ global: true, forced: IS_PURE }, {\n  AsyncIterator: AsyncIteratorConstructor\n});\n","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar $toArray = require('../internals/async-iterator-iteration').toArray;\n\n$({ target: 'AsyncIterator', proto: true, real: true }, {\n  toArray: function toArray() {\n    return $toArray(this, undefined, []);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar anObject = require('../internals/an-object');\n\nvar push = [].push;\n\n$({ target: 'Iterator', proto: true, real: true }, {\n  toArray: function toArray() {\n    var result = [];\n    iterate(anObject(this), push, { that: result, IS_ITERATOR: true });\n    return result;\n  }\n});\n","import React, { useState, useCallback } from 'react';\nimport LazyLoad from 'react-lazy-load';\n\nexport default function LazyWithPlaceholder({\n  placeholder,\n  children,\n  ...forwardingProps\n}) {\n  const [loaded, setLoaded] = useState(false);\n  const handleVisible = useCallback(() => setLoaded(true), []);\n\n  return (\n    <>\n      {!loaded && placeholder}\n      <LazyLoad {...forwardingProps} onContentVisible={handleVisible}>\n        {children}\n      </LazyLoad>\n    </>\n  );\n}\n","import { decode83 } from \"./base83\";\nimport { sRGBToLinear, signPow, linearTosRGB } from \"./utils\";\nimport { ValidationError } from \"./error\";\n/**\n * Returns an error message if invalid or undefined if valid\n * @param blurhash\n */\nconst validateBlurhash = (blurhash) => {\n    if (!blurhash || blurhash.length < 6) {\n        throw new ValidationError(\"The blurhash string must be at least 6 characters\");\n    }\n    const sizeFlag = decode83(blurhash[0]);\n    const numY = Math.floor(sizeFlag / 9) + 1;\n    const numX = (sizeFlag % 9) + 1;\n    if (blurhash.length !== 4 + 2 * numX * numY) {\n        throw new ValidationError(`blurhash length mismatch: length is ${blurhash.length} but it should be ${4 + 2 * numX * numY}`);\n    }\n};\nexport const isBlurhashValid = (blurhash) => {\n    try {\n        validateBlurhash(blurhash);\n    }\n    catch (error) {\n        return { result: false, errorReason: error.message };\n    }\n    return { result: true };\n};\nconst decodeDC = (value) => {\n    const intR = value >> 16;\n    const intG = (value >> 8) & 255;\n    const intB = value & 255;\n    return [sRGBToLinear(intR), sRGBToLinear(intG), sRGBToLinear(intB)];\n};\nconst decodeAC = (value, maximumValue) => {\n    const quantR = Math.floor(value / (19 * 19));\n    const quantG = Math.floor(value / 19) % 19;\n    const quantB = value % 19;\n    const rgb = [\n        signPow((quantR - 9) / 9, 2.0) * maximumValue,\n        signPow((quantG - 9) / 9, 2.0) * maximumValue,\n        signPow((quantB - 9) / 9, 2.0) * maximumValue\n    ];\n    return rgb;\n};\nconst decode = (blurhash, width, height, punch) => {\n    validateBlurhash(blurhash);\n    punch = punch | 1;\n    const sizeFlag = decode83(blurhash[0]);\n    const numY = Math.floor(sizeFlag / 9) + 1;\n    const numX = (sizeFlag % 9) + 1;\n    const quantisedMaximumValue = decode83(blurhash[1]);\n    const maximumValue = (quantisedMaximumValue + 1) / 166;\n    const colors = new Array(numX * numY);\n    for (let i = 0; i < colors.length; i++) {\n        if (i === 0) {\n            const value = decode83(blurhash.substring(2, 6));\n            colors[i] = decodeDC(value);\n        }\n        else {\n            const value = decode83(blurhash.substring(4 + i * 2, 6 + i * 2));\n            colors[i] = decodeAC(value, maximumValue * punch);\n        }\n    }\n    const bytesPerRow = width * 4;\n    const pixels = new Uint8ClampedArray(bytesPerRow * height);\n    for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n            let r = 0;\n            let g = 0;\n            let b = 0;\n            for (let j = 0; j < numY; j++) {\n                for (let i = 0; i < numX; i++) {\n                    const basis = Math.cos((Math.PI * x * i) / width) *\n                        Math.cos((Math.PI * y * j) / height);\n                    let color = colors[i + j * numX];\n                    r += color[0] * basis;\n                    g += color[1] * basis;\n                    b += color[2] * basis;\n                }\n            }\n            let intR = linearTosRGB(r);\n            let intG = linearTosRGB(g);\n            let intB = linearTosRGB(b);\n            pixels[4 * x + 0 + y * bytesPerRow] = intR;\n            pixels[4 * x + 1 + y * bytesPerRow] = intG;\n            pixels[4 * x + 2 + y * bytesPerRow] = intB;\n            pixels[4 * x + 3 + y * bytesPerRow] = 255; // alpha\n        }\n    }\n    return pixels;\n};\nexport default decode;\n//# sourceMappingURL=decode.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { decode } from 'blurhash';\nvar BlurhashCanvas = /** @class */ (function (_super) {\n    __extends(BlurhashCanvas, _super);\n    function BlurhashCanvas() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.canvas = null;\n        _this.handleRef = function (canvas) {\n            _this.canvas = canvas;\n            _this.draw();\n        };\n        _this.draw = function () {\n            var _a = _this.props, hash = _a.hash, height = _a.height, punch = _a.punch, width = _a.width;\n            if (_this.canvas) {\n                var pixels = decode(hash, width, height, punch);\n                var ctx = _this.canvas.getContext('2d');\n                var imageData = ctx.createImageData(width, height);\n                imageData.data.set(pixels);\n                ctx.putImageData(imageData, 0, 0);\n            }\n        };\n        return _this;\n    }\n    BlurhashCanvas.prototype.componentDidUpdate = function () {\n        this.draw();\n    };\n    BlurhashCanvas.prototype.render = function () {\n        var _a = this.props, hash = _a.hash, height = _a.height, width = _a.width, rest = __rest(_a, [\"hash\", \"height\", \"width\"]);\n        return React.createElement(\"canvas\", __assign({}, rest, { height: height, width: width, ref: this.handleRef }));\n    };\n    BlurhashCanvas.defaultProps = {\n        height: 128,\n        width: 128,\n    };\n    return BlurhashCanvas;\n}(React.PureComponent));\nexport default BlurhashCanvas;\n//# sourceMappingURL=BlurhashCanvas.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport BlurhashCanvas from './BlurhashCanvas';\nvar canvasStyle = {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: '100%',\n    height: '100%',\n};\nvar Blurhash = /** @class */ (function (_super) {\n    __extends(Blurhash, _super);\n    function Blurhash() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Blurhash.prototype.componentDidUpdate = function () {\n        if (this.props.resolutionX <= 0) {\n            throw new Error('resolutionX must be larger than zero');\n        }\n        if (this.props.resolutionY <= 0) {\n            throw new Error('resolutionY must be larger than zero');\n        }\n    };\n    Blurhash.prototype.render = function () {\n        var _a = this.props, hash = _a.hash, height = _a.height, width = _a.width, punch = _a.punch, resolutionX = _a.resolutionX, resolutionY = _a.resolutionY, style = _a.style, rest = __rest(_a, [\"hash\", \"height\", \"width\", \"punch\", \"resolutionX\", \"resolutionY\", \"style\"]);\n        return (React.createElement(\"div\", __assign({}, rest, { style: __assign(__assign({ display: 'inline-block', height: height, width: width }, style), { position: 'relative' }) }),\n            React.createElement(BlurhashCanvas, { hash: hash, height: resolutionY, width: resolutionX, punch: punch, style: canvasStyle })));\n    };\n    Blurhash.defaultProps = {\n        height: 128,\n        width: 128,\n        resolutionX: 32,\n        resolutionY: 32,\n    };\n    return Blurhash;\n}(React.PureComponent));\nexport default Blurhash;\n//# sourceMappingURL=Blurhash.js.map","import React, {\n  useCallback,\n  useEffect,\n  useState,\n  useRef,\n  useLayoutEffect,\n} from 'react';\nimport { Blurhash } from 'react-blurhash';\nimport min from 'lodash/min';\n\nconst BLURHASH_RESOLUTION = 32;\nconst BLURHASH_PUNCH = 1;\nconst ERROR_IMAGE_URL =\n  'https://res.cloudinary.com/dc2eke0gj/image/upload/minetravel/common/img_placeholder.png';\nconst LOADING_STATE = {\n  IDLE: 'IDLE',\n  LOADING: 'LOADING',\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR',\n};\nconst LAZY_LOADING_SUPPORT = false; // 'loading' in HTMLImageElement.prototype;\nconst INITIAL_STATE = LAZY_LOADING_SUPPORT\n  ? LOADING_STATE.LOADING\n  : LOADING_STATE.IDLE;\n\nexport default function LazyImage({\n  aspectRatio,\n  className,\n  require,\n  tag,\n  src,\n  alt,\n  blurhash,\n  constraints,\n  height,\n  width,\n  onLoad,\n  children,\n  ...forwardingProps\n}) {\n  const [loadingState, setLoadingState] = useState(INITIAL_STATE);\n\n  const handleError = useCallback(() => {\n    setLoadingState(LOADING_STATE.ERROR);\n  }, []);\n\n  const imgRef = useRef();\n  const handleLoad = useCallback(() => {\n    setLoadingState(LOADING_STATE.SUCCESS);\n    if (onLoad) {\n      onLoad({\n        aspectRatio: imgRef.current.naturalWidth / imgRef.current.naturalHeight,\n      });\n    }\n  }, []);\n\n  useEffect(\n    () => {\n      if (require && loadingState === LOADING_STATE.IDLE) {\n        setLoadingState(LOADING_STATE.LOADING);\n      }\n    },\n    [require, loadingState],\n  );\n\n  const hasResult =\n    loadingState === LOADING_STATE.SUCCESS ||\n    loadingState === LOADING_STATE.ERROR;\n\n  const { imageWidth, imageHeight } = resolveImageSize(\n    {\n      height,\n      width,\n      aspectRatio,\n    },\n    constraints,\n  );\n\n  // consider all margins and paddings, reflect to { maxWidth: '100%' } img behavior\n  const [realImgWidth, setRealImgWidth] = useState(imageWidth);\n  useLayoutEffect(\n    () => {\n      if (imgRef.current) {\n        setRealImgWidth(imgRef.current.getBoundingClientRect().width);\n      }\n    },\n    [imageWidth],\n  );\n\n  return (\n    <>\n      {!hasResult && (\n        <Blurhash\n          hash={blurhash}\n          width={realImgWidth}\n          height={realImgWidth / aspectRatio ?? imageHeight}\n          resolutionX={BLURHASH_RESOLUTION}\n          resolutionY={BLURHASH_RESOLUTION}\n          punch={BLURHASH_PUNCH}\n        />\n      )}\n      {loadingState !== LOADING_STATE.ERROR ? (\n        <img\n          key=\"ok\"\n          data-tag={tag}\n          ref={imgRef}\n          className={className}\n          alt={alt}\n          src={resolveActualSrc(src, loadingState)}\n          style={{\n            width: imageWidth,\n            height: hasResult ? imageHeight : 0,\n            maxWidth: '100%',\n          }}\n          onLoad={handleLoad}\n          onError={handleError}\n          loading={LAZY_LOADING_SUPPORT ? 'lazy' : undefined}\n          {...forwardingProps}\n        />\n      ) : (\n        <img\n          key=\"error\"\n          alt=\"error\"\n          className={className}\n          src={ERROR_IMAGE_URL}\n          style={{\n            width: imageWidth,\n            height: imageHeight,\n            maxWidth: '100%',\n          }}\n        />\n      )}\n      {children}\n    </>\n  );\n}\n\nfunction resolveActualSrc(src, loadingState) {\n  switch (loadingState) {\n    case LOADING_STATE.IDLE:\n      return null;\n    default:\n      return src;\n  }\n}\n\nfunction resolveImageSize({ aspectRatio, height, width }, constraints) {\n  if (!constraints) {\n    return {\n      imageHeight: height || width / aspectRatio,\n      imageWidth: width || height * aspectRatio,\n    };\n  }\n\n  const heightConstraint = min([constraints.height, height]);\n  const widthConstraint = min([constraints.width, width]);\n  const constraintByHeight = heightConstraint * aspectRatio < widthConstraint;\n\n  const [imageWidth, imageHeight] = constraintByHeight\n    ? [heightConstraint * aspectRatio, heightConstraint]\n    : [widthConstraint, widthConstraint / aspectRatio];\n\n  return {\n    imageHeight,\n    imageWidth,\n  };\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { fade, withStyles } from '@material-ui/core/styles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      // Create a \"on paper\" color with sufficient contrast retaining the color\n      backgroundColor: fade(theme.palette.text.primary, theme.palette.type === 'light' ? 0.11 : 0.13),\n      height: '1.2em'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      marginTop: 0,\n      marginBottom: 0,\n      height: 'auto',\n      transformOrigin: '0 60%',\n      transform: 'scale(1, 0.60)',\n      borderRadius: theme.shape.borderRadius,\n      '&:empty:before': {\n        content: '\"\\\\00a0\"'\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"rect\"`. */\n    rect: {},\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the root element if `animation=\"pulse\"`. */\n    pulse: {\n      animation: '$pulse 1.5s ease-in-out 0.5s infinite'\n    },\n    '@keyframes pulse': {\n      '0%': {\n        opacity: 1\n      },\n      '50%': {\n        opacity: 0.4\n      },\n      '100%': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the root element if `animation=\"wave\"`. */\n    wave: {\n      position: 'relative',\n      overflow: 'hidden',\n      '&::after': {\n        animation: '$wave 1.6s linear 0.5s infinite',\n        background: \"linear-gradient(90deg, transparent, \".concat(theme.palette.action.hover, \", transparent)\"),\n        content: '\"\"',\n        position: 'absolute',\n        transform: 'translateX(-100%)',\n        // Avoid flash during server-side hydration\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      }\n    },\n    '@keyframes wave': {\n      '0%': {\n        transform: 'translateX(-100%)'\n      },\n      '60%': {\n        // +0.5s of delay between each loop\n        transform: 'translateX(100%)'\n      },\n      '100%': {\n        transform: 'translateX(100%)'\n      }\n    },\n\n    /* Styles applied when the component is passed children. */\n    withChildren: {\n      '& > *': {\n        visibility: 'hidden'\n      }\n    },\n\n    /* Styles applied when the component is passed children and no width. */\n    fitContent: {\n      maxWidth: 'fit-content'\n    },\n\n    /* Styles applied when the component is passed children and no height. */\n    heightAuto: {\n      height: 'auto'\n    }\n  };\n};\nvar Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(props, ref) {\n  var _props$animation = props.animation,\n      animation = _props$animation === void 0 ? 'pulse' : _props$animation,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      height = props.height,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      width = props.width,\n      other = _objectWithoutProperties(props, [\"animation\", \"classes\", \"className\", \"component\", \"height\", \"variant\", \"width\"]);\n\n  var hasChildren = Boolean(other.children);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: clsx(classes.root, classes[variant], className, hasChildren && [classes.withChildren, !width && classes.fitContent, !height && classes.heightAuto], animation !== false && classes[animation])\n  }, other, {\n    style: _extends({\n      width: width,\n      height: height\n    }, other.style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes = {\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The type of content that will be rendered.\n   */\n  variant: PropTypes.oneOf(['text', 'rect', 'circle']),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSkeleton'\n})(Skeleton);","import React from 'react';\nimport times from 'lodash/times';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst THUMB_HEIGHT = 40;\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'flex',\n  },\n  imageSkeleton: {\n    flexGrow: '1',\n  },\n  thumbsContainer: {\n    overflow: 'hidden',\n  },\n  thumbSkeleton: {\n    margin: '0 5px 10px 5px',\n  },\n});\n\nexport default function GallerySkeleton({ height }) {\n  const classes = useStyles();\n\n  const thumbsCount = Math.ceil(height / THUMB_HEIGHT);\n\n  return (\n    <div className={classes.container}>\n      <Skeleton\n        variant=\"rect\"\n        height={height}\n        className={classes.imageSkeleton}\n      />\n      <div className={classes.thumbsContainer} style={{ height }}>\n        {times(thumbsCount).map(() => (\n          <Skeleton\n            variant=\"rect\"\n            height={60}\n            width={100}\n            className={classes.thumbSkeleton}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport ScrollLock from 'react-scrolllock';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  top: {\n    zIndex: `${theme.zIndex.drawer + 1} !important`,\n  },\n}));\n\nexport default function FullscreenFallback({\n  children,\n  fullscreen,\n  uniqKey,\n  inlineGalleryRef,\n}) {\n  const classes = useStyles();\n  const portalGalleryRef = useRef();\n\n  useEffect(() => {\n    const element = document.createElement('div');\n    element.id = `imageGalleryPortal-${uniqKey}`;\n    document.body.append(element);\n    return () => element.remove();\n  }, []);\n\n  useEffect(\n    () => {\n      if (inlineGalleryRef.current) {\n        inlineGalleryRef.current.setState({\n          isFullscreen: false,\n          modalFullscreen: false,\n        });\n      }\n      if (fullscreen) {\n        portalGalleryRef.current.setState({\n          isFullscreen: true,\n          modalFullscreen: true,\n        });\n      }\n    },\n    [fullscreen],\n  );\n\n  if (!fullscreen) {\n    return null;\n  }\n  return ReactDOM.createPortal(\n    <ScrollLock>\n      <div>\n        {React.cloneElement(children, {\n          ref: portalGalleryRef,\n          additionalClass: classes.top,\n        })}\n      </div>\n    </ScrollLock>,\n    window.document.getElementById(`imageGalleryPortal-${uniqKey}`),\n  );\n}\n","import React, { useState, useMemo, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { v4 as uuidV4 } from 'uuid';\nimport cls from 'classnames';\nimport ImageGallery from 'react-image-gallery';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LazyWithPlaceholder from 'modules/components/LazyWithPlaceholder';\nimport { useLayoutContext } from 'modules/components/LayoutContext';\nimport LazyImage from './components/LazyImage';\nimport GallerySkeleton from './components/GallerySkeleton';\nimport FullscreenFallback from './components/FullscreenFallback';\n\nconst FALLBACK_ASPECT_RATIO = 1;\nconst PREFETCH_SLIDES = 1;\nconst START_INDEX = 0;\nconst THUMB_WIDTH_WITHOUT_BORDERS_PX = 92;\nconst FULLSCREEN_ENABLED =\n  document.fullscreenEnabled ||\n  document.mozFullScreenEnabled ||\n  document.documentElement.webkitRequestFullScreen;\n\nconst useStyles = makeStyles({\n  photoContainer: {\n    minHeight: '200px',\n    margin: '24px 0',\n    '& .image-gallery-thumbnails': {\n      overflowY: 'auto',\n      '-ms-overflow-style': 'none' /* Hide scrollbar for IE, Old Edge */,\n      scrollbarWidth: 'none' /* Firefox */,\n      '&::-webkit-scrollbar': {\n        /* Hide scrollbar for Chrome, Safari and Opera */\n        display: 'none',\n      },\n    },\n  },\n  photo: {\n    display: 'block',\n    width: '100%',\n  },\n});\n\nexport default function PhotosGallery({ className, photos }) {\n  const uniqKey = useMemo(() => uuidV4(), []);\n  const classes = useStyles();\n  const { vw, vh } = useLayoutContext();\n  const [fullscreen, setFullscreen] = useState(false);\n  const [aspectRatios, setAspectRatios] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(START_INDEX);\n\n  const constraints = useMemo(\n    () => resolveImageConstraints(fullscreen, { vh, vw }),\n    [fullscreen, vh, vw],\n  );\n\n  useEffect(\n    () => {\n      const thumbnailElement = window.document\n        .querySelector(\n          `[data-tag=\"photos-gallery-thumb-${uniqKey}-${currentIndex}\"]`,\n        )\n        ?.closest('.image-gallery-thumbnail');\n\n      if (thumbnailElement) {\n        thumbnailElement.scrollIntoView({\n          block: 'nearest',\n          behavior: 'smooth',\n        });\n      }\n    },\n    [currentIndex],\n  );\n\n  const actualPhotos = photos.map(\n    (\n      {\n        fullSizePhotoUrl,\n        thumbnailUrl,\n        previewUrl,\n        blurhash,\n        aspectRatio,\n        description,\n      },\n      index,\n    ) => ({\n      original: previewUrl,\n      originalClass: classes.photo,\n      thumbnail: thumbnailUrl,\n      fullscreen: fullSizePhotoUrl,\n      description,\n      blurhash,\n      aspectRatio,\n      index,\n    }),\n  );\n\n  if (!actualPhotos.length) {\n    return null;\n  }\n\n  const galleryRef = useRef();\n  const imageGalleryNode = (\n    <ImageGallery\n      ref={galleryRef}\n      useBrowserFullscreen={FULLSCREEN_ENABLED}\n      startIndex={START_INDEX}\n      showIndex={true}\n      items={actualPhotos}\n      thumbnailPosition=\"right\"\n      onScreenChange={nextFullscreen => setFullscreen(nextFullscreen)}\n      onBeforeSlide={nextIndex => setCurrentIndex(nextIndex)}\n      disableKeyDown={true}\n      disableThumbnailScroll={true}\n      renderItem={item => (\n        <LazyImage\n          className=\"image-gallery-image\"\n          aspectRatio={\n            aspectRatios[item.index] ||\n            item.aspectRatio?.ratio ||\n            FALLBACK_ASPECT_RATIO\n          }\n          description={item.description}\n          src={fullscreen ? item.fullscreen : item.original}\n          alt={item.originalAlt}\n          constraints={constraints}\n          title={item.originalTitle}\n          blurhash={item.blurhash}\n          require={Math.abs(currentIndex - item.index) <= PREFETCH_SLIDES}\n        >\n          {item.description && (\n            <span className=\"image-gallery-description\">\n              {item.description}\n            </span>\n          )}\n        </LazyImage>\n      )}\n      renderThumbInner={item => (\n        <span className=\"image-gallery-thumbnail-inner\">\n          <LazyImage\n            tag={`photos-gallery-thumb-${uniqKey}-${item.index}`}\n            className=\"image-gallery-thumbnail-image\"\n            aspectRatio={\n              aspectRatios[item.index] ||\n              item.aspectRatio ||\n              FALLBACK_ASPECT_RATIO\n            }\n            src={item.thumbnail}\n            width={THUMB_WIDTH_WITHOUT_BORDERS_PX}\n            alt={item.thumbnailAlt}\n            title={item.thumbnailTitle}\n            blurhash={item.blurhash}\n            require={true}\n            onLoad={({ aspectRatio }) =>\n              setAspectRatios(prevRatios => ({\n                ...prevRatios,\n                [item.index]: aspectRatio,\n              }))\n            }\n          />\n        </span>\n      )}\n    />\n  );\n\n  return (\n    <div\n      className={cls(className, classes.photoContainer)}\n      style={{ height: constraints.height }}\n    >\n      <LazyWithPlaceholder\n        offset={1000}\n        placeholder={<GallerySkeleton height={constraints.height} />}\n      >\n        {imageGalleryNode}\n      </LazyWithPlaceholder>\n      {!FULLSCREEN_ENABLED && (\n        <FullscreenFallback\n          fullscreen={fullscreen}\n          uniqKey={uniqKey}\n          inlineGalleryRef={galleryRef}\n        >\n          {imageGalleryNode}\n        </FullscreenFallback>\n      )}\n    </div>\n  );\n}\n\nconst RATIOS = {\n  FULLSCREEN: {\n    HEIGHT: { PERCENT: 100, MAX_PX: Infinity },\n    WIDTH: { PERCENT: 100, MAX_PX: Infinity },\n  },\n  DEFAULT: {\n    HEIGHT: { PERCENT: 50, MAX_PX: 1024 },\n    WIDTH: { PERCENT: 100, MAX_PX: 1024 },\n  },\n};\nfunction resolveImageConstraints(fullscreen, { vh, vw }) {\n  const { HEIGHT, WIDTH } = fullscreen ? RATIOS.FULLSCREEN : RATIOS.DEFAULT;\n  return {\n    height: calc(HEIGHT, vh),\n    width: calc(WIDTH, vw),\n  };\n\n  function calc(CONFIG, unit) {\n    return Math.min(CONFIG.PERCENT * unit, CONFIG.MAX_PX);\n  }\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p=\"\",r(r.s=0)}([function(e,r,t){\"use strict\";r.__esModule=!0,r.default=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(\",\"),n=e.name||\"\",o=e.type||\"\",u=o.replace(/\\/.*$/,\"\");return t.some(function(e){var r=e.trim();return\".\"===r.charAt(0)?n.toLowerCase().endsWith(r.toLowerCase()):r.endsWith(\"/*\")?u===r.replace(/\\/.*$/,\"\"):o===r})}return!0}}]);","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ImageGallery=t(require(\"react\")):e.ImageGallery=t(e.React)}(this,(function(e){return(()=>{var t={703:(e,t,n)=>{\"use strict\";var i=n(414);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,s){if(s!==i){var o=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw o.name=\"Invariant Violation\",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},590:e=>{var t=\"undefined\"!=typeof Element,n=\"function\"==typeof Map,i=\"function\"==typeof Set,r=\"function\"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,s){if(e===s)return!0;if(e&&s&&\"object\"==typeof e&&\"object\"==typeof s){if(e.constructor!==s.constructor)return!1;var o,l,u,c;if(Array.isArray(e)){if((o=e.length)!=s.length)return!1;for(l=o;0!=l--;)if(!a(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!a(l.value[1],s.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((o=e.length)!=s.length)return!1;for(l=o;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((o=(u=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if((\"_owner\"!==u[l]&&\"__v\"!==u[l]&&\"__o\"!==u[l]||!e.$$typeof)&&!a(e[u[l]],s[u[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||\"\").match(/stack|recursion/i))return console.warn(\"react-fast-compare cannot handle circular refs\"),!1;throw e}}},37:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var i=\"Left\",r=\"Right\",a=\"Down\",s={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},o={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},l=\"mousemove\",u=\"mouseup\";function c(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function h(e,t){var s=function(t){t&&\"touches\"in t&&t.touches.length>1||e((function(e,i){i.trackMouse&&(document.addEventListener(l,h),document.addEventListener(u,f));var r=\"touches\"in t?t.touches[0]:t,a=c([r.clientX,r.clientY],i.rotationAngle);return n({},e,o,{initial:[].concat(a),xy:a,start:t.timeStamp||0})}))},h=function(t){e((function(e,s){if(\"touches\"in t&&t.touches.length>1)return e;var o=\"touches\"in t?t.touches[0]:t,l=c([o.clientX,o.clientY],s.rotationAngle),u=l[0],h=l[1],d=u-e.xy[0],f=h-e.xy[1],p=Math.abs(d),m=Math.abs(f),v=(t.timeStamp||0)-e.start,g=Math.sqrt(p*p+m*m)/(v||1),b=[d/(v||1),f/(v||1)];if(p<s.delta&&m<s.delta&&!e.swiping)return e;var y=function(e,t,n,s){return e>t?n>0?r:i:s>0?a:\"Up\"}(p,m,d,f),w={absX:p,absY:m,deltaX:d,deltaY:f,dir:y,event:t,first:e.first,initial:e.initial,velocity:g,vxvy:b};s.onSwiping&&s.onSwiping(w);var T=!1;return(s.onSwiping||s.onSwiped||\"onSwiped\"+y in s)&&(T=!0),T&&s.preventDefaultTouchmoveEvent&&s.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:w,swiping:!0})}))},d=function(t){e((function(e,i){var r;if(e.swiping&&e.eventData){r=n({},e.eventData,{event:t}),i.onSwiped&&i.onSwiped(r);var a=\"onSwiped\"+r.dir;a in i&&i[a](r)}else i.onTap&&i.onTap({event:t});return n({},e,o,{eventData:r})}))},f=function(e){document.removeEventListener(l,h),document.removeEventListener(u,f),d(e)},p=function(e,t){var n=function(){};if(e&&e.addEventListener){var i=[[\"touchstart\",s],[\"touchmove\",h],[\"touchend\",d]];i.forEach((function(n){var i=n[0],r=n[1];return e.addEventListener(i,r,{passive:t})})),n=function(){return i.forEach((function(t){var n=t[0],i=t[1];return e.removeEventListener(n,i)}))}}return n},m={ref:function(t){null!==t&&e((function(e,i){if(e.el===t)return e;var r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),i.trackTouch&&t&&(r.cleanUpTouch=p(t,!i.preventDefaultTouchmoveEvent)),n({},e,{el:t},r)}))}};return t.trackMouse&&(m.onMouseDown=s),[m,p]}e.DOWN=a,e.LEFT=i,e.RIGHT=r,e.UP=\"Up\",e.useSwipeable=function(e){var i=e.trackMouse,r=t.useRef(n({},o)),a=t.useRef(n({},s));a.current=n({},s,e);var l=t.useMemo((function(){return h((function(e){return r.current=e(r.current,a.current)}),{trackMouse:i})}),[i]),u=l[0],c=l[1];return r.current=function(e,t,i){var r={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),r.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(r.cleanUpTouch=i(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,r)}(r.current,a.current,c),u}}(t,n(888))},888:t=>{\"use strict\";t.exports=e}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{\"use strict\";function e(t){var n,i,r=\"\";if(\"string\"==typeof t||\"number\"==typeof t)r+=t;else if(\"object\"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(i=e(t[n]))&&(r&&(r+=\" \"),r+=i);else for(n in t)t[n]&&(r&&(r+=\" \"),r+=n);return r}function t(){for(var t,n,i=0,r=\"\";i<arguments.length;)(t=arguments[i++])&&(n=e(t))&&(r&&(r+=\" \"),r+=n);return r}i.r(r),i.d(r,{default:()=>Me});var n=i(888),a=i.n(n);const s=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)},o=\"object\"==typeof global&&global&&global.Object===Object&&global;var l=\"object\"==typeof self&&self&&self.Object===Object&&self;const u=o||l||Function(\"return this\")(),c=function(){return u.Date.now()};var h=/\\s/;var d=/^\\s+/;const f=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&h.test(e.charAt(t)););return t}(e)+1).replace(d,\"\"):e},p=u.Symbol;var m=Object.prototype,v=m.hasOwnProperty,g=m.toString,b=p?p.toStringTag:void 0;var y=Object.prototype.toString;var w=p?p.toStringTag:void 0;const T=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":w&&w in Object(e)?function(e){var t=v.call(e,b),n=e[b];try{e[b]=void 0;var i=!0}catch(e){}var r=g.call(e);return i&&(t?e[b]=n:delete e[b]),r}(e):function(e){return y.call(e)}(e)};var S=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,E=/^0o[0-7]+$/i,I=parseInt;const k=function(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return null!=e&&\"object\"==typeof e}(e)&&\"[object Symbol]\"==T(e)}(e))return NaN;if(s(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=f(e);var n=O.test(e);return n||E.test(e)?I(e.slice(2),n?2:8):S.test(e)?NaN:+e};var x=Math.max,_=Math.min;const L=function(e,t,n){var i,r,a,o,l,u,h=0,d=!1,f=!1,p=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function m(t){var n=i,a=r;return i=r=void 0,h=t,o=e.apply(a,n)}function v(e){return h=e,l=setTimeout(b,t),d?m(e):o}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-h>=a}function b(){var e=c();if(g(e))return y(e);l=setTimeout(b,function(e){var n=t-(e-u);return f?_(n,a-(e-h)):n}(e))}function y(e){return l=void 0,p&&i?m(e):(i=r=void 0,o)}function w(){var e=c(),n=g(e);if(i=arguments,r=this,u=e,n){if(void 0===l)return v(u);if(f)return clearTimeout(l),l=setTimeout(b,t),m(u)}return void 0===l&&(l=setTimeout(b,t)),o}return t=k(t)||0,s(n)&&(d=!!n.leading,a=(f=\"maxWait\"in n)?x(k(n.maxWait)||0,t):a,p=\"trailing\"in n?!!n.trailing:p),w.cancel=function(){void 0!==l&&clearTimeout(l),h=0,i=u=r=l=void 0},w.flush=function(){return void 0===l?o:y(c())},w},P=function(e,t,n){var i=!0,r=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");return s(n)&&(i=\"leading\"in n?!!n.leading:i,r=\"trailing\"in n?!!n.trailing:r),L(e,t,{leading:i,maxWait:t,trailing:r})};var M=i(590),R=i.n(M),D=function(){if(\"undefined\"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,\"size\",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),F=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.document===document,C=void 0!==i.g&&i.g.Math===Math?i.g:\"undefined\"!=typeof self&&self.Math===Math?self:\"undefined\"!=typeof window&&window.Math===Math?window:Function(\"return this\")(),W=\"function\"==typeof requestAnimationFrame?requestAnimationFrame.bind(C):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},N=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\",\"size\",\"weight\"],j=\"undefined\"!=typeof MutationObserver,z=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&o()}function s(){W(a)}function o(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);r=e}return o}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){F&&!this.connected_&&(document.addEventListener(\"transitionend\",this.onTransitionEnd_),window.addEventListener(\"resize\",this.refresh),j?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){F&&this.connected_&&(document.removeEventListener(\"transitionend\",this.onTransitionEnd_),window.removeEventListener(\"resize\",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?\"\":t;N.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),B=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},A=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||C},G=V(0,0,0,0);function U(e){return parseFloat(e)||0}function H(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+U(e[\"border-\"+n+\"-width\"])}),0)}var q=\"undefined\"!=typeof SVGGraphicsElement?function(e){return e instanceof A(e).SVGGraphicsElement}:function(e){return e instanceof A(e).SVGElement&&\"function\"==typeof e.getBBox};function K(e){return F?q(e)?function(e){var t=e.getBBox();return V(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return G;var i=A(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=[\"top\",\"right\",\"bottom\",\"left\"];n<i.length;n++){var r=i[n],a=e[\"padding-\"+r];t[r]=U(a)}return t}(i),a=r.left+r.right,s=r.top+r.bottom,o=U(i.width),l=U(i.height);if(\"border-box\"===i.boxSizing&&(Math.round(o+a)!==t&&(o-=H(i,\"left\",\"right\")+a),Math.round(l+s)!==n&&(l-=H(i,\"top\",\"bottom\")+s)),!function(e){return e===A(e).document.documentElement}(e)){var u=Math.round(o+a)-t,c=Math.round(l+s)-n;1!==Math.abs(u)&&(o-=u),1!==Math.abs(c)&&(l-=c)}return V(r.left,r.top,o,l)}(e):G}function V(e,t,n,i){return{x:e,y:t,width:n,height:i}}var X=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=V(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=K(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Y=function(e,t){var n,i,r,a,s,o,l,u=(i=(n=t).x,r=n.y,a=n.width,s=n.height,o=\"undefined\"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),B(l,{x:i,y:r,width:a,height:s,top:r,right:i+a,bottom:s+r,left:i}),l);B(this,{target:e,contentRect:u})},$=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new D,\"function\"!=typeof e)throw new TypeError(\"The callback provided as parameter 1 is not a function.\");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var t=this.observations_;t.has(e)||(t.set(e,new X(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),J=\"undefined\"!=typeof WeakMap?new WeakMap:new D,Q=function e(t){if(!(this instanceof e))throw new TypeError(\"Cannot call a class as a function.\");if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");var n=z.getInstance(),i=new $(t,n,this);J.set(this,i)};[\"observe\",\"unobserve\",\"disconnect\"].forEach((function(e){Q.prototype[e]=function(){var t;return(t=J.get(this))[e].apply(t,arguments)}}));const Z=void 0!==C.ResizeObserver?C.ResizeObserver:Q;var ee=i(37),te=i(697),ne=a().memo((function(e){var t=e.description,n=e.fullscreen,i=e.handleImageLoaded,r=e.isFullscreen,s=e.onImageError,o=e.original,l=e.originalAlt,u=e.originalHeight,c=e.originalWidth,h=e.originalTitle,d=e.sizes,f=e.srcSet,p=r&&n||o;return a().createElement(a().Fragment,null,a().createElement(\"img\",{className:\"image-gallery-image\",src:p,alt:l,srcSet:f,height:u,width:c,sizes:d,title:h,onLoad:function(e){return i(e,o)},onError:s}),t&&a().createElement(\"span\",{className:\"image-gallery-description\"},t))}));ne.displayName=\"Item\",ne.propTypes={description:te.string,fullscreen:te.string,handleImageLoaded:te.func.isRequired,isFullscreen:te.bool,onImageError:te.func.isRequired,original:te.string.isRequired,originalAlt:te.string,originalHeight:te.string,originalWidth:te.string,originalTitle:te.string,sizes:te.string,srcSet:te.string},ne.defaultProps={description:\"\",fullscreen:\"\",isFullscreen:!1,originalAlt:\"\",originalHeight:\"\",originalWidth:\"\",originalTitle:\"\",sizes:\"\",srcSet:\"\"};const ie=ne;var re={left:a().createElement(\"polyline\",{points:\"15 18 9 12 15 6\"}),right:a().createElement(\"polyline\",{points:\"9 18 15 12 9 6\"}),maximize:a().createElement(\"path\",{d:\"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3\"}),minimize:a().createElement(\"path\",{d:\"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"}),play:a().createElement(\"polygon\",{points:\"5 3 19 12 5 21 5 3\"}),pause:a().createElement(a().Fragment,null,a().createElement(\"rect\",{x:\"6\",y:\"4\",width:\"4\",height:\"16\"}),a().createElement(\"rect\",{x:\"14\",y:\"4\",width:\"4\",height:\"16\"}))},ae=function(e){var t=e.strokeWidth,n=e.viewBox,i=e.icon;return a().createElement(\"svg\",{className:\"image-gallery-svg\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:n,fill:\"none\",stroke:\"currentColor\",strokeWidth:t,strokeLinecap:\"round\",strokeLinejoin:\"round\"},re[i])};ae.propTypes={strokeWidth:te.number,viewBox:te.string,icon:(0,te.oneOf)([\"left\",\"right\",\"maximize\",\"minimize\",\"play\",\"pause\"]).isRequired},ae.defaultProps={strokeWidth:1,viewBox:\"0 0 24 24\"};const se=ae;var oe=a().memo((function(e){var t=e.isFullscreen,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-fullscreen-button\",onClick:n,\"aria-label\":\"Open Fullscreen\"},a().createElement(se,{strokeWidth:2,icon:t?\"minimize\":\"maximize\"}))}));oe.displayName=\"Fullscreen\",oe.propTypes={isFullscreen:te.bool.isRequired,onClick:te.func.isRequired};const le=oe;var ue=a().memo((function(e){var t=e.disabled,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-left-nav\",disabled:t,onClick:n,\"aria-label\":\"Previous Slide\"},a().createElement(se,{icon:\"left\",viewBox:\"6 0 12 24\"}))}));ue.displayName=\"LeftNav\",ue.propTypes={disabled:te.bool.isRequired,onClick:te.func.isRequired};const ce=ue;var he=a().memo((function(e){var t=e.disabled,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-right-nav\",disabled:t,onClick:n,\"aria-label\":\"Next Slide\"},a().createElement(se,{icon:\"right\",viewBox:\"6 0 12 24\"}))}));he.displayName=\"RightNav\",he.propTypes={disabled:te.bool.isRequired,onClick:te.func.isRequired};const de=he;var fe=a().memo((function(e){var t=e.isPlaying,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-play-button\",onClick:n,\"aria-label\":\"Play or Pause Slideshow\"},a().createElement(se,{strokeWidth:2,icon:t?\"pause\":\"play\"}))}));fe.displayName=\"PlayPause\",fe.propTypes={isPlaying:te.bool.isRequired,onClick:te.func.isRequired};const pe=fe;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ve=function(e){var t=e.children,n=e.className,i=e.delta,r=e.onSwiping,s=e.onSwiped,o=(0,ee.useSwipeable)({delta:i,onSwiping:r,onSwiped:s});return a().createElement(\"div\",me({},o,{className:n}),t)};ve.propTypes={children:te.node.isRequired,className:te.string,delta:te.number,onSwiped:te.func,onSwiping:te.func},ve.defaultProps={className:\"\",delta:0,onSwiping:function(){},onSwiped:function(){}};const ge=ve;function be(e){return(be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t){return!t||\"object\"!==be(t)&&\"function\"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=[\"fullscreenchange\",\"MSFullscreenChange\",\"mozfullscreenchange\",\"webkitfullscreenchange\"],_e=(0,te.arrayOf)((0,te.shape)({srcSet:te.string,media:te.string}));function Le(e){var t=parseInt(e.keyCode||e.which||0,10);return 66===t||62===t}var Pe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(l,e);var n,i,r,s,o=(r=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(r);if(s){var n=ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ee(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=o.call(this,e)).state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:\"all \".concat(e.slideDuration,\"ms ease-out\")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},t.loadedImages={},t.imageGallery=a().createRef(),t.thumbnailsWrapper=a().createRef(),t.thumbnails=a().createRef(),t.imageGallerySlideWrapper=a().createRef(),t.handleImageLoaded=t.handleImageLoaded.bind(Ie(t)),t.handleKeyDown=t.handleKeyDown.bind(Ie(t)),t.handleMouseDown=t.handleMouseDown.bind(Ie(t)),t.handleTouchMove=t.handleTouchMove.bind(Ie(t)),t.handleOnSwiped=t.handleOnSwiped.bind(Ie(t)),t.handleScreenChange=t.handleScreenChange.bind(Ie(t)),t.handleSwiping=t.handleSwiping.bind(Ie(t)),t.handleThumbnailSwiping=t.handleThumbnailSwiping.bind(Ie(t)),t.handleOnThumbnailSwiped=t.handleOnThumbnailSwiped.bind(Ie(t)),t.onThumbnailMouseLeave=t.onThumbnailMouseLeave.bind(Ie(t)),t.handleImageError=t.handleImageError.bind(Ie(t)),t.pauseOrPlay=t.pauseOrPlay.bind(Ie(t)),t.renderThumbInner=t.renderThumbInner.bind(Ie(t)),t.renderItem=t.renderItem.bind(Ie(t)),t.slideLeft=t.slideLeft.bind(Ie(t)),t.slideRight=t.slideRight.bind(Ie(t)),t.toggleFullScreen=t.toggleFullScreen.bind(Ie(t)),t.togglePlay=t.togglePlay.bind(Ie(t)),t.unthrottledSlideToIndex=t.slideToIndex,t.slideToIndex=P(t.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(t.lazyLoaded=[]),t}return n=l,(i=[{key:\"componentDidMount\",value:function(){var e=this.props,t=e.autoPlay,n=e.useWindowKeyDown;t&&this.play(),n?window.addEventListener(\"keydown\",this.handleKeyDown):this.imageGallery.current.addEventListener(\"keydown\",this.handleKeyDown),window.addEventListener(\"mousedown\",this.handleMouseDown),window.addEventListener(\"touchmove\",this.handleTouchMove,{passive:!1}),this.initResizeObserver(this.imageGallerySlideWrapper),this.addScreenChangeEvent()}},{key:\"componentDidUpdate\",value:function(e,t){var n=this.props,i=n.items,r=n.lazyLoad,a=n.slideDuration,s=n.slideInterval,o=n.startIndex,l=n.thumbnailPosition,u=n.showThumbnails,c=n.useWindowKeyDown,h=this.state.currentIndex,d=e.items.length!==i.length,f=!R()(e.items,i),p=e.startIndex!==o,m=e.thumbnailPosition!==l,v=e.showThumbnails!==u;s===e.slideInterval&&a===e.slideDuration||(this.pause(),this.play()),m&&(this.removeResizeObserver(),this.initResizeObserver(this.imageGallerySlideWrapper)),(d||v)&&this.handleResize(),t.currentIndex!==h&&this.slideThumbnailBar(),e.slideDuration!==a&&(this.slideToIndex=P(this.unthrottledSlideToIndex,a,{trailing:!1})),!r||e.lazyLoad&&!f||(this.lazyLoaded=[]),c!==e.useWindowKeyDown&&(c?(this.imageGallery.current.removeEventListener(\"keydown\",this.handleKeyDown),window.addEventListener(\"keydown\",this.handleKeyDown)):(window.removeEventListener(\"keydown\",this.handleKeyDown),this.imageGallery.current.addEventListener(\"keydown\",this.handleKeyDown))),(p||f)&&this.setState({currentIndex:o})}},{key:\"componentWillUnmount\",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener(\"mousedown\",this.handleMouseDown),window.removeEventListener(\"touchmove\",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener(\"keydown\",this.handleKeyDown):this.imageGallery.current.removeEventListener(\"keydown\",this.handleKeyDown)}},{key:\"onSliding\",value:function(){var e=this,t=this.state,n=t.currentIndex,i=t.isTransitioning,r=this.props,a=r.onSlide,s=r.slideDuration;this.transitionTimer=window.setTimeout((function(){i&&(e.setState({isTransitioning:!i,isSwipingThumbnail:!1}),a&&a(n))}),s+50)}},{key:\"onThumbnailClick\",value:function(e,t){var n=this.props.onThumbnailClick;e.target.parentNode.parentNode.blur(),this.slideToIndex(t,e),n&&n(e,t)}},{key:\"onThumbnailMouseOver\",value:function(e,t){var n=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){n.slideToIndex(t),n.pause()}),300)}},{key:\"onThumbnailMouseLeave\",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:\"setThumbsTranslate\",value:function(e){this.setState({thumbsTranslate:e})}},{key:\"setModalFullscreen\",value:function(e){var t=this.props.onScreenChange;this.setState({modalFullscreen:e}),t&&t(e)}},{key:\"getThumbsTranslate\",value:function(e){var t,n=this.props,i=n.disableThumbnailScroll,r=n.items,a=this.state,s=a.thumbnailsWrapperWidth,o=a.thumbnailsWrapperHeight,l=this.thumbnails&&this.thumbnails.current;if(i)return 0;if(l){if(this.isThumbnailVertical()){if(l.scrollHeight<=o)return 0;t=l.scrollHeight-o}else{if(l.scrollWidth<=s||s<=0)return 0;t=l.scrollWidth-s}return e*(t/(r.length-1))}return 0}},{key:\"getAlignmentClassName\",value:function(e){var t=this.state.currentIndex,n=this.props,i=n.infinite,r=n.items,a=\"\",s=\"left\",o=\"right\";switch(e){case t-1:a=\" \".concat(s);break;case t:a=\" \".concat(\"center\");break;case t+1:a=\" \".concat(o)}return r.length>=3&&i&&(0===e&&t===r.length-1?a=\" \".concat(o):e===r.length-1&&0===t&&(a=\" \".concat(s))),a}},{key:\"getTranslateXForTwoSlide\",value:function(e){var t=this.state,n=t.currentIndex,i=t.currentSlideOffset,r=t.previousIndex,a=n!==r,s=0===e&&0===r,o=1===e&&1===r,l=0===e&&1===n,u=1===e&&0===n,c=0===i,h=-100*n+100*e+i;return i>0?this.direction=\"left\":i<0&&(this.direction=\"right\"),u&&i>0&&(h=-100+i),l&&i<0&&(h=100+i),a?s&&c&&\"left\"===this.direction?h=100:o&&c&&\"right\"===this.direction&&(h=-100):(u&&c&&\"left\"===this.direction&&(h=-100),l&&c&&\"right\"===this.direction&&(h=100)),h}},{key:\"getThumbnailBarHeight\",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:\"getSlideStyle\",value:function(e){var t=this.state,n=t.currentIndex,i=t.currentSlideOffset,r=t.slideStyle,a=this.props,s=a.infinite,o=a.items,l=a.useTranslate3D,u=a.isRTL,c=-100*n,h=o.length-1,d=(c+100*e)*(u?-1:1)+i;s&&o.length>2&&(0===n&&e===h?d=-100*(u?-1:1)+i:n===h&&0===e&&(d=100*(u?-1:1)+i)),s&&2===o.length&&(d=this.getTranslateXForTwoSlide(e));var f=\"translate(\".concat(d,\"%, 0)\");return l&&(f=\"translate3d(\".concat(d,\"%, 0, 0)\")),we({display:this.isSlideVisible(e)?\"inherit\":\"none\",WebkitTransform:f,MozTransform:f,msTransform:f,OTransform:f,transform:f},r)}},{key:\"getCurrentIndex\",value:function(){return this.state.currentIndex}},{key:\"getThumbnailStyle\",value:function(){var e,t=this.props,n=t.useTranslate3D,i=t.isRTL,r=this.state,a=r.thumbsTranslate,s=r.thumbsStyle,o=i?-1*a:a;return this.isThumbnailVertical()?(e=\"translate(0, \".concat(a,\"px)\"),n&&(e=\"translate3d(0, \".concat(a,\"px, 0)\"))):(e=\"translate(\".concat(o,\"px, 0)\"),n&&(e=\"translate3d(\".concat(o,\"px, 0, 0)\"))),we({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},s)}},{key:\"getSlideItems\",value:function(){var e=this,n=this.state.currentIndex,i=this.props,r=i.items,s=i.slideOnThumbnailOver,o=i.onClick,l=i.lazyLoad,u=i.onTouchMove,c=i.onTouchEnd,h=i.onTouchStart,d=i.onMouseOver,f=i.onMouseLeave,p=i.renderItem,m=i.renderThumbInner,v=i.showThumbnails,g=i.showBullets,b=[],y=[],w=[];return r.forEach((function(i,r){var T=e.getAlignmentClassName(r),S=i.originalClass?\" \".concat(i.originalClass):\"\",O=i.thumbnailClass?\" \".concat(i.thumbnailClass):\"\",E=i.renderItem||p||e.renderItem,I=i.renderThumbInner||m||e.renderThumbInner,k=!l||T||e.lazyLoaded[r];k&&l&&!e.lazyLoaded[r]&&(e.lazyLoaded[r]=!0);var x=e.getSlideStyle(r),_=a().createElement(\"div\",{\"aria-label\":\"Go to Slide \".concat(r+1),key:\"slide-\".concat(r),tabIndex:\"-1\",className:\"image-gallery-slide \".concat(T,\" \").concat(S),style:x,onClick:o,onKeyUp:e.handleSlideKeyUp,onTouchMove:u,onTouchEnd:c,onTouchStart:h,onMouseOver:d,onFocus:d,onMouseLeave:f,role:\"button\"},k?E(i):a().createElement(\"div\",{style:{height:\"100%\"}}));if(b.push(_),v&&i.thumbnail){var L=t(\"image-gallery-thumbnail\",O,{active:n===r});y.push(a().createElement(\"button\",{key:\"thumbnail-\".concat(r),type:\"button\",tabIndex:\"0\",\"aria-pressed\":n===r?\"true\":\"false\",\"aria-label\":\"Go to Slide \".concat(r+1),className:L,onMouseLeave:s?e.onThumbnailMouseLeave:null,onMouseOver:function(t){return e.handleThumbnailMouseOver(t,r)},onFocus:function(t){return e.handleThumbnailMouseOver(t,r)},onKeyUp:function(t){return e.handleThumbnailKeyUp(t,r)},onClick:function(t){return e.onThumbnailClick(t,r)}},I(i)))}if(g){var P=t(\"image-gallery-bullet\",i.bulletClass,{active:n===r});w.push(a().createElement(\"button\",{type:\"button\",key:\"bullet-\".concat(r),className:P,onClick:function(t){return i.bulletOnClick&&i.bulletOnClick({item:i,itemIndex:r,currentIndex:n}),t.target.blur(),e.slideToIndex.call(e,r,t)},\"aria-pressed\":n===r?\"true\":\"false\",\"aria-label\":\"Go to Slide \".concat(r+1)}))}})),{slides:b,thumbnails:y,bullets:w}}},{key:\"ignoreIsTransitioning\",value:function(){var e=this.props.items,t=this.state,n=t.previousIndex,i=t.currentIndex,r=e.length-1;return Math.abs(n-i)>1&&!(0===n&&i===r)&&!(n===r&&0===i)}},{key:\"isFirstOrLastSlide\",value:function(e){return e===this.props.items.length-1||0===e}},{key:\"slideIsTransitioning\",value:function(e){var t=this.state,n=t.isTransitioning,i=t.previousIndex,r=t.currentIndex;return n&&!(e===i||e===r)}},{key:\"isSlideVisible\",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:\"slideThumbnailBar\",value:function(){var e=this.state,t=e.currentIndex,n=e.isSwipingThumbnail,i=-this.getThumbsTranslate(t);n||(0===t?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:i,thumbsSwipedTranslate:i}))}},{key:\"canSlide\",value:function(){return this.props.items.length>=2}},{key:\"canSlideLeft\",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlideNext():this.canSlidePrevious())}},{key:\"canSlideRight\",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlidePrevious():this.canSlideNext())}},{key:\"canSlidePrevious\",value:function(){return this.state.currentIndex>0}},{key:\"canSlideNext\",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:\"handleSwiping\",value:function(e){var t=e.event,n=e.absX,i=e.dir,r=this.props,a=r.disableSwipe,s=r.stopPropagation,o=this.state,l=o.galleryWidth,u=o.isTransitioning,c=o.swipingUpDown,h=o.swipingLeftRight;if(i!==ee.UP&&i!==ee.DOWN&&!c||h){if(i!==ee.LEFT&&i!==ee.RIGHT||h||this.setState({swipingLeftRight:!0}),!a){var d=this.props.swipingTransitionDuration;if(s&&t.preventDefault(),u)this.setState({currentSlideOffset:0});else{var f=i===ee.RIGHT?1:-1,p=n/l*100;Math.abs(p)>=100&&(p=100);var m={transition:\"transform \".concat(d,\"ms ease-out\")};this.setState({currentSlideOffset:f*p,slideStyle:m})}}}else c||this.setState({swipingUpDown:!0})}},{key:\"handleThumbnailSwiping\",value:function(e){var t=e.event,n=e.absX,i=e.absY,r=e.dir,a=this.props,s=a.stopPropagation,o=a.swipingThumbnailTransitionDuration,l=this.state,u=l.thumbsSwipedTranslate,c=l.thumbnailsWrapperHeight,h=l.thumbnailsWrapperWidth,d=l.swipingUpDown,f=l.swipingLeftRight;if(this.isThumbnailVertical()){if((r===ee.LEFT||r===ee.RIGHT||f)&&!d)return void(f||this.setState({swipingLeftRight:!0}));r!==ee.UP&&r!==ee.DOWN||d||this.setState({swipingUpDown:!0})}else{if((r===ee.UP||r===ee.DOWN||d)&&!f)return void(d||this.setState({swipingUpDown:!0}));r!==ee.LEFT&&r!==ee.RIGHT||f||this.setState({swipingLeftRight:!0})}var p,m,v,g,b,y=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(p=u+(r===ee.DOWN?i:-i),m=y.scrollHeight-c+20,v=Math.abs(p)>m,g=p>20,b=y.scrollHeight<=c):(p=u+(r===ee.RIGHT?n:-n),m=y.scrollWidth-h+20,v=Math.abs(p)>m,g=p>20,b=y.scrollWidth<=h),!b&&(r!==ee.LEFT&&r!==ee.UP||!v)&&(r!==ee.RIGHT&&r!==ee.DOWN||!g)){s&&t.stopPropagation();var w={transition:\"transform \".concat(o,\"ms ease-out\")};this.setState({thumbsTranslate:p,thumbsStyle:w})}}},{key:\"handleOnThumbnailSwiped\",value:function(){var e=this.state.thumbsTranslate,t=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:\"all \".concat(t,\"ms ease-out\")}})}},{key:\"sufficientSwipe\",value:function(){var e=this.state.currentSlideOffset,t=this.props.swipeThreshold;return Math.abs(e)>t}},{key:\"resetSwipingDirection\",value:function(){var e=this.state,t=e.swipingUpDown,n=e.swipingLeftRight;t&&this.setState({swipingUpDown:!1}),n&&this.setState({swipingLeftRight:!1})}},{key:\"handleOnSwiped\",value:function(e){var t=e.event,n=e.dir,i=e.velocity,r=this.props,a=r.disableSwipe,s=r.stopPropagation,o=r.flickThreshold;if(!a){var l=this.props.isRTL;s&&t.stopPropagation(),this.resetSwipingDirection();var u=(n===ee.LEFT?1:-1)*(l?-1:1),c=n===ee.UP||n===ee.DOWN,h=i>o&&!c;this.handleOnSwipedTo(u,h)}}},{key:\"handleOnSwipedTo\",value:function(e,t){var n=this.state,i=n.currentIndex,r=n.isTransitioning,a=i;!this.sufficientSwipe()&&!t||r||(a+=e),(-1===e&&!this.canSlideLeft()||1===e&&!this.canSlideRight())&&(a=i),this.unthrottledSlideToIndex(a)}},{key:\"handleTouchMove\",value:function(e){this.state.swipingLeftRight&&e.preventDefault()}},{key:\"handleMouseDown\",value:function(){this.imageGallery.current.classList.add(\"image-gallery-using-mouse\")}},{key:\"handleKeyDown\",value:function(e){var t=this.props,n=t.disableKeyDown,i=t.useBrowserFullscreen,r=this.state.isFullscreen;if(this.imageGallery.current.classList.remove(\"image-gallery-using-mouse\"),!n)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:r&&!i&&this.exitFullScreen()}}},{key:\"handleImageError\",value:function(e){var t=this.props.onErrorImageURL;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)}},{key:\"removeResizeObserver\",value:function(){this.resizeObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeObserver=null)}},{key:\"handleResize\",value:function(){var e=this.state.currentIndex;this.resizeObserver&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.isThumbnailVertical()?this.setState({thumbnailsWrapperHeight:this.thumbnailsWrapper.current.offsetHeight}):this.setState({thumbnailsWrapperWidth:this.thumbnailsWrapper.current.offsetWidth})),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:\"initResizeObserver\",value:function(e){var t=this;this.resizeObserver=new Z(L((function(e){e&&e.forEach((function(){t.handleResize()}))}),300)),this.resizeObserver.observe(e.current)}},{key:\"toggleFullScreen\",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:\"togglePlay\",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:\"handleScreenChange\",value:function(){var e=this.props,t=e.onScreenChange,n=e.useBrowserFullscreen,i=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,r=this.imageGallery.current===i;t&&t(r),n&&this.setState({isFullscreen:r})}},{key:\"slideToIndex\",value:function(e,t){var n=this.state,i=n.currentIndex,r=n.isTransitioning,a=this.props,s=a.items,o=a.slideDuration,l=a.onBeforeSlide;if(!r){t&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var u=s.length-1,c=e;e<0?c=u:e>u&&(c=0),l&&c!==i&&l(c),this.setState({previousIndex:i,currentIndex:c,isTransitioning:c!==i,currentSlideOffset:0,slideStyle:{transition:\"all \".concat(o,\"ms ease-out\")}},this.onSliding)}}},{key:\"slideLeft\",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?\"right\":\"left\")}},{key:\"slideRight\",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?\"left\":\"right\")}},{key:\"slideTo\",value:function(e,t){var n=this,i=this.state,r=i.currentIndex,a=i.currentSlideOffset,s=i.isTransitioning,o=this.props.items,l=r+(\"left\"===t?-1:1);s||(2===o.length?this.setState({currentSlideOffset:a+(\"left\"===t?.001:-.001),slideStyle:{transition:\"none\"}},(function(){window.setTimeout((function(){return n.slideToIndex(l,e)}),25)})):this.slideToIndex(l,e))}},{key:\"handleThumbnailMouseOver\",value:function(e,t){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,t)}},{key:\"handleThumbnailKeyUp\",value:function(e,t){Le(e)&&this.onThumbnailClick(e,t)}},{key:\"handleSlideKeyUp\",value:function(e){Le(e)&&(0,this.props.onClick)(e)}},{key:\"isThumbnailVertical\",value:function(){var e=this.props.thumbnailPosition;return\"left\"===e||\"right\"===e}},{key:\"addScreenChangeEvent\",value:function(){var e=this;xe.forEach((function(t){document.addEventListener(t,e.handleScreenChange)}))}},{key:\"removeScreenChangeEvent\",value:function(){var e=this;xe.forEach((function(t){document.removeEventListener(t,e.handleScreenChange)}))}},{key:\"fullScreen\",value:function(){var e=this.props.useBrowserFullscreen,t=this.imageGallery.current;e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:\"exitFullScreen\",value:function(){var e=this.state.isFullscreen,t=this.props.useBrowserFullscreen;e&&(t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:\"pauseOrPlay\",value:function(){var e=this.props.infinite,t=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(t+1):this.pause()}},{key:\"play\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.onPlay,i=t.slideInterval,r=t.slideDuration,a=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(i,r)),n&&e&&n(a))}},{key:\"pause\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onPause,n=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),t&&e&&t(n))}},{key:\"isImageLoaded\",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:\"handleImageLoaded\",value:function(e,t){var n=this.props.onImageLoad;!this.loadedImages[t]&&n&&(this.loadedImages[t]=!0,n(e))}},{key:\"renderItem\",value:function(e){var t=this.state.isFullscreen,n=this.props.onImageError||this.handleImageError;return a().createElement(ie,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:t,onImageError:n,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,srcSet:e.srcSet})}},{key:\"renderThumbInner\",value:function(e){var t=this.props.onThumbnailError||this.handleImageError;return a().createElement(\"span\",{className:\"image-gallery-thumbnail-inner\"},a().createElement(\"img\",{className:\"image-gallery-thumbnail-image\",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,onError:t}),e.thumbnailLabel&&a().createElement(\"div\",{className:\"image-gallery-thumbnail-label\"},e.thumbnailLabel))}},{key:\"render\",value:function(){var e=this.state,n=e.currentIndex,i=e.isFullscreen,r=e.modalFullscreen,s=e.isPlaying,o=this.props,l=o.additionalClass,u=o.disableThumbnailSwipe,c=o.indexSeparator,h=o.isRTL,d=o.items,f=o.thumbnailPosition,p=o.renderFullscreenButton,m=o.renderCustomControls,v=o.renderLeftNav,g=o.renderRightNav,b=o.showBullets,y=o.showFullscreenButton,w=o.showIndex,T=o.showThumbnails,S=o.showNav,O=o.showPlayButton,E=o.renderPlayPauseButton,I=this.getThumbnailStyle(),k=this.getSlideItems(),x=k.slides,_=k.thumbnails,L=k.bullets,P=t(\"image-gallery-slide-wrapper\",f,{\"image-gallery-rtl\":h}),M=a().createElement(\"div\",{ref:this.imageGallerySlideWrapper,className:P},m&&m(),this.canSlide()?a().createElement(a().Fragment,null,S&&a().createElement(a().Fragment,null,v(this.slideLeft,!this.canSlideLeft()),g(this.slideRight,!this.canSlideRight())),a().createElement(ge,{className:\"image-gallery-swipe\",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},a().createElement(\"div\",{className:\"image-gallery-slides\"},x))):a().createElement(\"div\",{className:\"image-gallery-slides\"},x),O&&E(this.togglePlay,s),b&&a().createElement(\"div\",{className:\"image-gallery-bullets\"},a().createElement(\"div\",{className:\"image-gallery-bullets-container\",role:\"navigation\",\"aria-label\":\"Bullet Navigation\"},L)),y&&p(this.toggleFullScreen,i),w&&a().createElement(\"div\",{className:\"image-gallery-index\"},a().createElement(\"span\",{className:\"image-gallery-index-current\"},n+1),a().createElement(\"span\",{className:\"image-gallery-index-separator\"},c),a().createElement(\"span\",{className:\"image-gallery-index-total\"},d.length))),R=t(\"image-gallery\",l,{\"fullscreen-modal\":r}),D=t(\"image-gallery-content\",f,{fullscreen:i}),F=t(\"image-gallery-thumbnails-wrapper\",f,{\"thumbnails-wrapper-rtl\":!this.isThumbnailVertical()&&h},{\"thumbnails-swipe-horizontal\":!this.isThumbnailVertical()&&!u},{\"thumbnails-swipe-vertical\":this.isThumbnailVertical()&&!u});return a().createElement(\"div\",{ref:this.imageGallery,className:R,\"aria-live\":\"polite\"},a().createElement(\"div\",{className:D},(\"bottom\"===f||\"right\"===f)&&M,T&&_.length>0?a().createElement(ge,{className:F,delta:0,onSwiping:!u&&this.handleThumbnailSwiping,onSwiped:!u&&this.handleOnThumbnailSwiped},a().createElement(\"div\",{className:\"image-gallery-thumbnails\",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},a().createElement(\"div\",{ref:this.thumbnails,className:\"image-gallery-thumbnails-container\",style:I,\"aria-label\":\"Thumbnail Navigation\"},_))):null,(\"top\"===f||\"left\"===f)&&M))}}])&&Se(n.prototype,i),l}(a().Component);Pe.propTypes={flickThreshold:te.number,items:(0,te.arrayOf)((0,te.shape)({bulletClass:te.string,bulletOnClick:te.func,description:te.string,original:te.string,originalHeight:te.number,originalWidth:te.number,thumbnailHeight:te.number,thumbnailWidth:te.number,fullscreen:te.string,originalAlt:te.string,originalTitle:te.string,thumbnail:te.string,thumbnailAlt:te.string,thumbnailLabel:te.string,thumbnailTitle:te.string,originalClass:te.string,thumbnailClass:te.string,renderItem:te.func,renderThumbInner:te.func,imageSet:_e,srcSet:te.string,sizes:te.string})).isRequired,showNav:te.bool,autoPlay:te.bool,lazyLoad:te.bool,infinite:te.bool,showIndex:te.bool,showBullets:te.bool,showThumbnails:te.bool,showPlayButton:te.bool,showFullscreenButton:te.bool,disableThumbnailScroll:te.bool,disableKeyDown:te.bool,disableSwipe:te.bool,disableThumbnailSwipe:te.bool,useBrowserFullscreen:te.bool,onErrorImageURL:te.string,indexSeparator:te.string,thumbnailPosition:(0,te.oneOf)([\"top\",\"bottom\",\"left\",\"right\"]),startIndex:te.number,slideDuration:te.number,slideInterval:te.number,slideOnThumbnailOver:te.bool,swipeThreshold:te.number,swipingTransitionDuration:te.number,swipingThumbnailTransitionDuration:te.number,onSlide:te.func,onBeforeSlide:te.func,onScreenChange:te.func,onPause:te.func,onPlay:te.func,onClick:te.func,onImageLoad:te.func,onImageError:te.func,onTouchMove:te.func,onTouchEnd:te.func,onTouchStart:te.func,onMouseOver:te.func,onMouseLeave:te.func,onThumbnailError:te.func,onThumbnailClick:te.func,renderCustomControls:te.func,renderLeftNav:te.func,renderRightNav:te.func,renderPlayPauseButton:te.func,renderFullscreenButton:te.func,renderItem:te.func,renderThumbInner:te.func,stopPropagation:te.bool,additionalClass:te.string,useTranslate3D:te.bool,isRTL:te.bool,useWindowKeyDown:te.bool},Pe.defaultProps={onErrorImageURL:\"\",additionalClass:\"\",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:\" / \",thumbnailPosition:\"bottom\",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(e,t){return a().createElement(ce,{onClick:e,disabled:t})},renderRightNav:function(e,t){return a().createElement(de,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return a().createElement(pe,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return a().createElement(le,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};const Me=Pe})(),r})()}));","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _eventlistener = require('eventlistener');\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.throttle');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _parentScroll = require('./utils/parentScroll');\n\nvar _parentScroll2 = _interopRequireDefault(_parentScroll);\n\nvar _inViewport = require('./utils/inViewport');\n\nvar _inViewport2 = _interopRequireDefault(_inViewport);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LazyLoad = function (_Component) {\n  _inherits(LazyLoad, _Component);\n\n  function LazyLoad(props) {\n    _classCallCheck(this, LazyLoad);\n\n    var _this = _possibleConstructorReturn(this, (LazyLoad.__proto__ || Object.getPrototypeOf(LazyLoad)).call(this, props));\n\n    _this.lazyLoadHandler = _this.lazyLoadHandler.bind(_this);\n\n    if (props.throttle > 0) {\n      if (props.debounce) {\n        _this.lazyLoadHandler = (0, _lodash2.default)(_this.lazyLoadHandler, props.throttle);\n      } else {\n        _this.lazyLoadHandler = (0, _lodash4.default)(_this.lazyLoadHandler, props.throttle);\n      }\n    }\n\n    _this.state = { visible: false };\n    return _this;\n  }\n\n  _createClass(LazyLoad, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._mounted = true;\n      var eventNode = this.getEventNode();\n\n      this.lazyLoadHandler();\n\n      if (this.lazyLoadHandler.flush) {\n        this.lazyLoadHandler.flush();\n      }\n\n      (0, _eventlistener.add)(window, 'resize', this.lazyLoadHandler);\n      (0, _eventlistener.add)(eventNode, 'scroll', this.lazyLoadHandler);\n\n      if (eventNode !== window) (0, _eventlistener.add)(window, 'scroll', this.lazyLoadHandler);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps() {\n      if (!this.state.visible) {\n        this.lazyLoadHandler();\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(_nextProps, nextState) {\n      return nextState.visible;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._mounted = false;\n      if (this.lazyLoadHandler.cancel) {\n        this.lazyLoadHandler.cancel();\n      }\n\n      this.detachListeners();\n    }\n  }, {\n    key: 'getEventNode',\n    value: function getEventNode() {\n      return (0, _parentScroll2.default)((0, _reactDom.findDOMNode)(this));\n    }\n  }, {\n    key: 'getOffset',\n    value: function getOffset() {\n      var _props = this.props,\n          offset = _props.offset,\n          offsetVertical = _props.offsetVertical,\n          offsetHorizontal = _props.offsetHorizontal,\n          offsetTop = _props.offsetTop,\n          offsetBottom = _props.offsetBottom,\n          offsetLeft = _props.offsetLeft,\n          offsetRight = _props.offsetRight,\n          threshold = _props.threshold;\n\n\n      var _offsetAll = threshold || offset;\n      var _offsetVertical = offsetVertical || _offsetAll;\n      var _offsetHorizontal = offsetHorizontal || _offsetAll;\n\n      return {\n        top: offsetTop || _offsetVertical,\n        bottom: offsetBottom || _offsetVertical,\n        left: offsetLeft || _offsetHorizontal,\n        right: offsetRight || _offsetHorizontal\n      };\n    }\n  }, {\n    key: 'lazyLoadHandler',\n    value: function lazyLoadHandler() {\n      if (!this._mounted) {\n        return;\n      }\n      var offset = this.getOffset();\n      var node = (0, _reactDom.findDOMNode)(this);\n      var eventNode = this.getEventNode();\n\n      if ((0, _inViewport2.default)(node, eventNode, offset)) {\n        var onContentVisible = this.props.onContentVisible;\n\n\n        this.setState({ visible: true }, function () {\n          if (onContentVisible) {\n            onContentVisible();\n          }\n        });\n        this.detachListeners();\n      }\n    }\n  }, {\n    key: 'detachListeners',\n    value: function detachListeners() {\n      var eventNode = this.getEventNode();\n\n      (0, _eventlistener.remove)(window, 'resize', this.lazyLoadHandler);\n      (0, _eventlistener.remove)(eventNode, 'scroll', this.lazyLoadHandler);\n\n      if (eventNode !== window) (0, _eventlistener.remove)(window, 'scroll', this.lazyLoadHandler);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          children = _props2.children,\n          className = _props2.className,\n          height = _props2.height,\n          width = _props2.width;\n      var visible = this.state.visible;\n\n\n      var elStyles = { height: height, width: width };\n      var elClasses = 'LazyLoad' + (visible ? ' is-visible' : '') + (className ? ' ' + className : '');\n\n      return _react2.default.createElement(this.props.elementType, {\n        className: elClasses,\n        style: elStyles\n      }, visible && _react.Children.only(children));\n    }\n  }]);\n\n  return LazyLoad;\n}(_react.Component);\n\nexports.default = LazyLoad;\n\n\nLazyLoad.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  className: _propTypes2.default.string,\n  debounce: _propTypes2.default.bool,\n  elementType: _propTypes2.default.string,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  offset: _propTypes2.default.number,\n  offsetBottom: _propTypes2.default.number,\n  offsetHorizontal: _propTypes2.default.number,\n  offsetLeft: _propTypes2.default.number,\n  offsetRight: _propTypes2.default.number,\n  offsetTop: _propTypes2.default.number,\n  offsetVertical: _propTypes2.default.number,\n  threshold: _propTypes2.default.number,\n  throttle: _propTypes2.default.number,\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  onContentVisible: _propTypes2.default.func\n};\n\nLazyLoad.defaultProps = {\n  elementType: 'div',\n  debounce: true,\n  offset: 0,\n  offsetBottom: 0,\n  offsetHorizontal: 0,\n  offsetLeft: 0,\n  offsetRight: 0,\n  offsetTop: 0,\n  offsetVertical: 0,\n  throttle: 250\n};","(function(root,factory){\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.eventListener = factory();\n  }\n}(this, function () {\n\tfunction wrap(standard, fallback) {\n\t\treturn function (el, evtName, listener, useCapture) {\n\t\t\tif (el[standard]) {\n\t\t\t\tel[standard](evtName, listener, useCapture);\n\t\t\t} else if (el[fallback]) {\n\t\t\t\tel[fallback]('on' + evtName, listener);\n\t\t\t}\n\t\t}\n\t}\n\n    return {\n\t\tadd: wrap('addEventListener', 'attachEvent'),\n\t\tremove: wrap('removeEventListener', 'detachEvent')\n\t};\n}));","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar style = function style(element, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(element, null).getPropertyValue(prop) : element.style[prop];\n};\n\nvar overflow = function overflow(element) {\n  return style(element, 'overflow') + style(element, 'overflow-y') + style(element, 'overflow-x');\n};\n\nvar scrollParent = function scrollParent(element) {\n  if (!(element instanceof HTMLElement)) {\n    return window;\n  }\n\n  var parent = element;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nexports.default = scrollParent;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inViewport;\n\nvar _getElementPosition = require('./getElementPosition');\n\nvar _getElementPosition2 = _interopRequireDefault(_getElementPosition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isHidden = function isHidden(element) {\n  return element.offsetParent === null;\n};\n\nfunction inViewport(element, container, customOffset) {\n  if (isHidden(element)) {\n    return false;\n  }\n\n  var top = void 0;\n  var bottom = void 0;\n  var left = void 0;\n  var right = void 0;\n\n  if (typeof container === 'undefined' || container === window) {\n    top = window.pageYOffset;\n    left = window.pageXOffset;\n    bottom = top + window.innerHeight;\n    right = left + window.innerWidth;\n  } else {\n    if (!inViewport(container, window, customOffset)) return false;\n\n    var containerPosition = (0, _getElementPosition2.default)(container);\n\n    top = containerPosition.top;\n    left = containerPosition.left;\n    bottom = top + container.offsetHeight;\n    right = left + container.offsetWidth;\n  }\n\n  var elementPosition = (0, _getElementPosition2.default)(element);\n\n  return top <= elementPosition.top + element.offsetHeight + customOffset.top && bottom >= elementPosition.top - customOffset.bottom && left <= elementPosition.left + element.offsetWidth + customOffset.left && right >= elementPosition.left - customOffset.right;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getElementPosition;\n/*\r\n* Finds element's position relative to the whole document,\r\n* rather than to the viewport as it is the case with .getBoundingClientRect().\r\n*/\nfunction getElementPosition(element) {\n  var rect = element.getBoundingClientRect();\n\n  return {\n    top: rect.top + window.pageYOffset,\n    left: rect.left + window.pageXOffset\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ScrollLock = require('./ScrollLock');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ScrollLock).default;\n  }\n});\n\nvar _TouchScrollable = require('./TouchScrollable');\n\nObject.defineProperty(exports, 'TouchScrollable', {\n  enumerable: true,\n  get: function get() {\n    return _TouchScrollable.TouchScrollable;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _exenv = require('exenv');\n\nvar _TouchScrollable = require('./TouchScrollable');\n\nvar _withLockSheet = require('./withLockSheet');\n\nvar _withLockSheet2 = _interopRequireDefault(_withLockSheet);\n\nvar _withTouchListeners = require('./withTouchListeners');\n\nvar _withTouchListeners2 = _interopRequireDefault(_withTouchListeners);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ScrollLock = function (_PureComponent) {\n  _inherits(ScrollLock, _PureComponent);\n\n  function ScrollLock() {\n    _classCallCheck(this, ScrollLock);\n\n    return _possibleConstructorReturn(this, (ScrollLock.__proto__ || Object.getPrototypeOf(ScrollLock)).apply(this, arguments));\n  }\n\n  _createClass(ScrollLock, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!_exenv.canUseDOM) return;\n      this.initialHeight = window.innerHeight;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var offset = window.innerHeight - this.initialHeight;\n\n      // adjust scroll if the window has been resized since the lock was engaged\n      // e.g. mobile safari dynamic chrome heights\n      if (offset) {\n        window.scrollTo(0, window.pageYOffset + offset);\n      }\n\n      // reset the initial height in case this scroll lock is used again\n      this.initialHeight = window.innerHeight;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n\n      return children ? _react2.default.createElement(\n        _TouchScrollable.TouchScrollable,\n        null,\n        children\n      ) : null;\n    }\n  }]);\n\n  return ScrollLock;\n}(_react.PureComponent);\n\n// attach the stylesheet and inject styles on [un]mount\n\n\nvar compose = (0, _utils.pipe)(_withTouchListeners2.default, _withLockSheet2.default);\nvar SheetLock = compose(ScrollLock);\n\n// toggle the lock based on `isActive` prop\nvar LockToggle = function LockToggle(props) {\n  return props.isActive ? _react2.default.createElement(SheetLock, props) : props.children;\n};\n\nLockToggle.defaultProps = {\n  accountForScrollbars: true,\n  children: null,\n  isActive: true\n};\n\nexports.default = LockToggle;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = withLockSheet;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction withLockSheet(WrappedComponent) {\n  return function (_PureComponent) {\n    _inherits(SheetProvider, _PureComponent);\n\n    function SheetProvider() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, SheetProvider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SheetProvider.__proto__ || Object.getPrototypeOf(SheetProvider)).call.apply(_ref, [this].concat(args))), _this), _this.addSheet = function () {\n        var styles = _this.getStyles();\n\n        var sheet = (0, _utils.makeStyleTag)();\n        if (!sheet) return;\n\n        (0, _utils.injectStyles)(sheet, styles);\n        (0, _utils.insertStyleTag)(sheet);\n\n        _this.sheet = sheet;\n      }, _this.getStyles = function () {\n        var accountForScrollbars = _this.props.accountForScrollbars;\n\n\n        var height = (0, _utils.getDocumentHeight)();\n        var paddingRight = accountForScrollbars ? (0, _utils.getPadding)() : null;\n        var styles = 'body {\\n        box-sizing: border-box !important;\\n        overflow: hidden !important;\\n        position: relative !important;\\n        ' + (height ? 'height: ' + height + 'px !important;' : '') + '\\n        ' + (paddingRight ? 'padding-right: ' + paddingRight + 'px !important;' : '') + '\\n      }';\n\n        return styles;\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(SheetProvider, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.addSheet();\n      }\n    }, {\n      key: 'removeSheet',\n      value: function removeSheet() {\n        if (!this.sheet) return;\n\n        // $FlowFixMe\n        this.sheet.parentNode.removeChild(this.sheet);\n        this.sheet = null;\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.removeSheet();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(WrappedComponent, this.props);\n      }\n    }]);\n\n    return SheetProvider;\n  }(_react.PureComponent);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = withTouchListeners;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _exenv = require('exenv');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Mobile Safari ignores { overflow: hidden } declaration on the body,\n// so we have to prevent touchmove events via JS\nfunction withTouchListeners(WrappedComponent) {\n    return function (_PureComponent) {\n        _inherits(TouchProvider, _PureComponent);\n\n        function TouchProvider() {\n            _classCallCheck(this, TouchProvider);\n\n            return _possibleConstructorReturn(this, (TouchProvider.__proto__ || Object.getPrototypeOf(TouchProvider)).apply(this, arguments));\n        }\n\n        _createClass(TouchProvider, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                if (!_exenv.canUseDOM || !(0, _utils.isTouchDevice)()) return;\n\n                document.addEventListener('touchmove', _utils.preventTouchMove, _utils.listenerOptions);\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                if (!_exenv.canUseDOM || !(0, _utils.isTouchDevice)()) return;\n\n                document.removeEventListener('touchmove', _utils.preventTouchMove, _utils.listenerOptions);\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return _react2.default.createElement(WrappedComponent, this.props);\n            }\n        }]);\n\n        return TouchProvider;\n    }(_react.PureComponent);\n}","'use strict';\nvar $ = require('../internals/export');\nvar $groupBy = require('../internals/array-group-by');\nvar arraySpeciesConstructor = require('../internals/array-species-constructor');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.groupBy` method\n// https://github.com/tc39/proposal-array-grouping\n$({ target: 'Array', proto: true }, {\n  groupBy: function groupBy(callbackfn /* , thisArg */) {\n    var thisArg = arguments.length > 1 ? arguments[1] : undefined;\n    return $groupBy(this, callbackfn, thisArg, arraySpeciesConstructor);\n  }\n});\n\naddToUnscopables('groupBy');\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar objectCreate = require('../internals/object-create');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\n\nvar Array = global.Array;\nvar push = uncurryThis([].push);\n\nmodule.exports = function ($this, callbackfn, that, specificConstructor) {\n  var O = toObject($this);\n  var self = IndexedObject(O);\n  var boundFunction = bind(callbackfn, that);\n  var target = objectCreate(null);\n  var length = lengthOfArrayLike(self);\n  var index = 0;\n  var Constructor, key, value;\n  for (;length > index; index++) {\n    value = self[index];\n    key = toPropertyKey(boundFunction(value, index, O));\n    // in some IE10 builds, `hasOwnProperty` returns incorrect result on integer keys\n    // but since it's a `null` prototype object, we can safely use `in`\n    if (key in target) push(target[key], value);\n    else target[key] = [value];\n  }\n  if (specificConstructor) {\n    Constructor = specificConstructor(O);\n    if (Constructor !== Array) {\n      for (key in target) target[key] = arrayFromConstructorAndList(Constructor, target[key]);\n    }\n  } return target;\n};\n","module.exports = function (Constructor, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\nvar replace = uncurryThis(''.replace);\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + replace(toString(value), quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z\"\n}), 'Event');\n\nexports.default = _default;","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z\"\n}), 'Flag');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n}), 'Place');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'Timelapse');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z\"\n}), 'FiberNew');\n\nexports.default = _default;","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","import { encode83 } from \"./base83\";\nimport { sRGBToLinear, signPow, linearTosRGB } from \"./utils\";\nimport { ValidationError } from \"./error\";\nconst bytesPerPixel = 4;\nconst multiplyBasisFunction = (pixels, width, height, basisFunction) => {\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    const bytesPerRow = width * bytesPerPixel;\n    for (let x = 0; x < width; x++) {\n        for (let y = 0; y < height; y++) {\n            const basis = basisFunction(x, y);\n            r +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 0 + y * bytesPerRow]);\n            g +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 1 + y * bytesPerRow]);\n            b +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 2 + y * bytesPerRow]);\n        }\n    }\n    let scale = 1 / (width * height);\n    return [r * scale, g * scale, b * scale];\n};\nconst encodeDC = (value) => {\n    const roundedR = linearTosRGB(value[0]);\n    const roundedG = linearTosRGB(value[1]);\n    const roundedB = linearTosRGB(value[2]);\n    return (roundedR << 16) + (roundedG << 8) + roundedB;\n};\nconst encodeAC = (value, maximumValue) => {\n    let quantR = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[0] / maximumValue, 0.5) * 9 + 9.5))));\n    let quantG = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[1] / maximumValue, 0.5) * 9 + 9.5))));\n    let quantB = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[2] / maximumValue, 0.5) * 9 + 9.5))));\n    return quantR * 19 * 19 + quantG * 19 + quantB;\n};\nconst encode = (pixels, width, height, componentX, componentY) => {\n    if (componentX < 1 || componentX > 9 || componentY < 1 || componentY > 9) {\n        throw new ValidationError(\"BlurHash must have between 1 and 9 components\");\n    }\n    if (width * height * 4 !== pixels.length) {\n        throw new ValidationError(\"Width and height must match the pixels array\");\n    }\n    let factors = [];\n    for (let y = 0; y < componentY; y++) {\n        for (let x = 0; x < componentX; x++) {\n            const normalisation = x == 0 && y == 0 ? 1 : 2;\n            const factor = multiplyBasisFunction(pixels, width, height, (i, j) => normalisation *\n                Math.cos((Math.PI * x * i) / width) *\n                Math.cos((Math.PI * y * j) / height));\n            factors.push(factor);\n        }\n    }\n    const dc = factors[0];\n    const ac = factors.slice(1);\n    let hash = \"\";\n    let sizeFlag = componentX - 1 + (componentY - 1) * 9;\n    hash += encode83(sizeFlag, 1);\n    let maximumValue;\n    if (ac.length > 0) {\n        let actualMaximumValue = Math.max(...ac.map(val => Math.max(...val)));\n        let quantisedMaximumValue = Math.floor(Math.max(0, Math.min(82, Math.floor(actualMaximumValue * 166 - 0.5))));\n        maximumValue = (quantisedMaximumValue + 1) / 166;\n        hash += encode83(quantisedMaximumValue, 1);\n    }\n    else {\n        maximumValue = 1;\n        hash += encode83(0, 1);\n    }\n    hash += encode83(encodeDC(dc), 4);\n    ac.forEach(factor => {\n        hash += encode83(encodeAC(factor, maximumValue), 2);\n    });\n    return hash;\n};\nexport default encode;\n//# sourceMappingURL=encode.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export var COMMON_MIME_TYPES = new Map([\n    ['avi', 'video/avi'],\n    ['gif', 'image/gif'],\n    ['ico', 'image/x-icon'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['mp4', 'video/mp4'],\n    ['pdf', 'application/pdf'],\n    ['png', 'image/png'],\n    ['zip', 'application/zip'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n]);\nexport function toFileWithPath(file, path) {\n    var f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        var webkitRelativePath = file.webkitRelativePath;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n    return f;\n}\nfunction withMimeType(file) {\n    var name = file.name;\n    var hasExtension = name && name.lastIndexOf('.') !== -1;\n    if (hasExtension && !file.type) {\n        var ext = name.split('.')\n            .pop().toLowerCase();\n        var type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n    return file;\n}\n//# sourceMappingURL=file.js.map","import * as tslib_1 from \"tslib\";\nimport { toFileWithPath } from './file';\nvar FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store',\n    'Thumbs.db' // Windows\n];\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n * @param evt\n */\nexport function fromEvent(evt) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, isDragEvt(evt) && evt.dataTransfer\n                    ? getDataTransferFiles(evt.dataTransfer, evt.type)\n                    : getInputFiles(evt)];\n        });\n    });\n}\nfunction isDragEvt(value) {\n    return !!value.dataTransfer;\n}\nfunction getInputFiles(evt) {\n    var files = isInput(evt.target)\n        ? evt.target.files\n            ? fromList(evt.target.files)\n            : []\n        : [];\n    return files.map(function (file) { return toFileWithPath(file); });\n}\nfunction isInput(value) {\n    return value !== null;\n}\nfunction getDataTransferFiles(dt, type) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var items, files;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!dt.items) return [3 /*break*/, 2];\n                    items = fromList(dt.items)\n                        .filter(function (item) { return item.kind === 'file'; });\n                    // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n                    // only 'dragstart' and 'drop' has access to the data (source node)\n                    if (type !== 'drop') {\n                        return [2 /*return*/, items];\n                    }\n                    return [4 /*yield*/, Promise.all(items.map(toFilePromises))];\n                case 1:\n                    files = _a.sent();\n                    return [2 /*return*/, noIgnoredFiles(flatten(files))];\n                case 2: return [2 /*return*/, noIgnoredFiles(fromList(dt.files)\n                        .map(function (file) { return toFileWithPath(file); }))];\n            }\n        });\n    });\n}\nfunction noIgnoredFiles(files) {\n    return files.filter(function (file) { return FILES_TO_IGNORE.indexOf(file.name) === -1; });\n}\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList(items) {\n    var files = [];\n    // tslint:disable: prefer-for-of\n    for (var i = 0; i < items.length; i++) {\n        var file = items[i];\n        files.push(file);\n    }\n    return files;\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n    var entry = item.webkitGetAsEntry();\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry);\n    }\n    return fromDataTransferItem(item);\n}\nfunction flatten(items) {\n    return items.reduce(function (acc, files) { return tslib_1.__spread(acc, (Array.isArray(files) ? flatten(files) : [files])); }, []);\n}\nfunction fromDataTransferItem(item) {\n    var file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(item + \" is not a File\");\n    }\n    var fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nfunction fromEntry(entry) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry)];\n        });\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry) {\n    var reader = entry.createReader();\n    return new Promise(function (resolve, reject) {\n        var entries = [];\n        function readEntries() {\n            var _this = this;\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(function (batch) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                var files, err_1, items;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!!batch.length) return [3 /*break*/, 5];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, Promise.all(entries)];\n                        case 2:\n                            files = _a.sent();\n                            resolve(files);\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _a.sent();\n                            reject(err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [3 /*break*/, 6];\n                        case 5:\n                            items = Promise.all(batch.map(fromEntry));\n                            entries.push(items);\n                            // Continue reading\n                            readEntries();\n                            _a.label = 6;\n                        case 6: return [2 /*return*/];\n                    }\n                });\n            }); }, function (err) {\n                reject(err);\n            });\n        }\n        readEntries();\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nfunction fromFileEntry(entry) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    entry.file(function (file) {\n                        var fwp = toFileWithPath(file, entry.fullPath);\n                        resolve(fwp);\n                    }, function (err) {\n                        reject(err);\n                    });\n                })];\n        });\n    });\n}\n//# sourceMappingURL=file-selector.js.map","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport accepts from 'attr-accept'; // Error codes\n\nexport var FILE_INVALID_TYPE = 'file-invalid-type';\nexport var FILE_TOO_LARGE = 'file-too-large';\nexport var FILE_TOO_SMALL = 'file-too-small';\nexport var TOO_MANY_FILES = 'too-many-files'; // File Errors\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(', ')) : accept;\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(messageSuffix)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: 'Too many files'\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === 'application/x-moz-file' || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple;\n\n  if (!multiple && files.length > 1) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    return accepted && sizeMatch;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === 'function') {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== 'undefined') {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === 'Files' || type === 'application/x-moz-file';\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === 'object' && item !== null && item.kind === 'file';\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromEvent } from 'file-selector';\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, isEvtWithFiles, isIeOrEdge, isPropagationStopped, onDocumentDragOver, TOO_MANY_FILES_REJECTION } from './utils/index';\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, [\"open\"]);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return React.createElement(Fragment, null, children(_objectSpread({}, props, {\n    open: open\n  })));\n});\nDropzone.displayName = 'Dropzone';\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are droppped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are droppped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nexport function useDropzone() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      accept = _ref2.accept,\n      _ref2$disabled = _ref2.disabled,\n      disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n      _ref2$getFilesFromEve = _ref2.getFilesFromEvent,\n      getFilesFromEvent = _ref2$getFilesFromEve === void 0 ? fromEvent : _ref2$getFilesFromEve,\n      _ref2$maxSize = _ref2.maxSize,\n      maxSize = _ref2$maxSize === void 0 ? Infinity : _ref2$maxSize,\n      _ref2$minSize = _ref2.minSize,\n      minSize = _ref2$minSize === void 0 ? 0 : _ref2$minSize,\n      _ref2$multiple = _ref2.multiple,\n      multiple = _ref2$multiple === void 0 ? true : _ref2$multiple,\n      onDragEnter = _ref2.onDragEnter,\n      onDragLeave = _ref2.onDragLeave,\n      onDragOver = _ref2.onDragOver,\n      onDrop = _ref2.onDrop,\n      onDropAccepted = _ref2.onDropAccepted,\n      onDropRejected = _ref2.onDropRejected,\n      onFileDialogCancel = _ref2.onFileDialogCancel,\n      _ref2$preventDropOnDo = _ref2.preventDropOnDocument,\n      preventDropOnDocument = _ref2$preventDropOnDo === void 0 ? true : _ref2$preventDropOnDo,\n      _ref2$noClick = _ref2.noClick,\n      noClick = _ref2$noClick === void 0 ? false : _ref2$noClick,\n      _ref2$noKeyboard = _ref2.noKeyboard,\n      noKeyboard = _ref2$noKeyboard === void 0 ? false : _ref2$noKeyboard,\n      _ref2$noDrag = _ref2.noDrag,\n      noDrag = _ref2$noDrag === void 0 ? false : _ref2$noDrag,\n      _ref2$noDragEventsBub = _ref2.noDragEventsBubbling,\n      noDragEventsBubbling = _ref2$noDragEventsBub === void 0 ? false : _ref2$noDragEventsBub;\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles; // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    if (inputRef.current) {\n      dispatch({\n        type: 'openDialog'\n      });\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch]); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: 'closeDialog'\n            });\n\n            if (typeof onFileDialogCancel === 'function') {\n              onFileDialogCancel();\n            }\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('focus', onWindowFocus, false);\n    return function () {\n      window.removeEventListener('focus', onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancel]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, inputRef]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: 'focus'\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: 'blur'\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [inputRef, noClick]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: 'setDraggedFiles'\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n\n    if (event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (isEvtWithFiles(event) && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: 'setDraggedFiles',\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var acceptedFiles = [];\n        var fileRejections = [];\n        files.forEach(function (file) {\n          var _fileAccepted = fileAccepted(file, accept),\n              _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n              accepted = _fileAccepted2[0],\n              acceptError = _fileAccepted2[1];\n\n          var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n              _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n              sizeMatch = _fileMatchSize2[0],\n              sizeError = _fileMatchSize2[1];\n\n          if (accepted && sizeMatch) {\n            acceptedFiles.push(file);\n          } else {\n            var errors = [acceptError, sizeError].filter(function (e) {\n              return e;\n            });\n            fileRejections.push({\n              file: file,\n              errors: errors\n            });\n          }\n        });\n\n        if (!multiple && acceptedFiles.length > 1) {\n          // Reject everything and empty accepted files\n          acceptedFiles.forEach(function (file) {\n            fileRejections.push({\n              file: file,\n              errors: [TOO_MANY_FILES_REJECTION]\n            });\n          });\n          acceptedFiles.splice(0);\n        }\n\n        dispatch({\n          acceptedFiles: acceptedFiles,\n          fileRejections: fileRejections,\n          type: 'setFiles'\n        });\n\n        if (onDrop) {\n          onDrop(acceptedFiles, fileRejections, event);\n        }\n\n        if (fileRejections.length > 0 && onDropRejected) {\n          onDropRejected(fileRejections, event);\n        }\n\n        if (acceptedFiles.length > 0 && onDropAccepted) {\n          onDropAccepted(acceptedFiles, event);\n        }\n      });\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n  }, [multiple, accept, minSize, maxSize, getFilesFromEvent, onDrop, onDropAccepted, onDropRejected, noDragEventsBubbling]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          onKeyDown = _ref3.onKeyDown,\n          onFocus = _ref3.onFocus,\n          onBlur = _ref3.onBlur,\n          onClick = _ref3.onClick,\n          onDragEnter = _ref3.onDragEnter,\n          onDragOver = _ref3.onDragOver,\n          onDragLeave = _ref3.onDragLeave,\n          onDrop = _ref3.onDrop,\n          rest = _objectWithoutProperties(_ref3, [\"refKey\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"]);\n\n      return _objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb))\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}, {}, rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          onChange = _ref4.onChange,\n          onClick = _ref4.onClick,\n          rest = _objectWithoutProperties(_ref4, [\"refKey\", \"onChange\", \"onClick\"]);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread({}, inputProps, {}, rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread({}, state, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case 'focus':\n      return _objectSpread({}, state, {\n        isFocused: true\n      });\n\n    case 'blur':\n      return _objectSpread({}, state, {\n        isFocused: false\n      });\n\n    case 'openDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: true\n      });\n\n    case 'closeDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false\n      });\n\n    case 'setDraggedFiles':\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread({}, state, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case 'setFiles':\n      return _objectSpread({}, state, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections\n      });\n\n    case 'reset':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false,\n        isDragActive: false,\n        draggedFiles: [],\n        acceptedFiles: [],\n        fileRejections: []\n      });\n\n    default:\n      return state;\n  }\n}","function degToRad(degree) {\n  const DEGREES_IN_CIRCLE = 360;\n  return (degree / DEGREES_IN_CIRCLE) * 2 * Math.PI;\n}\n\nfunction hexToRgba(hex, alpha) {\n  const match = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  const rgba = match\n    ? {\n        r: parseInt(match[1], 16),\n        g: parseInt(match[2], 16),\n        b: parseInt(match[3], 16),\n        a: alpha,\n      }\n    : { r: 0, g: 0, b: 0, a: 0 };\n  return `rgba(${rgba.r},${rgba.g},${rgba.b},${rgba.a})`;\n}\n\nconst backgroundColor = '#FFF';\nconst STRIPLES_ANGLE_DEG = 45;\nconst STRIPLES_WIDTH_PX = 20;\nconst STRIPLES_SHIFT_PX =\n  4 * STRIPLES_WIDTH_PX * Math.cos(degToRad(STRIPLES_ANGLE_DEG));\n\nfunction makeStriplesBackground(color, opacity = 0.4) {\n  const actualColor = hexToRgba(color, opacity);\n  return {\n    background: `repeating-linear-gradient(\n      ${STRIPLES_ANGLE_DEG}deg,\n      ${backgroundColor},\n      ${backgroundColor} ${STRIPLES_WIDTH_PX}px,\n      ${actualColor} ${STRIPLES_WIDTH_PX}px,\n      ${actualColor} ${2 * STRIPLES_WIDTH_PX}px\n    )`,\n    backgroundSize: `calc(100% + ${STRIPLES_SHIFT_PX}px)`,\n  };\n}\n\nexport default function resolveDropzoneStyles(theme) {\n  return {\n    dropzoneContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-around',\n      height: '100%',\n      minHeight: '144px',\n      padding: '0 12px',\n      margin: '12px 0',\n      cursor: 'pointer',\n    },\n    dropzoneStandby: {\n      '& $dropzoneContainer': {\n        border: `2px dashed ${theme.palette.primary.dark}`,\n        borderRadius: '4px',\n        ...makeStriplesBackground(theme.palette.primary.light, 0.2),\n      },\n      '& $dropzoneUpload': {\n        borderColor: theme.palette.disabled.dark,\n        ...makeStriplesBackground(theme.palette.disabled.main, 0.2),\n        animation: '$slide 2s infinite linear forwards',\n      },\n    },\n    dropzoneActive: {\n      border: `2px dashed ${theme.palette.secondary.dark}`,\n      animation: '$slide 2s infinite linear forwards',\n      ...makeStriplesBackground(theme.palette.secondary.light),\n      '&$dropzoneAccept': {\n        borderColor: theme.palette.secondary.dark,\n        ...makeStriplesBackground(theme.palette.secondary.main),\n        animation: '$slide 2s infinite linear forwards',\n      },\n      '&$dropzoneReject': {\n        borderColor: theme.palette.error.dark,\n        ...makeStriplesBackground(theme.palette.error.main),\n        animation: '$slide 2s infinite linear forwards',\n      },\n    },\n    dropzoneAccept: {},\n    dropzoneReject: {},\n    dropzoneUpload: {},\n    '@keyframes slide': {\n      '0%': {\n        backgroundPositionX: `-${STRIPLES_SHIFT_PX}px`,\n      },\n      '100%': {\n        backgroundPositionX: 0,\n      },\n    },\n  };\n}\n","import React, { useCallback, useState } from 'react';\nimport cls from 'classnames';\nimport { encode } from 'blurhash';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport resolveDropzoneStyles from '../../resolveDropzoneStyles';\n\nconst UPLOAD_IMAGE_MIN_SIZE = 50 * 1024;\nconst UPLOAD_IMAGE_MAX_SIZE = 5 * 1024 * 1024;\n\nconst useStyles = makeStyles(resolveDropzoneStyles);\n\nexport default function PhotosDropzone({\n  onUpload,\n  visit,\n}) {\n  const classes = useStyles();\n  const [progress, setProgress] = useState(null);\n  const [rejectedFiles, setRejectedFiles] = useState([]);\n  const isUploadInProgress = progress !== null;\n\n  const { visitId } = visit;\n\n  const handleSubmitPhotos = useCallback(\n    async (acceptedFiles, currentRejectedFiles) => {\n      if (currentRejectedFiles) {\n        setRejectedFiles(currentRejectedFiles);\n      }\n      setProgress(1);\n      return onUpload({\n        id: visitId,\n        data: acceptedFiles,\n        meta: await Promise.all(acceptedFiles.map(measureImage)),\n        isAsset: true,\n      }).finally(() => setProgress(null));\n    },\n    [onUpload],\n  );\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject,\n  } = useDropzone({\n    accept: 'image/jpeg, image/png',\n    disabled: isUploadInProgress,\n    onDrop: handleSubmitPhotos,\n    maxSize: UPLOAD_IMAGE_MAX_SIZE,\n    minSize: UPLOAD_IMAGE_MIN_SIZE,\n  });\n\n  return (\n    <div\n      {...getRootProps()}\n      className={cls({\n        [classes.dropzoneStandby]: !isDragActive,\n        [classes.dropzoneActive]: isDragActive,\n        [classes.dropzoneAccept]: isDragAccept,\n        [classes.dropzoneReject]: isDragReject,\n      })}\n    >\n      <div\n        className={cls(classes.dropzoneContainer, {\n          [classes.dropzoneUpload]: isUploadInProgress,\n        })}\n      >\n        <input {...getInputProps()} />\n        {renderDropzoneCaption({ isDragActive, isUploadInProgress })}\n        {rejectedFiles.length > 0 && (\n          <div>\n            Не удалось загрузить следующие файлы:\n            {rejectedFiles.map(rejectedFile => (\n              <div key={rejectedFile.path}>{renderFile(rejectedFile)}</div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction renderDropzoneCaption({ isDragActive, isUploadInProgress }) {\n  switch (true) {\n    case isUploadInProgress:\n      return 'Идет загрузка, пожалуйста не закрывайте браузер';\n    case isDragActive:\n      return 'Загрузить фотографии';\n    default:\n      return 'Перенесите сюда фотографии для загрузки или кликните, что-бы выбрать файлы';\n  }\n}\n\nfunction renderFile({ file, errors }) {\n  const errorsMessage = errors.map(({ message }) => message).join(', ');\n  return `${file.path} - ${file.size} bytes, reason: ${errorsMessage}`;\n}\n\nfunction getImageData(image) {\n  const canvas = document.createElement('canvas');\n  canvas.width = image.width;\n  canvas.height = image.height;\n  const context = canvas.getContext('2d');\n  context.drawImage(image, 0, 0);\n  return context.getImageData(0, 0, image.width, image.height);\n}\n\nfunction gcd(a, b) {\n  let v1 = Math.abs(a);\n  let v2 = Math.abs(b);\n  let temp = v1;\n\n  if (v2 > v1) {\n    temp = v1;\n    v1 = v2;\n    v2 = temp;\n  }\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (v2 === 0) {\n      return a;\n    }\n    v1 %= v2;\n    if (v1 === 0) {\n      return b;\n    }\n    v2 %= v1;\n  }\n}\n\nasync function measureImage(fileImage) {\n  return new Promise(resolve => {\n    const imageURL = URL.createObjectURL(fileImage);\n\n    const image = new Image();\n\n    image.onload = () => {\n      const nod = gcd(image.width, image.height);\n      const [w, h] = nod\n        ? [image.width / nod, image.height / nod]\n        : [image.width, image.height];\n      try {\n        const imageData = getImageData(image);\n        resolve({\n          aspect_ratio: `${w}:${h}`,\n          blurhash: encode(\n            imageData.data,\n            imageData.width,\n            imageData.height,\n            4,\n            4,\n          ),\n        });\n      } catch (e) {\n        resolve({\n          aspect_ratio: `${w}:${h}`,\n          blurhash: null,\n        });\n      }\n    };\n\n    image.src = imageURL;\n  });\n}\n","import React from 'react';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport { useAddVisitPhotoRequest, useVisit } from 'travel/dataSource';\nimport VisitInfo from 'travel/components/VisitInfo';\nimport PhotosDropzone from './components/PhotosDropzone';\nimport PhotosGallery from 'modules/components/PhotosGallery';\nimport { usePaths } from 'modules/packages';\n\nconst domain = 'travel.VisitPage';\nexport default function VisitPage({\n  match: {\n    params: { userAlias, strVisitId },\n  },\n}) {\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const { travel: travelPaths } = usePaths();\n\n  const visitId = parseInt(strVisitId, 10);\n  const { isError, isPending, visit, invalidate } = useVisit({\n    domain,\n    userAlias,\n    visitId,\n  });\n\n  const { submitVisitPhoto } = useAddVisitPhotoRequest({\n    domain,\n    userAlias,\n    visitId,\n  });\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <div>...Loading</div>;\n  }\n\n  if (!visit) {\n    return <div>...Не найдено посещение</div>;\n  }\n\n  const { photos, locationId } = visit;\n\n  return (\n    <>\n      <VisitInfo\n        visit={visit}\n        isLong={true}\n        locationUrl={travelPaths.location.toUrl({\n          strLocationId: String(locationId),\n          userAlias,\n        })}\n      />\n      {isEditable && (\n        <PhotosDropzone\n          visit={visit}\n          userAlias={userAlias}\n          onUpload={values => submitVisitPhoto(values).finally(invalidate)}\n        />\n      )}\n      <PhotosGallery photos={photos} />\n    </>\n  );\n}\n","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nexport default function BackdropLoader() {\n  const classes = useStyles();\n\n  return (\n    <Backdrop className={classes.backdrop} open={true}>\n      <CircularProgress color=\"inherit\" />\n    </Backdrop>\n  );\n}\n","import {\n  PLAIN_FILTERING,\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\n\n// GROUPPING\n\nexport const KEY_GROUP_VISITS_BY = 'group';\nexport const GROUP_VISITS_BY = {\n  LOCATIONS: 'loc',\n  COUNTRIES: 'c',\n  YEARS: 'yr',\n  YEARS_COUNTRIES: 'yr_c',\n  COUNTRIES_YEARS: 'c_yr',\n  TRIPS: 't',\n  TRIPS_COUNTRIES: 't_c',\n};\n\nexport const PLAIN_GROUPS_MAPPING = {\n  [GROUP_VISITS_BY.LOCATIONS]: PLAIN_GROUPS.LOCATIONS,\n  [GROUP_VISITS_BY.COUNTRIES]: PLAIN_GROUPS.COUNTRIES,\n  [GROUP_VISITS_BY.YEARS]: PLAIN_GROUPS.YEARS,\n  [GROUP_VISITS_BY.TRIPS]: PLAIN_GROUPS.TRIPS,\n};\n\n// SORTING\nexport const KEY_SORT_VISITS_BY = 'sort';\nexport const SORT_VISITS_BY = {\n  RATING_ALPHABET: 'r_a',\n  VISITS_ALPHABET: 'v_a',\n  FIRST_VISIT_ALPHABET: 'fv_a',\n  LAST_VISIT_ALPHABET: 'lv_a',\n  ALPHABET: 'a',\n};\nexport const SORT_VISITS_BY_DEFAULT = SORT_VISITS_BY.ALPHABET;\n\nexport const PLAIN_SORTING_MAPPING = {\n  a: PLAIN_SORTING.ALPHABET,\n  r: PLAIN_SORTING.RATING,\n  fv: PLAIN_SORTING.FIRST_VISIT,\n  lv: PLAIN_SORTING.LAST_VISIT,\n  v: PLAIN_SORTING.VISITS_COUNT,\n};\n\n// FILTERING\nexport const KEY_FILTER_VISITS_BY = 'filter';\nexport const FILTER_VISITS_BY = {\n  ANY: 'a',\n  FOREIGN: 'f',\n  DOMESTIC: 'd',\n};\nexport const FILTER_VISITS_BY_DEFAULT = FILTER_VISITS_BY.ANY;\n\nexport const PLAIN_FILTERING_MAPPING = {\n  [FILTER_VISITS_BY.ANY]: PLAIN_FILTERING.ANY,\n  [FILTER_VISITS_BY.FOREIGN]: PLAIN_FILTERING.FOREIGN,\n  [FILTER_VISITS_BY.DOMESTIC]: PLAIN_FILTERING.DOMESTIC,\n};\n","import { GROUP_VISITS_BY } from './sidebarConsts';\n\nexport const VISITS_SECTIONS = {\n  TRIPS: 'trips',\n  PLACES: 'places',\n};\nexport const VISITS_SECTION_DEFAULT = VISITS_SECTIONS.TRIPS;\nexport const VISITS_SECTIONS_GROUPS = {\n  [VISITS_SECTIONS.PLACES]: [\n    { key: GROUP_VISITS_BY.LOCATIONS, l10n: 'По городам' },\n    { key: GROUP_VISITS_BY.COUNTRIES, l10n: 'По странам' },\n    { key: GROUP_VISITS_BY.YEARS, l10n: 'По годам' },\n    { key: GROUP_VISITS_BY.YEARS_COUNTRIES, l10n: 'По годам и странам' },\n    { key: GROUP_VISITS_BY.COUNTRIES_YEARS, l10n: 'По странам и годам' },\n  ],\n  [VISITS_SECTIONS.TRIPS]: [\n    { key: GROUP_VISITS_BY.TRIPS, l10n: 'По поездкам' },\n    { key: GROUP_VISITS_BY.TRIPS_COUNTRIES, l10n: 'По поездкам и странам' },\n  ],\n};\n\nexport const GROUP_VISITS_BY_DEFAULTS = {\n  [VISITS_SECTIONS.PLACES]: GROUP_VISITS_BY.COUNTRIES,\n  [VISITS_SECTIONS.TRIPS]: GROUP_VISITS_BY.TRIPS,\n};\n\nexport const COMPARATORS = {\n  VISIT: { ARRIVAL_YEAR: 'ARRIVAL_YEAR' },\n  TRIP: {\n    DEPARTURE_TIME: 'TRIP_DEPARTURE_DATE',\n    ID: 'TRIP_ID',\n    PRESERVE_ORDER: 'PRESERVE_ORDER',\n  },\n  COUNTRY: {\n    VISITS: 'COUNTRY_VISITS',\n    RATING: 'COUNTRY_RATING',\n    NAME_ID: 'COUNTRY_NAME_ID',\n    FIRST_VISIT: 'COUNTRY_FIRST_VISIT',\n    LAST_VISIT: 'COUNTRY_LAST_VISIT',\n  },\n  LOCATION: {\n    VISITS: 'LOCATION_VISITS',\n    RATING: 'LOCATION_RATING',\n    NAME_ID: 'LOCATION_NAME_ID',\n    FIRST_VISIT: 'LOCATION_FIRST_VISIT',\n    LAST_VISIT: 'LOCATION_LAST_VISIT',\n  },\n};\n\nexport const NODE_TYPE = {\n  ARRIVAL_LOCATION: 'ARRIVAL_LOCATION',\n  COUNTRY: 'COUNTRY',\n  DEPARTURE_LOCATION: 'DEPARTURE_LOCATION',\n  LOCATION: 'LOCATION',\n  TRIP: 'TRIP',\n  YEAR: 'YEAR',\n};\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSidebar } from 'core/context/SidebarContext';\nimport {\n  VISITS_SECTION_DEFAULT,\n  VISITS_SECTIONS,\n  VISITS_SECTIONS_GROUPS,\n  GROUP_VISITS_BY_DEFAULTS,\n} from './consts';\nimport {\n  GROUP_VISITS_BY,\n  KEY_GROUP_VISITS_BY,\n  SORT_VISITS_BY,\n  KEY_SORT_VISITS_BY,\n  SORT_VISITS_BY_DEFAULT,\n  FILTER_VISITS_BY,\n  FILTER_VISITS_BY_DEFAULT,\n  KEY_FILTER_VISITS_BY,\n} from './sidebarConsts';\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function(setQueryFilter, queryFilter, section) {\n  const classes = useStyles();\n\n  const {\n    [KEY_GROUP_VISITS_BY]: groupByQuery,\n    [KEY_SORT_VISITS_BY]: sortByQuery,\n    [KEY_FILTER_VISITS_BY]: filterByQuery,\n  } = queryFilter || {};\n\n  const sortBy = resolveActualSortBy(sortByQuery);\n  const filterBy = resolveActualFilterBy(filterByQuery);\n  const [groupBy, visitsSectionGroups] = resolveActualGroupBy(\n    groupByQuery,\n    section,\n  );\n\n  useSidebar(\n    ({ closeSidebar }) => (\n      <List>\n        <ListItem>\n          <FormControl className={classes.formControl}>\n            <InputLabel shrink={true} id=\"select-groupBy-filter-label\">\n              Сгруппировать\n            </InputLabel>\n            <Select\n              labelId=\"select-groupBy-filter-label\"\n              autoWidth={true}\n              id=\"select-groupBy-filter\"\n              value={groupBy}\n              onChange={event => {\n                closeSidebar();\n                setQueryFilter({\n                  [KEY_GROUP_VISITS_BY]: event.target.value,\n                });\n              }}\n            >\n              {visitsSectionGroups.map(visitsSectionGroup => (\n                <MenuItem\n                  key={visitsSectionGroup.key}\n                  value={visitsSectionGroup.key}\n                >\n                  {visitsSectionGroup.l10n}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </ListItem>\n        {groupBy !== GROUP_VISITS_BY.TRIPS && (\n          <ListItem>\n            <FormControl className={classes.formControl}>\n              <InputLabel shrink={true} id=\"select-sortBy-filter-label\">\n                Сортировать\n              </InputLabel>\n              <Select\n                labelId=\"select-sortBy-filter-label\"\n                autoWidth={true}\n                id=\"select-sortBy-filter\"\n                value={sortBy}\n                onChange={event => {\n                  closeSidebar();\n                  setQueryFilter({\n                    [KEY_SORT_VISITS_BY]: event.target.value,\n                  });\n                }}\n              >\n                <MenuItem value={SORT_VISITS_BY.ALPHABET}>По алфавиту</MenuItem>\n                <MenuItem value={SORT_VISITS_BY.VISITS_ALPHABET}>\n                  По числу посещений\n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.FIRST_VISIT_ALPHABET}>\n                  По первому посещению\n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.LAST_VISIT_ALPHABET}>\n                  По последнему посещению\n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.RATING_ALPHABET}>\n                  По рейтингу\n                </MenuItem>\n              </Select>\n            </FormControl>\n          </ListItem>\n        )}\n        <ListItem>\n          <FormControl className={classes.formControl}>\n            <InputLabel shrink={true} id=\"select-filterBy-filter-label\">\n              Фильтровать\n            </InputLabel>\n            <Select\n              labelId=\"select-filterBy-filter-label\"\n              autoWidth={true}\n              id=\"select-filterBy-filter\"\n              value={filterBy}\n              onChange={event => {\n                closeSidebar();\n                setQueryFilter({\n                  [KEY_FILTER_VISITS_BY]: event.target.value,\n                });\n              }}\n            >\n              <MenuItem value={FILTER_VISITS_BY.ANY}>Показать все</MenuItem>\n              <MenuItem value={FILTER_VISITS_BY.FOREIGN}>\n                Только зарубежные\n              </MenuItem>\n              <MenuItem value={FILTER_VISITS_BY.DOMESTIC}>\n                Только местные\n              </MenuItem>\n            </Select>\n          </FormControl>\n        </ListItem>\n      </List>\n    ),\n    [groupBy, sortBy, filterBy],\n  );\n\n  return { groupBy, sortBy, filterBy };\n}\n\nfunction resolveActualSortBy(sortByQuery) {\n  return Object.values(SORT_VISITS_BY).includes(sortByQuery)\n    ? sortByQuery\n    : SORT_VISITS_BY_DEFAULT;\n}\n\nfunction resolveActualFilterBy(filterByQuery) {\n  return Object.values(FILTER_VISITS_BY).includes(filterByQuery)\n    ? filterByQuery\n    : FILTER_VISITS_BY_DEFAULT;\n}\n\nfunction resolveActualGroupBy(groupByQuery, section) {\n  const actualSection = Object.values(VISITS_SECTIONS).includes(section)\n    ? section\n    : VISITS_SECTION_DEFAULT;\n  const visitsSectionGroups = VISITS_SECTIONS_GROUPS[actualSection] || [];\n  const groupBy = visitsSectionGroups.find(({ key }) => key === groupByQuery)\n    ? groupByQuery\n    : GROUP_VISITS_BY_DEFAULTS[actualSection];\n  return [groupBy, visitsSectionGroups];\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport * as locators from '../../locators';\n\nexport default function renderTitle({\n  tripCreateUrl,\n  locationsUrl,\n  stats: {\n    locationsStats: { total: locationsCount },\n    countriesStats: { total: countriesCount },\n    // daysTravellingStats: { totalStay },\n  },\n}) {\n  return (\n    <Typography variant=\"h6\" paragraph={true}>\n      <span>Всего </span>\n      <MUILink to={locationsUrl} component={Link}>\n        {`${locationsCount} городов `}\n      </MUILink>\n      <span>из </span>\n      <span>{`${countriesCount} стран`}</span>\n      {/* <span>{`В путешествии ${totalStay} дней`}</span> */}\n      {tripCreateUrl ? (\n        <IconButton\n          href={tripCreateUrl}\n          data-locator={locators.ADD_TRIP_BUTTON}\n        >\n          <AddCircleIcon />\n        </IconButton>\n      ) : null}\n    </Typography>\n  );\n}\n","export const ADD_TRIP_BUTTON = 'ADD_TRIP_BUTTON';\n","import { PLAIN_GROUPS } from 'travel/components/VisitsArranger';\nimport { PLAIN_GROUPS_MAPPING } from './sidebarConsts';\n\nexport default function resolveGroupsOrder(groupBy) {\n  const groupingOrder = groupBy\n    .split('_')\n    .map(currentGroupBy => PLAIN_GROUPS_MAPPING[currentGroupBy]);\n\n  const shouldShowVisits = groupingOrder.includes(PLAIN_GROUPS.TRIPS);\n  const lastGroup = groupingOrder[groupingOrder.length - 1];\n\n  if (!shouldShowVisits && lastGroup !== PLAIN_GROUPS.LOCATIONS) {\n    groupingOrder.push(PLAIN_GROUPS.LOCATIONS);\n  }\n  if (shouldShowVisits) {\n    groupingOrder.push(PLAIN_GROUPS.JUST_VISITS);\n  }\n  return groupingOrder;\n}\n","import { PLAIN_SORTING_MAPPING } from './sidebarConsts';\n\nexport default function resolveSortingOrder(sortBy) {\n  return sortBy\n    .split('_')\n    .map(currentSortBy => PLAIN_SORTING_MAPPING[currentSortBy]);\n}\n","import { PLAIN_FILTERING_MAPPING } from './sidebarConsts';\n\nexport default function resolveFiltering(filterBy) {\n  return PLAIN_FILTERING_MAPPING[filterBy];\n}\n","import React from 'react';\nimport { useTripsStats } from 'travel/dataSource';\nimport BackdropLoader from 'modules/components/loaders/BackdropLoader';\nimport { useQueryFilter } from 'core/context/QueryFilterContext';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsGroupingSidebar from './useVisitsGroupingSidebar';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  calcStats,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\nimport VisitsTitle from './components/VisitsTitle';\nimport resolveGroupsOrder from './resolveGroupsOrder';\nimport resolveSortingOrder from './resolveSortingOrder';\nimport resolveFiltering from './resolveFiltering';\n\nexport default function VisitsPage({\n  match: {\n    params: { userAlias, section },\n  },\n}) {\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n  const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const { queryFilter, setQueryFilter } = useQueryFilter();\n  const { groupBy, sortBy, filterBy } = useVisitsGroupingSidebar(\n    setQueryFilter,\n    queryFilter,\n    section,\n  );\n\n  const provision = useTripsStats({ userAlias });\n  const { isPending, isError } = provision;\n\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <BackdropLoader />;\n  }\n\n  const { visitsIds, visitsDict } = provision;\n  const visitsList = visitsIds.map(visitId => visitsDict[visitId]);\n\n  const commonVisitsGroup = { visitsList, parent: null, field: null };\n  const totalStats = calcStats(commonVisitsGroup, provision);\n\n  return (\n    <>\n      <VisitsTitle\n        locationsUrl={urls.locationsUrl}\n        tripCreateUrl={urls.tripCreateUrl}\n        stats={totalStats}\n      />\n      <VisitsArranger\n        visitsList={visitsList}\n        provision={provision}\n        groupsOrder={resolveGroupsOrder(groupBy)}\n        sortingOrder={\n          section === 'trips'\n            ? [PLAIN_SORTING.LAST_VISIT]\n            : resolveSortingOrder(sortBy)\n        }\n        filteringOption={resolveFiltering(filterBy)}\n        isObscure={isObscure}\n        urls={urls}\n        virtualize={true}\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nconst RATING_LOCALIZATION = {\n  [LOCATION_RATING.PLACE_TO_LIVE]: 'Жил бы здесь',\n  [LOCATION_RATING.FEW_PER_YEAR]: 'Несколько раз в год',\n  [LOCATION_RATING.ONCE_PER_YEAR]: 'Раз в год',\n  [LOCATION_RATING.ONCE_PER_TWO_YEARS]: 'Раз в пару лет',\n  [LOCATION_RATING.ONCE_PER_FIVE_YEARS]: 'Раз в пять лет',\n  [LOCATION_RATING.ONCE_PER_DECADE]: 'Раз в десятилетие',\n  [LOCATION_RATING.TWICE_PER_LIVE]: 'Пару раз в жизни',\n  [LOCATION_RATING.ONCE_PER_LIVE]: 'Раз в жизни',\n  [LOCATION_RATING.NEVER]: 'Никогда',\n};\n\nconst useStyles = makeStyles({\n  formControl: {\n    margin: '24px 0',\n    width: '100%',\n  },\n});\n\nexport default function LocationRating({\n  locationId,\n  locationRating,\n  isEditable,\n  onSubmitLocationRating,\n}) {\n  const classes = useStyles();\n  if (!isEditable) {\n    return <div>{RATING_LOCALIZATION[locationRating]}</div>;\n  }\n  return (\n    <FormControl className={classes.formControl}>\n      <InputLabel shrink={true} id=\"select-location-rating-label\">\n        Я бы ездил сюда\n      </InputLabel>\n      <Select\n        labelId=\"select-location-rating-label\"\n        id=\"select-location-rating\"\n        value={locationRating}\n        onChange={event => {\n          onSubmitLocationRating(event, locationId, event.target.value);\n        }}\n      >\n        <MenuItem value={LOCATION_RATING.PLACE_TO_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.PLACE_TO_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.FEW_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.FEW_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_TWO_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_TWO_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_FIVE_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_FIVE_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_DECADE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_DECADE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.TWICE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.TWICE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.NEVER}>\n          {RATING_LOCALIZATION[LOCATION_RATING.NEVER]}\n        </MenuItem>\n      </Select>\n    </FormControl>\n  );\n}\n\nLocationRating.propTypes = {\n  locationRating: PropTypes.number,\n  locationId: PropTypes.number.isRequired,\n  isEditable: PropTypes.bool.isRequired,\n  onSubmitLocationRating: PropTypes.func.isRequired,\n};\n\nLocationRating.defaultProps = { locationRating: null };\n","import useLocation from 'travel/dataSource/useLocation';\nimport { useTripsStats } from 'travel/dataSource/useTrips';\nimport { useLocationRatingRequest } from 'travel/dataSource/useLocations';\n\nexport default function useLocationWithTripStats({\n  domain,\n  userAlias,\n  locationId,\n}) {\n  const tripsStatsProvision = useTripsStats({\n    userAlias,\n  });\n\n  const {\n    isError: isTripsError,\n    isPending: isTripsPending,\n    isReady: isTripsReady,\n    locationsIds,\n    visitsDict,\n    visitsIds,\n    locationsRating,\n  } = tripsStatsProvision;\n\n  const {\n    location,\n    provision: { isError, isPending, isReady, ...restProvision },\n  } = useLocation({ domain, locationId });\n\n  const { submitLocationRating } = useLocationRatingRequest({ domain });\n\n  const isVisited = locationsIds.includes(locationId);\n\n  return {\n    provision: {\n      isError: isError || isTripsError,\n      isPending: isPending || isTripsPending,\n      isReady: isReady || isTripsReady,\n      ...restProvision,\n    },\n    location,\n    isVisited,\n    visitsList: isVisited\n      ? visitsIds\n          .map(visitId => visitsDict[visitId])\n          .filter(\n            ({ locationId: visitLocationId }) => visitLocationId === locationId,\n          )\n      : [],\n    locationRating: (isVisited && locationsRating[locationId]) || null,\n    submitLocationRating,\n    tripsStatsProvision,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, selectItem } from 'core/connection';\n\nexport default function useLocation({ domain, locationId }) {\n  const location = useSelector(\n    state => selectItem(state, 'locations', locationId) || {},\n  );\n\n  const provision = useProvision({\n    domain,\n    isProvision: true,\n    modelName: 'locations',\n    observe: locationId,\n    condition: Boolean(locationId),\n    query: {\n      id: locationId,\n    },\n  });\n\n  return {\n    location,\n    provision,\n  };\n}\n","import React, { useCallback } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n  PLAIN_FILTERING,\n} from 'travel/components/VisitsArranger';\nimport LocationRating from './blocks/LocationRating';\nimport useLocationWithTripStats from './useLocationWithTripStats';\n\nconst domain = 'travel.LocationPage';\nexport default function LocationPage({\n  match: {\n    params: { userAlias, strLocationId, section },\n  },\n}) {\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  const locationId = parseInt(strLocationId, 10);\n\n  const {\n    location,\n    provision: { isError, isPending, isReady },\n    isVisited,\n    visitsList,\n    tripsStatsProvision,\n    tripsStatsProvision: { userProvision },\n    locationRating,\n    submitLocationRating,\n  } = useLocationWithTripStats({ domain, userAlias, locationId });\n\n  const handleSubmitLocationRating = useCallback(\n    (event, locationIdToSubmit, value) => {\n      submitLocationRating({\n        query: { rating: value, id: String(locationIdToSubmit) },\n        condition: Boolean(locationIdToSubmit),\n      }).finally(userProvision.invalidate); // todo: still need to imporeve invalidation ux\n    },\n  );\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  if (!location) {\n    return null;\n  }\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n\n  if (!isVisited) {\n    return (\n      <Typography variant=\"h2\" component=\"span\">\n        {location.locationName}\n      </Typography>\n    );\n  }\n  return (\n    <VisitsArranger\n      visitsList={visitsList}\n      provision={tripsStatsProvision}\n      groupsOrder={[\n        PLAIN_GROUPS.LOCATIONS,\n        PLAIN_GROUPS.YEARS,\n        PLAIN_GROUPS.JUST_VISITS,\n      ]}\n      photosSectionLevel={1}\n      mapSectionLevel={0}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={isObscure}\n      urls={urls}\n      config={{\n        LocationVisitsGroup: {\n          hyperlinks: { location: false },\n        },\n        StatsPanel: {\n          appearance: { CountriesStats: false },\n        },\n      }}\n    >\n      {({ level, index }) =>\n        level === 0 &&\n        index === 0 && (\n          <LocationRating\n            locationId={locationId}\n            locationRating={locationRating}\n            isEditable={isEditable}\n            onSubmitLocationRating={handleSubmitLocationRating}\n          />\n        )\n      }\n    </VisitsArranger>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nconst RATING_LOCALIZATION = {\n  [LOCATION_RATING.PLACE_TO_LIVE]: 'Жил бы здесь',\n  [LOCATION_RATING.FEW_PER_YEAR]: 'Несколько раз в год',\n  [LOCATION_RATING.ONCE_PER_YEAR]: 'Раз в год',\n  [LOCATION_RATING.ONCE_PER_TWO_YEARS]: 'Раз в пару лет',\n  [LOCATION_RATING.ONCE_PER_FIVE_YEARS]: 'Раз в пять лет',\n  [LOCATION_RATING.ONCE_PER_DECADE]: 'Раз в десятилетие',\n  [LOCATION_RATING.TWICE_PER_LIVE]: 'Пару раз в жизни',\n  [LOCATION_RATING.ONCE_PER_LIVE]: 'Раз в жизни',\n  [LOCATION_RATING.NEVER]: 'Никогда',\n};\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function LocationRating({\n  locationId,\n  locationRating,\n  isEditable,\n  onSubmitLocationRating,\n}) {\n  const classes = useStyles();\n  if (!isEditable) {\n    return <div>{RATING_LOCALIZATION[locationRating]}</div>;\n  }\n  return (\n    <FormControl className={classes.formControl}>\n      <InputLabel shrink={true} id=\"select-location-rating-label\">\n        Я бы ездил сюда\n      </InputLabel>\n      <Select\n        labelId=\"select-location-rating-label\"\n        id=\"select-location-rating\"\n        value={locationRating}\n        onChange={event => {\n          onSubmitLocationRating(event, locationId, event.target.value);\n        }}\n      >\n        <MenuItem value={LOCATION_RATING.PLACE_TO_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.PLACE_TO_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.FEW_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.FEW_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_TWO_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_TWO_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_FIVE_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_FIVE_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_DECADE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_DECADE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.TWICE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.TWICE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.NEVER}>\n          {RATING_LOCALIZATION[LOCATION_RATING.NEVER]}\n        </MenuItem>\n      </Select>\n    </FormControl>\n  );\n}\n\nLocationRating.propTypes = {\n  locationRating: PropTypes.number,\n  locationId: PropTypes.number.isRequired,\n  isEditable: PropTypes.bool.isRequired,\n  onSubmitLocationRating: PropTypes.func.isRequired,\n};\n\nLocationRating.defaultProps = { locationRating: null };\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport LocationsMap from 'travel/components/LocationsMap';\nimport LocationRating from './blocks/LocationRating';\nimport useUserLocations from './useUserLocations';\n\nconst useStyles = makeStyles({\n  container: { fontSize: '16px', lineHeight: '1.5' },\n  visitContainer: { margin: '20px 0' },\n  location: { fontWeight: 'bold', fontSize: '21px' },\n  googleMapContainer: {\n    margin: '12px 0',\n    width: '800px',\n    maxWidth: '100%',\n    height: '400px',\n    maxHeight: '100%',\n  },\n});\n\nconst domain = 'travel.LocationsPage';\nexport default function LocationsPage({\n  match: {\n    params: { userAlias, strLocationId },\n  },\n}) {\n  const classes = useStyles();\n\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds,\n    locationsRating,\n    submitLocationRating,\n  } = useUserLocations({ domain, userAlias });\n\n  const locationId = parseInt(strLocationId, 10);\n  const actualLocationsIds = locationId ? [locationId] : locationsIds;\n\n  const handleSubmitLocationRating = useCallback(\n    (event, locationIdToSubmit, value) => {\n      submitLocationRating({\n        query: { rating: value, id: String(locationIdToSubmit) },\n        condition: Boolean(locationIdToSubmit),\n      });\n    },\n  );\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <div>...Loading</div>;\n  }\n  if (locationId && !locationsIds.includes(locationId)) {\n    return (\n      <div>{`Путешественик ${userAlias} еще не посетил данную локацию`}</div>\n    );\n  }\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n  return (\n    <div className={classes.container}>\n      {actualLocationsIds.map(locationsIdToRender => {\n        const location = locationsDict[locationsIdToRender];\n        if (!location) {\n          return null;\n        }\n        const { locationName } = location;\n        return (\n          <React.Fragment key={locationsIdToRender}>\n            <h1 className={classes.location}>{locationName}</h1>\n            <LocationRating\n              locationId={locationsIdToRender}\n              locationRating={locationsRating[locationsIdToRender]}\n              isEditable={isEditable}\n              onSubmitLocationRating={handleSubmitLocationRating}\n            />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n}\n\nLocationsPage.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      userAlias: PropTypes.string.isRequired,\n      strLocationId: PropTypes.string,\n    }).isRequired,\n  }).isRequired,\n};\n","import useUser from 'travel/dataSource/useUser';\nimport { useTripsStats } from 'travel/dataSource/useTrips';\nimport { useLocationRatingRequest } from 'travel/dataSource/useLocations';\n\nexport default function useUserLocations({ domain, userAlias }) {\n  const {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds = [],\n    locationsRating,\n  } = useTripsStats({\n    userAlias,\n  });\n  const { submitLocationRating } = useLocationRatingRequest({ domain });\n\n  return {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds,\n    locationsRating,\n    submitLocationRating,\n  };\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n  PLAIN_FILTERING,\n} from 'travel/components/VisitsArranger';\nimport useCountryWithTripStats from './useCountryWithTripStats';\n\nexport default function CountryPage({\n  match: {\n    params: { userAlias, strCountryId, section },\n  },\n}) {\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n\n  const urls = useVisitsUrls({ editable: false, userAlias, section });\n\n  // const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const countryId = parseInt(strCountryId, 10);\n\n  const {\n    country,\n    provision,\n    provision: { isError, isPending, isReady },\n    isVisited,\n    visitsList,\n  } = useCountryWithTripStats({ userAlias, countryId });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  if (!country) {\n    return null;\n  }\n\n  if (!isVisited) {\n    return (\n      <Typography variant=\"h2\" component=\"span\">\n        {country.countryName}\n      </Typography>\n    );\n  }\n\n  return (\n    <VisitsArranger\n      visitsList={visitsList}\n      provision={provision}\n      groupsOrder={[\n        PLAIN_GROUPS.COUNTRIES,\n        PLAIN_GROUPS.YEARS,\n        PLAIN_GROUPS.LOCATIONS,\n      ]}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={isObscure}\n      urls={urls}\n      config={{ CountryVisitsGroup: { hyperlinks: { country: false } } }}\n    />\n  );\n}\n","import { useTripsStats } from 'travel/dataSource/useTrips';\n\nexport default function useCountryWithTripStats({ userAlias, countryId }) {\n  const tripsProvision = useTripsStats({\n    userAlias,\n  });\n\n  const { countriesIds, countriesDict, visitsDict, visitsIds } = tripsProvision;\n\n  const isVisited = countriesIds.includes(countryId);\n\n  return {\n    provision: tripsProvision,\n    country: countriesDict[countryId],\n    isVisited,\n    visitsList: isVisited\n      ? visitsIds\n          .map(visitId => visitsDict[visitId])\n          .filter(\n            ({ countryId: visitCountryId }) => visitCountryId === countryId,\n          )\n      : [],\n  };\n}\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport max from 'lodash/max';\nimport min from 'lodash/min';\nimport { useProvision, selectDict } from 'core/connection';\nimport { selectResult } from 'core/connection/request/controllerRedux';\nimport mergeProvisionsState from 'core/connection/request/utils/mergeProvisionsState';\nimport useUser from './useUser';\nimport useCountries from './useCountries';\nimport useLocations from './useLocations';\n\nexport default function useTrips({ userAlias, tripsIds: requiredTripsIds }) {\n  const { tripsDict } = useSelector(state => ({\n    tripsDict: selectDict(state, 'trips') || {},\n  }));\n\n  const shouldRequireAllTrips = !requiredTripsIds;\n  const missingTripsIds =\n    !shouldRequireAllTrips &&\n    requiredTripsIds.filter(tripId => !tripsDict[tripId]);\n\n  return useProvision({\n    domain: `travel.trips-${userAlias}`,\n    isProvision: true,\n    modelName: 'trips',\n    observe: userAlias,\n    query: {\n      userAlias,\n      navigation: { isDisabled: true },\n      filter: shouldRequireAllTrips\n        ? {}\n        : { id: { comparator: 'in', value: missingTripsIds } },\n    },\n  });\n}\n\nexport function useTripsStats({ userAlias, tripsIds: requiredTripsIds }) {\n  const tripsProvision = useTrips({ userAlias, tripsIds: requiredTripsIds });\n  const { user: { locationsRating = {} } = {}, ...userProvision } = useUser({\n    domain: `travel.trips-${userAlias}.user`,\n    userAlias,\n  });\n\n  const { data: tripsIds = [] } = selectResult(tripsProvision) || {};\n\n  const {\n    tripsDict,\n    visitsDict,\n    ridesDict,\n    countriesDict,\n    locationsDict,\n  } = useSelector(state => ({\n    tripsDict: selectDict(state, 'trips') || {},\n    visitsDict: selectDict(state, 'visits') || {},\n    ridesDict: selectDict(state, 'rides') || {},\n    countriesDict: selectDict(state, 'countries') || {},\n    locationsDict: selectDict(state, 'locations') || {},\n  }));\n\n  const visitsIds = useUniqField(tripsIds, tripsDict, 'visits');\n  const ridesIds = useUniqField(tripsIds, tripsDict, 'rides');\n  const countriesIds = useUniqField(visitsIds, visitsDict, 'countryId');\n  const locationsIds = useUniqField(visitsIds, visitsDict, 'locationId');\n\n  const countriesProvision = useCountries();\n  const locationsProvision = useLocations({\n    domain: `travel.locations-${userAlias}`,\n    locationsIds,\n  });\n\n  const commonProvisionState = mergeProvisionsState(\n    tripsProvision,\n    userProvision,\n    countriesProvision,\n    locationsProvision,\n  );\n\n  const { isError, isValid, isReady, isPending } = commonProvisionState;\n\n  return {\n    userProvision,\n    tripsProvision,\n    countriesProvision,\n    locationsProvision,\n\n    isError,\n    isValid,\n    isReady,\n    isPending,\n\n    tripsIds,\n    tripsDict,\n    visitsIds,\n    visitsDict,\n    ridesIds,\n    ridesDict,\n    ridesStats: calcRidesStats(ridesIds, ridesDict),\n    locationsIds,\n    locationsDict,\n    locationsRating,\n    countriesIds,\n    countriesDict,\n  };\n}\n\nfunction calcRidesStats(ridesIds, ridesDict) {\n  return {\n    earliestDeparture: new Date(\n      min(\n        ridesIds.map(rideId => ridesDict[rideId]?.departureDateTime.getTime()),\n      ),\n    ),\n    latestArrival: new Date(\n      max(ridesIds.map(rideId => ridesDict[rideId]?.arrivalDateTime.getTime())),\n    ),\n  };\n}\n\nfunction useUniqField(entitiesIds, entitiesDict, fieldName) {\n  return useMemo(\n    () =>\n      Array.from(\n        new Set(\n          entitiesIds.flatMap(\n            entityId => entitiesDict[entityId]?.[fieldName] || [],\n          ),\n        ),\n      ),\n    [entitiesIds, entitiesDict, fieldName],\n  );\n}\n","import sum from 'lodash/sum';\nimport {\n  selectError,\n  selectIsError,\n  selectIsPending,\n  selectIsReady,\n  selectIsValid,\n  selectUpdatesCounter,\n} from '../controllerRedux';\n\nexport default function mergeProvisionsState(...provisions) {\n  return {\n    updatesCounter: sum(provisions.map(selectUpdatesCounter)),\n    isReady: provisions.every(selectIsReady),\n    isPending: provisions.some(selectIsPending),\n    isValid: provisions.every(selectIsValid),\n    error: provisions.find(selectIsError),\n    errors: provisions.map(selectError).filter(Boolean),\n    invalidate: () => provisions.forEach(({ invalidate }) => invalidate()),\n  };\n}\n","import isSameDay from 'date-fns/isSameDay';\nimport isSameMonth from 'date-fns/isSameMonth';\nimport isSameYear from 'date-fns/isSameYear';\nimport ru from 'date-fns/locale/ru';\nimport dateFormat from 'modules/utilities/dateTime/safeDateFormat';\n\nconst DATE_FORMATS = {\n  FULL: 'd MMMM yyyy',\n  MONTH_YEAR: 'LLLL yyyy',\n  MONTH_ONLY: 'LLLL',\n  DAY_MONTH: 'd MMMM',\n  DAY_ONLY: 'd',\n};\n\nexport function dateTimePeriodToString(periodStart, periodEnd, isObscure) {\n  const fullFormat = isObscure ? DATE_FORMATS.MONTH_YEAR : DATE_FORMATS.FULL;\n  const periodEndString = dateFormat(periodEnd, fullFormat, {\n    locale: ru,\n  });\n\n  if (isSameDay(periodStart, periodEnd)) {\n    return periodEndString;\n  }\n\n  let periodStartString = '';\n  if (isSameMonth(periodStart, periodEnd)) {\n    if (!isObscure) {\n      periodStartString = dateFormat(periodStart, DATE_FORMATS.DAY_ONLY, {\n        locale: ru,\n      });\n    }\n  } else if (isSameYear(periodStart, periodEnd)) {\n    const shortFormat = isObscure\n      ? DATE_FORMATS.MONTH_ONLY\n      : DATE_FORMATS.DAY_MONTH;\n    periodStartString = dateFormat(periodStart, shortFormat, { locale: ru });\n  } else {\n    periodStartString = dateFormat(periodStart, fullFormat, { locale: ru });\n  }\n\n  return `${periodStartString}—${periodEndString}`;\n}\n\nexport function rideDateTimePeriodToString(\n  { departureDateTime, arrivalDateTime },\n  isObscure,\n) {\n  return dateTimePeriodToString(departureDateTime, arrivalDateTime, isObscure);\n}\n\nexport function visitDateTimePeriodToString(\n  { departureDateTime, arrivalDateTime },\n  isObscure,\n) {\n  return dateTimePeriodToString(arrivalDateTime, departureDateTime, isObscure);\n}\n\nexport function dateTimeOpenPeriodToString({\n  periodStart,\n  periodEnd,\n  isObscure,\n  placeholder,\n}) {\n  if (!periodEnd) {\n    const format = isObscure ? DATE_FORMATS.MONTH_YEAR : DATE_FORMATS.FULL;\n    const startDateStr = dateFormat(periodStart, format, { locale: ru });\n    return `${startDateStr}—${placeholder}`;\n  }\n  return dateTimePeriodToString(periodStart, periodEnd, isObscure);\n}\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport MUILink from '@material-ui/core/Link';\n\nexport default function ConnectedLink({\n  optional,\n  children,\n  ...forwardingProps\n}) {\n  const linkable = Boolean(\n    !optional ||\n      forwardingProps.href ||\n      forwardingProps.to ||\n      forwardingProps.onClick,\n  );\n\n  if (!linkable) {\n    return children;\n  }\n\n  return (\n    <MUILink {...forwardingProps} component={RouterLink}>\n      {children}\n    </MUILink>\n  );\n}\n\nConnectedLink.defaultProps = {\n  optional: false,\n};\n","import { useProvision } from 'core/connection';\n\nexport default function useCountries() {\n  return useProvision({\n    domain: `travel.countries`,\n    isProvision: true,\n    modelName: 'countries',\n    query: { navigation: { isDisabled: true } },\n  });\n}\n","import dateFormat from 'date-fns/format';\nimport isValidDate from './isValidDate';\n\nexport default function safeDateFormat(date, ...args) {\n  if (!isValidDate(date)) {\n    return '?';\n  }\n  return dateFormat(date, ...args);\n}\n","export default function isValidDate(date) {\n  return date instanceof Date && !Number.isNaN(date.getTime());\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, useRequest, selectDict } from 'core/connection';\n\nexport default function useLocations({\n  domain,\n  locationsIds: requiredLocationIds,\n}) {\n  const locationsDict = useSelector(\n    state => selectDict(state, 'locations') || {},\n  );\n\n  const missingLocationsIds = requiredLocationIds.filter(\n    locationId => !locationsDict[locationId],\n  );\n\n  return useProvision({\n    domain,\n    isProvision: true,\n    modelName: 'locations',\n    observe: requiredLocationIds,\n    condition: Boolean(missingLocationsIds.length),\n    query: {\n      filter: { id: { comparator: 'in', value: missingLocationsIds } },\n      navigation: { isDisabled: true },\n    },\n  });\n}\n\nexport function useLocationRatingRequest({ domain }) {\n  const [submitLocationRating, provision] = useRequest({\n    domain,\n    modelName: 'locations',\n    method: 'POST',\n  });\n\n  return {\n    ...provision,\n    submitLocationRating,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, selectItem } from 'core/connection';\n\nexport default function useUser({ domain, userAlias }) {\n  const user = useSelector(state => selectItem(state, 'users', userAlias));\n  const provision = useProvision({\n    domain,\n    applicableSchemaName: 'item',\n    isProvision: true,\n    modelName: 'users',\n    observe: userAlias,\n    condition: Boolean(userAlias),\n    query: {\n      id: userAlias,\n    },\n  });\n  return { ...provision, user };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, useRequest, selectDict } from 'core/connection';\n\nexport default function useVisit({ userAlias, visitId: requiredVisitId }) {\n  const { visitsDict } = useSelector(state => ({\n    visitsDict: selectDict(state, 'visits') || {},\n  }));\n  const visit = visitsDict[requiredVisitId];\n\n  return {\n    visit,\n    ...useProvision({\n      domain: `travel.visit${requiredVisitId}-${userAlias}`,\n      isProvision: true,\n      modelName: 'visits',\n      observe: requiredVisitId,\n      condition: !visit,\n      query: {\n        userAlias,\n        filter: { visit_id: { comparator: '=', value: requiredVisitId } },\n        navigation: { isDisabled: true },\n      },\n    }),\n  };\n}\n\nexport function useAddVisitPhotoRequest({ domain }) {\n  const [submitVisitPhoto, provision] = useRequest({\n    domain,\n    modelName: 'visits', // todo: actually this is assets model, not visits. Moreover this is photos model\n    method: 'POST',\n    contentType: 'multipart/form-data',\n  });\n\n  return {\n    ...provision,\n    submitVisitPhoto,\n  };\n}\n","export const PLAIN_FILTERING = {\n  ANY: 'ANY',\n  FOREIGN: 'FOREIGN',\n  DOMESTIC: 'DOMESTIC',\n};\n","import { PLAIN_FILTERING } from './consts';\n\nexport default function switchFilteringFn(provision, filteringOption) {\n  switch (filteringOption) {\n    case PLAIN_FILTERING.FOREIGN:\n    case PLAIN_FILTERING.DOMESTIC:\n      return createFilterBasedOnOrigin(provision, filteringOption);\n    case PLAIN_FILTERING.ANY:\n    default:\n      return isVisitExist;\n  }\n}\n\nfunction createFilterBasedOnOrigin(\n  { tripsDict, locationsDict },\n  filteringOption,\n) {\n  const isForeign = filteringOption === PLAIN_FILTERING.FOREIGN;\n  if (!isForeign && filteringOption !== PLAIN_FILTERING.DOMESTIC) {\n    return isVisitExist; // filter nothing\n  }\n  return function filterOnlyForeign(visit) {\n    if (!visit) {\n      return false;\n    }\n    const { countryId, tripId } = visit;\n    if (!countryId) {\n      return true;\n    }\n    const trip = tripsDict[tripId];\n    if (!trip) {\n      return true;\n    }\n    const { originLocationId } = trip;\n    const originLocation = locationsDict[originLocationId];\n    if (!originLocation) {\n      return true;\n    }\n    const { countryId: originCountryId } = originLocation;\n    if (!originCountryId) {\n      return true;\n    }\n    return isForeign\n      ? countryId !== originCountryId\n      : countryId === originCountryId;\n  };\n}\n\nfunction isVisitExist(visit) {\n  return Boolean(visit);\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\n\nexport default function CountryVisitsGroup({\n  children,\n  visitsGroup: {\n    field: { value: countryId },\n  },\n  classes,\n  provision: { countriesDict },\n  urls,\n  config: {\n    CountryVisitsGroup: {\n      hyperlinks: { country: countryHyperlink = true } = {},\n    } = {},\n  },\n}) {\n  return (\n    <CountryInfo\n      country={countriesDict[countryId]}\n      className={classes.container}\n      classes={classes}\n      countryUrl={\n        countryHyperlink ? urls?.resolveCountryUrl({ countryId }) : null\n      }\n    >\n      {children}\n    </CountryInfo>\n  );\n}\n\nfunction CountryInfo({\n  variant,\n  country: { countryName },\n  children,\n  className,\n  classes,\n  countryUrl,\n}) {\n  return (\n    <div className={className}>\n      <ConnectedLink to={countryUrl} optional={true}>\n        <Typography\n          display=\"inline\"\n          variant={variant}\n          className={classes.header}\n        >\n          {countryName}\n        </Typography>\n      </ConnectedLink>\n      {children}\n    </div>\n  );\n}\n\nCountryVisitsGroup.defaultProps = {\n  config: {},\n};\n","export function findClosestGroupValue(visitsGroup, plainGroup) {\n  return findClosestGroup(visitsGroup, plainGroup)?.field?.value;\n}\n\nexport function findClosestGroup(visitsGroup, plainGroup) {\n  let currentVisitsGroup = visitsGroup;\n  while (currentVisitsGroup) {\n    if (plainGroup === currentVisitsGroup.plainGroup) {\n      return currentVisitsGroup;\n    }\n    currentVisitsGroup = currentVisitsGroup.parent;\n  }\n  return null;\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport { findClosestGroupValue } from '../../utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../consts';\n\nexport default function LocationVisitsGroup({\n  children,\n  visitsGroup,\n  visitsGroup: {\n    field: { value: locationIdStr },\n  },\n  classes,\n  provision,\n  provision: { locationsDict },\n  urls,\n  config: {\n    LocationVisitsGroup: {\n      appearance,\n      hyperlinks: {\n        location: locationHyperlink = true,\n        country: countryHyperlink = true,\n      } = {},\n    } = {},\n  },\n}) {\n  const location = locationsDict[locationIdStr];\n  const groupCountryId = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n  const { locationId, countryId } = location ?? {};\n\n  const locationUrl = locationHyperlink\n    ? urls?.resolveLocationUrl({ locationId })\n    : null;\n  const countryUrl = countryHyperlink\n    ? urls?.resolveCountryUrl({ countryId })\n    : null;\n\n  return (\n    <LocationInfo\n      className={classes.container}\n      classes={classes}\n      location={location}\n      provision={provision}\n      showCountry={!groupCountryId}\n      locationUrl={locationUrl}\n      countryUrl={countryUrl}\n      appearance={appearance}\n    >\n      {children}\n    </LocationInfo>\n  );\n}\n\nLocationVisitsGroup.defaultProps = {\n  config: {},\n};\n\nexport function LocationInfo({\n  children,\n  variant,\n  className,\n  classes = {},\n  location: { locationName, countryId } = {},\n  provision: { countriesDict },\n  showCountry,\n  locationUrl,\n  countryUrl,\n  appearance: { country: countryAppearance = true },\n}) {\n  const countryName = countriesDict[countryId]?.countryName;\n  const countryNode =\n    countryAppearance && countryName && showCountry ? (\n      <ConnectedLink to={countryUrl} optional={true}>\n        <Typography display=\"inline\" variant=\"body1\">\n          {countriesDict[countryId]?.countryName}\n        </Typography>\n      </ConnectedLink>\n    ) : null;\n\n  const locationNode = (\n    <ConnectedLink to={locationUrl} optional={true}>\n      <Typography display=\"inline\" variant={variant} className={classes.header}>\n        {locationName}\n        {countryNode ? ',' : ''}\n      </Typography>\n    </ConnectedLink>\n  );\n\n  return (\n    <div className={className}>\n      <div>\n        {locationNode}\n        {countryNode ? ' ' : null}\n        {countryNode}\n      </div>\n      {children}\n    </div>\n  );\n}\n\nLocationInfo.defaultProps = {\n  appearance: {},\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  container: {},\n});\n\nexport default function YearVisitsGroup({\n  children,\n  visitsGroup: {\n    field: { value: year },\n  },\n  classes,\n}) {\n  const ownClasses = useStyles();\n\n  return (\n    <YearInfo\n      className={cls(classes.container, ownClasses.container)}\n      classes={classes}\n      year={year}\n    >\n      {children}\n    </YearInfo>\n  );\n}\n\nfunction YearInfo({ children, variant, className, classes, year }) {\n  return (\n    <div className={className}>\n      <Typography display=\"inline\" variant={variant} className={classes.header}>\n        {year || 'Без указания даты'}\n      </Typography>\n      {children}\n    </div>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default function makeVisibleOnHoverStyles({\n  containerClassName = 'hoverTrigger',\n  contentClassName = 'visibleOnHover',\n} = {}) {\n  return makeStyles({\n    [containerClassName]: {\n      [`&:hover $${contentClassName}`]: {\n        visibility: 'visible',\n      },\n    },\n    [contentClassName]: {\n      visibility: 'hidden',\n    },\n  });\n}\n\nexport const useVisibleOnHoverStyles = makeVisibleOnHoverStyles();\n","import React from 'react';\nimport cls from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { resolveTripCaption } from 'travel/models/trips/utils';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useVisibleOnHoverStyles } from 'modules/utilities/hooks/makeVisibleOnlyOnHoverStyles';\n\nexport default function TripInfo({\n  trip,\n  visitsDict,\n  countriesDict,\n  locationsDict,\n  children,\n  className,\n  variant,\n  urls,\n}) {\n  const { hoverTrigger, visibleOnHover } = useVisibleOnHoverStyles();\n  const tripEditUrl = urls?.resolveTripEditUrl({ tripId: trip.tripId });\n\n  return (\n    <Typography\n      variant={variant ?? undefined}\n      className={cls(className, hoverTrigger)}\n      paragraph={true}\n    >\n      <span>\n        {resolveTripCaption(trip, visitsDict, countriesDict, locationsDict)}\n      </span>\n      {children}\n      {tripEditUrl && (\n        <IconButton className={visibleOnHover} href={tripEditUrl}>\n          <EditIcon />\n        </IconButton>\n      )}\n    </Typography>\n  );\n}\n\nTripInfo.defaultProps = { variant: 'h4' };\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  autoMargin: { marginLeft: 'auto' },\n});\n\nexport default function AutoMargin({ children, className }) {\n  const classes = useStyles();\n  const childrenArray = React.Children.toArray(children);\n  if (childrenArray.length <= 1) {\n    return <Typography className={className}>{children}</Typography>;\n  }\n\n  const lastChildren = childrenArray.slice(-1);\n  const restChildren = childrenArray.slice(0, -1);\n  return (\n    <Grid\n      className={className}\n      container={true}\n      justify=\"space-between\"\n      alignItems=\"center\"\n    >\n      <Grid item={true}>{restChildren}</Grid>\n      <Grid item={true} classes={{ item: classes.autoMargin }}>\n        {lastChildren}\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RideInfo from 'travel/components/RideInfo';\nimport AutoMargin from 'modules/components/AutoMargin';\nimport { LocationInfo } from '../../../LocationVisitsGroup/LocationVisitsGroup';\n\nconst useStyles = makeStyles({\n  halfDown: { position: 'relative', top: 12 },\n});\n\nexport default function LocationWithRideInfo({\n  locationId,\n  rideId,\n  provision,\n  provision: { ridesDict, locationsDict },\n  groupCountryId,\n  children,\n  locationInfoChildren,\n  className,\n  classes,\n  urls,\n}) {\n  const ownClasses = useStyles();\n  const location = locationsDict[locationId];\n\n  return (\n    <AutoMargin className={className}>\n      <LocationInfo\n        className={classes.locationContainer}\n        provision={provision}\n        location={location}\n        showCountry={!groupCountryId}\n        locationUrl={urls?.resolveLocationUrl({ locationId })}\n        countryUrl={urls?.resolveCountryUrl({ countryId: location?.countryId })}\n      >\n        {locationInfoChildren}\n      </LocationInfo>\n      {groupCountryId ? (\n        children\n      ) : (\n        <Grid container={true}>\n          <Grid item={true}>{children}</Grid>\n          <Grid item={true}>\n            <RideInfo\n              ride={ridesDict[rideId]}\n              className={ownClasses.halfDown}\n            />\n          </Grid>\n        </Grid>\n      )}\n    </AutoMargin>\n  );\n}\n\nLocationWithRideInfo.defaultProps = {\n  classes: {},\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport EventIcon from '@material-ui/icons/Event';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport LocationWithRideInfo from '../LocationWithRideInfo';\nimport { useVisibleOnHoverStyles } from 'modules/utilities/hooks/makeVisibleOnlyOnHoverStyles';\n\nconst useStyles = makeStyles({\n  locationContainer: {\n    position: 'relative',\n  },\n  detail: {\n    color: 'gray',\n    fontSize: 12,\n  },\n  editButton: {\n    position: 'absolute',\n    top: '-50%',\n    left: '100%',\n  },\n});\n\nexport default function VisitInfo({\n  visit: { visitId, locationId, departureRideId },\n  provision,\n  provision: { visitsDict },\n  urls,\n  isObscure,\n  groupCountryId,\n  className,\n}) {\n  const classes = useStyles();\n  const { hoverTrigger, visibleOnHover } = useVisibleOnHoverStyles();\n\n  const visitUrl = urls?.resolveVisitUrl({ visitId });\n  return (\n    <LocationWithRideInfo\n      className={cls(className, hoverTrigger)}\n      classes={{ locationContainer: classes.locationContainer }}\n      locationId={locationId}\n      rideId={departureRideId}\n      provision={provision}\n      groupCountryId={groupCountryId}\n      urls={urls}\n      locationInfoChildren={\n        visitUrl && (\n          <IconButton\n            className={cls(classes.editButton, visibleOnHover)}\n            component={Link}\n            to={visitUrl}\n          >\n            <EventIcon />\n          </IconButton>\n        )\n      }\n    >\n      <Typography className={classes.detail}>\n        {visitDateTimePeriodToString(visitsDict[visitId], isObscure)}\n      </Typography>\n    </LocationWithRideInfo>\n  );\n}\n","import CountryVisitsGroup from './components/CountryVisitsGroup';\nimport LocationVisitsGroup from './components/LocationVisitsGroup';\nimport YearVisitsGroup from './components/YearVisitsGroup';\nimport TripVisitsGroup from './components/TripVisitsGroup';\nimport VisitsItselfGroup from './components/VisitsItselfGroup';\n\nexport const PLAIN_GROUPS = {\n  // ALL: 'ALL',\n  LOCATIONS: 'LOCATIONS',\n  COUNTRIES: 'COUNTRIES',\n  YEARS: 'YEARS',\n  TRIPS: 'TRIPS',\n  JUST_VISITS: 'JUST_VISITS',\n};\n\nexport const PLAIN_GROUPS_CONFIG = {\n  [PLAIN_GROUPS.TRIPS]: {\n    groupFieldName: 'tripId',\n    component: TripVisitsGroup,\n    adapter: Number, // Will be applied to value of \"groupFieldName\" field\n  },\n  [PLAIN_GROUPS.YEARS]: {\n    groupFieldName: function getArrivalYear({ arrivalDateTime }) {\n      return arrivalDateTime.getFullYear();\n    },\n    component: YearVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.COUNTRIES]: {\n    groupFieldName: 'countryId',\n    component: CountryVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.LOCATIONS]: {\n    groupFieldName: 'locationId',\n    component: LocationVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.JUST_VISITS]: {\n    groupFieldName: 'visitId',\n    component: VisitsItselfGroup,\n    adapter: Number,\n  },\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport TripInfo from './TripInfo';\n\nexport default function TripVisitsGroup({\n  classes,\n  children,\n  visitsGroup: {\n    field: { value: tripId },\n  },\n  provision: { tripsDict, visitsDict, countriesDict, locationsDict },\n  urls,\n}) {\n  return (\n    <TripInfo\n      key={`t${tripId}`}\n      className={cls(classes.container, classes.header)}\n      classes={classes}\n      trip={tripsDict[tripId]}\n      visitsDict={visitsDict}\n      countriesDict={countriesDict}\n      locationsDict={locationsDict}\n      variant={null}\n      urls={urls}\n    >\n      {children}\n    </TripInfo>\n  );\n}\n","import React, { useMemo } from 'react';\nimport uniqBy from 'lodash/uniqBy';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport { findClosestGroupValue } from '../../utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../consts';\nimport { LocationInfo } from '../LocationVisitsGroup';\nimport VisitInfo from './components/VisitInfo';\nimport LocationWithRideInfo from './components/LocationWithRideInfo';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\n\nexport default function VisitsItselfGroup({\n  visitsGroup,\n  visitsGroup: { visitsList },\n  provision,\n  provision: { tripsDict, locationsDict },\n  classes,\n  urls,\n}) {\n  const groupTripId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.TRIPS);\n\n  const groupCountryId = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n\n  // currently remains only first visit, and only dates for this visit is shown to user\n  // todo: solve the issue, show all periods, or show no dates, whatever\n  const actualVisitsList = useMemo(\n    () => (groupCountryId ? uniqBy(visitsList, 'locationId') : visitsList),\n    [groupCountryId, visitsList],\n  );\n\n  if (!groupTripId) {\n    return (\n      <>\n        {visitsList.map(visit => (\n          <ConnectedLink\n            to={urls.resolveVisitUrl({ visitId: visit.visitId })}\n            optional={true}\n          >\n            <Typography className={classes.level}>\n              {visitDateTimePeriodToString(visit, false)}\n            </Typography>\n          </ConnectedLink>\n        ))}\n      </>\n    );\n  }\n\n  const { originLocationId, departureRideId } = tripsDict[groupTripId] ?? {};\n  const originLocation = locationsDict[originLocationId];\n\n  return (\n    <div className={classes.level}>\n      {!groupCountryId && (\n        <LocationWithRideInfo\n          locationId={originLocationId}\n          rideId={departureRideId}\n          provision={provision}\n          groupCountryId={groupCountryId}\n          className={classes.header}\n          urls={urls}\n        />\n      )}\n      {actualVisitsList.map(visit => (\n        <VisitInfo\n          className={classes.header}\n          key={`v${visit.visitId}`}\n          visit={visit}\n          provision={provision}\n          isObscure={false}\n          groupCountryId={groupCountryId}\n          urls={urls}\n        />\n      ))}\n      {/* todo: Don't show for relocation trip */}\n      {!groupCountryId && (\n        <LocationInfo\n          className={classes.header}\n          provision={provision}\n          location={originLocation}\n          showCountry={!groupCountryId}\n          locationUrl={urls?.resolveLocationUrl({\n            locationId: originLocationId,\n          })}\n          countryUrl={urls?.resolveCountryUrl({\n            countryId: originLocation?.countryId,\n          })}\n        />\n      )}\n    </div>\n  );\n}\n","import groupByFn from 'lodash/groupBy';\nimport isFunction from 'lodash/isFunction';\nimport { PLAIN_GROUPS, PLAIN_GROUPS_CONFIG } from '../consts';\n\nexport default function groupVisitsBy(visitsList, plainGroup) {\n  const { groupFieldName, adapter } = PLAIN_GROUPS_CONFIG[plainGroup];\n  return plainGroup === PLAIN_GROUPS.JUST_VISITS\n    ? [{ field: { name: groupFieldName, value: null }, visitsList }]\n    : groupVisitsByValue(visitsList, groupFieldName, adapter);\n}\n\nfunction groupVisitsByValue(visitsList, groupFieldName, adapter) {\n  return Object.entries(groupByFn(visitsList, groupFieldName)).map(\n    ([groupFieldValue, groupVisitsList]) => ({\n      field: {\n        name: isFunction(groupFieldName) ? groupFieldName.name : groupFieldName,\n        value: adapter ? adapter(groupFieldValue) : groupFieldValue,\n      },\n      visitsList: groupVisitsList,\n    }),\n  );\n}\n","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import memoizeOne from 'memoize-one';\nimport memoize from 'lodash/memoize';\n\nexport default function createCalcByYearUtils(lookupKey) {\n  const memoizedCalcOldies = memoizeOne(visitsDict =>\n    memoize(year => calcOldies(year, visitsDict)),\n  );\n\n  return {\n    calcTotal,\n    calcByYear,\n  };\n\n  function calcTotal(visitsList) {\n    return {\n      total: new Set(visitsList.map(({ [lookupKey]: entityId }) => entityId))\n        .size,\n    };\n  }\n\n  function calcByYear(visitsDict, visitsList, year) {\n    const oldies = memoizedCalcOldies(visitsDict)(year);\n\n    const freshies = visitsList.reduce(\n      (acc, { arrivalYear, [lookupKey]: entityId }) => {\n        if (arrivalYear === year) {\n          acc.add(entityId);\n        }\n        return acc;\n      },\n      new Set(),\n    );\n\n    const newbies = freshies.difference(oldies);\n    return {\n      totalAtYear: freshies.size,\n      newAtYear: newbies.size,\n      newbies,\n    };\n  }\n\n  function calcOldies(year, visitsDict) {\n    return Object.values(visitsDict).reduce(\n      (acc, { [lookupKey]: entityId, arrivalYear }) => {\n        if (arrivalYear < year) {\n          acc.add(entityId);\n        }\n        return acc;\n      },\n      new Set(),\n    );\n  }\n}\n","import differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\nimport createPeriods from 'modules/utilities/dateTime/periods';\n\nexport default function calcDaysTravellingStats(\n  visitsList,\n  { visitsDict, ridesDict },\n  { considerRides },\n) {\n  const visitToPeriodMapper = considerRides\n    ? createMapperWithRides(visitsDict, ridesDict, considerRides)\n    : simpleMapper;\n  const visitsPeriods = visitsList.map(visitToPeriodMapper);\n  const detailedStats = createPeriods([...visitsPeriods])\n    .toArray()\n    .reduce(\n      (\n        acc,\n        {\n          startDate: arrivalDateTime,\n          endDate: departureDateTime,\n          stack: visitsIds,\n        },\n      ) => {\n        const stay =\n          differenceInCalendarDays(departureDateTime, arrivalDateTime) + 1;\n        if (stay > 0) {\n          acc.push({ stay, visitsIds, departureDateTime, arrivalDateTime });\n        }\n        return acc;\n      },\n      [],\n    );\n  return {\n    detailedStats,\n    totalStay: detailedStats.reduce((total, { stay }) => total + stay, 0),\n  };\n}\n\nfunction simpleMapper({ arrivalDateTime, departureDateTime }) {\n  return {\n    startDate: arrivalDateTime,\n    endDate: departureDateTime,\n  };\n}\n\nfunction createMapperWithRides(visitsDict, ridesDict, considerRides) {\n  return function mapperWithRides({\n    visitId,\n    countryId,\n    arrivalRideId,\n    arrivalDateTime,\n    departureRideId,\n    departureDateTime,\n  }) {\n    let startDate;\n    const arrivalRide = ridesDict[arrivalRideId];\n    if (!arrivalRide) {\n      startDate = arrivalDateTime;\n    } else {\n      const {\n        departureVisitId: prevVisitId,\n        departureDateTime: rideStartDate,\n      } = arrivalRide;\n      if (\n        considerRides !== 'country' ||\n        (countryId && countryId === visitsDict[prevVisitId]?.countryId)\n      ) {\n        startDate = rideStartDate;\n      }\n    }\n\n    let endDate;\n    const departureRide = ridesDict[departureRideId];\n    if (!departureRide) {\n      endDate = departureDateTime;\n    } else {\n      const {\n        arrivalVisitId: nextVisitId,\n        arrivalDateTime: rideEndDate,\n      } = departureRide;\n      if (\n        considerRides !== 'country' ||\n        (countryId && countryId === visitsDict[nextVisitId]?.countryId)\n      ) {\n        endDate = rideEndDate;\n      }\n    }\n    return { startDate, endDate, stack: new Set([visitId]) };\n  };\n}\n","import minBy from 'lodash/minBy';\nimport maxBy from 'lodash/maxBy';\nimport { PLAIN_GROUPS } from '../../arrangement/groupping/consts';\nimport { findClosestGroupValue } from '../../arrangement/groupping/utils/resolveGroupingUtils';\nimport createCalcByYearUtils from './createCalcByYearUtils';\nimport calcDaysTravellingStats from './calcDaysTravellingStats';\n\nexport default function calcStats(visitsGroup, provision) {\n  const locationId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS);\n  const countryId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES);\n  const year = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS);\n  const { plainGroup, visitsList } = visitsGroup;\n\n  return {\n    visitsStats: calcVisitsStats(visitsList, provision),\n    countriesStats: countryId\n      ? null\n      : calcCountriesStats(visitsList, provision, { year }),\n    locationsStats: locationId\n      ? null\n      : calcLocationsStats(visitsList, provision, { year }),\n    daysTravellingStats: calcDaysTravellingStats(visitsList, provision, {\n      // Consider rides time, when count travelling days in groups, like country\n      // or year. So when you move across country, you still in trip,\n      // even if you sleep in train.\n      considerRides: [PLAIN_GROUPS.COUNTRIES, PLAIN_GROUPS.YEARS].includes(\n        plainGroup,\n      )\n        ? plainGroup\n        : false,\n    }),\n  };\n}\n\nconst {\n  calcTotal: calcCountriesTotal,\n  calcByYear: calcCountriesByYear,\n} = createCalcByYearUtils('countryId');\n\nfunction calcCountriesStats(visitsList, { visitsDict }, { year }) {\n  const { newAtYear, totalAtYear, total, newbies } = year\n    ? calcCountriesByYear(visitsDict, visitsList, year)\n    : calcCountriesTotal(visitsList);\n  return { year, newAtYear, totalAtYear, total, newbies };\n}\n\nconst {\n  calcTotal: calcLocationsTotal,\n  calcByYear: calcLocationsByYear,\n} = createCalcByYearUtils('locationId');\n\nfunction calcVisitsStats(visitsList) {\n  return {\n    visitsCount: visitsList.length,\n    firstVisit: minBy(visitsList, 'arrivalDateTime'),\n    lastVisit: maxBy(visitsList, 'departureDateTime'),\n  };\n}\n\nfunction calcLocationsStats(visitsList, { visitsDict }, { year }) {\n  const { newAtYear, totalAtYear, total, newbies } = year\n    ? calcLocationsByYear(visitsDict, visitsList, year)\n    : calcLocationsTotal(visitsList);\n  return {\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n    newbies,\n  };\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  statsIndicator: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    marginRLeft: '2px',\n    marginRight: '4px',\n  },\n});\n\nexport default function StatsIndicator({ className, icon, children, hint }) {\n  const classes = useStyles();\n\n  const contentNode = (\n    <Typography\n      variant=\"subtitle1\"\n      className={cls(className, classes.statsIndicator)}\n    >\n      {React.cloneElement(icon, { fontSize: 'inherit' })}\n      {children}\n    </Typography>\n  );\n\n  if (!hint) {\n    return contentNode;\n  }\n  return <Tooltip title={hint}>{contentNode}</Tooltip>;\n}\n","import React from 'react';\nimport FlagIcon from '@material-ui/icons/Flag';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function CountriesStats({\n  countriesStats: { year, newAtYear, totalAtYear, total },\n}) {\n  const showByYear = Boolean(year);\n  const hintNode = renderHint({\n    showByYear,\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  const detailsNode = renderDetails({\n    showByYear,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  return (\n    <StatsIndicator hint={hintNode} icon={<FlagIcon />}>\n      {detailsNode}\n    </StatsIndicator>\n  );\n}\n\nexport function renderDetails({ showByYear, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return String(total);\n  }\n  if (!newAtYear) {\n    return String(totalAtYear);\n  }\n  if (totalAtYear === newAtYear) {\n    return `+${newAtYear}`;\n  }\n  return `${totalAtYear} (+${newAtYear})`;\n}\n\nfunction renderHint({ showByYear, year, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return <div>{`Посещено ${total} стран`}</div>;\n  }\n  return (\n    <div>\n      <div>{`За ${year} год посещено ${totalAtYear} стран`}</div>\n      <div>\n        {newAtYear\n          ? `Из них впервые ${newAtYear} стран`\n          : 'Новых стран в этом году не было'}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport { renderDetails } from '../CountriesStats';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function LocationStats({\n  locationsStats: { year, newAtYear, totalAtYear, total },\n}) {\n  const showByYear = Boolean(year);\n  const hintNode = renderHint({\n    showByYear,\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  const detailsNode = renderDetails({\n    showByYear,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  return (\n    <StatsIndicator hint={hintNode} icon={<PlaceIcon />}>\n      {detailsNode}\n    </StatsIndicator>\n  );\n}\n\nfunction renderHint({ showByYear, year, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return <div>{`Посещено ${total} мест`}</div>;\n  }\n  return (\n    <div>\n      <div>{`За ${year} год посещено ${totalAtYear} мест`}</div>\n      <div>\n        {newAtYear\n          ? `Из них впервые ${newAtYear} мест`\n          : 'Новых мест в этом году не было'}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport TimelapseIcon from '@material-ui/icons/Timelapse';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function DaysTravellingStats({\n  className,\n  daysTravellingStats: { detailedStats, totalStay },\n  provision: { visitsDict },\n}) {\n  if (!totalStay) {\n    return null;\n  }\n\n  return (\n    <StatsIndicator\n      className={className}\n      hint={renderHint(detailedStats, totalStay, visitsDict)}\n      icon={<TimelapseIcon />}\n    >\n      {totalStay}\n    </StatsIndicator>\n  );\n}\n\nfunction renderHint(detailedStats, totalStay, visitsDict) {\n  const totalStr = `Всего ${totalStay} дней в этом месте`;\n\n  if (detailedStats.length === 1) {\n    const { visitsIds, departureDateTime, arrivalDateTime } = detailedStats[0];\n    const periodStr = visitDateTimePeriodToString({\n      departureDateTime,\n      arrivalDateTime,\n    });\n    const locationsStr = renderLocations(visitsIds, visitsDict);\n    return <div>{`${totalStr} ${periodStr}. ${locationsStr}`}</div>;\n  }\n\n  return (\n    <div>\n      <div>{totalStr}</div>\n      {detailedStats.map(\n        ({ stay, visitsIds, departureDateTime, arrivalDateTime }, index) => {\n          const periodStr = visitDateTimePeriodToString({\n            departureDateTime,\n            arrivalDateTime,\n          });\n          const locationsStr = renderLocations(visitsIds, visitsDict);\n          // No good alternative 4 array index key\n          /* eslint-disable react/no-array-index-key */\n          return (\n            <div\n              key={`v${index}`}\n            >{`${stay} дней, ${periodStr}. ${locationsStr}`}</div>\n          );\n          /* eslint-enable react/no-array-index-key */\n        },\n      )}\n    </div>\n  );\n}\n\nfunction renderLocations(visitsIds, visitsDict) {\n  return (\n    visitsIds\n      ?.map(visitId => visitsDict[visitId]?.locationName ?? '')\n      ?.join(', ') ?? ''\n  );\n}\n","import { PLAIN_GROUPS } from '../../../../arrangement/groupping/consts';\nimport { findClosestGroupValue } from '../../../../arrangement/groupping/utils/resolveGroupingUtils';\n\nexport default function isNewbie(visitsGroup) {\n  const {\n    plainGroup,\n    field: { value: entityId },\n  } = visitsGroup;\n\n  switch (plainGroup) {\n    case PLAIN_GROUPS.COUNTRIES:\n      return isNewbieCountry(visitsGroup, entityId);\n    case PLAIN_GROUPS.LOCATIONS:\n      return isNewbieLocation(visitsGroup, entityId);\n    default:\n      return false;\n  }\n}\n\nfunction isNewbieCountry(visitsGroup, countryId) {\n  return findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.YEARS,\n  )?.stats?.countriesStats?.newbies?.has(countryId);\n}\n\nfunction isNewbieLocation(visitsGroup, locationId) {\n  const yearVisitsGroup = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.YEARS,\n  );\n  const countriesVisitsGroup = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n\n  const countryLocationStats = countriesVisitsGroup?.stats?.locationsStats;\n  const allLocationsIsNew =\n    !countryLocationStats ||\n    !countryLocationStats.newAtYear ||\n    !countryLocationStats.totalAtYear ||\n    countryLocationStats.newAtYear === countryLocationStats.totalAtYear;\n\n  return (\n    !allLocationsIsNew &&\n    yearVisitsGroup?.stats?.locationsStats?.newbies?.has(locationId)\n  );\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport FiberNewIcon from '@material-ui/icons/FiberNew';\nimport { findClosestGroupValue } from '../../../arrangement/groupping/utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../../arrangement/groupping/consts';\nimport CountriesStats from './components/CountriesStats';\nimport LocationStats from './components/LocationStats';\nimport DaysTravellingStats from './components/DaysTravellingStats';\nimport isNewbie from './utils/isNewbie';\n\nconst useStyles = makeStyles({\n  container: {\n    color: 'gray',\n    display: 'inline-flex',\n    alignItems: 'center',\n    marginLeft: '4px',\n  },\n});\n\nexport default function StatsPanel({\n  provision,\n  visitsGroup,\n  visitsGroup: {\n    stats: { countriesStats, locationsStats, daysTravellingStats },\n  },\n  config: {\n    StatsPanel: {\n      appearance: {\n        CountriesStats: countriesStatsAppearance = true,\n        LocationsStats: locationStatsAppearance = true,\n        DaysTravellingStats: daysTravellingStatsAppearance = true,\n      } = {},\n    } = {},\n  },\n  isObscure,\n}) {\n  const classes = useStyles();\n\n  const isLocationGroup = visitsGroup.plainGroup === PLAIN_GROUPS.LOCATIONS;\n  const hasCountryGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES),\n  );\n  const hasLocationGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS),\n  );\n  const hasYearGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS),\n  );\n\n  const daysTravellingStatsNode =\n    daysTravellingStatsAppearance && daysTravellingStats && !isObscure ? (\n      <DaysTravellingStats\n        className={cls({\n          [classes.visibleOnlyOnHover]: isLocationGroup,\n        })}\n        daysTravellingStats={daysTravellingStats}\n        provision={provision}\n      />\n    ) : null;\n\n  return (\n    <Typography variant=\"body1\" className={classes.container}>\n      {hasYearGroup && isNewbie(visitsGroup) && <FiberNewIcon />}\n      {countriesStatsAppearance &&\n        !hasCountryGroup && <CountriesStats countriesStats={countriesStats} />}\n      {locationStatsAppearance &&\n        !hasLocationGroup && <LocationStats locationsStats={locationsStats} />}\n      {daysTravellingStatsNode}\n    </Typography>\n  );\n}\n\nStatsPanel.defaultProps = {\n  config: {},\n};\n","export const PLAIN_SORTING = {\n  ALPHABET: 'ALPHABET',\n  RATING: 'RATING',\n  FIRST_VISIT: 'FIRST_VISIT',\n  LAST_VISIT: 'LAST_VISIT',\n  VISITS_COUNT: 'VISITS_COUNT',\n};\n","import sortBy from 'lodash/sortBy';\nimport orderBy from 'lodash/orderBy';\nimport iterateeFn from 'lodash/iteratee';\nimport property from 'lodash/property';\nimport { PLAIN_GROUPS } from '../../groupping/consts';\nimport { PLAIN_SORTING } from '../consts';\n\nexport default function sortVisitsBy(\n  visitsGroups,\n  sortingOrder,\n  plainGroup,\n  provision,\n) {\n  const comparators = sortingOrder.flatMap(switchComparator);\n  const hasOrder = comparators.some(property('order'));\n\n  return hasOrder\n    ? orderBy(visitsGroups, ...withOrder(comparators))\n    : sortBy(visitsGroups, comparators);\n\n  function switchComparator(plainSorting) {\n    switch (plainSorting) {\n      case PLAIN_SORTING.FIRST_VISIT:\n        return dates('stats.visitsStats.firstVisit.arrivalDateTime');\n      case PLAIN_SORTING.LAST_VISIT:\n        return {\n          iteratee: nullsLast(\n            dates('stats.visitsStats.lastVisit.departureDateTime'),\n          ),\n          order: 'desc',\n        };\n      case PLAIN_SORTING.RATING:\n        return createRatingComparator(plainGroup, provision);\n      case PLAIN_SORTING.VISITS_COUNT:\n        return {\n          iteratee: 'stats.locationsStats.total',\n          order: 'desc',\n        };\n      case PLAIN_SORTING.ALPHABET:\n      default:\n        return createAlphabetComparator(plainGroup, provision);\n    }\n  }\n}\n\nfunction withOrder(comparators) {\n  return Object.values(\n    comparators.reduce(\n      (acc, current) => {\n        const { iteratee = [], order = 'asc' } = current.order\n          ? current\n          : { iteratee: current };\n        acc.iteratee.push(iteratee);\n        acc.order.push(order);\n        return acc;\n      },\n      {\n        iteratee: [],\n        order: [],\n      },\n    ),\n  );\n}\n\nfunction createRatingComparator(plainGroup, provision) {\n  switch (plainGroup) {\n    // case PLAIN_GROUPS.COUNTRIES:\n    //   return createCountryRatingComparator(provision);\n    case PLAIN_GROUPS.LOCATIONS:\n      return createLocationRatingComparator(provision);\n    default:\n      return () => 0;\n  }\n}\n\nfunction createAlphabetComparator(plainGroup, provision) {\n  switch (plainGroup) {\n    case PLAIN_GROUPS.YEARS:\n      return [\n        {\n          iteratee: nullsLast('stats.visitsStats.firstVisit.arrivalYear'),\n          order: 'desc',\n        },\n      ];\n    case PLAIN_GROUPS.COUNTRIES:\n      return createCountryNameComparator(provision);\n    case PLAIN_GROUPS.LOCATIONS:\n      return createLocationNameComparator(provision);\n    default:\n      return () => 0;\n  }\n}\n\nfunction createCountryNameComparator({ countriesDict }) {\n  return ({ field: { value: countryId } }) => {\n    const { countryName } = countriesDict[countryId] ?? {};\n    return countryName;\n  };\n}\n\nfunction createLocationNameComparator({ locationsDict }) {\n  return ({ field: { value: locationId } }) => {\n    const { locationName } = locationsDict[locationId] ?? {};\n    return locationName;\n  };\n}\n\nconst DEFAULT_RATING = 10;\nfunction createLocationRatingComparator({ locationsRating }) {\n  return ({ field: { value: locationId } }) =>\n    locationsRating[locationId] ?? DEFAULT_RATING;\n}\n\nfunction nullsLast(iteratee) {\n  const resolve = iterateeFn(iteratee);\n  return value => resolve(value) || '';\n}\n\nfunction dates(iteratee) {\n  const resolve = iterateeFn(iteratee);\n  return value => (resolve(value) || '').valueOf();\n}\n","import React from 'react';\nimport PhotosGallery from 'modules/components/PhotosGallery';\nimport { findClosestGroupValue } from '../../arrangement/groupping/utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../arrangement/groupping/consts';\n\nexport default function VisitsPhotosGallery({\n  className,\n  visitsGroup,\n  provision,\n}) {\n  const visitPhotos = visitsGroup.visitsList.flatMap(visit =>\n    visit.photos.map(photo => ({\n      ...photo,\n      description: renderDescription(visit, visitsGroup, provision),\n    })),\n  );\n\n  return <PhotosGallery className={className} photos={visitPhotos} />;\n}\n\nfunction renderDescription(visit, visitsGroup, { countriesDict }) {\n  const { locationName, countryId, arrivalYear } = visit;\n\n  let result = '';\n\n  const hasLocationGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS),\n  );\n  const hasCountryGroup =\n    hasLocationGroup ||\n    Boolean(findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES));\n  const hasYearGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS),\n  );\n\n  if (!hasLocationGroup) {\n    result += locationName;\n  }\n  if (!hasCountryGroup) {\n    const { countryName } = countriesDict[countryId] ?? {};\n    if (countryName) {\n      result += `, ${countryName}`;\n    }\n  }\n  if (!hasYearGroup) {\n    result += `/${arrivalYear}`;\n  }\n\n  return result;\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport uniq from 'lodash/uniq';\nimport MUILink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocationsMap, { MARKERS_SCALES } from 'travel/components/LocationsMap';\n\nconst useStyles = makeStyles({\n  container: { fontSize: '16px', lineHeight: '1.5' },\n  visitContainer: { margin: '20px 0' },\n  mapVisibilityToggle: { marginLeft: '8px', cursor: 'pointer' },\n  googleMapContainer: {\n    margin: '12px 0',\n    width: '800px',\n    maxWidth: '100%',\n    height: '400px',\n    maxHeight: '100%',\n  },\n});\n\nexport default function VisitsLocationsMap({\n  className,\n  visitsGroup,\n  provision: { visitsDict, locationsDict, locationsRating },\n  onToggle,\n}) {\n  const classes = useStyles();\n  const [mapVisible, setMapVisible] = useState(false);\n\n  const locationsIds = uniq(\n    visitsGroup.visitsList.map(({ locationId }) => locationId),\n  );\n\n  const frRef = useRef(false);\n  useEffect(\n    () => {\n      if (!frRef.current) {\n        frRef.current = true;\n      } else if (onToggle) {\n        onToggle(mapVisible);\n      }\n    },\n    [mapVisible],\n  );\n\n  return (\n    <div className={className}>\n      <div>\n        <MUILink\n          variant=\"body2\"\n          onClick={() => {\n            setMapVisible(prevMapVisible => !prevMapVisible);\n          }}\n        >\n          {mapVisible ? 'скрыть карту' : 'на карте'}\n        </MUILink>\n      </div>\n      {mapVisible && (\n        <LocationsMap\n          className={classes.mapContainer}\n          locationsDict={locationsDict}\n          visitsDict={visitsDict}\n          locationsRating={locationsRating}\n          locationsIds={locationsIds}\n          minHeight={300}\n          scaleBy={MARKERS_SCALES.BY_LAST_VISIT}\n          ratingLevel={null}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { Fragment } from 'react';\nimport StatsPanel from '../../statistics/components/StatsPanel';\nimport VisitsPhotosGallery from '../VisitsPhotosGallery';\nimport VisitsLocationsMap from '../VisitsLocationsMap';\n\nfunction VisitGroup({\n  children,\n  classes,\n  config,\n  forwardingProps,\n  isObscure,\n  showMap,\n  showPhotos,\n  provision,\n  urls,\n  visitsGroup,\n  VisitsGroupComponent,\n  onHeightChange,\n}) {\n  return (\n    <Fragment key={visitsGroup.field.value}>\n      <VisitsGroupComponent\n        visitsGroup={visitsGroup}\n        classes={classes}\n        provision={provision}\n        urls={urls}\n        config={config}\n        {...forwardingProps}\n      >\n        <StatsPanel\n          visitsGroup={visitsGroup}\n          provision={provision}\n          isObscure={isObscure}\n          config={config}\n        />\n      </VisitsGroupComponent>\n      {children}\n      {showPhotos && (\n        <VisitsPhotosGallery\n          className={classes.nextLevel}\n          visitsGroup={visitsGroup}\n          provision={provision}\n        />\n      )}\n      {showMap && (\n        <VisitsLocationsMap\n          className={classes.nextLevel}\n          visitsGroup={visitsGroup}\n          provision={provision}\n          onToggle={onHeightChange}\n        />\n      )}\n    </Fragment>\n  );\n}\n\nexport default React.memo(VisitGroup);\n","import React, { useLayoutEffect, useEffect } from 'react';\n\nexport default function useWindowRect() {\n  const [rect, dispatch] = React.useReducer(rectReducer, {});\n  useLayoutEffect(() => {\n    dispatch({\n      rect: {\n        height: window.innerHeight,\n        width: window.innerWidth,\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    const resizeHandler = () => {\n      dispatch({\n        rect: {\n          height: window.innerHeight,\n          width: window.innerWidth,\n        },\n      });\n    };\n    resizeHandler();\n    window.addEventListener('resize', resizeHandler);\n    return () => {\n      window.removeEventListener('resize', resizeHandler);\n    };\n  }, []);\n\n  return rect;\n}\n\nfunction rectReducer(state, action) {\n  const { rect } = action;\n  if (!state || state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n  return state;\n}\n","const findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    let middle = ((low + high) / 2) | 0;\n    let currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nexport default function calculateRange({ measurements, outerSize, scrollOffset }, prevRange) {\n  const size = measurements.length - 1;\n  const getOffset = index => measurements[index].start;\n\n  let start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  let end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  if (prevRange.start !== start || prevRange.end !== end) {\n    return { start, end };\n  }\n\n  return prevRange;\n}","import React, { useLayoutEffect } from 'react';\nimport useRect from './useRect';\nimport useRange from './useRange';\n\nconst defaultEstimateSize = () => 50;\n\nconst defaultKeyExtractor = index => index;\n\nexport const defaultRangeExtractor = range => {\n  const start = Math.max(range.start - range.overscan, 0);\n  const end = Math.min(range.end + range.overscan, range.size - 1);\n\n  const arr = [];\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\n\nexport function useVirtual({\n  size = 0,\n  estimateSize = defaultEstimateSize,\n  overscan = 1,\n  paddingStart = 0,\n  paddingEnd = 0,\n  parentRef,\n  keyExtractor = defaultKeyExtractor,\n}) {\n  const { height: outerSize } = useRect();\n  const latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: [],\n    outerSize: undefined,\n    totalSize: undefined,\n  });\n\n  latestRef.current.outerSize = outerSize;\n\n  const [measuredCache, setMeasuredCache] = React.useState({});\n  const [updDep, forceUpdate] = React.useReducer(x => x + 1, 0);\n\n  const measure = forceUpdate;\n\n  const pendingMeasuredCacheIndexesRef = React.useRef([]);\n\n  const measurements = React.useMemo(\n    () => {\n      const min =\n        pendingMeasuredCacheIndexesRef.current.length > 0\n          ? Math.min(...pendingMeasuredCacheIndexesRef.current)\n          : 0;\n      pendingMeasuredCacheIndexesRef.current = [];\n\n      const measurements = latestRef.current.measurements.slice(0, min);\n\n      for (let i = min; i < size; i++) {\n        const key = keyExtractor(i);\n        const measuredSize = measuredCache[key];\n        const start = measurements[i - 1]\n          ? measurements[i - 1].end\n          : paddingStart;\n        const size =\n          typeof measuredSize === 'number' ? measuredSize : estimateSize(i);\n        const end = start + size;\n        measurements[i] = { index: i, start, size, end, key };\n      }\n      return measurements;\n    },\n    [estimateSize, measuredCache, paddingStart, size, keyExtractor],\n  );\n\n  const totalSize = (measurements[size - 1]?.end || 0) + paddingEnd;\n\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n\n  const range = useRange({\n    measurements,\n    outerSize,\n    latestRef,\n    parentRef,\n  });\n\n  const virtualItems = React.useMemo(\n    () => {\n      const indexes = defaultRangeExtractor({\n        start: range.start,\n        end: range.end,\n        overscan,\n        size: measurements.length,\n      });\n\n      const virtualItems = [];\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        const i = indexes[k];\n        const measurement = measurements[i];\n\n        const item = {\n          ...measurement,\n          measureRef: el => {\n            if (el) {\n              const measuredSize = el.offsetHeight;\n\n              if (measuredSize !== item.size) {\n                const { scrollOffset } = latestRef.current;\n\n                if (item.start < scrollOffset) {\n                  defaultScrollToFn(scrollOffset + (measuredSize - item.size));\n                }\n\n                pendingMeasuredCacheIndexesRef.current.push(i);\n\n                setMeasuredCache(old => ({\n                  ...old,\n                  [item.key]: measuredSize,\n                }));\n              }\n            }\n          },\n        };\n\n        virtualItems.push(item);\n      }\n\n      return virtualItems;\n    },\n    [measurements, overscan, range.end, range.start, updDep],\n  );\n\n  const mountedRef = React.useRef();\n\n  useLayoutEffect(\n    () => {\n      if (mountedRef.current) {\n        if (estimateSize) setMeasuredCache({});\n      }\n      mountedRef.current = true;\n    },\n    [estimateSize],\n  );\n\n  const scrollToOffset = React.useCallback(\n    (toOffset, { align = 'start' } = {}) => {\n      const { scrollOffset, outerSize } = latestRef.current;\n\n      if (align === 'auto') {\n        if (toOffset <= scrollOffset) {\n          align = 'start';\n        } else if (toOffset >= scrollOffset + outerSize) {\n          align = 'end';\n        } else {\n          align = 'start';\n        }\n      }\n\n      if (align === 'start') {\n        defaultScrollToFn(toOffset);\n      } else if (align === 'end') {\n        defaultScrollToFn(toOffset - outerSize);\n      } else if (align === 'center') {\n        defaultScrollToFn(toOffset - outerSize / 2);\n      }\n    },\n    [],\n  );\n\n  const tryScrollToIndex = React.useCallback(\n    (index, { align = 'auto', ...rest } = {}) => {\n      const { measurements, scrollOffset, outerSize } = latestRef.current;\n\n      const measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n      if (!measurement) {\n        return;\n      }\n\n      if (align === 'auto') {\n        if (measurement.end >= scrollOffset + outerSize) {\n          align = 'end';\n        } else if (measurement.start <= scrollOffset) {\n          align = 'start';\n        } else {\n          return;\n        }\n      }\n\n      const toOffset =\n        align === 'center'\n          ? measurement.start + measurement.size / 2\n          : align === 'end'\n            ? measurement.end\n            : measurement.start;\n\n      scrollToOffset(toOffset, { align, ...rest });\n    },\n    [scrollToOffset, size],\n  );\n\n  const scrollToIndex = React.useCallback(\n    (...args) => {\n      // We do a double request here because of\n      // dynamic sizes which can cause offset shift\n      // and end up in the wrong spot. Unfortunately,\n      // we can't know about those dynamic sizes until\n      // we try and render them. So double down!\n      tryScrollToIndex(...args);\n      requestAnimationFrame(() => {\n        tryScrollToIndex(...args);\n      });\n    },\n    [tryScrollToIndex],\n  );\n\n  return {\n    virtualItems,\n    totalSize,\n    scrollToOffset,\n    scrollToIndex,\n    measure,\n  };\n}\n\nfunction defaultScrollToFn(offset) {\n  window.scrollY = offset;\n}\n","import React, { useLayoutEffect } from 'react';\nimport calculateRange from 'modules/utilities/virtual/calculateRange';\n\nexport default function useRange({\n  measurements,\n  outerSize,\n  latestRef,\n  parentRef,\n}) {\n  const [range, setRange] = React.useState({ start: 0, end: 0 });\n\n  const rangeTimeoutIdRef = React.useRef(null);\n\n  const cancelAsyncRange = React.useCallback(() => {\n    if (rangeTimeoutIdRef.current !== null) {\n      clearTimeout(rangeTimeoutIdRef.current);\n      rangeTimeoutIdRef.current = null;\n    }\n  }, []);\n\n  useLayoutEffect(\n    () => {\n      rangeTimeoutIdRef.current = setTimeout(() => {\n        setRange(prevRange => calculateRange(latestRef.current, prevRange));\n      });\n      return () => cancelAsyncRange();\n    },\n    [measurements, outerSize, cancelAsyncRange],\n  );\n\n  useLayoutEffect(\n    () => {\n      const onScroll = () => {\n        latestRef.current.scrollOffset = parentRef.current\n          ? scrollOffsetFn(parentRef)\n          : 0;\n        cancelAsyncRange();\n        setRange(prevRange => calculateRange(latestRef.current, prevRange));\n      };\n\n      // Determine initially visible range\n      onScroll();\n\n      window.addEventListener('scroll', onScroll, {\n        capture: false,\n        passive: true,\n      });\n\n      return () => {\n        window.removeEventListener('scroll', onScroll);\n      };\n    },\n    [cancelAsyncRange],\n  );\n\n  return range;\n}\n\nfunction scrollOffsetFn(parentRef) {\n  const bounds = parentRef.current.getBoundingClientRect();\n  return bounds.top * -1;\n}\n","import React, { useRef, forwardRef, useImperativeHandle } from 'react';\nimport { useVirtual } from 'modules/utilities/virtual';\n\nexport default forwardRef(function Virtualized(\n  { children, items: originalItems, overscan },\n  ref,\n) {\n  const parentRef = useRef();\n\n  const { virtualItems, totalSize, measure } = useVirtual({\n    parentRef,\n    size: originalItems.length,\n    estimateSize,\n    overscan,\n  });\n\n  useImperativeHandle(ref, () => ({\n    measure,\n  }));\n\n  return (\n    <div ref={parentRef} style={{ height: totalSize }}>\n      <div style={{ height: totalSize, position: 'relative' }}>\n        {virtualItems.map(virtualItem => (\n          <div\n            key={virtualItem.index}\n            ref={virtualItem.measureRef}\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              transform: `translateY(${virtualItem.start}px)`,\n            }}\n          >\n            {children({\n              item: originalItems[virtualItem.index],\n              virtualItem,\n              index: virtualItem.index,\n              measure,\n            })}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n});\n\nfunction estimateSize() {\n  return 500;\n}\n","import React, { forwardRef, useImperativeHandle } from 'react';\n\nexport default forwardRef(function BypassVirtualized({ children, items }, ref) {\n  useImperativeHandle(ref, () => ({\n    measure: noop,\n  }));\n\n  return (\n    <>\n      {items.map((item, index) =>\n        children({\n          item,\n          virtualItem: null,\n          index,\n          measure: noop,\n        }),\n      )}\n    </>\n  );\n});\n\nfunction noop() {\n  return null;\n}\n","import React, { forwardRef } from 'react';\nimport Virtualized from './components/Virtualized';\nimport BypassVirtualized from './components/BypassVirtualized';\n\nexport default forwardRef(function Virtualizer(\n  { children, items, bypass, ...forwardingProps },\n  ref,\n) {\n  const Component = bypass ? BypassVirtualized : Virtualized;\n  return (\n    <Component ref={ref} items={items} {...forwardingProps}>\n      {children}\n    </Component>\n  );\n});\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\n\nexport default function ExpandableActions({\n  className,\n  onExpand,\n  onExpandAll,\n  diffCount,\n}) {\n  return (\n    <Typography className={className} variant=\"body2\">\n      <MUILink onClick={onExpand}>{`показать еще ${diffCount}`}</MUILink>\n      {Boolean(onExpandAll) && (\n        <>\n          {', '}\n          <MUILink onClick={onExpandAll}>раскрыть все</MUILink>\n        </>\n      )}\n    </Typography>\n  );\n}\n","import React, { useState } from 'react';\nimport ExpandableActions from './components/ExpandableActions';\n\nconst DEFAULT_ALWAYS_EXPANDED_ITEMS_COUNT = 10;\nconst DEFAULT_COLLAPSIBLE_THRESHOLD = 2;\n\nexport default function Expandable({\n  classes,\n  collapsible,\n  children,\n  items: originalItems,\n  onExpand,\n  onExpandAll,\n  alwaysExpandedItemsCount,\n  collapsibleThreshold,\n}) {\n  const [collapsed, setCollapsed] = useState(true);\n\n  const actualCollapsible =\n    collapsible &&\n    originalItems.length > alwaysExpandedItemsCount + collapsibleThreshold;\n\n  const actualCollapsed = actualCollapsible && collapsed;\n\n  const actualItems = actualCollapsed\n    ? originalItems.slice(0, alwaysExpandedItemsCount)\n    : originalItems;\n\n  return (\n    <>\n      {children({ items: actualItems })}\n      {actualCollapsed && (\n        <ExpandableActions\n          className={classes.actions}\n          diffCount={originalItems.length - actualItems.length}\n          onExpand={event => {\n            onExpand(event);\n            setCollapsed(false);\n          }}\n          onExpandAll={onExpandAll}\n        />\n      )}\n    </>\n  );\n}\n\nExpandable.defaultProps = {\n  alwaysExpandedItemsCount: DEFAULT_ALWAYS_EXPANDED_ITEMS_COUNT,\n  collapsibleThreshold: DEFAULT_COLLAPSIBLE_THRESHOLD,\n};\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\nimport cls from 'classnames';\nimport clamp from 'lodash/clamp';\nimport {\n  groupVisitsBy,\n  PLAIN_GROUPS,\n  PLAIN_GROUPS_CONFIG,\n} from './arrangement/groupping';\nimport { calcStats } from './statistics';\nimport { sortVisitsBy } from './arrangement/sorting';\nimport VisitGroup from './components/VisitGroup';\nimport Virtualizer from './components/Virtualizer';\nimport Expandable from './components/Expandable';\n\nexport default function renderRecursive({\n  classes,\n  children,\n  provision,\n  urls,\n  config,\n  visitsList,\n  groupsOrder,\n  sortingOrder,\n  isObscure,\n  mapSectionLevel,\n  photosSectionLevel,\n  forwardingProps,\n  virtualize,\n}) {\n  const virtualizerRef = useRef();\n  const [collapsible, setCollapsible] = useState(true);\n  const disableCollapsible = useCallback(() => setCollapsible(false), []);\n  useEffect(() => virtualizerRef.current?.measure(), [collapsible]);\n\n  // if virtualize is true, then need to virtualize, so not yet virtualized\n  let virtualized = !virtualize;\n\n  return renderRecursiveInternal(\n    { visitsList, parent: null, field: null },\n    groupsOrder,\n  );\n\n  function renderRecursiveInternal(parentVisitsGroup, groupsOrderInternal) {\n    const [plainGroup, ...restGroupsOrder] = groupsOrderInternal;\n    if (!plainGroup) {\n      return null;\n    }\n    const { component: VisitsGroupComponent } = PLAIN_GROUPS_CONFIG[plainGroup];\n    const { visitsList: visitsListInternal } = parentVisitsGroup;\n\n    const nestingLevel = lookupLevel(parentVisitsGroup);\n    const expectedMaxLevel = nestingLevel + groupsOrderInternal.length;\n    const sectionLevel = resolveSectionLevel(nestingLevel, expectedMaxLevel);\n\n    const visitsGroups = groupVisitsBy(visitsListInternal, plainGroup).map(\n      visitsGroup => {\n        const enhancedVisitsGroup = {\n          ...visitsGroup,\n          plainGroup,\n          parent: parentVisitsGroup,\n        };\n        enhancedVisitsGroup.stats = calcStats(enhancedVisitsGroup, provision);\n        return enhancedVisitsGroup;\n      },\n    );\n\n    const sortedVisitsGroups = sortVisitsBy(\n      visitsGroups,\n      sortingOrder,\n      plainGroup,\n      provision,\n    );\n\n    const bypassVirtualization = virtualized;\n    if (!virtualized) {\n      virtualized = true; // only apply for the top level list\n    }\n    return (\n      <>\n        <Expandable\n          classes={{\n            actions: cls(classes.link, classes[`level${nestingLevel}`]),\n          }}\n          collapsible={collapsible && plainGroup === PLAIN_GROUPS.LOCATIONS}\n          items={sortedVisitsGroups}\n          onExpand={virtualizerRef.current?.measure}\n          onExpandAll={disableCollapsible}\n        >\n          {({ items: actualVisitsGroups }) => (\n            <Virtualizer\n              items={actualVisitsGroups}\n              bypass={bypassVirtualization}\n              ref={bypassVirtualization ? undefined : virtualizerRef}\n            >\n              {({ item: visitsGroup, index }) => (\n                <VisitGroup\n                  key={toFieldSignature(visitsGroup.field)}\n                  classes={resolveVisitsGroupClasses(classes, {\n                    nestingLevel,\n                    sectionLevel,\n                    isFirstChild: index === 0,\n                  })}\n                  visitsGroup={visitsGroup}\n                  VisitsGroupComponent={VisitsGroupComponent}\n                  config={config}\n                  isObscure={isObscure}\n                  provision={provision}\n                  urls={urls}\n                  forwardingProps={forwardingProps}\n                  showMap={sectionLevel === mapSectionLevel}\n                  showPhotos={sectionLevel === photosSectionLevel}\n                  onHeightChange={virtualizerRef.current?.measure}\n                >\n                  {children?.({\n                    level: nestingLevel,\n                    index,\n                    visitsGroup,\n                  })}\n                  {renderRecursiveInternal(visitsGroup, restGroupsOrder)}\n                </VisitGroup>\n              )}\n            </Virtualizer>\n          )}\n        </Expandable>\n      </>\n    );\n  }\n}\n\nfunction lookupLevel(visitsGroup) {\n  let currentVisitsGroup = visitsGroup;\n  let level = 0;\n  while (currentVisitsGroup) {\n    level += 1;\n    currentVisitsGroup = currentVisitsGroup.parent;\n  }\n  return Math.max(0, level - 1);\n}\n\nconst MAX_LEVEL = 3;\nfunction resolveSectionLevel(nestingLevel, expectedMaxLevel) {\n  return clamp(MAX_LEVEL - expectedMaxLevel + nestingLevel, 0, MAX_LEVEL - 1);\n}\n\nfunction toFieldSignature(field) {\n  const { name, value } = field ?? {};\n  return `${name}:${value}`;\n}\n\nfunction resolveVisitsGroupClasses(\n  classes,\n  { nestingLevel, sectionLevel, isFirstChild },\n) {\n  return {\n    level: classes[`level${nestingLevel}`],\n    nextLevel: classes[`level${nestingLevel + 1}`],\n    container: cls(\n      classes[`level${nestingLevel}`],\n      classes[`container${sectionLevel}`],\n      { [classes.noMarginTop]: isFirstChild && nestingLevel === 0 },\n    ),\n    header: classes[`header${sectionLevel}`],\n  };\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { switchFilteringFn } from './arrangement/filtering';\nimport renderGroupsRecursive from './renderGroupsRecursive';\n\nconst useStyles = makeStyles(theme => ({\n  noMarginTop: {},\n\n  link: {\n    cursor: 'pointer',\n  },\n  header0: {\n    ...theme.typography.h2,\n    wordBreak: 'break-word',\n  },\n  container0: {\n    display: 'flex',\n    alignItems: 'self-start',\n    '&:not($noMarginTop)': {\n      marginTop: '64px',\n    },\n  },\n  level0: {},\n\n  header1: {\n    ...theme.typography.h4,\n    wordBreak: 'break-word',\n  },\n  container1: {\n    display: 'flex',\n    alignItems: 'self-start',\n    marginTop: '18px',\n    marginBottom: '6px',\n  },\n  level1: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: '32px',\n    },\n  },\n\n  header2: {\n    ...theme.typography.body1,\n    wordBreak: 'break-word',\n  },\n  container2: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  level2: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: '96px',\n    },\n  },\n}));\n\nexport default function VisitsArranger({\n  visitsList,\n  groupsOrder,\n  sortingOrder,\n  filteringOption,\n  provision,\n  urls,\n  config,\n  mapSectionLevel,\n  photosSectionLevel,\n  children,\n  virtualize,\n  ...forwardingProps\n}) {\n  const classes = useStyles();\n\n  const actualVisitsList = visitsList.filter(\n    switchFilteringFn(provision, filteringOption),\n  );\n\n  return renderGroupsRecursive({\n    classes,\n    children,\n    provision,\n    urls,\n    config,\n    visitsList: actualVisitsList,\n    groupsOrder,\n    sortingOrder,\n    mapSectionLevel,\n    photosSectionLevel,\n    virtualize,\n    forwardingProps,\n  });\n}\n\nVisitsArranger.defaultProps = {\n  mapSectionLevel: 1,\n  photosSectionLevel: 1,\n};\n","import VisitsArranger from './VisitsArranger';\nexport * from './arrangement/groupping';\nexport * from './arrangement/sorting';\nexport * from './arrangement/filtering';\nexport * from './statistics';\n\nexport default VisitsArranger;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport VisitIcon from '../VisitIcon';\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'inline-block',\n    marginRight: '4px',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n  period: {\n    display: 'inline',\n    color: 'gray',\n    fontSize: 12,\n  },\n});\n\nconst VisitInfo = ({ visit, isLong, locationUrl }) => {\n  const classes = useStyles();\n  if (!visit) {\n    return 'Не указано';\n  }\n  const { locationName } = visit;\n  return (\n    <div className={classes.container}>\n      <VisitIcon visit={visit} className={classes.icon} />\n      <ConnectedLink to={locationUrl} optional={true}>\n        {locationName}\n      </ConnectedLink>\n      {isLong ? ', ' : ''}\n      <div className={classes.period}>\n        {isLong && visitDateTimePeriodToString(visit)}\n      </div>\n    </div>\n  );\n};\n\nVisitInfo.defaultProps = {\n  visit: {},\n};\n\nexport default VisitInfo;\n","import React from 'react';\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\nimport TransferWithinAStationIcon from '@material-ui/icons/TransferWithinAStation';\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\nimport DomainIcon from '@material-ui/icons/Domain';\nimport { VISIT_TYPES } from 'travel/models/visits/consts';\n\nexport default function VisitIcon({ visit: { visitType }, className }) {\n  const IconComponent = resolveRideIconComponent(visitType);\n  return <IconComponent className={className} />;\n}\n\nfunction resolveRideIconComponent(visitType) {\n  switch (visitType) {\n    case VISIT_TYPES.TRANSIT:\n      return TransferWithinAStationIcon;\n    case VISIT_TYPES.BASE_CAMP:\n      return DomainIcon;\n    case VISIT_TYPES.RELOCATION:\n      return LocalShippingIcon;\n    case VISIT_TYPES.REGULAR:\n    default:\n      return LocationCityIcon;\n  }\n}\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pipe = exports.listenerOptions = undefined;\nexports.preventTouchMove = preventTouchMove;\nexports.allowTouchMove = allowTouchMove;\nexports.preventInertiaScroll = preventInertiaScroll;\nexports.isTouchDevice = isTouchDevice;\nexports.camelToKebab = camelToKebab;\nexports.parse = parse;\nexports.getPadding = getPadding;\nexports.getWindowHeight = getWindowHeight;\nexports.getDocumentHeight = getDocumentHeight;\nexports.makeStyleTag = makeStyleTag;\nexports.injectStyles = injectStyles;\nexports.insertStyleTag = insertStyleTag;\n\nvar _exenv = require('exenv');\n\nvar listenerOptions = exports.listenerOptions = {\n  capture: false,\n  passive: false\n};\n\n// ==============================\n// Touch Helpers\n// ==============================\n\nfunction preventTouchMove(e) {\n  e.preventDefault();\n\n  return false;\n}\n\nfunction allowTouchMove(e) {\n  var target = e.currentTarget;\n\n  if (target.scrollHeight > target.clientHeight) {\n    e.stopPropagation();\n    return true;\n  }\n\n  e.preventDefault();\n  return false;\n}\n\nfunction preventInertiaScroll() {\n  var top = this.scrollTop;\n  var totalScroll = this.scrollHeight;\n  var currentScroll = top + this.offsetHeight;\n\n  if (top === 0) {\n    this.scrollTop = 1;\n  } else if (currentScroll === totalScroll) {\n    this.scrollTop = top - 1;\n  }\n}\n\n// `ontouchstart` check works on most browsers\n// `maxTouchPoints` works on IE10/11 and Surface\nfunction isTouchDevice() {\n  if (!_exenv.canUseDOM) return false;\n  return 'ontouchstart' in window || navigator.maxTouchPoints;\n}\n\n// ==============================\n// Misc.\n// ==============================\n\nfunction camelToKebab(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\nfunction parse(val) {\n  return isNaN(val) ? val : val + 'px';\n}\n\n// Take a list of functions and return a function that applies the list of\n// functions from left to right\n\nvar pipeFns = function pipeFns(a, b) {\n  return function () {\n    return b(a.apply(undefined, arguments));\n  };\n};\nvar pipe = exports.pipe = function pipe() {\n  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return fns.reduce(pipeFns);\n};\n\n// ==============================\n// Document Helpers\n// ==============================\n\nfunction getPadding() {\n  if (!_exenv.canUseDOM) return 0;\n\n  var paddingRight = parseInt(window.getComputedStyle(document.body).paddingRight, 10);\n  var scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n\n  return paddingRight + scrollbarWidth;\n}\n\nfunction getWindowHeight() {\n  var multiplier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n  if (_exenv.canUseDOM) {\n    return window.innerHeight * multiplier;\n  }\n}\n\nfunction getDocumentHeight() {\n  if (_exenv.canUseDOM) {\n    return document.body.clientHeight;\n  }\n}\n\n// ==============================\n// Style Sheets\n// ==============================\n\nfunction makeStyleTag() {\n  if (!_exenv.canUseDOM) return;\n\n  var tag = document.createElement('style');\n  tag.type = 'text/css';\n  tag.setAttribute('data-react-scrolllock', '');\n\n  return tag;\n}\nfunction injectStyles(tag, css) {\n  if (!_exenv.canUseDOM) return;\n\n  if (tag.styleSheet) {\n    tag.styleSheet.cssText = css;\n  } else {\n    tag.appendChild(document.createTextNode(css));\n  }\n}\nfunction insertStyleTag(tag) {\n  if (!_exenv.canUseDOM) return;\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n\n  head.appendChild(tag);\n}","import React from 'react';\nimport BikeIcon from '@material-ui/icons/DirectionsBike';\nimport BoatIcon from '@material-ui/icons/DirectionsBoat';\nimport BusIcon from '@material-ui/icons/DirectionsBus';\nimport CarIcon from '@material-ui/icons/DirectionsCar';\nimport CustomTransportIcon from '@material-ui/icons/Commute';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\nimport TerrainIcon from '@material-ui/icons/Terrain';\nimport TrainIcon from '@material-ui/icons/Train';\nimport TruckIcon from '@material-ui/icons/LocalShipping';\nimport VanIcon from '@material-ui/icons/AirportShuttle';\nimport WalkIcon from '@material-ui/icons/DirectionsWalk';\nimport TramIcon from '@material-ui/icons/Tram';\nimport LocalTaxiIcon from '@material-ui/icons/LocalTaxi';\nimport SubwayIcon from '@material-ui/icons/Subway';\nimport SeatIcon from '@material-ui/icons/AirlineSeatReclineNormal';\nimport UnknownRideIcon from '@material-ui/icons/NotListedLocation';\nimport { VEHICLE_TYPES } from 'travel/models/rides/consts';\n\nexport default function RideIcon({ ride: { vehicleType }, className }) {\n  const IconComponent = resolveRideIconComponent(vehicleType);\n  return <IconComponent className={className} />;\n}\n\nfunction resolveRideIconComponent(vehicleType) {\n  switch (vehicleType) {\n    case VEHICLE_TYPES.CAR:\n      return CarIcon;\n    case VEHICLE_TYPES.TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.AIRCRAFT:\n      return FlightIcon;\n    case VEHICLE_TYPES.BUS:\n    case VEHICLE_TYPES.TROLLEY:\n    case VEHICLE_TYPES.CITY_BUS:\n      return BusIcon;\n    case VEHICLE_TYPES.MOTORHOME:\n    case VEHICLE_TYPES.JITNEY:\n      return VanIcon;\n    case VEHICLE_TYPES.LOCAL_TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.FERRY:\n      return BoatIcon;\n    case VEHICLE_TYPES.BIKE:\n      return BikeIcon;\n    case VEHICLE_TYPES.BY_FEET:\n      return WalkIcon;\n    case VEHICLE_TYPES.MOTORBIKE:\n      return MotorcycleIcon;\n    case VEHICLE_TYPES.TRUCK:\n      return TruckIcon;\n    case VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:\n      return TerrainIcon;\n    case VEHICLE_TYPES.TRAM:\n      return TramIcon;\n    case VEHICLE_TYPES.TAXI:\n      return LocalTaxiIcon;\n    case VEHICLE_TYPES.SUBWAY:\n      return SubwayIcon;\n    case VEHICLE_TYPES.PUBLIC_TRANSPORT:\n      return SeatIcon;\n    case VEHICLE_TYPES.ROPEWAY:\n    case VEHICLE_TYPES.FUNICULAR:\n      return CustomTransportIcon;\n    default:\n      return UnknownRideIcon;\n  }\n}\n","import resolveLocationFirstAndLastVisitDateTime from './resolveLocationFirstAndLastVisitDateTime';\n\nexport default function adaptMarkerData({\n  locationsIds,\n  locationsDict,\n  visitsDict,\n  locationsRating,\n}) {\n  return locationsIds.map(locationId => {\n    const location = locationsDict[locationId];\n    if (!location) {\n      return null;\n    }\n    const { lon, lat, locationName, visitsIds } = location;\n    const {\n      firstVisitDateTime,\n      lastVisitDateTime,\n    } = resolveLocationFirstAndLastVisitDateTime(visitsIds ?? [], visitsDict);\n\n    return {\n      locationName,\n      lat,\n      lon,\n      firstVisitDateTime,\n      lastVisitDateTime,\n      locationRating: locationsRating[locationId],\n      visitsCount: location.visitsIds?.length,\n    };\n  });\n}\n","import min from 'lodash/min';\nimport max from 'lodash/max';\n\nexport default function resolveLocationFirstAndLastVisitDateTime(\n  visitsIds,\n  visitsDict,\n) {\n  return visitsIds.reduce(\n    (accumulator, visitId) => {\n      const visit = visitsDict[visitId];\n      if (visit) {\n        const { arrivalDateTime, departureDateTime } = visit;\n        accumulator.firstVisitDateTime = min([\n          accumulator.firstVisitDateTime,\n          arrivalDateTime,\n        ]);\n        accumulator.lastVisitDateTime = max([\n          accumulator.lastVisitDateTime,\n          departureDateTime,\n        ]);\n      }\n      return accumulator;\n    },\n    { firstVisitDateTime: null, lastVisitDateTime: null },\n  );\n}\n","export const KEY_MARKERS_SCALE_BY = 'scale';\n\nexport const MARKERS_SCALES = {\n  BY_FIRST_VISIT: 'fv',\n  BY_LAST_VISIT: 'lv',\n  BY_VISITS_COUNT: 'vc',\n  BY_RATING: 'r',\n};\n\nexport const MARKERS_SCALE_DEFAULT = MARKERS_SCALES.BY_LAST_VISIT;\n\nexport const MARKERS_SCALE_IMAGES_BASE_PATH =\n  'https://res.cloudinary.com/dc2eke0gj/image/upload/markers/';\n\nexport const MARKERS_SCALE_BY_TIME_FILENAMES = [\n  'step_by_time_1_zjtrlw.png',\n  'step_by_time_2_tvotvg.png',\n  'step_by_time_3_ylj1vi.png',\n  'step_by_time_4_uovfrs.png',\n  'step_by_time_5_s4jq0u.png',\n  'step_by_time_6_lmihnf.png',\n];\n\nexport const MARKERS_SCALE_BY_RATING_FILENAMES = [\n  'step_by_rating_1_id2qgb.png',\n  'step_by_rating_2_iiqvik.png',\n  'step_by_rating_3_x2gzsd.png',\n  'step_by_rating_4_cbqdcn.png',\n  'step_by_rating_5_viyhls.png',\n  'step_by_rating_6_zzfgki.png',\n  'step_by_rating_7_pjjhhq.png',\n  'step_by_rating_8_vgetsd.png',\n  'step_by_rating_9_t6tenz.png',\n  'step_by_rating_10_yjywr0.png',\n];\n\nexport const MARKERS_SCALE_BY_VISITS_FILENAMES = [\n  'step_by_visits_1_zv3tba.png',\n  'step_by_visits_2_qthjqa.png',\n  'step_by_visits_3_xcjyla.png',\n  'step_by_visits_4_kwdwka.png',\n  'step_by_visits_5_xnnipa.png',\n];\n\nexport const MARKERS_SCALE_BY_SOURCES = {\n  [MARKERS_SCALES.BY_FIRST_VISIT]: MARKERS_SCALE_BY_TIME_FILENAMES,\n  [MARKERS_SCALES.BY_LAST_VISIT]: MARKERS_SCALE_BY_TIME_FILENAMES,\n  [MARKERS_SCALES.BY_VISITS_COUNT]: MARKERS_SCALE_BY_VISITS_FILENAMES,\n  [MARKERS_SCALES.BY_RATING]: MARKERS_SCALE_BY_RATING_FILENAMES,\n};\n\nexport const MARKERS_RATING_LEVELS = {\n  ALL: 'all',\n  WANT_COME_BACK: 'good',\n  LOVE_THIS_PLACE: 'best',\n};\n\nexport const KEY_MARKERS_RATING_LEVEL = 'rating';\n\nexport const MARKERS_RATING_LEVEL_DEFAULT = MARKERS_RATING_LEVELS.ALL;\n","import min from 'lodash/min';\nimport max from 'lodash/max';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\nimport { MARKERS_SCALES } from '../consts';\n\nexport default function makeScaleUtils(scaleBy) {\n  switch (scaleBy) {\n    case MARKERS_SCALES.BY_VISITS_COUNT:\n      return {\n        resolveStep: stepByVisitsCount,\n      };\n    case MARKERS_SCALES.BY_RATING:\n      return {\n        resolveStep: stepByRating,\n      };\n    case MARKERS_SCALES.BY_LAST_VISIT:\n      return makeScaleByDateTimeUtils('lastVisitDateTime');\n    case MARKERS_SCALES.BY_FIRST_VISIT:\n      return makeScaleByDateTimeUtils('firstVisitDateTime');\n    default:\n      return {\n        resolveStep: () => 1,\n      };\n  }\n}\n\nfunction stepByVisitsCount({ visitsCount }) {\n  switch (true) {\n    case visitsCount > 10:\n      return 5;\n    case visitsCount > 5:\n      return 4;\n    case visitsCount > 2:\n      return 3;\n    case visitsCount > 1:\n      return 2;\n    default:\n      return 1;\n  }\n}\n\nfunction stepByRating({ locationRating }) {\n  switch (locationRating) {\n    case LOCATION_RATING.PLACE_TO_LIVE:\n      return 1;\n    case LOCATION_RATING.FEW_PER_YEAR:\n    case LOCATION_RATING.ONCE_PER_YEAR:\n      return 3;\n    case LOCATION_RATING.ONCE_PER_TWO_YEARS:\n    case LOCATION_RATING.ONCE_PER_FIVE_YEARS:\n      return 4;\n    case LOCATION_RATING.ONCE_PER_DECADE:\n    case LOCATION_RATING.TWICE_PER_LIVE:\n      return 7;\n    case LOCATION_RATING.ONCE_PER_LIVE:\n      return 9;\n    case LOCATION_RATING.NEVER:\n      return 10;\n    default:\n      return 6;\n  }\n}\n\nconst stepsByDateTimeCount = 6;\nfunction makeScaleByDateTimeUtils(field) {\n  return {\n    resolveStep: function stepByDateTime(\n      { [field]: dateTime },\n      { minTime, diff },\n    ) {\n      const step = ((dateTime - minTime) / diff) * stepsByDateTimeCount;\n      return Math.min(Math.max(Math.floor(step), 0), stepsByDateTimeCount);\n    },\n    resolveOptions: function resolveOptionsForStepByDateTime(markersDataList) {\n      const times = markersDataList\n        .map(markerData => markerData[field] && markerData[field].getTime())\n        .filter(Boolean);\n\n      const minTime = min(times);\n      const maxTime = max(times) + 1;\n      const diff = maxTime - minTime;\n      return { minTime, diff };\n    },\n  };\n}\n","import ru from 'date-fns/locale/ru';\nimport dateFormat from './safeDateFormat';\n\nexport default function formatDate(date, format = 'eeeeee, d MMMM yyyy') {\n  return dateFormat(date, format, { locale: ru });\n}\n","import formatDate from 'modules/utilities/dateTime/formatDate';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nexport default function renderTitle({\n  locationName,\n  locationRating,\n  visitsCount,\n  firstVisitDateTime,\n  lastVisitDateTime,\n}) {\n  return [\n    locationName,\n    `Посещено ${visitsCount} раз`,\n    `Впервые ${formatDate(firstVisitDateTime)}`,\n    visitsCount > 1 && `Прошлое посешение ${formatDate(lastVisitDateTime)}`,\n    `Рейтинг: ${renderRating(locationRating)}`,\n  ]\n    .filter(Boolean)\n    .join('\\n');\n}\n\nfunction renderRating(locationRating) {\n  switch (locationRating) {\n    case LOCATION_RATING.PLACE_TO_LIVE:\n      return 'Жил бы здесь';\n    case LOCATION_RATING.FEW_PER_YEAR:\n    case LOCATION_RATING.ONCE_PER_YEAR:\n      return 'Готов ездить сюда постоянно';\n    case LOCATION_RATING.ONCE_PER_TWO_YEARS:\n    case LOCATION_RATING.ONCE_PER_FIVE_YEARS:\n      return 'Приезжал бы иногда';\n    case LOCATION_RATING.ONCE_PER_DECADE:\n    case LOCATION_RATING.TWICE_PER_LIVE:\n      return 'Заглянул бы еще разок';\n    case LOCATION_RATING.ONCE_PER_LIVE:\n      return 'Одного посещения достаточно';\n    case LOCATION_RATING.NEVER:\n      return 'Тут нечего делать';\n    default:\n      return '?';\n  }\n}\n","import {\n  MARKERS_SCALE_BY_SOURCES,\n  MARKERS_SCALE_BY_TIME_FILENAMES,\n  MARKERS_SCALE_IMAGES_BASE_PATH,\n} from '../consts';\n\nexport default function resolveMarkerUrl(step, scaleBy) {\n  if (!scaleBy) {\n    return `${MARKERS_SCALE_IMAGES_BASE_PATH}${\n      MARKERS_SCALE_BY_TIME_FILENAMES[0]\n    }`;\n  }\n  const markerSources = MARKERS_SCALE_BY_SOURCES[scaleBy];\n  const subPath = markerSources[step - 1] || markerSources[0];\n  return `${MARKERS_SCALE_IMAGES_BASE_PATH}${subPath}`;\n}\n","import { useState, useEffect, useRef } from 'react';\n\nexport default markersData => {\n  const [googleMapsApi, setGoogleMapsApi] = useState(null);\n\n  const isFirsRenderRef = useRef(true);\n\n  useEffect(\n    () => {\n      if (!googleMapsApi) {\n        return undefined;\n      }\n      const { map, maps } = googleMapsApi;\n      const bounds = new maps.LatLngBounds();\n      const markers = markersData.map(\n        ({ lat, lon, iconUrl, title, zIndex }) => {\n          const marker = new maps.Marker({\n            map,\n            position: { lat, lng: lon },\n            icon: {\n              url: iconUrl,\n              scaledSize: new maps.Size(24, 24),\n            },\n            scale: 0.5,\n            title,\n            zIndex,\n          });\n          bounds.extend(marker.position);\n          return marker;\n        },\n      );\n      if (isFirsRenderRef.current) {\n        map.setOptions({ maxZoom: 11, minZoom: 2 });\n        map.fitBounds(bounds);\n        map.setOptions({ maxZoom: null, minZoom: null });\n        isFirsRenderRef.current = false;\n      }\n      return () => {\n        markers.forEach(marker => {\n          marker.setMap(null);\n          marker.setVisible(false);\n        });\n        markers.length = 0;\n      };\n    },\n    [googleMapsApi, markersData],\n  );\n  return { handleGoogleApiLoaded: api => setGoogleMapsApi(api) };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {\n  MARKERS_SCALES,\n  KEY_MARKERS_SCALE_BY,\n  KEY_MARKERS_RATING_LEVEL,\n} from '../../consts';\n\nexport default function MarkersScaleSelect({\n  classes,\n  scaleBy,\n  onClose,\n  onChange,\n}) {\n  return (\n    <List>\n      <ListItem>\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink={true} id=\"select-scaleBy-filter-label\">\n            Раскрасить маркеры\n          </InputLabel>\n          <Select\n            labelId=\"select-scaleBy-filter-label\"\n            autoWidth={true}\n            id=\"select-scaleBy-filter\"\n            value={scaleBy}\n            onChange={event => {\n              onClose();\n              const nextScaleBy = event.target.value;\n              const updates = { [KEY_MARKERS_SCALE_BY]: nextScaleBy };\n              if (nextScaleBy !== MARKERS_SCALES.BY_RATING) {\n                updates[KEY_MARKERS_RATING_LEVEL] = undefined;\n              }\n              onChange(updates);\n            }}\n          >\n            <MenuItem\n              key={MARKERS_SCALES.BY_FIRST_VISIT}\n              value={MARKERS_SCALES.BY_FIRST_VISIT}\n            >\n              По первому посещению\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_LAST_VISIT}\n              value={MARKERS_SCALES.BY_LAST_VISIT}\n            >\n              По последнему посещению\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_VISITS_COUNT}\n              value={MARKERS_SCALES.BY_VISITS_COUNT}\n            >\n              По числу посещений\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_RATING}\n              value={MARKERS_SCALES.BY_RATING}\n            >\n              По рейтингу\n            </MenuItem>\n          </Select>\n        </FormControl>\n      </ListItem>\n    </List>\n  );\n}\n\nMarkersScaleSelect.propTypes = {\n  classes: PropTypes.shape({ formControl: PropTypes.string.isRequired })\n    .isRequired,\n  scaleBy: PropTypes.oneOf(Object.values(MARKERS_SCALES)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { MARKERS_RATING_LEVELS, KEY_MARKERS_RATING_LEVEL } from '../../consts';\n\nexport default function MarkersRatingLevelSelect({\n  classes,\n  ratingLevel,\n  onClose,\n  onChange,\n}) {\n  return (\n    <List>\n      <ListItem>\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink={true} id=\"select-ratingLevel-filter-label\">\n            Фильтр по рейтингу\n          </InputLabel>\n          <Select\n            labelId=\"select-ratingLevel-filter-label\"\n            autoWidth={true}\n            id=\"select-ratingLevel-filter\"\n            value={ratingLevel}\n            onChange={event => {\n              onClose();\n              onChange({\n                [KEY_MARKERS_RATING_LEVEL]: event.target.value,\n              });\n            }}\n          >\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.ALL}\n              value={MARKERS_RATING_LEVELS.ALL}\n            >\n              Все\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.WANT_COME_BACK}\n              value={MARKERS_RATING_LEVELS.WANT_COME_BACK}\n            >\n              Куда бы вернулся\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.LOVE_THIS_PLACE}\n              value={MARKERS_RATING_LEVELS.LOVE_THIS_PLACE}\n            >\n              Лучшие места\n            </MenuItem>\n          </Select>\n        </FormControl>\n      </ListItem>\n    </List>\n  );\n}\n\nMarkersRatingLevelSelect.propTypes = {\n  classes: PropTypes.shape({ formControl: PropTypes.string.isRequired })\n    .isRequired,\n  ratingLevel: PropTypes.oneOf(Object.values(MARKERS_RATING_LEVELS)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSidebar } from 'core/context/SidebarContext';\nimport MarkersScaleSelect from './blocks/MarkersScaleSelect';\nimport MarkersRatingLevelSelect from './blocks/MarkersRatingLevelSelect';\nimport {\n  MARKERS_SCALES,\n  KEY_MARKERS_SCALE_BY,\n  MARKERS_SCALE_DEFAULT,\n  MARKERS_RATING_LEVELS,\n  KEY_MARKERS_RATING_LEVEL,\n  MARKERS_RATING_LEVEL_DEFAULT,\n} from './consts';\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function(setQueryFilter, queryFilter) {\n  const classes = useStyles();\n  const {\n    [KEY_MARKERS_SCALE_BY]: scaleByQuery,\n    [KEY_MARKERS_RATING_LEVEL]: ratingLevelQuery,\n  } = queryFilter || {};\n  const scaleBy = resolveActualScaleBy(scaleByQuery);\n  const ratingLevel = resolveActualRatingLevel(ratingLevelQuery);\n  useSidebar(\n    ({ closeSidebar }) => (\n      <>\n        <MarkersScaleSelect\n          classes={classes}\n          onClose={closeSidebar}\n          scaleBy={scaleBy}\n          onChange={setQueryFilter}\n        />\n        {scaleBy === MARKERS_SCALES.BY_RATING && (\n          <MarkersRatingLevelSelect\n            classes={classes}\n            onClose={closeSidebar}\n            ratingLevel={ratingLevel}\n            onChange={setQueryFilter}\n          />\n        )}\n      </>\n    ),\n    [scaleBy, ratingLevel],\n  );\n\n  return { scaleBy, ratingLevel };\n}\n\nfunction resolveActualScaleBy(scaleByQuery) {\n  return Object.values(MARKERS_SCALES).includes(scaleByQuery)\n    ? scaleByQuery\n    : MARKERS_SCALE_DEFAULT;\n}\nfunction resolveActualRatingLevel(ratingLevelQuery) {\n  return Object.values(MARKERS_RATING_LEVELS).includes(ratingLevelQuery)\n    ? ratingLevelQuery\n    : MARKERS_RATING_LEVEL_DEFAULT;\n}\n","/* globals __GOOGLE_MAP_API_KEY__ */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport GoogleMapReact from 'google-map-react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport locationPropTypes from 'travel/models/locations/propTypes';\nimport visitsPropTypes from 'travel/models/visits/propTypes';\nimport adaptMarkerData from './utils/adaptMarkerData';\nimport filterMarkerData from './utils/filterMarkerData';\nimport makeScaleUtils from './utils/makeScaleUtils';\nimport renderTitle from './utils/renderTitle';\nimport resolveMarkerUrl from './utils/resolveMarkerUrl';\nimport { MARKERS_SCALES, MARKERS_RATING_LEVELS } from './consts';\nimport useMarkers from './useMarkers';\n\nexport { MARKERS_SCALES, MARKERS_RATING_LEVELS };\nexport useMarkersScaleSidebar from './useMarkersScaleSidebar';\n\nconst useStyles = makeStyles({\n  googleMapContainer: {\n    margin: '12px 0',\n    maxWidth: '100%',\n    flexGrow: 1,\n    minHeight: ({ minHeight }) => minHeight,\n    position: 'relative',\n  },\n  googleMapPosition: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n  },\n});\n\nexport default function LocationsMap({\n  className,\n  locationsDict,\n  visitsDict,\n  locationsRating,\n  locationsIds,\n  minHeight,\n  scaleBy,\n  ratingLevel,\n}) {\n  const classes = useStyles({ minHeight });\n  const markersData = useMemo(\n    () => {\n      const adaptedMarkersData = adaptMarkerData({\n        locationsDict,\n        visitsDict,\n        locationsRating,\n        locationsIds,\n      });\n      const actualMarkersData = filterMarkerData(adaptedMarkersData, {\n        ratingLevel,\n      });\n      const { resolveStep, resolveOptions } = makeScaleUtils(scaleBy);\n      const options = resolveOptions && resolveOptions(actualMarkersData);\n      return actualMarkersData.map(markerData => {\n        const step = resolveStep(markerData, options);\n        return {\n          ...markerData,\n          zIndex: [\n            MARKERS_SCALES.BY_RATING,\n            MARKERS_SCALES.BY_FIRST_VISIT,\n          ].includes(scaleBy)\n            ? 10 - step\n            : step,\n          iconUrl: resolveMarkerUrl(step, scaleBy),\n          title: renderTitle(markerData),\n        };\n      });\n    },\n    [\n      locationsDict,\n      visitsDict,\n      locationsRating,\n      locationsIds,\n      scaleBy,\n      ratingLevel,\n    ],\n  );\n  const { handleGoogleApiLoaded } = useMarkers(markersData);\n\n  return (\n    <div className={cls(className, classes.googleMapContainer)}>\n      <div className={classes.googleMapPosition}>\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: __GOOGLE_MAP_API_KEY__ }}\n          center={{ lat: 0, lng: 0 }}\n          zoom={11}\n          onGoogleApiLoaded={handleGoogleApiLoaded}\n        />\n      </div>\n    </div>\n  );\n}\n\nLocationsMap.propTypes = {\n  className: PropTypes.string,\n  visitsDict: PropTypes.objectOf(PropTypes.shape(visitsPropTypes)).isRequired,\n  locationsDict: PropTypes.objectOf(PropTypes.shape(locationPropTypes))\n    .isRequired,\n  locationsIds: PropTypes.arrayOf(PropTypes.number).isRequired,\n  locationsRating: PropTypes.objectOf(PropTypes.number).isRequired,\n  minHeight: PropTypes.number,\n  scaleBy: PropTypes.oneOf(Object.values(MARKERS_SCALES)).isRequired,\n  ratingLevel: PropTypes.oneOf(Object.values(MARKERS_RATING_LEVELS)).isRequired,\n};\n\nLocationsMap.defaultProps = {\n  className: undefined,\n  minHeight: '400px',\n};\n","import { MARKERS_RATING_LEVELS } from '../consts';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nexport default function filterMarkerData(adaptedMarkersData, { ratingLevel }) {\n  const validMarkersData = adaptedMarkersData.filter(Boolean);\n  if (\n    !Object.values(MARKERS_RATING_LEVELS).includes(ratingLevel) ||\n    ratingLevel === MARKERS_RATING_LEVELS.ALL\n  ) {\n    return validMarkersData;\n  }\n  return validMarkersData.filter(({ locationRating, visitsCount }) => {\n    switch (ratingLevel) {\n      case MARKERS_RATING_LEVELS.WANT_COME_BACK:\n        if (visitsCount < 2) {\n          return locationRating <= LOCATION_RATING.TWICE_PER_LIVE;\n        }\n        return locationRating <= LOCATION_RATING.ONCE_PER_DECADE;\n      case MARKERS_RATING_LEVELS.LOVE_THIS_PLACE:\n        return locationRating <= LOCATION_RATING.ONCE_PER_YEAR;\n      default:\n        return true;\n    }\n  });\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HichHikingIcon from '@material-ui/icons/ThumbUp';\nimport { rideDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport { RIDE_TYPES } from 'travel/models/rides/consts';\nimport RideIcon from 'travel/components/RideIcon';\n\nconst useStyles = makeStyles({\n  icon: { color: 'gray', fontSize: 16, height: 16 },\n  absoluteIcon: {\n    // todo fast decision, need refactor\n    color: 'gray',\n    fontSize: 16,\n    height: 16,\n    position: 'absolute',\n  },\n  detail: { color: 'gray', fontSize: 12 },\n});\n\nexport default function RideInfo({\n  ride,\n  ride: { rideType } = {},\n  className,\n  isLong,\n}) {\n  const classes = useStyles();\n\n  if (!ride) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <RideIcon ride={ride} className={classes.icon} />\n      {rideType === RIDE_TYPES.HITCH_HIKING && (\n        <HichHikingIcon className={classes.absoluteIcon} />\n      )}\n      {isLong && rideDateTimePeriodToString(ride)}\n    </div>\n  );\n}\n","import { useMemo } from 'react';\nimport { usePaths } from 'modules/packages';\n\nexport default function useVisitsUrls({ editable, userAlias, section }) {\n  const { travel: travelPaths } = usePaths();\n\n  return useMemo(\n    () => ({\n      hyperlinks: () => {},\n      locationsUrl: travelPaths.locations.toUrl({ userAlias, section }),\n      tripCreateUrl: editable\n        ? travelPaths.tripCreate.toUrl({ userAlias })\n        : null,\n      resolveLocationUrl: ({ locationId }) =>\n        travelPaths.location.toUrl({\n          userAlias,\n          section,\n          strLocationId: String(locationId),\n        }),\n      resolveCountryUrl: ({ countryId }) =>\n        travelPaths.country.toUrl({\n          userAlias,\n          section,\n          strCountryId: String(countryId),\n        }),\n      resolveTripEditUrl: ({ tripId }) =>\n        editable\n          ? travelPaths.tripEdit.toUrl({\n              strTripId: String(tripId),\n              userAlias,\n            })\n          : null,\n      resolveVisitUrl: ({ visitId }) =>\n        editable\n          ? travelPaths.visit.toUrl({\n              userAlias,\n              section,\n              strVisitId: String(visitId),\n            })\n          : null,\n    }),\n    [editable, travelPaths],\n  );\n}\n","import uniq from 'lodash/uniq';\n\nexport default (array, { maxLength, separator = ', ' }) => {\n  const uniqArray = uniq(array);\n  const result = uniqArray.slice(0, maxLength).join(separator);\n  if (uniqArray.length > maxLength) {\n    return `${result}...`;\n  }\n  return result;\n};\n","import dateMin from 'date-fns/min';\nimport dateMax from 'date-fns/max';\nimport groupBy from 'lodash/groupBy';\nimport uniqTrimAndJoin from 'modules/utilities/text/uniqTrimAndJoin';\nimport { VISIT_TYPES } from 'travel/models/visits/consts';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\n\nconst FALLBACK = 'Без названия';\nexport default function resolveTripCaption(\n  trip,\n  visitsDict,\n  countriesDict,\n  locationsDict,\n) {\n  const {\n    visits: visitsIds,\n    originLocationId,\n    tripName,\n    hasAutogeneratedTripName,\n  } = trip || {};\n\n  const originCountryId = locationsDict[originLocationId]?.countryId;\n\n  if (!hasAutogeneratedTripName) {\n    return tripName || FALLBACK;\n  }\n  if (!visitsIds.length) {\n    return FALLBACK;\n  }\n\n  const periodStr = visitDateTimePeriodToString({\n    arrivalDateTime: dateMin(\n      visitsIds.map(visitsId => visitsDict[visitsId]?.arrivalDateTime),\n    ),\n    departureDateTime: dateMax(\n      visitsIds.map(visitsId => visitsDict[visitsId]?.departureDateTime),\n    ),\n  });\n\n  const visitsByCountries = Object.keys(\n    groupBy(\n      visitsIds.filter(\n        visitId => visitsDict[visitId]?.visitType !== VISIT_TYPES.TRANSIT,\n      ),\n      'countryId',\n    ),\n  );\n\n  if (visitsByCountries.length === 1) {\n    const locationsNames = uniqTrimAndJoin(\n      visitsIds.map(visitId => visitsDict[visitId]?.locationName),\n      { maxLength: 4 },\n    );\n    return `${locationsNames || FALLBACK}, ${periodStr}`;\n  }\n\n  const countriesNames = uniqTrimAndJoin(\n    visitsByCountries\n      .map(\n        countryId =>\n          Number(countryId) !== originCountryId &&\n          countriesDict[countryId] &&\n          countriesDict[countryId].countryName,\n      )\n      .filter(Boolean),\n    { maxLength: 4 },\n  );\n  return `${countriesNames || FALLBACK}, ${periodStr}`;\n}\n"],"sourceRoot":""}