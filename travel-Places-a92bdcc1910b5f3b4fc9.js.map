{"version":3,"sources":["webpack:///./node_modules/core-js/modules/esnext.async-iterator.constructor.js","webpack:///./node_modules/core-js/modules/esnext.async-iterator.to-array.js","webpack:///./node_modules/core-js/modules/esnext.iterator.to-array.js","webpack:///./node_modules/blurhash/dist/esm/error.js","webpack:///./node_modules/blurhash/dist/esm/base83.js","webpack:///./node_modules/blurhash/dist/esm/utils.js","webpack:///./node_modules/react-scrolllock/dist/TouchScrollable.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/@material-ui/icons/Event.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./node_modules/@material-ui/icons/Flag.js","webpack:///./node_modules/@material-ui/icons/Place.js","webpack:///./node_modules/@material-ui/icons/Timelapse.js","webpack:///./node_modules/@material-ui/icons/FiberNew.js","webpack:///./node_modules/lodash/orderBy.js","webpack:///./node_modules/react-image-gallery/build/image-gallery.js","webpack:///./node_modules/react-lazy-load/lib/LazyLoad.js","webpack:///./node_modules/eventlistener/eventlistener.js","webpack:///./node_modules/lodash.debounce/index.js","webpack:///./node_modules/lodash.throttle/index.js","webpack:///./node_modules/react-lazy-load/lib/utils/parentScroll.js","webpack:///./node_modules/react-lazy-load/lib/utils/inViewport.js","webpack:///./node_modules/react-lazy-load/lib/utils/getElementPosition.js","webpack:///./node_modules/@material-ui/icons/ZoomOut.js","webpack:///./node_modules/@material-ui/icons/ZoomIn.js","webpack:///./node_modules/react-scrolllock/dist/index.js","webpack:///./node_modules/react-scrolllock/dist/ScrollLock.js","webpack:///./node_modules/react-scrolllock/dist/withLockSheet.js","webpack:///./node_modules/react-scrolllock/dist/withTouchListeners.js","webpack:///./node_modules/react-dropzone/node_modules/prop-types/index.js","webpack:///./node_modules/react-dropzone/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/react-dropzone/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/attr-accept/dist/index.js","webpack:///./node_modules/core-js/modules/esnext.array.group-by.js","webpack:///./node_modules/core-js/internals/array-group-by.js","webpack:///./node_modules/core-js/internals/array-from-constructor-and-list.js","webpack:///./src/packages/travel/pages/TripPage/TripPage.jsx","webpack:///./node_modules/@material-ui/system/esm/css.js","webpack:///./node_modules/@material-ui/system/esm/compose.js","webpack:///./node_modules/@material-ui/system/esm/style.js","webpack:///./node_modules/@material-ui/system/esm/borders.js","webpack:///./node_modules/@material-ui/system/esm/display.js","webpack:///./node_modules/@material-ui/system/esm/flexbox.js","webpack:///./node_modules/@material-ui/system/esm/grid.js","webpack:///./node_modules/@material-ui/system/esm/positions.js","webpack:///./node_modules/@material-ui/system/esm/palette.js","webpack:///./node_modules/@material-ui/system/esm/shadows.js","webpack:///./node_modules/@material-ui/system/esm/sizing.js","webpack:///./node_modules/@material-ui/system/esm/typography.js","webpack:///./node_modules/@material-ui/styles/esm/styled/styled.js","webpack:///./node_modules/@material-ui/core/esm/styles/styled.js","webpack:///./node_modules/@material-ui/core/esm/Box/Box.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/Star.js","webpack:///./node_modules/@material-ui/lab/esm/Rating/Rating.js","webpack:///./src/packages/travel/pages/LocationPage/blocks/LocationRating.jsx","webpack:///./src/packages/travel/pages/LocationPage/useLocationWithTripStats.js","webpack:///./src/packages/travel/dataSource/useLocation.js","webpack:///./src/packages/travel/pages/LocationPage/LocationPage.jsx","webpack:///./node_modules/blurhash/dist/esm/encode.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/file-selector/dist/es5/file.js","webpack:///./node_modules/file-selector/dist/es5/file-selector.js","webpack:///./node_modules/react-dropzone/dist/es/utils/index.js","webpack:///./node_modules/react-dropzone/dist/es/index.js","webpack:///./src/packages/travel/pages/VisitPage/resolveDropzoneStyles.js","webpack:///./src/packages/travel/pages/VisitPage/components/PhotosDropzone/PhotosDropzone.jsx","webpack:///./src/packages/travel/pages/VisitPage/VisitPage.jsx","webpack:///./src/modules/components/loaders/BackdropLoader.jsx","webpack:///./src/packages/travel/pages/VisitsPage/sidebarConsts.js","webpack:///./src/packages/travel/pages/VisitsPage/consts.js","webpack:///./src/packages/travel/pages/VisitsPage/useVisitsGroupingSidebar.jsx","webpack:///./src/packages/travel/pages/VisitsPage/components/VisitsTitle/VisitsTitle.jsx","webpack:///./src/packages/travel/pages/VisitsPage/locators.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveGroupsOrder.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveSortingOrder.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveFiltering.js","webpack:///./src/packages/travel/pages/VisitsPage/VisitsPage.jsx","webpack:///./src/packages/travel/pages/LocationsPage/blocks/LocationRating.jsx","webpack:///./src/packages/travel/pages/LocationsPage/LocationsPage.jsx","webpack:///./src/packages/travel/pages/LocationsPage/useUserLocations.js","webpack:///./src/packages/travel/pages/CountryPage/CountryPage.jsx","webpack:///./src/packages/travel/pages/CountryPage/useCountryWithTripStats.js","webpack:///./src/packages/travel/pages/YearPage/YearPage.jsx","webpack:///./src/packages/travel/pages/YearPage/useYearWithTripStats.js","webpack:///./src/packages/travel/dataSource/useTrips.js","webpack:///./src/core/connection/request/utils/mergeProvisionsState.js","webpack:///./src/modules/components/muiExtended/ConnectedLink/ConnectedLink.jsx","webpack:///./src/modules/utilities/dateTime/dateTimePeriodToString.js","webpack:///./src/packages/travel/dataSource/useCountries.js","webpack:///./src/modules/utilities/dateTime/safeDateFormat.js","webpack:///./src/modules/utilities/dateTime/isValidDate.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/filtering/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/filtering/switchFilteringFn.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/CountryVisitsGroup/CountryVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/utils/resolveGroupingUtils.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/LocationVisitsGroup/LocationVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/YearVisitsGroup/YearVisitsGroup.jsx","webpack:///./src/modules/utilities/hooks/makeVisibleOnlyOnHoverStyles.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/TripVisitsGroup/TripInfo/TripInfo.jsx","webpack:///./src/modules/components/AutoMargin/AutoMargin.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/components/LocationWithRideInfo/LocationWithRideInfo.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/components/VisitInfo/VisitInfo.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/VisitsItselfGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/TripVisitsGroup/TripVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/utils/groupVisitsBy.js","webpack:///./node_modules/memoize-one/dist/memoize-one.esm.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/createCalcByYearUtils.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/calcDaysTravellingStats.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/calcStats.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/StatsIndicator/StatsIndicator.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/CountriesStats/CountriesStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/LocationStats/LocationStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/DaysTravellingStats/DaysTravellingStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/utils/isNewbie.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/StatsPanel.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/sorting/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/sorting/utils/sortVisitsBy.js","webpack:///./src/modules/components/LazyWithPlaceholder/LazyWithPlaceholder.jsx","webpack:///./src/modules/components/PhotosGallery/components/ZoomableImage/ZoomableImage.jsx","webpack:///./node_modules/react-use/esm/useEnsuredForwardedRef.js","webpack:///./node_modules/blurhash/dist/esm/decode.js","webpack:///./node_modules/react-blurhash/es/BlurhashCanvas.js","webpack:///./node_modules/react-blurhash/es/Blurhash.js","webpack:///./src/modules/components/PhotosGallery/components/LazyImage/LazyImage.jsx","webpack:///./node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js","webpack:///./src/modules/components/PhotosGallery/components/GallerySkeleton/GallerySkeleton.jsx","webpack:///./src/modules/components/PhotosGallery/components/FullscreenFallback/FullscreenFallback.jsx","webpack:///./src/modules/components/PhotosGallery/PhotosGallery.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitsPhotosGallery/VisitsPhotosGallery.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitsLocationsMap/VisitsLocationsMap.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitGroup/VisitGroup.jsx","webpack:///./src/modules/utilities/virtual/useRect.js","webpack:///./src/modules/utilities/virtual/calculateRange.js","webpack:///./src/modules/utilities/virtual/index.js","webpack:///./src/modules/utilities/virtual/useRange.js","webpack:///./src/packages/travel/components/VisitsArranger/components/Virtualizer/components/Virtualized/Virtualized.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Virtualizer/components/BypassVirtualized/BypassVirtualized.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Virtualizer/Virtualizer.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Expandable/components/ExpandableActions/ExpandableActions.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/Expandable/Expandable.jsx","webpack:///./src/packages/travel/components/VisitsArranger/renderGroupsRecursive.jsx","webpack:///./src/packages/travel/components/VisitsArranger/VisitsArranger.jsx","webpack:///./src/packages/travel/components/VisitsArranger/index.js","webpack:///./src/packages/travel/dataSource/useLocations.js","webpack:///./src/packages/travel/dataSource/useVisit.js","webpack:///./src/packages/travel/dataSource/useUser.js","webpack:///./src/packages/travel/utils/useVisitsUrls.js","webpack:///./src/packages/travel/components/RideIcon/RideIcon.jsx","webpack:///./node_modules/exenv/index.js","webpack:///./node_modules/react-scrolllock/dist/utils.js","webpack:///./src/packages/travel/components/RideInfo/RideInfo.jsx","webpack:///./src/packages/travel/components/LocationsMap/utils/adaptMarkerData.js","webpack:///./src/packages/travel/components/LocationsMap/utils/resolveLocationFirstAndLastVisitDateTime.js","webpack:///./src/packages/travel/components/LocationsMap/consts.js","webpack:///./src/packages/travel/components/LocationsMap/utils/makeScaleUtils.js","webpack:///./src/modules/utilities/dateTime/formatDate.js","webpack:///./src/packages/travel/components/LocationsMap/utils/renderTitle.js","webpack:///./src/packages/travel/components/LocationsMap/utils/resolveMarkerUrl.js","webpack:///./src/packages/travel/components/LocationsMap/useMarkers.js","webpack:///./src/packages/travel/components/LocationsMap/blocks/MarkersScaleSelect/MarkersScaleSelect.jsx","webpack:///./src/packages/travel/components/LocationsMap/blocks/MarkersRatingLevelSelect/MarkersRatingLevelSelect.jsx","webpack:///./src/packages/travel/components/LocationsMap/useMarkersScaleSidebar.js","webpack:///./src/packages/travel/components/LocationsMap/LocationsMap.jsx","webpack:///./src/packages/travel/components/LocationsMap/utils/filterMarkerData.js","webpack:///./src/modules/utilities/text/uniqTrimAndJoin.js","webpack:///./src/packages/travel/models/trips/utils/resolveTripCaption.js"],"names":["$","anInstance","createNonEnumerableProperty","hasOwn","wellKnownSymbol","AsyncIteratorPrototype","IS_PURE","TO_STRING_TAG","AsyncIteratorConstructor","this","prototype","constructor","Object","global","forced","AsyncIterator","$toArray","toArray","target","proto","real","undefined","iterate","anObject","push","result","that","IS_ITERATOR","ValidationError","Error","message","super","name","digitCharacters","decode83","str","value","i","length","c","indexOf","encode83","n","digit","Math","floor","pow","sRGBToLinear","v","linearTosRGB","max","min","round","signPow","val","exp","abs","defineProperty","exports","TouchScrollable","_extends","assign","arguments","source","key","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_exenv","_utils","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_PureComponent","_ref","_temp","_this","_len","args","Array","_key","__proto__","getPrototypeOf","apply","concat","getScrollableArea","ref","scrollableArea","subClass","superClass","create","setPrototypeOf","_inherits","canUseEventListeners","addEventListener","preventInertiaScroll","listenerOptions","allowTouchMove","removeEventListener","_props","children","rest","obj","keys","_objectWithoutProperties","cloneElement","PureComponent","createHTML","forcedStringHTMLMethod","link","url","uncurryThis","requireObjectCoercible","toString","quot","replace","module","string","tag","attribute","S","p1","fails","METHOD_NAME","test","toLowerCase","split","baseClamp","toNumber","number","lower","upper","baseIteratee","baseUniq","array","iteratee","_interopRequireDefault","_interopRequireWildcard","default","React","_default","createElement","d","baseExtremum","baseLt","baseGt","baseOrderBy","isArray","collection","iteratees","orders","guard","e","t","703","r","a","resetWarningCache","s","o","isRequired","bool","func","object","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","697","414","590","Element","Map","Set","ArrayBuffer","isView","l","u","size","entries","next","done","has","get","RegExp","flags","valueOf","$$typeof","match","console","warn","37","delta","preventDefaultTouchmoveEvent","rotationAngle","trackMouse","trackTouch","first","initial","start","swiping","xy","PI","cos","sin","h","touches","document","f","clientX","clientY","timeStamp","p","m","g","sqrt","b","y","w","absX","absY","deltaX","deltaY","dir","event","velocity","vxvy","onSwiping","T","onSwiped","cancelable","preventDefault","eventData","onTap","forEach","passive","el","cleanUpTouch","onMouseDown","DOWN","LEFT","RIGHT","UP","useSwipeable","useRef","current","useMemo","888","__esModule","globalThis","Function","window","Symbol","toStringTag","Me","Date","now","O","E","I","parseInt","k","NaN","slice","charAt","x","_","L","setTimeout","clearTimeout","leading","maxWait","trailing","cancel","flush","P","M","R","D","some","__entries__","set","delete","splice","clear","F","C","W","requestAnimationFrame","bind","N","j","MutationObserver","z","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","connect_","removeObserver","disconnect_","updateObservers_","filter","gatherActive","hasActive","broadcastActive","observe","attributes","childList","characterData","subtree","disconnect","propertyName","getInstance","instance_","B","A","ownerDocument","defaultView","G","V","U","parseFloat","H","reduce","q","SVGGraphicsElement","SVGElement","getBBox","width","height","X","broadcastWidth","broadcastHeight","contentRect_","isActive","clientWidth","clientHeight","getComputedStyle","left","right","top","bottom","boxSizing","documentElement","K","broadcastRect","Y","DOMRectReadOnly","contentRect","activeObservations_","observations_","callback_","controller_","callbackCtx_","unobserve","clearActive","map","J","WeakMap","Q","Z","ResizeObserver","ee","te","ne","memo","description","fullscreen","handleImageLoaded","isFullscreen","onImageError","original","originalAlt","originalHeight","originalWidth","originalTitle","sizes","srcSet","Fragment","className","src","alt","title","onLoad","onError","displayName","propTypes","defaultProps","ie","re","points","maximize","minimize","play","pause","ae","strokeWidth","viewBox","icon","xmlns","fill","stroke","strokeLinecap","strokeLinejoin","se","oe","onClick","type","le","ue","disabled","ce","he","de","fe","isPlaying","pe","me","ve","ge","be","iterator","ye","getOwnPropertySymbols","getOwnPropertyDescriptor","we","Te","getOwnPropertyDescriptors","Oe","Ee","Ie","ke","xe","_e","media","Le","keyCode","which","Pe","Reflect","construct","sham","Proxy","Boolean","state","currentIndex","startIndex","thumbsTranslate","thumbsSwipedTranslate","currentSlideOffset","galleryWidth","thumbnailsWrapperWidth","thumbnailsWrapperHeight","thumbsStyle","transition","slideDuration","isSwipingThumbnail","loadedImages","imageGallery","createRef","thumbnailsWrapper","thumbnails","imageGallerySlideWrapper","handleKeyDown","handleMouseDown","handleTouchMove","handleOnSwiped","handleScreenChange","handleSwiping","handleThumbnailSwiping","handleOnThumbnailSwiped","onThumbnailMouseLeave","handleImageError","pauseOrPlay","renderThumbInner","renderItem","slideLeft","slideRight","toggleFullScreen","togglePlay","unthrottledSlideToIndex","slideToIndex","lazyLoad","lazyLoaded","autoPlay","useWindowKeyDown","initResizeObserver","addScreenChangeEvent","items","slideInterval","thumbnailPosition","showThumbnails","removeResizeObserver","handleResize","slideThumbnailBar","setState","removeScreenChangeEvent","playPauseIntervalId","clearInterval","transitionTimer","isTransitioning","onSlide","onThumbnailClick","parentNode","blur","thumbnailMouseOverTimer","onScreenChange","modalFullscreen","disableThumbnailScroll","isThumbnailVertical","scrollHeight","scrollWidth","infinite","previousIndex","direction","gallerySlideWrapperHeight","slideStyle","useTranslate3D","isRTL","getTranslateXForTwoSlide","display","isSlideVisible","WebkitTransform","MozTransform","msTransform","OTransform","transform","slideOnThumbnailOver","onTouchMove","onTouchEnd","onTouchStart","onMouseOver","onMouseLeave","showBullets","getAlignmentClassName","originalClass","thumbnailClass","getSlideStyle","tabIndex","style","onKeyUp","handleSlideKeyUp","onFocus","role","thumbnail","active","handleThumbnailMouseOver","handleThumbnailKeyUp","bulletClass","bulletOnClick","item","itemIndex","slides","bullets","slideIsTransitioning","ignoreIsTransitioning","isFirstOrLastSlide","getThumbsTranslate","canSlideNext","canSlidePrevious","disableSwipe","stopPropagation","swipingUpDown","swipingLeftRight","swipingTransitionDuration","swipingThumbnailTransitionDuration","resetSwipingDirection","swipeThreshold","flickThreshold","handleOnSwipedTo","sufficientSwipe","canSlideLeft","canSlideRight","classList","add","disableKeyDown","useBrowserFullscreen","remove","exitFullScreen","onErrorImageURL","resizeObserver","offsetWidth","offsetHeight","setThumbsTranslate","fullScreen","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","onBeforeSlide","onSliding","slideTo","onThumbnailMouseOver","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","setModalFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","onPlay","setInterval","onPause","onImageLoad","onThumbnailError","thumbnailHeight","thumbnailWidth","thumbnailAlt","thumbnailTitle","thumbnailLabel","additionalClass","disableThumbnailSwipe","indexSeparator","renderFullscreenButton","renderCustomControls","renderLeftNav","renderRightNav","showFullscreenButton","showIndex","showNav","showPlayButton","renderPlayPauseButton","getThumbnailStyle","getSlideItems","canSlide","getThumbnailBarHeight","Se","Component","imageSet","_react2","_propTypes2","_reactDom","_eventlistener","_lodash2","_lodash4","_parentScroll2","_inViewport2","LazyLoad","_Component","lazyLoadHandler","throttle","debounce","visible","_mounted","eventNode","getEventNode","_nextProps","nextState","detachListeners","findDOMNode","offset","offsetVertical","offsetHorizontal","offsetTop","offsetBottom","offsetLeft","offsetRight","_offsetAll","threshold","_offsetVertical","_offsetHorizontal","getOffset","onContentVisible","_props2","elStyles","elClasses","Children","only","wrap","standard","fallback","evtName","listener","useCapture","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","root","objectToString","nativeMax","nativeMin","isObject","isObjectLike","isSymbol","other","isBinary","wait","options","lastArgs","lastThis","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","prop","getPropertyValue","overflow","HTMLElement","parent","body","inViewport","container","customOffset","offsetParent","isHidden","pageYOffset","pageXOffset","innerHeight","innerWidth","containerPosition","_getElementPosition2","elementPosition","_getElementPosition","rect","getBoundingClientRect","_ScrollLock","_TouchScrollable","_withLockSheet2","_withTouchListeners2","ScrollLock","canUseDOM","initialHeight","scrollTo","SheetLock","pipe","compose","LockToggle","accountForScrollbars","WrappedComponent","SheetProvider","addSheet","styles","getStyles","sheet","makeStyleTag","injectStyles","insertStyleTag","getDocumentHeight","paddingRight","getPadding","removeChild","removeSheet","TouchProvider","isTouchDevice","preventTouchMove","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","shim","propName","componentName","location","propFullName","secret","err","getShim","ReactPropTypes","trim","endsWith","$groupBy","arraySpeciesConstructor","addToUnscopables","groupBy","callbackfn","IndexedObject","toObject","toPropertyKey","lengthOfArrayLike","objectCreate","arrayFromConstructorAndList","$this","specificConstructor","boundFunction","index","list","TripPage","params","userAlias","strTripId","useState","alsoGroupByCountries","setAlsoGroupByCountries","useAuthContext","isAuthenticated","authenticatedUserAlias","tripId","provision","useTripsStats","domain","tripsIds","tripVisitsIds","visitsIds","isReady","visitsDict","isError","isPending","editable","urls","useVisitsUrls","section","visitsList","tripVisitsId","groupsOrder","PLAIN_GROUPS","TRIPS","COUNTRIES","JUST_VISITS","adaptHeadersSize","photosSectionLevel","mapSectionLevel","sortingOrder","PLAIN_SORTING","LAST_VISIT","filteringOption","PLAIN_FILTERING","ANY","isObscure","config","YearVisitsGroup","hyperlinks","year","level","variant","prevAlsoGroupByCountries","styleFunction","newStyleFunction","output","css","merge","theme","input","fields","omit","filterProps","fn","acc","getPath","path","_options$cssProperty","cssProperty","themeKey","propValue","themeMapping","propValueFinal","getBorder","maxWidth","minWidth","maxHeight","minHeight","componentCreator","stylesOptions","classNamePrefix","stylesOrCreator","useStyles","StyledComponent","forwardRef","classNameProp","clone","ComponentProp","component","classes","spread","FinalComponent","defaultTheme","positions","shadows","spacing","createSvgIcon","roundValueToPrecision","precision","decimalPart","nearest","Number","toFixed","IconContainer","defaultIcon","Star","fontSize","defaultLabelText","_props$defaultValue","defaultValue","_props$disabled","emptyIcon","_props$emptyLabelText","emptyLabelText","_props$getLabelText","getLabelText","_props$icon","_props$IconContainerC","IconContainerComponent","_props$max","nameProp","onChange","onChangeActive","onMouseMove","_props$precision","_props$readOnly","readOnly","_props$size","valueProp","_useControlled","useControlled","controlled","_useControlled2","valueDerived","setValueState","valueRounded","useTheme","_React$useState","hover","focus","_React$useState$","_useIsFocusVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","focusVisibleRef","_React$useState2","focusVisible","setFocusVisible","rootRef","handleFocusRef","useForkRef","handleRef","handleChange","newValue","handleClear","handleFocus","newFocus","prev","handleBlur","labelProps","id","String","filled","iconFilled","iconEmpty","iconHover","iconFocus","iconActive","label","htmlFor","visuallyhidden","onBlur","checked","percent","rootNode","_rootNode$getBounding","firstChild","newHover","clamp","capitalize","from","itemValue","decimal","ceil","indexDecimal","itemDecimalValue","zIndex","position","defaultChecked","pristine","withStyles","typography","pxToRem","color","cursor","textAlign","WebkitTapHighlightColor","opacity","pointerEvents","outline","sizeSmall","sizeLarge","border","clip","margin","padding","transitions","duration","shortest","palette","action","RATING_LOCALIZATION","LOCATION_RATING","PLACE_TO_LIVE","FEW_PER_YEAR","ONCE_PER_YEAR","ONCE_PER_TWO_YEARS","ONCE_PER_FIVE_YEARS","ONCE_PER_DECADE","TWICE_PER_LIVE","ONCE_PER_LIVE","NEVER","makeStyles","alignItems","formControl","LocationRating","locationId","locationRating","isEditable","onSubmitLocationRating","rating","setRating","handleChangeRating","useCallback","nextRating","ratingToStars","ml","FormControl","InputLabel","shrink","Select","labelId","values","ratingOption","MenuItem","useLocationWithTripStats","tripsStatsProvision","isTripsError","isTripsPending","isTripsReady","locationsIds","locationsRating","useSelector","selectItem","useProvision","isProvision","modelName","condition","query","useLocation","restProvision","submitLocationRating","useLocationRatingRequest","isVisited","includes","visitId","LocationPage","strLocationId","alsoGroupByYears","setAlsoGroupByYears","userProvision","handleSubmitLocationRating","locationIdToSubmit","invalidate","VisitsArranger","LOCATIONS","YEARS","LocationVisitsGroup","StatsPanel","appearance","CountriesStats","prevAlsoGroupByYears","Typography","locationName","multiplyBasisFunction","pixels","basisFunction","bytesPerRow","basis","scale","componentX","componentY","factors","normalisation","factor","dc","ac","maximumValue","hash","sizeFlag","actualMaximumValue","quantisedMaximumValue","encodeAC","__awaiter","_arguments","generator","Promise","resolve","reject","fulfilled","step","rejected","then","__generator","sent","trys","ops","verb","op","pop","__read","ar","error","COMMON_MIME_TYPES","toFileWithPath","file","lastIndexOf","ext","withMimeType","webkitRelativePath","FILES_TO_IGNORE","fromEvent","evt","_a","dataTransfer","getDataTransferFiles","getInputFiles","files","fromList","dt","kind","all","toFilePromises","noIgnoredFiles","flatten","webkitGetAsEntry","fromDataTransferItem","entry","isDirectory","fromDirEntry","getAsFile","fwp","fromEntry","fromFileEntry","reader","createReader","readEntries","batch","err_1","fullPath","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_s","_i","_iterableToArrayLimit","_nonIterableRest","getInvalidTypeRejectionErr","accept","messageSuffix","join","code","getTooLargeRejectionErr","maxSize","getTooSmallRejectionErr","minSize","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","fileMatchSize","isDefined","allFilesAccepted","multiple","every","accepted","sizeMatch","isPropagationStopped","cancelBubble","isEvtWithFiles","types","onDocumentDragOver","isIe","userAgent","isEdge","isIeOrEdge","navigator","composeEventHandlers","fns","_len2","_key2","_toConsumableArray","arr2","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","ownKeys","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","Dropzone","_useDropzone","useDropzone","open","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","getFilesFromEvent","onFileDialogCancel","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","initialState","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","draggedFiles","acceptedFiles","fileRejections","_ref2","_ref2$disabled","_ref2$getFilesFromEve","_ref2$maxSize","Infinity","_ref2$minSize","_ref2$multiple","_ref2$preventDropOnDo","_ref2$noClick","_ref2$noKeyboard","_ref2$noDrag","_ref2$noDragEventsBub","inputRef","_useReducer","reducer","_useReducer2","dispatch","openFileDialog","click","onWindowFocus","onKeyDownCb","isEqualNode","onFocusCb","onBlurCb","onClickCb","dragTargetsRef","onDocumentDrop","contains","onDragEnterCb","persist","onDragOverCb","dropEffect","_unused","onDragLeaveCb","targets","targetIdx","onDropCb","_fileAccepted2","acceptError","_fileMatchSize2","sizeError","errors","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref3","_ref3$refKey","refKey","onKeyDown","onInputElementClick","getInputProps","_ref4","_ref4$refKey","inputProps","autoComplete","fileCount","hexToRgba","hex","alpha","exec","rgba","STRIPLES_SHIFT_PX","makeStriplesBackground","actualColor","background","backgroundSize","dropzoneContainer","flexDirection","justifyContent","dropzoneStandby","primary","dark","borderRadius","light","borderColor","main","animation","dropzoneActive","secondary","dropzoneAccept","dropzoneReject","dropzoneUpload","backgroundPositionX","PhotosDropzone","onUpload","visit","progress","setProgress","rejectedFiles","setRejectedFiles","isUploadInProgress","currentRejectedFiles","measureImage","data","meta","isAsset","cls","renderDropzoneCaption","rejectedFile","errorsMessage","getImageData","image","canvas","context","getContext","drawImage","gcd","v1","v2","temp","fileImage","imageURL","URL","createObjectURL","Image","onload","nod","imageData","aspect_ratio","blurhash","encode","VisitPage","strVisitId","useVisit","submitVisitPhoto","useAddVisitPhotoRequest","ConnectedLink","to","resolveTripUrl","backdrop","drawer","BackdropLoader","Backdrop","CircularProgress","GROUP_VISITS_BY","PLAIN_GROUPS_MAPPING","SORT_VISITS_BY","RATING_ALPHABET","VISITS_ALPHABET","FIRST_VISIT_ALPHABET","LAST_VISIT_ALPHABET","ALPHABET","SORT_VISITS_BY_DEFAULT","PLAIN_SORTING_MAPPING","RATING","fv","FIRST_VISIT","lv","VISITS_COUNT","FILTER_VISITS_BY","FOREIGN","DOMESTIC","FILTER_VISITS_BY_DEFAULT","PLAIN_FILTERING_MAPPING","VISITS_SECTIONS","PLACES","VISITS_SECTION_DEFAULT","VISITS_SECTIONS_GROUPS","l10n","GROUP_VISITS_BY_DEFAULTS","setQueryFilter","queryFilter","groupByQuery","sortByQuery","filterByQuery","sortBy","resolveActualSortBy","filterBy","resolveActualFilterBy","actualSection","visitsSectionGroups","find","resolveActualGroupBy","useSidebar","closeSidebar","List","ListItem","autoWidth","visitsSectionGroup","renderTitle","tripCreateUrl","locationsUrl","stats","locationsCount","locationsStats","total","countriesCount","countriesStats","paragraph","Link","IconButton","href","data-locator","resolveGroupsOrder","groupingOrder","currentGroupBy","shouldShowVisits","lastGroup","resolveSortingOrder","currentSortBy","resolveFiltering","VisitsPage","useQueryFilter","useVisitsGroupingSidebar","commonVisitsGroup","field","totalStats","calcStats","virtualize","lineHeight","visitContainer","fontWeight","googleMapContainer","LocationsPage","locationsDict","useUserLocations","actualLocationsIds","locationsIdToRender","CountryPage","strCountryId","countryId","tripsProvision","countriesIds","countriesDict","country","useCountryWithTripStats","CountryVisitsGroup","countryName","YearPage","strYear","arrivalYear","useYearWithTripStats","requiredTripsIds","tripsDict","selectDict","shouldRequireAllTrips","missingTripsIds","tripsIdsUniqStr","tripsFilter","comparator","navigation","isDisabled","user_alias","useTrips","useUser","user","selectResult","ridesDict","useUniqField","ridesIds","countriesProvision","useCountries","locationsProvision","useLocations","commonProvisionState","provisions","updatesCounter","sum","selectUpdatesCounter","selectIsReady","selectIsPending","isValid","selectIsValid","selectIsError","selectError","mergeProvisionsState","ridesStats","calcRidesStats","earliestDeparture","rideId","departureDateTime","getTime","latestArrival","arrivalDateTime","entitiesIds","entitiesDict","fieldName","flatMap","entityId","optional","forwardingProps","RouterLink","DATE_FORMATS","dateTimePeriodToString","periodStart","periodEnd","fullFormat","periodEndString","dateFormat","locale","ru","isSameDay","periodStartString","isSameMonth","isSameYear","shortFormat","rideDateTimePeriodToString","visitDateTimePeriodToString","dateTimeOpenPeriodToString","placeholder","format","startDateStr","safeDateFormat","date","isValidDate","isNaN","switchFilteringFn","isForeign","isVisitExist","trip","originLocationId","originLocation","originCountryId","createFilterBasedOnOrigin","visitsGroup","countryHyperlink","CountryInfo","countryUrl","resolveCountryUrl","header","findClosestGroupValue","plainGroup","currentVisitsGroup","findClosestGroup","locationIdStr","locationHyperlink","groupCountryId","locationUrl","resolveLocationUrl","LocationInfo","showCountry","countryAppearance","countryNode","locationNode","YearInfo","yearUrl","useVisibleOnHoverStyles","containerClassName","contentClassName","visibility","makeVisibleOnHoverStyles","TripInfo","hoverTrigger","visibleOnHover","tripEditUrl","resolveTripEditUrl","resolveTripCaption","autoMargin","marginLeft","AutoMargin","childrenArray","lastChildren","restChildren","Grid","justify","halfDown","LocationWithRideInfo","locationInfoChildren","ownClasses","locationContainer","RideInfo","ride","detail","editButton","VisitInfo","departureRideId","visitUrl","resolveVisitUrl","placeDetails","marginRight","PLAIN_GROUPS_CONFIG","groupFieldName","adapter","getFullYear","yearHyperlink","resolveYearUrl","VisitsItselfGroup","locationAppearance","groupTripId","groupLocationId","actualVisitsList","uniqBy","groupVisitsBy","groupByFn","groupFieldValue","groupVisitsList","isFunction","groupVisitsByValue","areInputsEqual","newInputs","lastInputs","resultFn","isEqual","lastResult","calledOnce","newArgs","createCalcByYearUtils","lookupKey","memoizedCalcOldies","memoizeOne","memoize","calcOldies","calcTotal","calcByYear","oldies","freshies","newbies","difference","totalAtYear","newAtYear","calcDaysTravellingStats","considerRides","visitToPeriodMapper","startDate","endDate","arrivalRideId","arrivalRide","prevVisitId","departureVisitId","rideStartDate","departureRide","nextVisitId","arrivalVisitId","rideEndDate","stack","createMapperWithRides","simpleMapper","visitsPeriods","detailedStats","createPeriods","stay","differenceInCalendarDays","totalStay","visitsStats","calcVisitsStats","calcCountriesStats","calcLocationsStats","daysTravellingStats","calcCountriesTotal","calcCountriesByYear","calcLocationsTotal","calcLocationsByYear","visitsCount","firstVisit","minBy","lastVisit","maxBy","statsIndicator","marginRLeft","StatsIndicator","hint","contentNode","Tooltip","showByYear","hintNode","renderHint","detailsNode","renderDetails","LocationStats","DaysTravellingStats","totalStr","periodStr","locationsStr","renderLocations","isNewbie","isNewbieCountry","yearVisitsGroup","countriesVisitsGroup","countryLocationStats","isNewbieLocation","countriesStatsAppearance","LocationsStats","locationStatsAppearance","daysTravellingStatsAppearance","isLocationGroup","hasCountryGroup","hasLocationGroup","hasYearGroup","daysTravellingStatsNode","visibleOnlyOnHover","sortVisitsBy","visitsGroups","comparators","plainSorting","dates","nullsLast","order","createRatingComparator","createAlphabetComparator","property","orderBy","withOrder","iterateeFn","LazyWithPlaceholder","loaded","setLoaded","handleVisible","touchscreenZoom","zoom","backgroundPosition","backgroundRepeat","zoomButton","zoomIcon","ensuredForwardRef","onSwipeLock","touchscreen","matchMedia","matches","setTouchscreenZoom","setBackgroundPosition","containerRef","useEffect","handleAnyZoom","nativeEvent","containerTop","containerLeft","offsetX","offsetY","extendable","naturalWidth","naturalHeight","notEnoughWidth","asPercent","handleTouchscreenZoom","ZoomIcon","ZoomOutIcon","ZoomInIcon","backgroundImage","prevTouchscreenZoom","ensuredRef","forwardedRef","useEnsuredForwardedRef","validateBlurhash","numY","numX","decodeDC","intR","intG","intB","decodeAC","quantR","quantG","quantB","extendStatics","punch","colors","substring","Uint8ClampedArray","__extends","__","__assign","__rest","_super","BlurhashCanvas","draw","ctx","createImageData","putImageData","componentDidUpdate","render","canvasStyle","Blurhash","resolutionX","resolutionY","LOADING_STATE","INITIAL_STATE","LazyImage","aspectRatio","ImageComponent","require","constraints","zoomable","loadingState","setLoadingState","handleError","imgRef","handleLoad","hasResult","imageHeight","imageWidth","heightConstraint","widthConstraint","resolveImageSize","realImgWidth","setRealImgWidth","useLayoutEffect","data-tag","resolveActualSrc","loading","_props$animation","_props$component","_props$variant","hasChildren","withChildren","fitContent","heightAuto","backgroundColor","text","marginTop","marginBottom","transformOrigin","content","circle","pulse","wave","imageSkeleton","flexGrow","thumbsContainer","thumbSkeleton","GallerySkeleton","thumbsCount","times","FullscreenFallback","uniqKey","inlineGalleryRef","portalGalleryRef","append","ReactDOM","createPortal","getElementById","FULLSCREEN_ENABLED","fullscreenEnabled","mozFullScreenEnabled","webkitRequestFullScreen","photoContainer","overflowY","scrollbarWidth","photo","PhotosGallery","photos","uuidV4","mobile","useMediaQuery","breakpoints","down","swipeLock","setSwipeLock","useLayoutContext","vw","vh","setFullscreen","aspectRatios","setAspectRatios","setCurrentIndex","RATIOS","FULLSCREEN","DEFAULT","HEIGHT","WIDTH","calc","CONFIG","unit","PERCENT","MAX_PX","resolveImageConstraints","thumbnailElement","querySelector","closest","scrollIntoView","block","behavior","actualPhotos","fullSizePhotoUrl","thumbnailUrl","previewUrl","galleryRef","imageGalleryNode","nextFullscreen","nextIndex","ratio","ZoomableImage","prevRatios","VisitsPhotosGallery","visitPhotos","renderDescription","mapVisibilityToggle","VisitsLocationsMap","onToggle","mapVisible","setMapVisible","uniq","frRef","prevMapVisible","LocationsMap","mapContainer","scaleBy","MARKERS_SCALES","BY_LAST_VISIT","ratingLevel","VisitGroup","showMap","showPhotos","VisitsGroupComponent","onHeightChange","nextLevel","rectReducer","calculateRange","prevRange","measurements","outerSize","scrollOffset","low","high","getCurrentValue","middle","currentValue","findNearestBinarySearch","end","defaultEstimateSize","defaultKeyExtractor","useVirtual","estimateSize","overscan","paddingStart","paddingEnd","parentRef","keyExtractor","useReducer","resizeHandler","useRect","latestRef","totalSize","measuredCache","setMeasuredCache","updDep","measure","pendingMeasuredCacheIndexesRef","measuredSize","range","setRange","rangeTimeoutIdRef","cancelAsyncRange","onScroll","scrollOffsetFn","capture","useRange","virtualItems","indexes","defaultRangeExtractor","len","measureRef","defaultScrollToFn","old","mountedRef","scrollToOffset","toOffset","align","tryScrollToIndex","measurement","scrollToIndex","scrollY","originalItems","useImperativeHandle","virtualItem","noop","bypass","BypassVirtualized","Virtualized","ExpandableActions","onExpand","onExpandAll","diffCount","Expandable","collapsible","alwaysExpandedItemsCount","collapsibleThreshold","collapsed","setCollapsed","actualCollapsed","actualItems","actions","renderRecursive","virtualizerRef","setCollapsible","disableCollapsible","virtualized","renderRecursiveInternal","parentVisitsGroup","groupsOrderInternal","restGroupsOrder","visitsListInternal","nestingLevel","lookupLevel","expectedMaxLevel","sectionLevel","MAX_LEVEL","resolveSectionLevel","sortedVisitsGroups","enhancedVisitsGroup","bypassVirtualization","actualVisitsGroups","resolveVisitsGroupClasses","isFirstChild","noMarginTop","header0","h2","wordBreak","container0","level0","header1","h4","container1","level1","up","paddingLeft","header2","body1","container2","level2","renderGroupsRecursive","requiredLocationIds","missingLocationsIds","useRequest","method","requiredVisitId","visit_id","contentType","applicableSchemaName","travelPaths","usePaths","travel","locations","toUrl","tripCreate","tripEdit","RideIcon","vehicleType","IconComponent","VEHICLE_TYPES","CAR","CarIcon","TRAIN","TrainIcon","AIRCRAFT","FlightIcon","BUS","TROLLEY","CITY_BUS","BusIcon","MOTORHOME","JITNEY","VanIcon","LOCAL_TRAIN","FERRY","BoatIcon","BIKE","BikeIcon","BY_FEET","WalkIcon","MOTORBIKE","MotorcycleIcon","TRUCK","TruckIcon","ALL_TERRAIN_VEHICLE","TerrainIcon","TRAM","TramIcon","TAXI","LocalTaxiIcon","SUBWAY","SubwayIcon","PUBLIC_TRANSPORT","SeatIcon","ROPEWAY","FUNICULAR","CustomTransportIcon","UnknownRideIcon","resolveRideIconComponent","ExecutionEnvironment","canUseWorkers","Worker","attachEvent","canUseViewport","screen","currentTarget","scrollTop","totalScroll","currentScroll","maxTouchPoints","camelToKebab","parse","getWindowHeight","multiplier","setAttribute","styleSheet","cssText","appendChild","createTextNode","head","getElementsByTagName","pipeFns","absoluteIcon","rideType","isLong","RIDE_TYPES","HITCH_HIKING","adaptMarkerData","lon","lat","accumulator","firstVisitDateTime","lastVisitDateTime","resolveLocationFirstAndLastVisitDateTime","BY_FIRST_VISIT","BY_VISITS_COUNT","BY_RATING","MARKERS_SCALE_DEFAULT","MARKERS_SCALE_BY_TIME_FILENAMES","MARKERS_SCALE_BY_SOURCES","MARKERS_RATING_LEVELS","ALL","WANT_COME_BACK","LOVE_THIS_PLACE","MARKERS_RATING_LEVEL_DEFAULT","stepByVisitsCount","stepByRating","makeScaleByDateTimeUtils","resolveStep","minTime","diff","resolveOptions","markersDataList","markerData","formatDate","renderRating","resolveMarkerUrl","markerSources","subPath","MarkersScaleSelect","onClose","nextScaleBy","updates","MarkersRatingLevelSelect","scaleByQuery","ratingLevelQuery","resolveActualScaleBy","resolveActualRatingLevel","googleMapPosition","handleGoogleApiLoaded","markersData","googleMapsApi","setGoogleMapsApi","isFirsRenderRef","maps","bounds","LatLngBounds","markers","iconUrl","marker","Marker","lng","scaledSize","Size","extend","setOptions","maxZoom","minZoom","fitBounds","setMap","setVisible","api","useMarkers","actualMarkersData","adaptedMarkersData","validMarkersData","filterMarkerData","makeScaleUtils","bootstrapURLKeys","__GOOGLE_MAP_API_KEY__","center","onGoogleApiLoaded","visitsPropTypes","locationPropTypes","maxLength","separator","uniqArray","visits","tripName","hasAutogeneratedTripName","dateMin","visitsId","dateMax","visitsByCountries","visitType","VISIT_TYPES","TRANSIT","locationsNames","uniqTrimAndJoin","countriesNames"],"mappings":"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","file":"travel-Places-a92bdcc1910b5f3b4fc9.js","sourcesContent":["'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar anInstance = require('../internals/an-instance');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar AsyncIteratorPrototype = require('../internals/async-iterator-prototype');\nvar IS_PURE = require('../internals/is-pure');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar AsyncIteratorConstructor = function AsyncIterator() {\n  anInstance(this, AsyncIteratorPrototype);\n};\n\nAsyncIteratorConstructor.prototype = AsyncIteratorPrototype;\n\nif (!hasOwn(AsyncIteratorPrototype, TO_STRING_TAG)) {\n  createNonEnumerableProperty(AsyncIteratorPrototype, TO_STRING_TAG, 'AsyncIterator');\n}\n\nif (IS_PURE || !hasOwn(AsyncIteratorPrototype, 'constructor') || AsyncIteratorPrototype.constructor === Object) {\n  createNonEnumerableProperty(AsyncIteratorPrototype, 'constructor', AsyncIteratorConstructor);\n}\n\n$({ global: true, forced: IS_PURE }, {\n  AsyncIterator: AsyncIteratorConstructor\n});\n","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar $toArray = require('../internals/async-iterator-iteration').toArray;\n\n$({ target: 'AsyncIterator', proto: true, real: true }, {\n  toArray: function toArray() {\n    return $toArray(this, undefined, []);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar anObject = require('../internals/an-object');\n\nvar push = [].push;\n\n$({ target: 'Iterator', proto: true, real: true }, {\n  toArray: function toArray() {\n    var result = [];\n    iterate(anObject(this), push, { that: result, IS_ITERATOR: true });\n    return result;\n  }\n});\n","export class ValidationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"ValidationError\";\n        this.message = message;\n    }\n}\n//# sourceMappingURL=error.js.map","const digitCharacters = [\n    \"0\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"A\",\n    \"B\",\n    \"C\",\n    \"D\",\n    \"E\",\n    \"F\",\n    \"G\",\n    \"H\",\n    \"I\",\n    \"J\",\n    \"K\",\n    \"L\",\n    \"M\",\n    \"N\",\n    \"O\",\n    \"P\",\n    \"Q\",\n    \"R\",\n    \"S\",\n    \"T\",\n    \"U\",\n    \"V\",\n    \"W\",\n    \"X\",\n    \"Y\",\n    \"Z\",\n    \"a\",\n    \"b\",\n    \"c\",\n    \"d\",\n    \"e\",\n    \"f\",\n    \"g\",\n    \"h\",\n    \"i\",\n    \"j\",\n    \"k\",\n    \"l\",\n    \"m\",\n    \"n\",\n    \"o\",\n    \"p\",\n    \"q\",\n    \"r\",\n    \"s\",\n    \"t\",\n    \"u\",\n    \"v\",\n    \"w\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"#\",\n    \"$\",\n    \"%\",\n    \"*\",\n    \"+\",\n    \",\",\n    \"-\",\n    \".\",\n    \":\",\n    \";\",\n    \"=\",\n    \"?\",\n    \"@\",\n    \"[\",\n    \"]\",\n    \"^\",\n    \"_\",\n    \"{\",\n    \"|\",\n    \"}\",\n    \"~\"\n];\nexport const decode83 = (str) => {\n    let value = 0;\n    for (let i = 0; i < str.length; i++) {\n        const c = str[i];\n        const digit = digitCharacters.indexOf(c);\n        value = value * 83 + digit;\n    }\n    return value;\n};\nexport const encode83 = (n, length) => {\n    var result = \"\";\n    for (let i = 1; i <= length; i++) {\n        let digit = (Math.floor(n) / Math.pow(83, length - i)) % 83;\n        result += digitCharacters[Math.floor(digit)];\n    }\n    return result;\n};\n//# sourceMappingURL=base83.js.map","export const sRGBToLinear = (value) => {\n    let v = value / 255;\n    if (v <= 0.04045) {\n        return v / 12.92;\n    }\n    else {\n        return Math.pow((v + 0.055) / 1.055, 2.4);\n    }\n};\nexport const linearTosRGB = (value) => {\n    let v = Math.max(0, Math.min(1, value));\n    if (v <= 0.0031308) {\n        return Math.round(v * 12.92 * 255 + 0.5);\n    }\n    else {\n        return Math.round((1.055 * Math.pow(v, 1 / 2.4) - 0.055) * 255 + 0.5);\n    }\n};\nexport const sign = (n) => (n < 0 ? -1 : 1);\nexport const signPow = (val, exp) => sign(val) * Math.pow(Math.abs(val), exp);\n//# sourceMappingURL=utils.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TouchScrollable = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _exenv = require('exenv');\n\nvar _utils = require('./utils');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TouchScrollable = exports.TouchScrollable = function (_PureComponent) {\n  _inherits(TouchScrollable, _PureComponent);\n\n  function TouchScrollable() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, TouchScrollable);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TouchScrollable.__proto__ || Object.getPrototypeOf(TouchScrollable)).call.apply(_ref, [this].concat(args))), _this), _this.getScrollableArea = function (ref) {\n      _this.scrollableArea = ref;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(TouchScrollable, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!_exenv.canUseEventListeners) return;\n\n      this.scrollableArea.addEventListener('touchstart', _utils.preventInertiaScroll, _utils.listenerOptions);\n      this.scrollableArea.addEventListener('touchmove', _utils.allowTouchMove, _utils.listenerOptions);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (!_exenv.canUseEventListeners) return;\n\n      this.scrollableArea.removeEventListener('touchstart', _utils.preventInertiaScroll, _utils.listenerOptions);\n      this.scrollableArea.removeEventListener('touchmove', _utils.allowTouchMove, _utils.listenerOptions);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          rest = _objectWithoutProperties(_props, ['children']);\n\n      return typeof children === 'function' ? children(this.getScrollableArea) : (0, _react.cloneElement)(children, _extends({ ref: this.getScrollableArea }, rest));\n    }\n  }]);\n\n  return TouchScrollable;\n}(_react.PureComponent);","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\nvar replace = uncurryThis(''.replace);\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + replace(toString(value), quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z\"\n}), 'Event');\n\nexports.default = _default;","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z\"\n}), 'Flag');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n}), 'Place');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'Timelapse');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z\"\n}), 'FiberNew');\n\nexports.default = _default;","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ImageGallery=t(require(\"react\")):e.ImageGallery=t(e.React)}(this,(function(e){return(()=>{var t={703:(e,t,n)=>{\"use strict\";var i=n(414);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,s){if(s!==i){var o=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw o.name=\"Invariant Violation\",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},590:e=>{var t=\"undefined\"!=typeof Element,n=\"function\"==typeof Map,i=\"function\"==typeof Set,r=\"function\"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,s){if(e===s)return!0;if(e&&s&&\"object\"==typeof e&&\"object\"==typeof s){if(e.constructor!==s.constructor)return!1;var o,l,u,c;if(Array.isArray(e)){if((o=e.length)!=s.length)return!1;for(l=o;0!=l--;)if(!a(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!a(l.value[1],s.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((o=e.length)!=s.length)return!1;for(l=o;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((o=(u=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if((\"_owner\"!==u[l]&&\"__v\"!==u[l]&&\"__o\"!==u[l]||!e.$$typeof)&&!a(e[u[l]],s[u[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||\"\").match(/stack|recursion/i))return console.warn(\"react-fast-compare cannot handle circular refs\"),!1;throw e}}},37:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var i=\"Left\",r=\"Right\",a=\"Down\",s={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},o={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},l=\"mousemove\",u=\"mouseup\";function c(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function h(e,t){var s=function(t){t&&\"touches\"in t&&t.touches.length>1||e((function(e,i){i.trackMouse&&(document.addEventListener(l,h),document.addEventListener(u,f));var r=\"touches\"in t?t.touches[0]:t,a=c([r.clientX,r.clientY],i.rotationAngle);return n({},e,o,{initial:[].concat(a),xy:a,start:t.timeStamp||0})}))},h=function(t){e((function(e,s){if(\"touches\"in t&&t.touches.length>1)return e;var o=\"touches\"in t?t.touches[0]:t,l=c([o.clientX,o.clientY],s.rotationAngle),u=l[0],h=l[1],d=u-e.xy[0],f=h-e.xy[1],p=Math.abs(d),m=Math.abs(f),v=(t.timeStamp||0)-e.start,g=Math.sqrt(p*p+m*m)/(v||1),b=[d/(v||1),f/(v||1)];if(p<s.delta&&m<s.delta&&!e.swiping)return e;var y=function(e,t,n,s){return e>t?n>0?r:i:s>0?a:\"Up\"}(p,m,d,f),w={absX:p,absY:m,deltaX:d,deltaY:f,dir:y,event:t,first:e.first,initial:e.initial,velocity:g,vxvy:b};s.onSwiping&&s.onSwiping(w);var T=!1;return(s.onSwiping||s.onSwiped||\"onSwiped\"+y in s)&&(T=!0),T&&s.preventDefaultTouchmoveEvent&&s.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:w,swiping:!0})}))},d=function(t){e((function(e,i){var r;if(e.swiping&&e.eventData){r=n({},e.eventData,{event:t}),i.onSwiped&&i.onSwiped(r);var a=\"onSwiped\"+r.dir;a in i&&i[a](r)}else i.onTap&&i.onTap({event:t});return n({},e,o,{eventData:r})}))},f=function(e){document.removeEventListener(l,h),document.removeEventListener(u,f),d(e)},p=function(e,t){var n=function(){};if(e&&e.addEventListener){var i=[[\"touchstart\",s],[\"touchmove\",h],[\"touchend\",d]];i.forEach((function(n){var i=n[0],r=n[1];return e.addEventListener(i,r,{passive:t})})),n=function(){return i.forEach((function(t){var n=t[0],i=t[1];return e.removeEventListener(n,i)}))}}return n},m={ref:function(t){null!==t&&e((function(e,i){if(e.el===t)return e;var r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),i.trackTouch&&t&&(r.cleanUpTouch=p(t,!i.preventDefaultTouchmoveEvent)),n({},e,{el:t},r)}))}};return t.trackMouse&&(m.onMouseDown=s),[m,p]}e.DOWN=a,e.LEFT=i,e.RIGHT=r,e.UP=\"Up\",e.useSwipeable=function(e){var i=e.trackMouse,r=t.useRef(n({},o)),a=t.useRef(n({},s));a.current=n({},s,e);var l=t.useMemo((function(){return h((function(e){return r.current=e(r.current,a.current)}),{trackMouse:i})}),[i]),u=l[0],c=l[1];return r.current=function(e,t,i){var r={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),r.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(r.cleanUpTouch=i(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,r)}(r.current,a.current,c),u}}(t,n(888))},888:t=>{\"use strict\";t.exports=e}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{\"use strict\";function e(t){var n,i,r=\"\";if(\"string\"==typeof t||\"number\"==typeof t)r+=t;else if(\"object\"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(i=e(t[n]))&&(r&&(r+=\" \"),r+=i);else for(n in t)t[n]&&(r&&(r+=\" \"),r+=n);return r}function t(){for(var t,n,i=0,r=\"\";i<arguments.length;)(t=arguments[i++])&&(n=e(t))&&(r&&(r+=\" \"),r+=n);return r}i.r(r),i.d(r,{default:()=>Me});var n=i(888),a=i.n(n);const s=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)},o=\"object\"==typeof global&&global&&global.Object===Object&&global;var l=\"object\"==typeof self&&self&&self.Object===Object&&self;const u=o||l||Function(\"return this\")(),c=function(){return u.Date.now()};var h=/\\s/;var d=/^\\s+/;const f=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&h.test(e.charAt(t)););return t}(e)+1).replace(d,\"\"):e},p=u.Symbol;var m=Object.prototype,v=m.hasOwnProperty,g=m.toString,b=p?p.toStringTag:void 0;var y=Object.prototype.toString;var w=p?p.toStringTag:void 0;const T=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":w&&w in Object(e)?function(e){var t=v.call(e,b),n=e[b];try{e[b]=void 0;var i=!0}catch(e){}var r=g.call(e);return i&&(t?e[b]=n:delete e[b]),r}(e):function(e){return y.call(e)}(e)};var S=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,E=/^0o[0-7]+$/i,I=parseInt;const k=function(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return null!=e&&\"object\"==typeof e}(e)&&\"[object Symbol]\"==T(e)}(e))return NaN;if(s(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=f(e);var n=O.test(e);return n||E.test(e)?I(e.slice(2),n?2:8):S.test(e)?NaN:+e};var x=Math.max,_=Math.min;const L=function(e,t,n){var i,r,a,o,l,u,h=0,d=!1,f=!1,p=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function m(t){var n=i,a=r;return i=r=void 0,h=t,o=e.apply(a,n)}function v(e){return h=e,l=setTimeout(b,t),d?m(e):o}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-h>=a}function b(){var e=c();if(g(e))return y(e);l=setTimeout(b,function(e){var n=t-(e-u);return f?_(n,a-(e-h)):n}(e))}function y(e){return l=void 0,p&&i?m(e):(i=r=void 0,o)}function w(){var e=c(),n=g(e);if(i=arguments,r=this,u=e,n){if(void 0===l)return v(u);if(f)return clearTimeout(l),l=setTimeout(b,t),m(u)}return void 0===l&&(l=setTimeout(b,t)),o}return t=k(t)||0,s(n)&&(d=!!n.leading,a=(f=\"maxWait\"in n)?x(k(n.maxWait)||0,t):a,p=\"trailing\"in n?!!n.trailing:p),w.cancel=function(){void 0!==l&&clearTimeout(l),h=0,i=u=r=l=void 0},w.flush=function(){return void 0===l?o:y(c())},w},P=function(e,t,n){var i=!0,r=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");return s(n)&&(i=\"leading\"in n?!!n.leading:i,r=\"trailing\"in n?!!n.trailing:r),L(e,t,{leading:i,maxWait:t,trailing:r})};var M=i(590),R=i.n(M),D=function(){if(\"undefined\"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,\"size\",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),F=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.document===document,C=void 0!==i.g&&i.g.Math===Math?i.g:\"undefined\"!=typeof self&&self.Math===Math?self:\"undefined\"!=typeof window&&window.Math===Math?window:Function(\"return this\")(),W=\"function\"==typeof requestAnimationFrame?requestAnimationFrame.bind(C):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},N=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\",\"size\",\"weight\"],j=\"undefined\"!=typeof MutationObserver,z=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&o()}function s(){W(a)}function o(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);r=e}return o}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){F&&!this.connected_&&(document.addEventListener(\"transitionend\",this.onTransitionEnd_),window.addEventListener(\"resize\",this.refresh),j?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){F&&this.connected_&&(document.removeEventListener(\"transitionend\",this.onTransitionEnd_),window.removeEventListener(\"resize\",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?\"\":t;N.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),B=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},A=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||C},G=V(0,0,0,0);function U(e){return parseFloat(e)||0}function H(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+U(e[\"border-\"+n+\"-width\"])}),0)}var q=\"undefined\"!=typeof SVGGraphicsElement?function(e){return e instanceof A(e).SVGGraphicsElement}:function(e){return e instanceof A(e).SVGElement&&\"function\"==typeof e.getBBox};function K(e){return F?q(e)?function(e){var t=e.getBBox();return V(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return G;var i=A(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=[\"top\",\"right\",\"bottom\",\"left\"];n<i.length;n++){var r=i[n],a=e[\"padding-\"+r];t[r]=U(a)}return t}(i),a=r.left+r.right,s=r.top+r.bottom,o=U(i.width),l=U(i.height);if(\"border-box\"===i.boxSizing&&(Math.round(o+a)!==t&&(o-=H(i,\"left\",\"right\")+a),Math.round(l+s)!==n&&(l-=H(i,\"top\",\"bottom\")+s)),!function(e){return e===A(e).document.documentElement}(e)){var u=Math.round(o+a)-t,c=Math.round(l+s)-n;1!==Math.abs(u)&&(o-=u),1!==Math.abs(c)&&(l-=c)}return V(r.left,r.top,o,l)}(e):G}function V(e,t,n,i){return{x:e,y:t,width:n,height:i}}var X=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=V(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=K(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Y=function(e,t){var n,i,r,a,s,o,l,u=(i=(n=t).x,r=n.y,a=n.width,s=n.height,o=\"undefined\"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),B(l,{x:i,y:r,width:a,height:s,top:r,right:i+a,bottom:s+r,left:i}),l);B(this,{target:e,contentRect:u})},$=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new D,\"function\"!=typeof e)throw new TypeError(\"The callback provided as parameter 1 is not a function.\");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var t=this.observations_;t.has(e)||(t.set(e,new X(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),J=\"undefined\"!=typeof WeakMap?new WeakMap:new D,Q=function e(t){if(!(this instanceof e))throw new TypeError(\"Cannot call a class as a function.\");if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");var n=z.getInstance(),i=new $(t,n,this);J.set(this,i)};[\"observe\",\"unobserve\",\"disconnect\"].forEach((function(e){Q.prototype[e]=function(){var t;return(t=J.get(this))[e].apply(t,arguments)}}));const Z=void 0!==C.ResizeObserver?C.ResizeObserver:Q;var ee=i(37),te=i(697),ne=a().memo((function(e){var t=e.description,n=e.fullscreen,i=e.handleImageLoaded,r=e.isFullscreen,s=e.onImageError,o=e.original,l=e.originalAlt,u=e.originalHeight,c=e.originalWidth,h=e.originalTitle,d=e.sizes,f=e.srcSet,p=r&&n||o;return a().createElement(a().Fragment,null,a().createElement(\"img\",{className:\"image-gallery-image\",src:p,alt:l,srcSet:f,height:u,width:c,sizes:d,title:h,onLoad:function(e){return i(e,o)},onError:s}),t&&a().createElement(\"span\",{className:\"image-gallery-description\"},t))}));ne.displayName=\"Item\",ne.propTypes={description:te.string,fullscreen:te.string,handleImageLoaded:te.func.isRequired,isFullscreen:te.bool,onImageError:te.func.isRequired,original:te.string.isRequired,originalAlt:te.string,originalHeight:te.string,originalWidth:te.string,originalTitle:te.string,sizes:te.string,srcSet:te.string},ne.defaultProps={description:\"\",fullscreen:\"\",isFullscreen:!1,originalAlt:\"\",originalHeight:\"\",originalWidth:\"\",originalTitle:\"\",sizes:\"\",srcSet:\"\"};const ie=ne;var re={left:a().createElement(\"polyline\",{points:\"15 18 9 12 15 6\"}),right:a().createElement(\"polyline\",{points:\"9 18 15 12 9 6\"}),maximize:a().createElement(\"path\",{d:\"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3\"}),minimize:a().createElement(\"path\",{d:\"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"}),play:a().createElement(\"polygon\",{points:\"5 3 19 12 5 21 5 3\"}),pause:a().createElement(a().Fragment,null,a().createElement(\"rect\",{x:\"6\",y:\"4\",width:\"4\",height:\"16\"}),a().createElement(\"rect\",{x:\"14\",y:\"4\",width:\"4\",height:\"16\"}))},ae=function(e){var t=e.strokeWidth,n=e.viewBox,i=e.icon;return a().createElement(\"svg\",{className:\"image-gallery-svg\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:n,fill:\"none\",stroke:\"currentColor\",strokeWidth:t,strokeLinecap:\"round\",strokeLinejoin:\"round\"},re[i])};ae.propTypes={strokeWidth:te.number,viewBox:te.string,icon:(0,te.oneOf)([\"left\",\"right\",\"maximize\",\"minimize\",\"play\",\"pause\"]).isRequired},ae.defaultProps={strokeWidth:1,viewBox:\"0 0 24 24\"};const se=ae;var oe=a().memo((function(e){var t=e.isFullscreen,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-fullscreen-button\",onClick:n,\"aria-label\":\"Open Fullscreen\"},a().createElement(se,{strokeWidth:2,icon:t?\"minimize\":\"maximize\"}))}));oe.displayName=\"Fullscreen\",oe.propTypes={isFullscreen:te.bool.isRequired,onClick:te.func.isRequired};const le=oe;var ue=a().memo((function(e){var t=e.disabled,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-left-nav\",disabled:t,onClick:n,\"aria-label\":\"Previous Slide\"},a().createElement(se,{icon:\"left\",viewBox:\"6 0 12 24\"}))}));ue.displayName=\"LeftNav\",ue.propTypes={disabled:te.bool.isRequired,onClick:te.func.isRequired};const ce=ue;var he=a().memo((function(e){var t=e.disabled,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-right-nav\",disabled:t,onClick:n,\"aria-label\":\"Next Slide\"},a().createElement(se,{icon:\"right\",viewBox:\"6 0 12 24\"}))}));he.displayName=\"RightNav\",he.propTypes={disabled:te.bool.isRequired,onClick:te.func.isRequired};const de=he;var fe=a().memo((function(e){var t=e.isPlaying,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-play-button\",onClick:n,\"aria-label\":\"Play or Pause Slideshow\"},a().createElement(se,{strokeWidth:2,icon:t?\"pause\":\"play\"}))}));fe.displayName=\"PlayPause\",fe.propTypes={isPlaying:te.bool.isRequired,onClick:te.func.isRequired};const pe=fe;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ve=function(e){var t=e.children,n=e.className,i=e.delta,r=e.onSwiping,s=e.onSwiped,o=(0,ee.useSwipeable)({delta:i,onSwiping:r,onSwiped:s});return a().createElement(\"div\",me({},o,{className:n}),t)};ve.propTypes={children:te.node.isRequired,className:te.string,delta:te.number,onSwiped:te.func,onSwiping:te.func},ve.defaultProps={className:\"\",delta:0,onSwiping:function(){},onSwiped:function(){}};const ge=ve;function be(e){return(be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t){return!t||\"object\"!==be(t)&&\"function\"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=[\"fullscreenchange\",\"MSFullscreenChange\",\"mozfullscreenchange\",\"webkitfullscreenchange\"],_e=(0,te.arrayOf)((0,te.shape)({srcSet:te.string,media:te.string}));function Le(e){var t=parseInt(e.keyCode||e.which||0,10);return 66===t||62===t}var Pe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(l,e);var n,i,r,s,o=(r=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(r);if(s){var n=ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ee(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=o.call(this,e)).state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:\"all \".concat(e.slideDuration,\"ms ease-out\")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},t.loadedImages={},t.imageGallery=a().createRef(),t.thumbnailsWrapper=a().createRef(),t.thumbnails=a().createRef(),t.imageGallerySlideWrapper=a().createRef(),t.handleImageLoaded=t.handleImageLoaded.bind(Ie(t)),t.handleKeyDown=t.handleKeyDown.bind(Ie(t)),t.handleMouseDown=t.handleMouseDown.bind(Ie(t)),t.handleTouchMove=t.handleTouchMove.bind(Ie(t)),t.handleOnSwiped=t.handleOnSwiped.bind(Ie(t)),t.handleScreenChange=t.handleScreenChange.bind(Ie(t)),t.handleSwiping=t.handleSwiping.bind(Ie(t)),t.handleThumbnailSwiping=t.handleThumbnailSwiping.bind(Ie(t)),t.handleOnThumbnailSwiped=t.handleOnThumbnailSwiped.bind(Ie(t)),t.onThumbnailMouseLeave=t.onThumbnailMouseLeave.bind(Ie(t)),t.handleImageError=t.handleImageError.bind(Ie(t)),t.pauseOrPlay=t.pauseOrPlay.bind(Ie(t)),t.renderThumbInner=t.renderThumbInner.bind(Ie(t)),t.renderItem=t.renderItem.bind(Ie(t)),t.slideLeft=t.slideLeft.bind(Ie(t)),t.slideRight=t.slideRight.bind(Ie(t)),t.toggleFullScreen=t.toggleFullScreen.bind(Ie(t)),t.togglePlay=t.togglePlay.bind(Ie(t)),t.unthrottledSlideToIndex=t.slideToIndex,t.slideToIndex=P(t.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(t.lazyLoaded=[]),t}return n=l,(i=[{key:\"componentDidMount\",value:function(){var e=this.props,t=e.autoPlay,n=e.useWindowKeyDown;t&&this.play(),n?window.addEventListener(\"keydown\",this.handleKeyDown):this.imageGallery.current.addEventListener(\"keydown\",this.handleKeyDown),window.addEventListener(\"mousedown\",this.handleMouseDown),window.addEventListener(\"touchmove\",this.handleTouchMove,{passive:!1}),this.initResizeObserver(this.imageGallerySlideWrapper),this.addScreenChangeEvent()}},{key:\"componentDidUpdate\",value:function(e,t){var n=this.props,i=n.items,r=n.lazyLoad,a=n.slideDuration,s=n.slideInterval,o=n.startIndex,l=n.thumbnailPosition,u=n.showThumbnails,c=n.useWindowKeyDown,h=this.state.currentIndex,d=e.items.length!==i.length,f=!R()(e.items,i),p=e.startIndex!==o,m=e.thumbnailPosition!==l,v=e.showThumbnails!==u;s===e.slideInterval&&a===e.slideDuration||(this.pause(),this.play()),m&&(this.removeResizeObserver(),this.initResizeObserver(this.imageGallerySlideWrapper)),(d||v)&&this.handleResize(),t.currentIndex!==h&&this.slideThumbnailBar(),e.slideDuration!==a&&(this.slideToIndex=P(this.unthrottledSlideToIndex,a,{trailing:!1})),!r||e.lazyLoad&&!f||(this.lazyLoaded=[]),c!==e.useWindowKeyDown&&(c?(this.imageGallery.current.removeEventListener(\"keydown\",this.handleKeyDown),window.addEventListener(\"keydown\",this.handleKeyDown)):(window.removeEventListener(\"keydown\",this.handleKeyDown),this.imageGallery.current.addEventListener(\"keydown\",this.handleKeyDown))),(p||f)&&this.setState({currentIndex:o})}},{key:\"componentWillUnmount\",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener(\"mousedown\",this.handleMouseDown),window.removeEventListener(\"touchmove\",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener(\"keydown\",this.handleKeyDown):this.imageGallery.current.removeEventListener(\"keydown\",this.handleKeyDown)}},{key:\"onSliding\",value:function(){var e=this,t=this.state,n=t.currentIndex,i=t.isTransitioning,r=this.props,a=r.onSlide,s=r.slideDuration;this.transitionTimer=window.setTimeout((function(){i&&(e.setState({isTransitioning:!i,isSwipingThumbnail:!1}),a&&a(n))}),s+50)}},{key:\"onThumbnailClick\",value:function(e,t){var n=this.props.onThumbnailClick;e.target.parentNode.parentNode.blur(),this.slideToIndex(t,e),n&&n(e,t)}},{key:\"onThumbnailMouseOver\",value:function(e,t){var n=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){n.slideToIndex(t),n.pause()}),300)}},{key:\"onThumbnailMouseLeave\",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:\"setThumbsTranslate\",value:function(e){this.setState({thumbsTranslate:e})}},{key:\"setModalFullscreen\",value:function(e){var t=this.props.onScreenChange;this.setState({modalFullscreen:e}),t&&t(e)}},{key:\"getThumbsTranslate\",value:function(e){var t,n=this.props,i=n.disableThumbnailScroll,r=n.items,a=this.state,s=a.thumbnailsWrapperWidth,o=a.thumbnailsWrapperHeight,l=this.thumbnails&&this.thumbnails.current;if(i)return 0;if(l){if(this.isThumbnailVertical()){if(l.scrollHeight<=o)return 0;t=l.scrollHeight-o}else{if(l.scrollWidth<=s||s<=0)return 0;t=l.scrollWidth-s}return e*(t/(r.length-1))}return 0}},{key:\"getAlignmentClassName\",value:function(e){var t=this.state.currentIndex,n=this.props,i=n.infinite,r=n.items,a=\"\",s=\"left\",o=\"right\";switch(e){case t-1:a=\" \".concat(s);break;case t:a=\" \".concat(\"center\");break;case t+1:a=\" \".concat(o)}return r.length>=3&&i&&(0===e&&t===r.length-1?a=\" \".concat(o):e===r.length-1&&0===t&&(a=\" \".concat(s))),a}},{key:\"getTranslateXForTwoSlide\",value:function(e){var t=this.state,n=t.currentIndex,i=t.currentSlideOffset,r=t.previousIndex,a=n!==r,s=0===e&&0===r,o=1===e&&1===r,l=0===e&&1===n,u=1===e&&0===n,c=0===i,h=-100*n+100*e+i;return i>0?this.direction=\"left\":i<0&&(this.direction=\"right\"),u&&i>0&&(h=-100+i),l&&i<0&&(h=100+i),a?s&&c&&\"left\"===this.direction?h=100:o&&c&&\"right\"===this.direction&&(h=-100):(u&&c&&\"left\"===this.direction&&(h=-100),l&&c&&\"right\"===this.direction&&(h=100)),h}},{key:\"getThumbnailBarHeight\",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:\"getSlideStyle\",value:function(e){var t=this.state,n=t.currentIndex,i=t.currentSlideOffset,r=t.slideStyle,a=this.props,s=a.infinite,o=a.items,l=a.useTranslate3D,u=a.isRTL,c=-100*n,h=o.length-1,d=(c+100*e)*(u?-1:1)+i;s&&o.length>2&&(0===n&&e===h?d=-100*(u?-1:1)+i:n===h&&0===e&&(d=100*(u?-1:1)+i)),s&&2===o.length&&(d=this.getTranslateXForTwoSlide(e));var f=\"translate(\".concat(d,\"%, 0)\");return l&&(f=\"translate3d(\".concat(d,\"%, 0, 0)\")),we({display:this.isSlideVisible(e)?\"inherit\":\"none\",WebkitTransform:f,MozTransform:f,msTransform:f,OTransform:f,transform:f},r)}},{key:\"getCurrentIndex\",value:function(){return this.state.currentIndex}},{key:\"getThumbnailStyle\",value:function(){var e,t=this.props,n=t.useTranslate3D,i=t.isRTL,r=this.state,a=r.thumbsTranslate,s=r.thumbsStyle,o=i?-1*a:a;return this.isThumbnailVertical()?(e=\"translate(0, \".concat(a,\"px)\"),n&&(e=\"translate3d(0, \".concat(a,\"px, 0)\"))):(e=\"translate(\".concat(o,\"px, 0)\"),n&&(e=\"translate3d(\".concat(o,\"px, 0, 0)\"))),we({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},s)}},{key:\"getSlideItems\",value:function(){var e=this,n=this.state.currentIndex,i=this.props,r=i.items,s=i.slideOnThumbnailOver,o=i.onClick,l=i.lazyLoad,u=i.onTouchMove,c=i.onTouchEnd,h=i.onTouchStart,d=i.onMouseOver,f=i.onMouseLeave,p=i.renderItem,m=i.renderThumbInner,v=i.showThumbnails,g=i.showBullets,b=[],y=[],w=[];return r.forEach((function(i,r){var T=e.getAlignmentClassName(r),S=i.originalClass?\" \".concat(i.originalClass):\"\",O=i.thumbnailClass?\" \".concat(i.thumbnailClass):\"\",E=i.renderItem||p||e.renderItem,I=i.renderThumbInner||m||e.renderThumbInner,k=!l||T||e.lazyLoaded[r];k&&l&&!e.lazyLoaded[r]&&(e.lazyLoaded[r]=!0);var x=e.getSlideStyle(r),_=a().createElement(\"div\",{\"aria-label\":\"Go to Slide \".concat(r+1),key:\"slide-\".concat(r),tabIndex:\"-1\",className:\"image-gallery-slide \".concat(T,\" \").concat(S),style:x,onClick:o,onKeyUp:e.handleSlideKeyUp,onTouchMove:u,onTouchEnd:c,onTouchStart:h,onMouseOver:d,onFocus:d,onMouseLeave:f,role:\"button\"},k?E(i):a().createElement(\"div\",{style:{height:\"100%\"}}));if(b.push(_),v&&i.thumbnail){var L=t(\"image-gallery-thumbnail\",O,{active:n===r});y.push(a().createElement(\"button\",{key:\"thumbnail-\".concat(r),type:\"button\",tabIndex:\"0\",\"aria-pressed\":n===r?\"true\":\"false\",\"aria-label\":\"Go to Slide \".concat(r+1),className:L,onMouseLeave:s?e.onThumbnailMouseLeave:null,onMouseOver:function(t){return e.handleThumbnailMouseOver(t,r)},onFocus:function(t){return e.handleThumbnailMouseOver(t,r)},onKeyUp:function(t){return e.handleThumbnailKeyUp(t,r)},onClick:function(t){return e.onThumbnailClick(t,r)}},I(i)))}if(g){var P=t(\"image-gallery-bullet\",i.bulletClass,{active:n===r});w.push(a().createElement(\"button\",{type:\"button\",key:\"bullet-\".concat(r),className:P,onClick:function(t){return i.bulletOnClick&&i.bulletOnClick({item:i,itemIndex:r,currentIndex:n}),t.target.blur(),e.slideToIndex.call(e,r,t)},\"aria-pressed\":n===r?\"true\":\"false\",\"aria-label\":\"Go to Slide \".concat(r+1)}))}})),{slides:b,thumbnails:y,bullets:w}}},{key:\"ignoreIsTransitioning\",value:function(){var e=this.props.items,t=this.state,n=t.previousIndex,i=t.currentIndex,r=e.length-1;return Math.abs(n-i)>1&&!(0===n&&i===r)&&!(n===r&&0===i)}},{key:\"isFirstOrLastSlide\",value:function(e){return e===this.props.items.length-1||0===e}},{key:\"slideIsTransitioning\",value:function(e){var t=this.state,n=t.isTransitioning,i=t.previousIndex,r=t.currentIndex;return n&&!(e===i||e===r)}},{key:\"isSlideVisible\",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:\"slideThumbnailBar\",value:function(){var e=this.state,t=e.currentIndex,n=e.isSwipingThumbnail,i=-this.getThumbsTranslate(t);n||(0===t?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:i,thumbsSwipedTranslate:i}))}},{key:\"canSlide\",value:function(){return this.props.items.length>=2}},{key:\"canSlideLeft\",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlideNext():this.canSlidePrevious())}},{key:\"canSlideRight\",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlidePrevious():this.canSlideNext())}},{key:\"canSlidePrevious\",value:function(){return this.state.currentIndex>0}},{key:\"canSlideNext\",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:\"handleSwiping\",value:function(e){var t=e.event,n=e.absX,i=e.dir,r=this.props,a=r.disableSwipe,s=r.stopPropagation,o=this.state,l=o.galleryWidth,u=o.isTransitioning,c=o.swipingUpDown,h=o.swipingLeftRight;if(i!==ee.UP&&i!==ee.DOWN&&!c||h){if(i!==ee.LEFT&&i!==ee.RIGHT||h||this.setState({swipingLeftRight:!0}),!a){var d=this.props.swipingTransitionDuration;if(s&&t.preventDefault(),u)this.setState({currentSlideOffset:0});else{var f=i===ee.RIGHT?1:-1,p=n/l*100;Math.abs(p)>=100&&(p=100);var m={transition:\"transform \".concat(d,\"ms ease-out\")};this.setState({currentSlideOffset:f*p,slideStyle:m})}}}else c||this.setState({swipingUpDown:!0})}},{key:\"handleThumbnailSwiping\",value:function(e){var t=e.event,n=e.absX,i=e.absY,r=e.dir,a=this.props,s=a.stopPropagation,o=a.swipingThumbnailTransitionDuration,l=this.state,u=l.thumbsSwipedTranslate,c=l.thumbnailsWrapperHeight,h=l.thumbnailsWrapperWidth,d=l.swipingUpDown,f=l.swipingLeftRight;if(this.isThumbnailVertical()){if((r===ee.LEFT||r===ee.RIGHT||f)&&!d)return void(f||this.setState({swipingLeftRight:!0}));r!==ee.UP&&r!==ee.DOWN||d||this.setState({swipingUpDown:!0})}else{if((r===ee.UP||r===ee.DOWN||d)&&!f)return void(d||this.setState({swipingUpDown:!0}));r!==ee.LEFT&&r!==ee.RIGHT||f||this.setState({swipingLeftRight:!0})}var p,m,v,g,b,y=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(p=u+(r===ee.DOWN?i:-i),m=y.scrollHeight-c+20,v=Math.abs(p)>m,g=p>20,b=y.scrollHeight<=c):(p=u+(r===ee.RIGHT?n:-n),m=y.scrollWidth-h+20,v=Math.abs(p)>m,g=p>20,b=y.scrollWidth<=h),!b&&(r!==ee.LEFT&&r!==ee.UP||!v)&&(r!==ee.RIGHT&&r!==ee.DOWN||!g)){s&&t.stopPropagation();var w={transition:\"transform \".concat(o,\"ms ease-out\")};this.setState({thumbsTranslate:p,thumbsStyle:w})}}},{key:\"handleOnThumbnailSwiped\",value:function(){var e=this.state.thumbsTranslate,t=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:\"all \".concat(t,\"ms ease-out\")}})}},{key:\"sufficientSwipe\",value:function(){var e=this.state.currentSlideOffset,t=this.props.swipeThreshold;return Math.abs(e)>t}},{key:\"resetSwipingDirection\",value:function(){var e=this.state,t=e.swipingUpDown,n=e.swipingLeftRight;t&&this.setState({swipingUpDown:!1}),n&&this.setState({swipingLeftRight:!1})}},{key:\"handleOnSwiped\",value:function(e){var t=e.event,n=e.dir,i=e.velocity,r=this.props,a=r.disableSwipe,s=r.stopPropagation,o=r.flickThreshold;if(!a){var l=this.props.isRTL;s&&t.stopPropagation(),this.resetSwipingDirection();var u=(n===ee.LEFT?1:-1)*(l?-1:1),c=n===ee.UP||n===ee.DOWN,h=i>o&&!c;this.handleOnSwipedTo(u,h)}}},{key:\"handleOnSwipedTo\",value:function(e,t){var n=this.state,i=n.currentIndex,r=n.isTransitioning,a=i;!this.sufficientSwipe()&&!t||r||(a+=e),(-1===e&&!this.canSlideLeft()||1===e&&!this.canSlideRight())&&(a=i),this.unthrottledSlideToIndex(a)}},{key:\"handleTouchMove\",value:function(e){this.state.swipingLeftRight&&e.preventDefault()}},{key:\"handleMouseDown\",value:function(){this.imageGallery.current.classList.add(\"image-gallery-using-mouse\")}},{key:\"handleKeyDown\",value:function(e){var t=this.props,n=t.disableKeyDown,i=t.useBrowserFullscreen,r=this.state.isFullscreen;if(this.imageGallery.current.classList.remove(\"image-gallery-using-mouse\"),!n)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:r&&!i&&this.exitFullScreen()}}},{key:\"handleImageError\",value:function(e){var t=this.props.onErrorImageURL;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)}},{key:\"removeResizeObserver\",value:function(){this.resizeObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeObserver=null)}},{key:\"handleResize\",value:function(){var e=this.state.currentIndex;this.resizeObserver&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.isThumbnailVertical()?this.setState({thumbnailsWrapperHeight:this.thumbnailsWrapper.current.offsetHeight}):this.setState({thumbnailsWrapperWidth:this.thumbnailsWrapper.current.offsetWidth})),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:\"initResizeObserver\",value:function(e){var t=this;this.resizeObserver=new Z(L((function(e){e&&e.forEach((function(){t.handleResize()}))}),300)),this.resizeObserver.observe(e.current)}},{key:\"toggleFullScreen\",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:\"togglePlay\",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:\"handleScreenChange\",value:function(){var e=this.props,t=e.onScreenChange,n=e.useBrowserFullscreen,i=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,r=this.imageGallery.current===i;t&&t(r),n&&this.setState({isFullscreen:r})}},{key:\"slideToIndex\",value:function(e,t){var n=this.state,i=n.currentIndex,r=n.isTransitioning,a=this.props,s=a.items,o=a.slideDuration,l=a.onBeforeSlide;if(!r){t&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var u=s.length-1,c=e;e<0?c=u:e>u&&(c=0),l&&c!==i&&l(c),this.setState({previousIndex:i,currentIndex:c,isTransitioning:c!==i,currentSlideOffset:0,slideStyle:{transition:\"all \".concat(o,\"ms ease-out\")}},this.onSliding)}}},{key:\"slideLeft\",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?\"right\":\"left\")}},{key:\"slideRight\",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?\"left\":\"right\")}},{key:\"slideTo\",value:function(e,t){var n=this,i=this.state,r=i.currentIndex,a=i.currentSlideOffset,s=i.isTransitioning,o=this.props.items,l=r+(\"left\"===t?-1:1);s||(2===o.length?this.setState({currentSlideOffset:a+(\"left\"===t?.001:-.001),slideStyle:{transition:\"none\"}},(function(){window.setTimeout((function(){return n.slideToIndex(l,e)}),25)})):this.slideToIndex(l,e))}},{key:\"handleThumbnailMouseOver\",value:function(e,t){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,t)}},{key:\"handleThumbnailKeyUp\",value:function(e,t){Le(e)&&this.onThumbnailClick(e,t)}},{key:\"handleSlideKeyUp\",value:function(e){Le(e)&&(0,this.props.onClick)(e)}},{key:\"isThumbnailVertical\",value:function(){var e=this.props.thumbnailPosition;return\"left\"===e||\"right\"===e}},{key:\"addScreenChangeEvent\",value:function(){var e=this;xe.forEach((function(t){document.addEventListener(t,e.handleScreenChange)}))}},{key:\"removeScreenChangeEvent\",value:function(){var e=this;xe.forEach((function(t){document.removeEventListener(t,e.handleScreenChange)}))}},{key:\"fullScreen\",value:function(){var e=this.props.useBrowserFullscreen,t=this.imageGallery.current;e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:\"exitFullScreen\",value:function(){var e=this.state.isFullscreen,t=this.props.useBrowserFullscreen;e&&(t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:\"pauseOrPlay\",value:function(){var e=this.props.infinite,t=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(t+1):this.pause()}},{key:\"play\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.onPlay,i=t.slideInterval,r=t.slideDuration,a=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(i,r)),n&&e&&n(a))}},{key:\"pause\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onPause,n=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),t&&e&&t(n))}},{key:\"isImageLoaded\",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:\"handleImageLoaded\",value:function(e,t){var n=this.props.onImageLoad;!this.loadedImages[t]&&n&&(this.loadedImages[t]=!0,n(e))}},{key:\"renderItem\",value:function(e){var t=this.state.isFullscreen,n=this.props.onImageError||this.handleImageError;return a().createElement(ie,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:t,onImageError:n,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,srcSet:e.srcSet})}},{key:\"renderThumbInner\",value:function(e){var t=this.props.onThumbnailError||this.handleImageError;return a().createElement(\"span\",{className:\"image-gallery-thumbnail-inner\"},a().createElement(\"img\",{className:\"image-gallery-thumbnail-image\",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,onError:t}),e.thumbnailLabel&&a().createElement(\"div\",{className:\"image-gallery-thumbnail-label\"},e.thumbnailLabel))}},{key:\"render\",value:function(){var e=this.state,n=e.currentIndex,i=e.isFullscreen,r=e.modalFullscreen,s=e.isPlaying,o=this.props,l=o.additionalClass,u=o.disableThumbnailSwipe,c=o.indexSeparator,h=o.isRTL,d=o.items,f=o.thumbnailPosition,p=o.renderFullscreenButton,m=o.renderCustomControls,v=o.renderLeftNav,g=o.renderRightNav,b=o.showBullets,y=o.showFullscreenButton,w=o.showIndex,T=o.showThumbnails,S=o.showNav,O=o.showPlayButton,E=o.renderPlayPauseButton,I=this.getThumbnailStyle(),k=this.getSlideItems(),x=k.slides,_=k.thumbnails,L=k.bullets,P=t(\"image-gallery-slide-wrapper\",f,{\"image-gallery-rtl\":h}),M=a().createElement(\"div\",{ref:this.imageGallerySlideWrapper,className:P},m&&m(),this.canSlide()?a().createElement(a().Fragment,null,S&&a().createElement(a().Fragment,null,v(this.slideLeft,!this.canSlideLeft()),g(this.slideRight,!this.canSlideRight())),a().createElement(ge,{className:\"image-gallery-swipe\",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},a().createElement(\"div\",{className:\"image-gallery-slides\"},x))):a().createElement(\"div\",{className:\"image-gallery-slides\"},x),O&&E(this.togglePlay,s),b&&a().createElement(\"div\",{className:\"image-gallery-bullets\"},a().createElement(\"div\",{className:\"image-gallery-bullets-container\",role:\"navigation\",\"aria-label\":\"Bullet Navigation\"},L)),y&&p(this.toggleFullScreen,i),w&&a().createElement(\"div\",{className:\"image-gallery-index\"},a().createElement(\"span\",{className:\"image-gallery-index-current\"},n+1),a().createElement(\"span\",{className:\"image-gallery-index-separator\"},c),a().createElement(\"span\",{className:\"image-gallery-index-total\"},d.length))),R=t(\"image-gallery\",l,{\"fullscreen-modal\":r}),D=t(\"image-gallery-content\",f,{fullscreen:i}),F=t(\"image-gallery-thumbnails-wrapper\",f,{\"thumbnails-wrapper-rtl\":!this.isThumbnailVertical()&&h},{\"thumbnails-swipe-horizontal\":!this.isThumbnailVertical()&&!u},{\"thumbnails-swipe-vertical\":this.isThumbnailVertical()&&!u});return a().createElement(\"div\",{ref:this.imageGallery,className:R,\"aria-live\":\"polite\"},a().createElement(\"div\",{className:D},(\"bottom\"===f||\"right\"===f)&&M,T&&_.length>0?a().createElement(ge,{className:F,delta:0,onSwiping:!u&&this.handleThumbnailSwiping,onSwiped:!u&&this.handleOnThumbnailSwiped},a().createElement(\"div\",{className:\"image-gallery-thumbnails\",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},a().createElement(\"div\",{ref:this.thumbnails,className:\"image-gallery-thumbnails-container\",style:I,\"aria-label\":\"Thumbnail Navigation\"},_))):null,(\"top\"===f||\"left\"===f)&&M))}}])&&Se(n.prototype,i),l}(a().Component);Pe.propTypes={flickThreshold:te.number,items:(0,te.arrayOf)((0,te.shape)({bulletClass:te.string,bulletOnClick:te.func,description:te.string,original:te.string,originalHeight:te.number,originalWidth:te.number,thumbnailHeight:te.number,thumbnailWidth:te.number,fullscreen:te.string,originalAlt:te.string,originalTitle:te.string,thumbnail:te.string,thumbnailAlt:te.string,thumbnailLabel:te.string,thumbnailTitle:te.string,originalClass:te.string,thumbnailClass:te.string,renderItem:te.func,renderThumbInner:te.func,imageSet:_e,srcSet:te.string,sizes:te.string})).isRequired,showNav:te.bool,autoPlay:te.bool,lazyLoad:te.bool,infinite:te.bool,showIndex:te.bool,showBullets:te.bool,showThumbnails:te.bool,showPlayButton:te.bool,showFullscreenButton:te.bool,disableThumbnailScroll:te.bool,disableKeyDown:te.bool,disableSwipe:te.bool,disableThumbnailSwipe:te.bool,useBrowserFullscreen:te.bool,onErrorImageURL:te.string,indexSeparator:te.string,thumbnailPosition:(0,te.oneOf)([\"top\",\"bottom\",\"left\",\"right\"]),startIndex:te.number,slideDuration:te.number,slideInterval:te.number,slideOnThumbnailOver:te.bool,swipeThreshold:te.number,swipingTransitionDuration:te.number,swipingThumbnailTransitionDuration:te.number,onSlide:te.func,onBeforeSlide:te.func,onScreenChange:te.func,onPause:te.func,onPlay:te.func,onClick:te.func,onImageLoad:te.func,onImageError:te.func,onTouchMove:te.func,onTouchEnd:te.func,onTouchStart:te.func,onMouseOver:te.func,onMouseLeave:te.func,onThumbnailError:te.func,onThumbnailClick:te.func,renderCustomControls:te.func,renderLeftNav:te.func,renderRightNav:te.func,renderPlayPauseButton:te.func,renderFullscreenButton:te.func,renderItem:te.func,renderThumbInner:te.func,stopPropagation:te.bool,additionalClass:te.string,useTranslate3D:te.bool,isRTL:te.bool,useWindowKeyDown:te.bool},Pe.defaultProps={onErrorImageURL:\"\",additionalClass:\"\",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:\" / \",thumbnailPosition:\"bottom\",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(e,t){return a().createElement(ce,{onClick:e,disabled:t})},renderRightNav:function(e,t){return a().createElement(de,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return a().createElement(pe,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return a().createElement(le,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};const Me=Pe})(),r})()}));","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _eventlistener = require('eventlistener');\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.throttle');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _parentScroll = require('./utils/parentScroll');\n\nvar _parentScroll2 = _interopRequireDefault(_parentScroll);\n\nvar _inViewport = require('./utils/inViewport');\n\nvar _inViewport2 = _interopRequireDefault(_inViewport);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LazyLoad = function (_Component) {\n  _inherits(LazyLoad, _Component);\n\n  function LazyLoad(props) {\n    _classCallCheck(this, LazyLoad);\n\n    var _this = _possibleConstructorReturn(this, (LazyLoad.__proto__ || Object.getPrototypeOf(LazyLoad)).call(this, props));\n\n    _this.lazyLoadHandler = _this.lazyLoadHandler.bind(_this);\n\n    if (props.throttle > 0) {\n      if (props.debounce) {\n        _this.lazyLoadHandler = (0, _lodash2.default)(_this.lazyLoadHandler, props.throttle);\n      } else {\n        _this.lazyLoadHandler = (0, _lodash4.default)(_this.lazyLoadHandler, props.throttle);\n      }\n    }\n\n    _this.state = { visible: false };\n    return _this;\n  }\n\n  _createClass(LazyLoad, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._mounted = true;\n      var eventNode = this.getEventNode();\n\n      this.lazyLoadHandler();\n\n      if (this.lazyLoadHandler.flush) {\n        this.lazyLoadHandler.flush();\n      }\n\n      (0, _eventlistener.add)(window, 'resize', this.lazyLoadHandler);\n      (0, _eventlistener.add)(eventNode, 'scroll', this.lazyLoadHandler);\n\n      if (eventNode !== window) (0, _eventlistener.add)(window, 'scroll', this.lazyLoadHandler);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps() {\n      if (!this.state.visible) {\n        this.lazyLoadHandler();\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(_nextProps, nextState) {\n      return nextState.visible;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._mounted = false;\n      if (this.lazyLoadHandler.cancel) {\n        this.lazyLoadHandler.cancel();\n      }\n\n      this.detachListeners();\n    }\n  }, {\n    key: 'getEventNode',\n    value: function getEventNode() {\n      return (0, _parentScroll2.default)((0, _reactDom.findDOMNode)(this));\n    }\n  }, {\n    key: 'getOffset',\n    value: function getOffset() {\n      var _props = this.props,\n          offset = _props.offset,\n          offsetVertical = _props.offsetVertical,\n          offsetHorizontal = _props.offsetHorizontal,\n          offsetTop = _props.offsetTop,\n          offsetBottom = _props.offsetBottom,\n          offsetLeft = _props.offsetLeft,\n          offsetRight = _props.offsetRight,\n          threshold = _props.threshold;\n\n\n      var _offsetAll = threshold || offset;\n      var _offsetVertical = offsetVertical || _offsetAll;\n      var _offsetHorizontal = offsetHorizontal || _offsetAll;\n\n      return {\n        top: offsetTop || _offsetVertical,\n        bottom: offsetBottom || _offsetVertical,\n        left: offsetLeft || _offsetHorizontal,\n        right: offsetRight || _offsetHorizontal\n      };\n    }\n  }, {\n    key: 'lazyLoadHandler',\n    value: function lazyLoadHandler() {\n      if (!this._mounted) {\n        return;\n      }\n      var offset = this.getOffset();\n      var node = (0, _reactDom.findDOMNode)(this);\n      var eventNode = this.getEventNode();\n\n      if ((0, _inViewport2.default)(node, eventNode, offset)) {\n        var onContentVisible = this.props.onContentVisible;\n\n\n        this.setState({ visible: true }, function () {\n          if (onContentVisible) {\n            onContentVisible();\n          }\n        });\n        this.detachListeners();\n      }\n    }\n  }, {\n    key: 'detachListeners',\n    value: function detachListeners() {\n      var eventNode = this.getEventNode();\n\n      (0, _eventlistener.remove)(window, 'resize', this.lazyLoadHandler);\n      (0, _eventlistener.remove)(eventNode, 'scroll', this.lazyLoadHandler);\n\n      if (eventNode !== window) (0, _eventlistener.remove)(window, 'scroll', this.lazyLoadHandler);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          children = _props2.children,\n          className = _props2.className,\n          height = _props2.height,\n          width = _props2.width;\n      var visible = this.state.visible;\n\n\n      var elStyles = { height: height, width: width };\n      var elClasses = 'LazyLoad' + (visible ? ' is-visible' : '') + (className ? ' ' + className : '');\n\n      return _react2.default.createElement(this.props.elementType, {\n        className: elClasses,\n        style: elStyles\n      }, visible && _react.Children.only(children));\n    }\n  }]);\n\n  return LazyLoad;\n}(_react.Component);\n\nexports.default = LazyLoad;\n\n\nLazyLoad.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  className: _propTypes2.default.string,\n  debounce: _propTypes2.default.bool,\n  elementType: _propTypes2.default.string,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  offset: _propTypes2.default.number,\n  offsetBottom: _propTypes2.default.number,\n  offsetHorizontal: _propTypes2.default.number,\n  offsetLeft: _propTypes2.default.number,\n  offsetRight: _propTypes2.default.number,\n  offsetTop: _propTypes2.default.number,\n  offsetVertical: _propTypes2.default.number,\n  threshold: _propTypes2.default.number,\n  throttle: _propTypes2.default.number,\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  onContentVisible: _propTypes2.default.func\n};\n\nLazyLoad.defaultProps = {\n  elementType: 'div',\n  debounce: true,\n  offset: 0,\n  offsetBottom: 0,\n  offsetHorizontal: 0,\n  offsetLeft: 0,\n  offsetRight: 0,\n  offsetTop: 0,\n  offsetVertical: 0,\n  throttle: 250\n};","(function(root,factory){\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.eventListener = factory();\n  }\n}(this, function () {\n\tfunction wrap(standard, fallback) {\n\t\treturn function (el, evtName, listener, useCapture) {\n\t\t\tif (el[standard]) {\n\t\t\t\tel[standard](evtName, listener, useCapture);\n\t\t\t} else if (el[fallback]) {\n\t\t\t\tel[fallback]('on' + evtName, listener);\n\t\t\t}\n\t\t}\n\t}\n\n    return {\n\t\tadd: wrap('addEventListener', 'attachEvent'),\n\t\tremove: wrap('removeEventListener', 'detachEvent')\n\t};\n}));","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar style = function style(element, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(element, null).getPropertyValue(prop) : element.style[prop];\n};\n\nvar overflow = function overflow(element) {\n  return style(element, 'overflow') + style(element, 'overflow-y') + style(element, 'overflow-x');\n};\n\nvar scrollParent = function scrollParent(element) {\n  if (!(element instanceof HTMLElement)) {\n    return window;\n  }\n\n  var parent = element;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nexports.default = scrollParent;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inViewport;\n\nvar _getElementPosition = require('./getElementPosition');\n\nvar _getElementPosition2 = _interopRequireDefault(_getElementPosition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isHidden = function isHidden(element) {\n  return element.offsetParent === null;\n};\n\nfunction inViewport(element, container, customOffset) {\n  if (isHidden(element)) {\n    return false;\n  }\n\n  var top = void 0;\n  var bottom = void 0;\n  var left = void 0;\n  var right = void 0;\n\n  if (typeof container === 'undefined' || container === window) {\n    top = window.pageYOffset;\n    left = window.pageXOffset;\n    bottom = top + window.innerHeight;\n    right = left + window.innerWidth;\n  } else {\n    if (!inViewport(container, window, customOffset)) return false;\n\n    var containerPosition = (0, _getElementPosition2.default)(container);\n\n    top = containerPosition.top;\n    left = containerPosition.left;\n    bottom = top + container.offsetHeight;\n    right = left + container.offsetWidth;\n  }\n\n  var elementPosition = (0, _getElementPosition2.default)(element);\n\n  return top <= elementPosition.top + element.offsetHeight + customOffset.top && bottom >= elementPosition.top - customOffset.bottom && left <= elementPosition.left + element.offsetWidth + customOffset.left && right >= elementPosition.left - customOffset.right;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getElementPosition;\n/*\r\n* Finds element's position relative to the whole document,\r\n* rather than to the viewport as it is the case with .getBoundingClientRect().\r\n*/\nfunction getElementPosition(element) {\n  var rect = element.getBoundingClientRect();\n\n  return {\n    top: rect.top + window.pageYOffset,\n    left: rect.left + window.pageXOffset\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"\n}), 'ZoomOut');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"\n})), 'ZoomIn');\n\nexports.default = _default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ScrollLock = require('./ScrollLock');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ScrollLock).default;\n  }\n});\n\nvar _TouchScrollable = require('./TouchScrollable');\n\nObject.defineProperty(exports, 'TouchScrollable', {\n  enumerable: true,\n  get: function get() {\n    return _TouchScrollable.TouchScrollable;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _exenv = require('exenv');\n\nvar _TouchScrollable = require('./TouchScrollable');\n\nvar _withLockSheet = require('./withLockSheet');\n\nvar _withLockSheet2 = _interopRequireDefault(_withLockSheet);\n\nvar _withTouchListeners = require('./withTouchListeners');\n\nvar _withTouchListeners2 = _interopRequireDefault(_withTouchListeners);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ScrollLock = function (_PureComponent) {\n  _inherits(ScrollLock, _PureComponent);\n\n  function ScrollLock() {\n    _classCallCheck(this, ScrollLock);\n\n    return _possibleConstructorReturn(this, (ScrollLock.__proto__ || Object.getPrototypeOf(ScrollLock)).apply(this, arguments));\n  }\n\n  _createClass(ScrollLock, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!_exenv.canUseDOM) return;\n      this.initialHeight = window.innerHeight;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var offset = window.innerHeight - this.initialHeight;\n\n      // adjust scroll if the window has been resized since the lock was engaged\n      // e.g. mobile safari dynamic chrome heights\n      if (offset) {\n        window.scrollTo(0, window.pageYOffset + offset);\n      }\n\n      // reset the initial height in case this scroll lock is used again\n      this.initialHeight = window.innerHeight;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n\n      return children ? _react2.default.createElement(\n        _TouchScrollable.TouchScrollable,\n        null,\n        children\n      ) : null;\n    }\n  }]);\n\n  return ScrollLock;\n}(_react.PureComponent);\n\n// attach the stylesheet and inject styles on [un]mount\n\n\nvar compose = (0, _utils.pipe)(_withTouchListeners2.default, _withLockSheet2.default);\nvar SheetLock = compose(ScrollLock);\n\n// toggle the lock based on `isActive` prop\nvar LockToggle = function LockToggle(props) {\n  return props.isActive ? _react2.default.createElement(SheetLock, props) : props.children;\n};\n\nLockToggle.defaultProps = {\n  accountForScrollbars: true,\n  children: null,\n  isActive: true\n};\n\nexports.default = LockToggle;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = withLockSheet;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction withLockSheet(WrappedComponent) {\n  return function (_PureComponent) {\n    _inherits(SheetProvider, _PureComponent);\n\n    function SheetProvider() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, SheetProvider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SheetProvider.__proto__ || Object.getPrototypeOf(SheetProvider)).call.apply(_ref, [this].concat(args))), _this), _this.addSheet = function () {\n        var styles = _this.getStyles();\n\n        var sheet = (0, _utils.makeStyleTag)();\n        if (!sheet) return;\n\n        (0, _utils.injectStyles)(sheet, styles);\n        (0, _utils.insertStyleTag)(sheet);\n\n        _this.sheet = sheet;\n      }, _this.getStyles = function () {\n        var accountForScrollbars = _this.props.accountForScrollbars;\n\n\n        var height = (0, _utils.getDocumentHeight)();\n        var paddingRight = accountForScrollbars ? (0, _utils.getPadding)() : null;\n        var styles = 'body {\\n        box-sizing: border-box !important;\\n        overflow: hidden !important;\\n        position: relative !important;\\n        ' + (height ? 'height: ' + height + 'px !important;' : '') + '\\n        ' + (paddingRight ? 'padding-right: ' + paddingRight + 'px !important;' : '') + '\\n      }';\n\n        return styles;\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(SheetProvider, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.addSheet();\n      }\n    }, {\n      key: 'removeSheet',\n      value: function removeSheet() {\n        if (!this.sheet) return;\n\n        // $FlowFixMe\n        this.sheet.parentNode.removeChild(this.sheet);\n        this.sheet = null;\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.removeSheet();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(WrappedComponent, this.props);\n      }\n    }]);\n\n    return SheetProvider;\n  }(_react.PureComponent);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = withTouchListeners;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _exenv = require('exenv');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Mobile Safari ignores { overflow: hidden } declaration on the body,\n// so we have to prevent touchmove events via JS\nfunction withTouchListeners(WrappedComponent) {\n    return function (_PureComponent) {\n        _inherits(TouchProvider, _PureComponent);\n\n        function TouchProvider() {\n            _classCallCheck(this, TouchProvider);\n\n            return _possibleConstructorReturn(this, (TouchProvider.__proto__ || Object.getPrototypeOf(TouchProvider)).apply(this, arguments));\n        }\n\n        _createClass(TouchProvider, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                if (!_exenv.canUseDOM || !(0, _utils.isTouchDevice)()) return;\n\n                document.addEventListener('touchmove', _utils.preventTouchMove, _utils.listenerOptions);\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                if (!_exenv.canUseDOM || !(0, _utils.isTouchDevice)()) return;\n\n                document.removeEventListener('touchmove', _utils.preventTouchMove, _utils.listenerOptions);\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return _react2.default.createElement(WrappedComponent, this.props);\n            }\n        }]);\n\n        return TouchProvider;\n    }(_react.PureComponent);\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p=\"\",r(r.s=0)}([function(e,r,t){\"use strict\";r.__esModule=!0,r.default=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(\",\"),n=e.name||\"\",o=e.type||\"\",u=o.replace(/\\/.*$/,\"\");return t.some(function(e){var r=e.trim();return\".\"===r.charAt(0)?n.toLowerCase().endsWith(r.toLowerCase()):r.endsWith(\"/*\")?u===r.replace(/\\/.*$/,\"\"):o===r})}return!0}}]);","'use strict';\nvar $ = require('../internals/export');\nvar $groupBy = require('../internals/array-group-by');\nvar arraySpeciesConstructor = require('../internals/array-species-constructor');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.groupBy` method\n// https://github.com/tc39/proposal-array-grouping\n$({ target: 'Array', proto: true }, {\n  groupBy: function groupBy(callbackfn /* , thisArg */) {\n    var thisArg = arguments.length > 1 ? arguments[1] : undefined;\n    return $groupBy(this, callbackfn, thisArg, arraySpeciesConstructor);\n  }\n});\n\naddToUnscopables('groupBy');\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar objectCreate = require('../internals/object-create');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\n\nvar Array = global.Array;\nvar push = uncurryThis([].push);\n\nmodule.exports = function ($this, callbackfn, that, specificConstructor) {\n  var O = toObject($this);\n  var self = IndexedObject(O);\n  var boundFunction = bind(callbackfn, that);\n  var target = objectCreate(null);\n  var length = lengthOfArrayLike(self);\n  var index = 0;\n  var Constructor, key, value;\n  for (;length > index; index++) {\n    value = self[index];\n    key = toPropertyKey(boundFunction(value, index, O));\n    // in some IE10 builds, `hasOwnProperty` returns incorrect result on integer keys\n    // but since it's a `null` prototype object, we can safely use `in`\n    if (key in target) push(target[key], value);\n    else target[key] = [value];\n  }\n  if (specificConstructor) {\n    Constructor = specificConstructor(O);\n    if (Constructor !== Array) {\n      for (key in target) target[key] = arrayFromConstructorAndList(Constructor, target[key]);\n    }\n  } return target;\n};\n","module.exports = function (Constructor, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","import React, { useState } from 'react';\nimport MUILink from '@material-ui/core/Link';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport {\n  useTripsStats,\n} from 'travel/dataSource';\nimport VisitsArranger, {\n  PLAIN_FILTERING,\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\n\nconst domain = 'travel.VisitPage';\nexport default function TripPage({\n  match: {\n    params: { userAlias, strTripId },\n  },\n}) {\n  const [alsoGroupByCountries, setAlsoGroupByCountries] = useState(false);\n\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const tripId = parseInt(strTripId, 10);\n  const provision = useTripsStats({\n    domain,\n    userAlias,\n    tripsIds: tripId ? [tripId] : [],\n  });\n  const {\n    visitsIds: tripVisitsIds,\n    isReady,\n    visitsDict,\n    isError,\n    isPending,\n  } = provision;\n\n  const editable = isAuthenticated && authenticatedUserAlias === userAlias;\n  const urls = useVisitsUrls({ editable, userAlias, section: 'trips' });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  return (\n    <VisitsArranger\n      visitsList={tripVisitsIds.map(tripVisitsId => visitsDict[tripVisitsId])}\n      provision={provision}\n      groupsOrder={[\n        PLAIN_GROUPS.TRIPS,\n        alsoGroupByCountries && PLAIN_GROUPS.COUNTRIES,\n        PLAIN_GROUPS.JUST_VISITS,\n      ].filter(Boolean)}\n      adaptHeadersSize={[false, true, true]}\n      photosSectionLevel={-1}\n      mapSectionLevel={0}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={!editable}\n      urls={urls}\n      config={{ YearVisitsGroup: { hyperlinks: { year: false } } }}\n    >\n      {({ level, index }) =>\n        level === 0 &&\n        index === 0 && (\n          <>\n            <MUILink\n              variant=\"body2\"\n              onClick={() =>\n                setAlsoGroupByCountries(\n                  prevAlsoGroupByCountries => !prevAlsoGroupByCountries,\n                )\n              }\n            >\n              {alsoGroupByCountries\n                ? '   '\n                : '  '}\n            </MUILink>\n          </>\n        )\n      }\n    </VisitsArranger>\n  );\n}\n","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport PropTypes from 'prop-types';\nimport merge from './merge';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n}\n\nfunction css(styleFunction) {\n  var newStyleFunction = function newStyleFunction(props) {\n    var output = styleFunction(props);\n\n    if (props.css) {\n      return _extends(_extends({}, merge(output, styleFunction(_extends({\n        theme: props.theme\n      }, props.css)))), omit(props.css, [styleFunction.filterProps]));\n    }\n\n    return output;\n  };\n\n  newStyleFunction.propTypes = process.env.NODE_ENV !== 'production' ? _extends(_extends({}, styleFunction.propTypes), {}, {\n    css: PropTypes.object\n  }) : {};\n  newStyleFunction.filterProps = ['css'].concat(_toConsumableArray(styleFunction.filterProps));\n  return newStyleFunction;\n}\n\nexport default css;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport merge from './merge';\n\nfunction compose() {\n  for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n    styles[_key] = arguments[_key];\n  }\n\n  var fn = function fn(props) {\n    return styles.reduce(function (acc, style) {\n      var output = style(props);\n\n      if (output) {\n        return merge(acc, output);\n      }\n\n      return acc;\n    }, {});\n  }; // Alternative approach that doesn't yield any performance gain.\n  // const handlers = styles.reduce((acc, style) => {\n  //   style.filterProps.forEach(prop => {\n  //     acc[prop] = style;\n  //   });\n  //   return acc;\n  // }, {});\n  // const fn = props => {\n  //   return Object.keys(props).reduce((acc, prop) => {\n  //     if (handlers[prop]) {\n  //       return merge(acc, handlers[prop](props));\n  //     }\n  //     return acc;\n  //   }, {});\n  // };\n\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? styles.reduce(function (acc, style) {\n    return _extends(acc, style.propTypes);\n  }, {}) : {};\n  fn.filterProps = styles.reduce(function (acc, style) {\n    return acc.concat(style.filterProps);\n  }, []);\n  return fn;\n}\n\nexport default compose;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport responsivePropType from './responsivePropType';\nimport { handleBreakpoints } from './breakpoints';\n\nfunction getPath(obj, path) {\n  if (!path || typeof path !== 'string') {\n    return null;\n  }\n\n  return path.split('.').reduce(function (acc, item) {\n    return acc && acc[item] ? acc[item] : null;\n  }, obj);\n}\n\nfunction style(options) {\n  var prop = options.prop,\n      _options$cssProperty = options.cssProperty,\n      cssProperty = _options$cssProperty === void 0 ? options.prop : _options$cssProperty,\n      themeKey = options.themeKey,\n      transform = options.transform;\n\n  var fn = function fn(props) {\n    if (props[prop] == null) {\n      return null;\n    }\n\n    var propValue = props[prop];\n    var theme = props.theme;\n    var themeMapping = getPath(theme, themeKey) || {};\n\n    var styleFromPropValue = function styleFromPropValue(propValueFinal) {\n      var value;\n\n      if (typeof themeMapping === 'function') {\n        value = themeMapping(propValueFinal);\n      } else if (Array.isArray(themeMapping)) {\n        value = themeMapping[propValueFinal] || propValueFinal;\n      } else {\n        value = getPath(themeMapping, propValueFinal) || propValueFinal;\n\n        if (transform) {\n          value = transform(value);\n        }\n      }\n\n      if (cssProperty === false) {\n        return value;\n      }\n\n      return _defineProperty({}, cssProperty, value);\n    };\n\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  };\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? _defineProperty({}, prop, responsivePropType) : {};\n  fn.filterProps = [prop];\n  return fn;\n}\n\nexport default style;","import style from './style';\nimport compose from './compose';\n\nfunction getBorder(value) {\n  if (typeof value !== 'number') {\n    return value;\n  }\n\n  return \"\".concat(value, \"px solid\");\n}\n\nexport var border = style({\n  prop: 'border',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderTop = style({\n  prop: 'borderTop',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderRight = style({\n  prop: 'borderRight',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderBottom = style({\n  prop: 'borderBottom',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderLeft = style({\n  prop: 'borderLeft',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderColor = style({\n  prop: 'borderColor',\n  themeKey: 'palette'\n});\nexport var borderRadius = style({\n  prop: 'borderRadius',\n  themeKey: 'shape'\n});\nvar borders = compose(border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderRadius);\nexport default borders;","import style from './style';\nimport compose from './compose';\nexport var displayPrint = style({\n  prop: 'displayPrint',\n  cssProperty: false,\n  transform: function transform(value) {\n    return {\n      '@media print': {\n        display: value\n      }\n    };\n  }\n});\nexport var displayRaw = style({\n  prop: 'display'\n});\nexport var overflow = style({\n  prop: 'overflow'\n});\nexport var textOverflow = style({\n  prop: 'textOverflow'\n});\nexport var visibility = style({\n  prop: 'visibility'\n});\nexport var whiteSpace = style({\n  prop: 'whiteSpace'\n});\nexport default compose(displayPrint, displayRaw, overflow, textOverflow, visibility, whiteSpace);","import style from './style';\nimport compose from './compose';\nexport var flexBasis = style({\n  prop: 'flexBasis'\n});\nexport var flexDirection = style({\n  prop: 'flexDirection'\n});\nexport var flexWrap = style({\n  prop: 'flexWrap'\n});\nexport var justifyContent = style({\n  prop: 'justifyContent'\n});\nexport var alignItems = style({\n  prop: 'alignItems'\n});\nexport var alignContent = style({\n  prop: 'alignContent'\n});\nexport var order = style({\n  prop: 'order'\n});\nexport var flex = style({\n  prop: 'flex'\n});\nexport var flexGrow = style({\n  prop: 'flexGrow'\n});\nexport var flexShrink = style({\n  prop: 'flexShrink'\n});\nexport var alignSelf = style({\n  prop: 'alignSelf'\n});\nexport var justifyItems = style({\n  prop: 'justifyItems'\n});\nexport var justifySelf = style({\n  prop: 'justifySelf'\n});\nvar flexbox = compose(flexBasis, flexDirection, flexWrap, justifyContent, alignItems, alignContent, order, flex, flexGrow, flexShrink, alignSelf, justifyItems, justifySelf);\nexport default flexbox;","import style from './style';\nimport compose from './compose';\nexport var gridGap = style({\n  prop: 'gridGap'\n});\nexport var gridColumnGap = style({\n  prop: 'gridColumnGap'\n});\nexport var gridRowGap = style({\n  prop: 'gridRowGap'\n});\nexport var gridColumn = style({\n  prop: 'gridColumn'\n});\nexport var gridRow = style({\n  prop: 'gridRow'\n});\nexport var gridAutoFlow = style({\n  prop: 'gridAutoFlow'\n});\nexport var gridAutoColumns = style({\n  prop: 'gridAutoColumns'\n});\nexport var gridAutoRows = style({\n  prop: 'gridAutoRows'\n});\nexport var gridTemplateColumns = style({\n  prop: 'gridTemplateColumns'\n});\nexport var gridTemplateRows = style({\n  prop: 'gridTemplateRows'\n});\nexport var gridTemplateAreas = style({\n  prop: 'gridTemplateAreas'\n});\nexport var gridArea = style({\n  prop: 'gridArea'\n});\nvar grid = compose(gridGap, gridColumnGap, gridRowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea);\nexport default grid;","import style from './style';\nimport compose from './compose';\nexport var position = style({\n  prop: 'position'\n});\nexport var zIndex = style({\n  prop: 'zIndex',\n  themeKey: 'zIndex'\n});\nexport var top = style({\n  prop: 'top'\n});\nexport var right = style({\n  prop: 'right'\n});\nexport var bottom = style({\n  prop: 'bottom'\n});\nexport var left = style({\n  prop: 'left'\n});\nexport default compose(position, zIndex, top, right, bottom, left);","import style from './style';\nimport compose from './compose';\nexport var color = style({\n  prop: 'color',\n  themeKey: 'palette'\n});\nexport var bgcolor = style({\n  prop: 'bgcolor',\n  cssProperty: 'backgroundColor',\n  themeKey: 'palette'\n});\nvar palette = compose(color, bgcolor);\nexport default palette;","import style from './style';\nvar boxShadow = style({\n  prop: 'boxShadow',\n  themeKey: 'shadows'\n});\nexport default boxShadow;","import style from './style';\nimport compose from './compose';\n\nfunction transform(value) {\n  return value <= 1 ? \"\".concat(value * 100, \"%\") : value;\n}\n\nexport var width = style({\n  prop: 'width',\n  transform: transform\n});\nexport var maxWidth = style({\n  prop: 'maxWidth',\n  transform: transform\n});\nexport var minWidth = style({\n  prop: 'minWidth',\n  transform: transform\n});\nexport var height = style({\n  prop: 'height',\n  transform: transform\n});\nexport var maxHeight = style({\n  prop: 'maxHeight',\n  transform: transform\n});\nexport var minHeight = style({\n  prop: 'minHeight',\n  transform: transform\n});\nexport var sizeWidth = style({\n  prop: 'size',\n  cssProperty: 'width',\n  transform: transform\n});\nexport var sizeHeight = style({\n  prop: 'size',\n  cssProperty: 'height',\n  transform: transform\n});\nexport var boxSizing = style({\n  prop: 'boxSizing'\n});\nvar sizing = compose(width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing);\nexport default sizing;","import style from './style';\nimport compose from './compose';\nexport var fontFamily = style({\n  prop: 'fontFamily',\n  themeKey: 'typography'\n});\nexport var fontSize = style({\n  prop: 'fontSize',\n  themeKey: 'typography'\n});\nexport var fontStyle = style({\n  prop: 'fontStyle',\n  themeKey: 'typography'\n});\nexport var fontWeight = style({\n  prop: 'fontWeight',\n  themeKey: 'typography'\n});\nexport var letterSpacing = style({\n  prop: 'letterSpacing'\n});\nexport var lineHeight = style({\n  prop: 'lineHeight'\n});\nexport var textAlign = style({\n  prop: 'textAlign'\n});\nvar typography = compose(fontFamily, fontSize, fontStyle, fontWeight, letterSpacing, lineHeight, textAlign);\nexport default typography;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport makeStyles from '../makeStyles';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n} // styled-components's API removes the mapping between components and styles.\n// Using components as a low-level styling construct can be simpler.\n\n\nexport default function styled(Component) {\n  var componentCreator = function componentCreator(style) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var name = options.name,\n        stylesOptions = _objectWithoutProperties(options, [\"name\"]);\n\n    if (process.env.NODE_ENV !== 'production' && Component === undefined) {\n      throw new Error(['You are calling styled(Component)(style) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n    }\n\n    var classNamePrefix = name;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!name) {\n        // Provide a better DX outside production.\n        var displayName = getDisplayName(Component);\n\n        if (displayName !== undefined) {\n          classNamePrefix = displayName;\n        }\n      }\n    }\n\n    var stylesOrCreator = typeof style === 'function' ? function (theme) {\n      return {\n        root: function root(props) {\n          return style(_extends({\n            theme: theme\n          }, props));\n        }\n      };\n    } : {\n      root: style\n    };\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var filterProps;\n    var propTypes = {};\n\n    if (style.filterProps) {\n      filterProps = style.filterProps;\n      delete style.filterProps;\n    }\n    /* eslint-disable react/forbid-foreign-prop-types */\n\n\n    if (style.propTypes) {\n      propTypes = style.propTypes;\n      delete style.propTypes;\n    }\n    /* eslint-enable react/forbid-foreign-prop-types */\n\n\n    var StyledComponent = React.forwardRef(function StyledComponent(props, ref) {\n      var children = props.children,\n          classNameProp = props.className,\n          clone = props.clone,\n          ComponentProp = props.component,\n          other = _objectWithoutProperties(props, [\"children\", \"className\", \"clone\", \"component\"]);\n\n      var classes = useStyles(props);\n      var className = clsx(classes.root, classNameProp);\n      var spread = other;\n\n      if (filterProps) {\n        spread = omit(spread, filterProps);\n      }\n\n      if (clone) {\n        return React.cloneElement(children, _extends({\n          className: clsx(children.props.className, className)\n        }, spread));\n      }\n\n      if (typeof children === 'function') {\n        return children(_extends({\n          className: className\n        }, spread));\n      }\n\n      var FinalComponent = ComponentProp || Component;\n      return /*#__PURE__*/React.createElement(FinalComponent, _extends({\n        ref: ref,\n        className: className\n      }, spread), children);\n    });\n    process.env.NODE_ENV !== \"production\" ? StyledComponent.propTypes = _extends({\n      /**\n       * A render function or node.\n       */\n      children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /**\n       * @ignore\n       */\n      className: PropTypes.string,\n\n      /**\n       * If `true`, the component will recycle it's children HTML element.\n       * It's using `React.cloneElement` internally.\n       *\n       * This prop will be deprecated and removed in v5\n       */\n      clone: chainPropTypes(PropTypes.bool, function (props) {\n        if (props.clone && props.component) {\n          return new Error('You can not use the clone and component prop at the same time.');\n        }\n\n        return null;\n      }),\n\n      /**\n       * The component used for the root node.\n       * Either a string to use a HTML element or a component.\n       */\n      component: PropTypes.elementType\n    }, propTypes) : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      StyledComponent.displayName = \"Styled(\".concat(classNamePrefix, \")\");\n    }\n\n    hoistNonReactStatics(StyledComponent, Component);\n    return StyledComponent;\n  };\n\n  return componentCreator;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { styled as styledWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nvar styled = function styled(Component) {\n  var componentCreator = styledWithoutDefault(Component);\n  return function (style, options) {\n    return componentCreator(style, _extends({\n      defaultTheme: defaultTheme\n    }, options));\n  };\n};\n\nexport default styled;","import { borders, compose, display, flexbox, grid, palette, positions, shadows, sizing, spacing, typography, css } from '@material-ui/system';\nimport styled from '../styles/styled';\nexport var styleFunction = css(compose(borders, display, flexbox, grid, positions, palette, shadows, sizing, spacing, typography));\n/**\n * @ignore - do not document.\n */\n\nvar Box = styled('div')(styleFunction, {\n  name: 'MuiBox'\n});\nexport default Box;","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n}), 'Star');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport { useTheme, withStyles } from '@material-ui/core/styles';\nimport { capitalize, useForkRef, useIsFocusVisible, useControlled, unstable_useId as useId } from '@material-ui/core/utils';\nimport Star from '../internal/svg-icons/Star';\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n\n  if (value > max) {\n    return max;\n  }\n\n  return value;\n}\n\nfunction getDecimalPrecision(num) {\n  var decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction roundValueToPrecision(value, precision) {\n  if (value == null) {\n    return value;\n  }\n\n  var nearest = Math.round(value / precision) * precision;\n  return Number(nearest.toFixed(getDecimalPrecision(precision)));\n}\n\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      position: 'relative',\n      fontSize: theme.typography.pxToRem(24),\n      color: '#ffb400',\n      cursor: 'pointer',\n      textAlign: 'left',\n      WebkitTapHighlightColor: 'transparent',\n      '&$disabled': {\n        opacity: 0.5,\n        pointerEvents: 'none'\n      },\n      '&$focusVisible $iconActive': {\n        outline: '1px solid #999'\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      fontSize: theme.typography.pxToRem(18)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"`. */\n    sizeLarge: {\n      fontSize: theme.typography.pxToRem(30)\n    },\n\n    /* Styles applied to the root element if `readOnly={true}`. */\n    readOnly: {\n      pointerEvents: 'none'\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if keyboard focused. */\n    focusVisible: {},\n\n    /* Visually hide an element. */\n    visuallyhidden: {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: 1,\n      margin: -1,\n      color: '#000',\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      top: 20,\n      width: 1\n    },\n\n    /* Styles applied to the pristine label. */\n    pristine: {\n      'input:focus + &': {\n        top: 0,\n        bottom: 0,\n        position: 'absolute',\n        outline: '1px solid #999',\n        width: '100%'\n      }\n    },\n\n    /* Styles applied to the label elements. */\n    label: {\n      cursor: 'inherit'\n    },\n\n    /* Styles applied to the icon wrapping elements. */\n    icon: {\n      display: 'flex',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest\n      }),\n      // Fix mouseLeave issue.\n      // https://github.com/facebook/react/issues/4492\n      pointerEvents: 'none'\n    },\n\n    /* Styles applied to the icon wrapping elements when empty. */\n    iconEmpty: {\n      color: theme.palette.action.disabled\n    },\n\n    /* Styles applied to the icon wrapping elements when filled. */\n    iconFilled: {},\n\n    /* Styles applied to the icon wrapping elements when hover. */\n    iconHover: {},\n\n    /* Styles applied to the icon wrapping elements when focus. */\n    iconFocus: {},\n\n    /* Styles applied to the icon wrapping elements when active. */\n    iconActive: {\n      transform: 'scale(1.2)'\n    },\n\n    /* Styles applied to the icon wrapping elements when decimals are necessary. */\n    decimal: {\n      position: 'relative'\n    }\n  };\n};\n\nfunction IconContainer(props) {\n  var value = props.value,\n      other = _objectWithoutProperties(props, [\"value\"]);\n\n  return /*#__PURE__*/React.createElement(\"span\", other);\n}\n\nprocess.env.NODE_ENV !== \"production\" ? IconContainer.propTypes = {\n  value: PropTypes.number.isRequired\n} : void 0;\nvar defaultIcon = /*#__PURE__*/React.createElement(Star, {\n  fontSize: \"inherit\"\n});\n\nfunction defaultLabelText(value) {\n  return \"\".concat(value, \" Star\").concat(value !== 1 ? 's' : '');\n}\n\nvar Rating = /*#__PURE__*/React.forwardRef(function Rating(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$defaultValue = props.defaultValue,\n      defaultValue = _props$defaultValue === void 0 ? null : _props$defaultValue,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      emptyIcon = props.emptyIcon,\n      _props$emptyLabelText = props.emptyLabelText,\n      emptyLabelText = _props$emptyLabelText === void 0 ? 'Empty' : _props$emptyLabelText,\n      _props$getLabelText = props.getLabelText,\n      getLabelText = _props$getLabelText === void 0 ? defaultLabelText : _props$getLabelText,\n      _props$icon = props.icon,\n      icon = _props$icon === void 0 ? defaultIcon : _props$icon,\n      _props$IconContainerC = props.IconContainerComponent,\n      IconContainerComponent = _props$IconContainerC === void 0 ? IconContainer : _props$IconContainerC,\n      _props$max = props.max,\n      max = _props$max === void 0 ? 5 : _props$max,\n      nameProp = props.name,\n      onChange = props.onChange,\n      onChangeActive = props.onChangeActive,\n      onMouseLeave = props.onMouseLeave,\n      onMouseMove = props.onMouseMove,\n      _props$precision = props.precision,\n      precision = _props$precision === void 0 ? 1 : _props$precision,\n      _props$readOnly = props.readOnly,\n      readOnly = _props$readOnly === void 0 ? false : _props$readOnly,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      valueProp = props.value,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"defaultValue\", \"disabled\", \"emptyIcon\", \"emptyLabelText\", \"getLabelText\", \"icon\", \"IconContainerComponent\", \"max\", \"name\", \"onChange\", \"onChangeActive\", \"onMouseLeave\", \"onMouseMove\", \"precision\", \"readOnly\", \"size\", \"value\"]);\n\n  var name = useId(nameProp);\n\n  var _useControlled = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'Rating'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      valueDerived = _useControlled2[0],\n      setValueState = _useControlled2[1];\n\n  var valueRounded = roundValueToPrecision(valueDerived, precision);\n  var theme = useTheme();\n\n  var _React$useState = React.useState({\n    hover: -1,\n    focus: -1\n  }),\n      _React$useState$ = _React$useState[0],\n      hover = _React$useState$.hover,\n      focus = _React$useState$.focus,\n      setState = _React$useState[1];\n\n  var value = valueRounded;\n\n  if (hover !== -1) {\n    value = hover;\n  }\n\n  if (focus !== -1) {\n    value = focus;\n  }\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisible = _useIsFocusVisible.isFocusVisible,\n      onBlurVisible = _useIsFocusVisible.onBlurVisible,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  var _React$useState2 = React.useState(false),\n      focusVisible = _React$useState2[0],\n      setFocusVisible = _React$useState2[1];\n\n  var rootRef = React.useRef();\n  var handleFocusRef = useForkRef(focusVisibleRef, rootRef);\n  var handleRef = useForkRef(handleFocusRef, ref);\n\n  var handleMouseMove = function handleMouseMove(event) {\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n\n    var rootNode = rootRef.current;\n\n    var _rootNode$getBounding = rootNode.getBoundingClientRect(),\n        right = _rootNode$getBounding.right,\n        left = _rootNode$getBounding.left;\n\n    var _rootNode$firstChild$ = rootNode.firstChild.getBoundingClientRect(),\n        width = _rootNode$firstChild$.width;\n\n    var percent;\n\n    if (theme.direction === 'rtl') {\n      percent = (right - event.clientX) / (width * max);\n    } else {\n      percent = (event.clientX - left) / (width * max);\n    }\n\n    var newHover = roundValueToPrecision(max * percent + precision / 2, precision);\n    newHover = clamp(newHover, precision, max);\n    setState(function (prev) {\n      return prev.hover === newHover && prev.focus === newHover ? prev : {\n        hover: newHover,\n        focus: newHover\n      };\n    });\n    setFocusVisible(false);\n\n    if (onChangeActive && hover !== newHover) {\n      onChangeActive(event, newHover);\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    var newHover = -1;\n    setState({\n      hover: newHover,\n      focus: newHover\n    });\n\n    if (onChangeActive && hover !== newHover) {\n      onChangeActive(event, newHover);\n    }\n  };\n\n  var handleChange = function handleChange(event) {\n    var newValue = parseFloat(event.target.value);\n    setValueState(newValue);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n  };\n\n  var handleClear = function handleClear(event) {\n    // Ignore keyboard events\n    // https://github.com/facebook/react/issues/7407\n    if (event.clientX === 0 && event.clientY === 0) {\n      return;\n    }\n\n    setState({\n      hover: -1,\n      focus: -1\n    });\n    setValueState(null);\n\n    if (onChange && parseFloat(event.target.value) === valueRounded) {\n      onChange(event, null);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (isFocusVisible(event)) {\n      setFocusVisible(true);\n    }\n\n    var newFocus = parseFloat(event.target.value);\n    setState(function (prev) {\n      return {\n        hover: prev.hover,\n        focus: newFocus\n      };\n    });\n\n    if (onChangeActive && focus !== newFocus) {\n      onChangeActive(event, newFocus);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (hover !== -1) {\n      return;\n    }\n\n    if (focusVisible !== false) {\n      setFocusVisible(false);\n      onBlurVisible();\n    }\n\n    var newFocus = -1;\n    setState(function (prev) {\n      return {\n        hover: prev.hover,\n        focus: newFocus\n      };\n    });\n\n    if (onChangeActive && focus !== newFocus) {\n      onChangeActive(event, newFocus);\n    }\n  };\n\n  var item = function item(state, labelProps) {\n    var id = \"\".concat(name, \"-\").concat(String(state.value).replace('.', '-'));\n    var container = /*#__PURE__*/React.createElement(IconContainerComponent, {\n      value: state.value,\n      className: clsx(classes.icon, state.filled ? classes.iconFilled : classes.iconEmpty, state.hover && classes.iconHover, state.focus && classes.iconFocus, state.active && classes.iconActive)\n    }, emptyIcon && !state.filled ? emptyIcon : icon);\n\n    if (readOnly) {\n      return /*#__PURE__*/React.createElement(\"span\", _extends({\n        key: state.value\n      }, labelProps), container);\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: state.value\n    }, /*#__PURE__*/React.createElement(\"label\", _extends({\n      className: classes.label,\n      htmlFor: id\n    }, labelProps), container, /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.visuallyhidden\n    }, getLabelText(state.value))), /*#__PURE__*/React.createElement(\"input\", {\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      onChange: handleChange,\n      onClick: handleClear,\n      disabled: disabled,\n      value: state.value,\n      id: id,\n      type: \"radio\",\n      name: name,\n      checked: state.checked,\n      className: classes.visuallyhidden\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    ref: handleRef,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    className: clsx(classes.root, className, size !== 'medium' && classes[\"size\".concat(capitalize(size))], disabled && classes.disabled, focusVisible && classes.focusVisible, readOnly && classes.readOnly),\n    role: readOnly ? 'img' : null,\n    \"aria-label\": readOnly ? getLabelText(value) : null\n  }, other), Array.from(new Array(max)).map(function (_, index) {\n    var itemValue = index + 1;\n\n    if (precision < 1) {\n      var items = Array.from(new Array(1 / precision));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        key: itemValue,\n        className: clsx(classes.decimal, itemValue === Math.ceil(value) && (hover !== -1 || focus !== -1) && classes.iconActive)\n      }, items.map(function ($, indexDecimal) {\n        var itemDecimalValue = roundValueToPrecision(itemValue - 1 + (indexDecimal + 1) * precision, precision);\n        return item({\n          value: itemDecimalValue,\n          filled: itemDecimalValue <= value,\n          hover: itemDecimalValue <= hover,\n          focus: itemDecimalValue <= focus,\n          checked: itemDecimalValue === valueRounded\n        }, {\n          style: items.length - 1 === indexDecimal ? {} : {\n            width: itemDecimalValue === value ? \"\".concat((indexDecimal + 1) * precision * 100, \"%\") : '0%',\n            overflow: 'hidden',\n            zIndex: 1,\n            position: 'absolute'\n          }\n        });\n      }));\n    }\n\n    return item({\n      value: itemValue,\n      active: itemValue === value && (hover !== -1 || focus !== -1),\n      filled: itemValue <= value,\n      hover: itemValue <= hover,\n      focus: itemValue <= focus,\n      checked: itemValue === valueRounded\n    });\n  }), !readOnly && !disabled && valueRounded == null && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    value: \"\",\n    id: \"\".concat(name, \"-empty\"),\n    type: \"radio\",\n    name: name,\n    defaultChecked: true,\n    className: classes.visuallyhidden\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: classes.pristine,\n    htmlFor: \"\".concat(name, \"-empty\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.visuallyhidden\n  }, emptyLabelText))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Rating.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The default value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.number,\n\n  /**\n   * If `true`, the rating will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The icon to display when empty.\n   */\n  emptyIcon: PropTypes.node,\n\n  /**\n   * The label read when the rating input is empty.\n   */\n  emptyLabelText: PropTypes.node,\n\n  /**\n   * Accepts a function which returns a string value that provides a user-friendly name for the current value of the rating.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   *\n   * @param {number} value The rating label's value to format.\n   * @returns {string}\n   */\n  getLabelText: PropTypes.func,\n\n  /**\n   * The icon to display.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component containing the icon.\n   */\n  IconContainerComponent: PropTypes.elementType,\n\n  /**\n   * Maximum rating.\n   */\n  max: PropTypes.number,\n\n  /**\n   * The name attribute of the radio `input` elements.\n   * If `readOnly` is false, the prop is required,\n   * this input name`should be unique within the parent form.\n   */\n  name: chainPropTypes(PropTypes.string, function (props) {\n    if (!props.readOnly && !props.name) {\n      return new Error(['Material-UI: The prop `name` is required (when `readOnly` is false).', 'Additionally, the input name should be unique within the parent form.'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {number} value The new value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Callback function that is fired when the hover state changes.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {number} value The new value.\n   */\n  onChangeActive: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseMove: PropTypes.func,\n\n  /**\n   * The minimum increment value change allowed.\n   */\n  precision: chainPropTypes(PropTypes.number, function (props) {\n    if (props.precision < 0.1) {\n      return new Error(['Material-UI: The prop `precision` should be above 0.1.', 'A value below this limit has an imperceptible impact.'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\n   * Removes all hover effects and pointer events.\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * The size of the rating.\n   */\n  size: PropTypes.oneOf(['large', 'medium', 'small']),\n\n  /**\n   * The rating value.\n   */\n  value: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiRating'\n})(Rating);","import React, { useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Box from '@material-ui/core/Box';\nimport Rating from '@material-ui/lab/Rating';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nconst RATING_LOCALIZATION = {\n  [LOCATION_RATING.PLACE_TO_LIVE]: '  ',\n  [LOCATION_RATING.FEW_PER_YEAR]: '      ',\n  [LOCATION_RATING.ONCE_PER_YEAR]: '   ',\n  [LOCATION_RATING.ONCE_PER_TWO_YEARS]: '     ',\n  [LOCATION_RATING.ONCE_PER_FIVE_YEARS]: '     ',\n  [LOCATION_RATING.ONCE_PER_DECADE]: '    ',\n  [LOCATION_RATING.TWICE_PER_LIVE]: '     ',\n  [LOCATION_RATING.ONCE_PER_LIVE]: '  ',\n  [LOCATION_RATING.NEVER]: '     ',\n};\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  formControl: {\n    display: 'block',\n    margin: '24px 12px',\n    width: '100%',\n  },\n});\n\nexport default function LocationRating({\n  locationId,\n  locationRating,\n  isEditable,\n  onSubmitLocationRating,\n}) {\n  const classes = useStyles();\n  const [rating, setRating] = React.useState(locationRating);\n\n  const handleChangeRating = useCallback(\n    event => {\n      const nextRating = event.target.value;\n      if (nextRating && nextRating !== locationRating) {\n        setRating(nextRating);\n        onSubmitLocationRating(locationId, event.target.value);\n      }\n    },\n    [locationId, locationRating],\n  );\n\n  return (\n    <div className={classes.container}>\n      {Boolean(rating) && (\n        <Rating\n          name=\"locationRating\"\n          readOnly={true}\n          size=\"large\"\n          value={ratingToStars(rating)}\n          precision={0.5}\n        />\n      )}\n      {Boolean(!isEditable && rating) && (\n        <Box ml={2}>{RATING_LOCALIZATION[rating]}</Box>\n      )}\n      {isEditable && (\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink={true} id=\"select-location-rating-label\">\n             \n          </InputLabel>\n          <Select\n            labelId=\"select-location-rating-label\"\n            id=\"select-location-rating\"\n            value={locationRating}\n            onChange={handleChangeRating}\n          >\n            {Object.values(LOCATION_RATING).map(ratingOption => (\n              <MenuItem key={ratingOption} value={ratingOption}>\n                {RATING_LOCALIZATION[ratingOption]}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      )}\n    </div>\n  );\n}\n\nfunction ratingToStars(rating) {\n  if (rating >= 7) {\n    return 9 - Math.ceil(rating);\n  }\n  return 5 - (rating - 1) / 2;\n}\n","import useLocation from 'travel/dataSource/useLocation';\nimport { useTripsStats } from 'travel/dataSource/useTrips';\nimport { useLocationRatingRequest } from 'travel/dataSource/useLocations';\n\nexport default function useLocationWithTripStats({\n  domain,\n  userAlias,\n  locationId,\n}) {\n  const tripsStatsProvision = useTripsStats({\n    userAlias,\n  });\n\n  const {\n    isError: isTripsError,\n    isPending: isTripsPending,\n    isReady: isTripsReady,\n    locationsIds,\n    visitsDict,\n    visitsIds,\n    locationsRating,\n  } = tripsStatsProvision;\n\n  const {\n    location,\n    provision: { isError, isPending, isReady, ...restProvision },\n  } = useLocation({ domain, locationId });\n\n  const { submitLocationRating } = useLocationRatingRequest({ domain });\n\n  const isVisited = locationsIds.includes(locationId);\n\n  return {\n    provision: {\n      isError: isError || isTripsError,\n      isPending: isPending || isTripsPending,\n      isReady: isReady || isTripsReady,\n      ...restProvision,\n    },\n    location,\n    isVisited,\n    visitsList: isVisited\n      ? visitsIds\n          .map(visitId => visitsDict[visitId])\n          .filter(\n            ({ locationId: visitLocationId }) => visitLocationId === locationId,\n          )\n      : [],\n    locationRating: (isVisited && locationsRating[locationId]) || null,\n    submitLocationRating,\n    tripsStatsProvision,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, selectItem } from 'core/connection';\n\nexport default function useLocation({ domain, locationId }) {\n  const location = useSelector(\n    state => selectItem(state, 'locations', locationId) || {},\n  );\n\n  const provision = useProvision({\n    domain,\n    isProvision: true,\n    modelName: 'locations',\n    observe: locationId,\n    condition: Boolean(locationId),\n    query: {\n      id: locationId,\n    },\n  });\n\n  return {\n    location,\n    provision,\n  };\n}\n","import React, { useCallback, useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n  PLAIN_FILTERING,\n} from 'travel/components/VisitsArranger';\nimport LocationRating from './blocks/LocationRating';\nimport useLocationWithTripStats from './useLocationWithTripStats';\n\nconst domain = 'travel.LocationPage';\nexport default function LocationPage({\n  match: {\n    params: { userAlias, strLocationId, section },\n  },\n}) {\n  const [alsoGroupByYears, setAlsoGroupByYears] = useState(false);\n\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  const locationId = parseInt(strLocationId, 10);\n\n  const {\n    location,\n    provision: { isError, isPending, isReady },\n    isVisited,\n    visitsList,\n    tripsStatsProvision,\n    tripsStatsProvision: { userProvision },\n    locationRating,\n    submitLocationRating,\n  } = useLocationWithTripStats({ domain, userAlias, locationId });\n\n  const handleSubmitLocationRating = useCallback(\n    (locationIdToSubmit, value) => {\n      submitLocationRating({\n        query: { rating: value, id: String(locationIdToSubmit) },\n        condition: Boolean(locationIdToSubmit),\n      }).finally(userProvision.invalidate); // todo: still need to improve invalidation ux\n    },\n  );\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  if (!location) {\n    return null;\n  }\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n\n  if (!isVisited) {\n    return (\n      <Typography variant=\"h2\" component=\"span\">\n        {location.locationName}\n      </Typography>\n    );\n  }\n  return (\n    <VisitsArranger\n      visitsList={visitsList}\n      provision={tripsStatsProvision}\n      groupsOrder={[\n        PLAIN_GROUPS.LOCATIONS,\n        alsoGroupByYears && PLAIN_GROUPS.YEARS,\n        PLAIN_GROUPS.JUST_VISITS,\n      ].filter(Boolean)}\n      photosSectionLevel={1}\n      mapSectionLevel={0}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={isObscure}\n      urls={urls}\n      config={{\n        LocationVisitsGroup: {\n          hyperlinks: { location: false },\n        },\n        StatsPanel: {\n          appearance: { CountriesStats: false },\n        },\n      }}\n    >\n      {({ level, index }) =>\n        level === 0 &&\n        index === 0 && (\n          <>\n            <MUILink\n              variant=\"body2\"\n              onClick={() =>\n                setAlsoGroupByYears(\n                  prevAlsoGroupByYears => !prevAlsoGroupByYears,\n                )\n              }\n            >\n              {alsoGroupByYears\n                ? '   '\n                : '  '}\n            </MUILink>\n            <LocationRating\n              locationId={locationId}\n              locationRating={locationRating}\n              isEditable={isEditable}\n              onSubmitLocationRating={handleSubmitLocationRating}\n            />\n          </>\n        )\n      }\n    </VisitsArranger>\n  );\n}\n","import { encode83 } from \"./base83\";\nimport { sRGBToLinear, signPow, linearTosRGB } from \"./utils\";\nimport { ValidationError } from \"./error\";\nconst bytesPerPixel = 4;\nconst multiplyBasisFunction = (pixels, width, height, basisFunction) => {\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    const bytesPerRow = width * bytesPerPixel;\n    for (let x = 0; x < width; x++) {\n        for (let y = 0; y < height; y++) {\n            const basis = basisFunction(x, y);\n            r +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 0 + y * bytesPerRow]);\n            g +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 1 + y * bytesPerRow]);\n            b +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 2 + y * bytesPerRow]);\n        }\n    }\n    let scale = 1 / (width * height);\n    return [r * scale, g * scale, b * scale];\n};\nconst encodeDC = (value) => {\n    const roundedR = linearTosRGB(value[0]);\n    const roundedG = linearTosRGB(value[1]);\n    const roundedB = linearTosRGB(value[2]);\n    return (roundedR << 16) + (roundedG << 8) + roundedB;\n};\nconst encodeAC = (value, maximumValue) => {\n    let quantR = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[0] / maximumValue, 0.5) * 9 + 9.5))));\n    let quantG = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[1] / maximumValue, 0.5) * 9 + 9.5))));\n    let quantB = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[2] / maximumValue, 0.5) * 9 + 9.5))));\n    return quantR * 19 * 19 + quantG * 19 + quantB;\n};\nconst encode = (pixels, width, height, componentX, componentY) => {\n    if (componentX < 1 || componentX > 9 || componentY < 1 || componentY > 9) {\n        throw new ValidationError(\"BlurHash must have between 1 and 9 components\");\n    }\n    if (width * height * 4 !== pixels.length) {\n        throw new ValidationError(\"Width and height must match the pixels array\");\n    }\n    let factors = [];\n    for (let y = 0; y < componentY; y++) {\n        for (let x = 0; x < componentX; x++) {\n            const normalisation = x == 0 && y == 0 ? 1 : 2;\n            const factor = multiplyBasisFunction(pixels, width, height, (i, j) => normalisation *\n                Math.cos((Math.PI * x * i) / width) *\n                Math.cos((Math.PI * y * j) / height));\n            factors.push(factor);\n        }\n    }\n    const dc = factors[0];\n    const ac = factors.slice(1);\n    let hash = \"\";\n    let sizeFlag = componentX - 1 + (componentY - 1) * 9;\n    hash += encode83(sizeFlag, 1);\n    let maximumValue;\n    if (ac.length > 0) {\n        let actualMaximumValue = Math.max(...ac.map(val => Math.max(...val)));\n        let quantisedMaximumValue = Math.floor(Math.max(0, Math.min(82, Math.floor(actualMaximumValue * 166 - 0.5))));\n        maximumValue = (quantisedMaximumValue + 1) / 166;\n        hash += encode83(quantisedMaximumValue, 1);\n    }\n    else {\n        maximumValue = 1;\n        hash += encode83(0, 1);\n    }\n    hash += encode83(encodeDC(dc), 4);\n    ac.forEach(factor => {\n        hash += encode83(encodeAC(factor, maximumValue), 2);\n    });\n    return hash;\n};\nexport default encode;\n//# sourceMappingURL=encode.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export var COMMON_MIME_TYPES = new Map([\n    ['avi', 'video/avi'],\n    ['gif', 'image/gif'],\n    ['ico', 'image/x-icon'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['mp4', 'video/mp4'],\n    ['pdf', 'application/pdf'],\n    ['png', 'image/png'],\n    ['zip', 'application/zip'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n]);\nexport function toFileWithPath(file, path) {\n    var f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        var webkitRelativePath = file.webkitRelativePath;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n    return f;\n}\nfunction withMimeType(file) {\n    var name = file.name;\n    var hasExtension = name && name.lastIndexOf('.') !== -1;\n    if (hasExtension && !file.type) {\n        var ext = name.split('.')\n            .pop().toLowerCase();\n        var type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n    return file;\n}\n//# sourceMappingURL=file.js.map","import * as tslib_1 from \"tslib\";\nimport { toFileWithPath } from './file';\nvar FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store',\n    'Thumbs.db' // Windows\n];\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n * @param evt\n */\nexport function fromEvent(evt) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, isDragEvt(evt) && evt.dataTransfer\n                    ? getDataTransferFiles(evt.dataTransfer, evt.type)\n                    : getInputFiles(evt)];\n        });\n    });\n}\nfunction isDragEvt(value) {\n    return !!value.dataTransfer;\n}\nfunction getInputFiles(evt) {\n    var files = isInput(evt.target)\n        ? evt.target.files\n            ? fromList(evt.target.files)\n            : []\n        : [];\n    return files.map(function (file) { return toFileWithPath(file); });\n}\nfunction isInput(value) {\n    return value !== null;\n}\nfunction getDataTransferFiles(dt, type) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var items, files;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!dt.items) return [3 /*break*/, 2];\n                    items = fromList(dt.items)\n                        .filter(function (item) { return item.kind === 'file'; });\n                    // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n                    // only 'dragstart' and 'drop' has access to the data (source node)\n                    if (type !== 'drop') {\n                        return [2 /*return*/, items];\n                    }\n                    return [4 /*yield*/, Promise.all(items.map(toFilePromises))];\n                case 1:\n                    files = _a.sent();\n                    return [2 /*return*/, noIgnoredFiles(flatten(files))];\n                case 2: return [2 /*return*/, noIgnoredFiles(fromList(dt.files)\n                        .map(function (file) { return toFileWithPath(file); }))];\n            }\n        });\n    });\n}\nfunction noIgnoredFiles(files) {\n    return files.filter(function (file) { return FILES_TO_IGNORE.indexOf(file.name) === -1; });\n}\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList(items) {\n    var files = [];\n    // tslint:disable: prefer-for-of\n    for (var i = 0; i < items.length; i++) {\n        var file = items[i];\n        files.push(file);\n    }\n    return files;\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n    var entry = item.webkitGetAsEntry();\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry);\n    }\n    return fromDataTransferItem(item);\n}\nfunction flatten(items) {\n    return items.reduce(function (acc, files) { return tslib_1.__spread(acc, (Array.isArray(files) ? flatten(files) : [files])); }, []);\n}\nfunction fromDataTransferItem(item) {\n    var file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(item + \" is not a File\");\n    }\n    var fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nfunction fromEntry(entry) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry)];\n        });\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry) {\n    var reader = entry.createReader();\n    return new Promise(function (resolve, reject) {\n        var entries = [];\n        function readEntries() {\n            var _this = this;\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(function (batch) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                var files, err_1, items;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!!batch.length) return [3 /*break*/, 5];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, Promise.all(entries)];\n                        case 2:\n                            files = _a.sent();\n                            resolve(files);\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _a.sent();\n                            reject(err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [3 /*break*/, 6];\n                        case 5:\n                            items = Promise.all(batch.map(fromEntry));\n                            entries.push(items);\n                            // Continue reading\n                            readEntries();\n                            _a.label = 6;\n                        case 6: return [2 /*return*/];\n                    }\n                });\n            }); }, function (err) {\n                reject(err);\n            });\n        }\n        readEntries();\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nfunction fromFileEntry(entry) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    entry.file(function (file) {\n                        var fwp = toFileWithPath(file, entry.fullPath);\n                        resolve(fwp);\n                    }, function (err) {\n                        reject(err);\n                    });\n                })];\n        });\n    });\n}\n//# sourceMappingURL=file-selector.js.map","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport accepts from 'attr-accept'; // Error codes\n\nexport var FILE_INVALID_TYPE = 'file-invalid-type';\nexport var FILE_TOO_LARGE = 'file-too-large';\nexport var FILE_TOO_SMALL = 'file-too-small';\nexport var TOO_MANY_FILES = 'too-many-files'; // File Errors\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(', ')) : accept;\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(messageSuffix)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: 'Too many files'\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === 'application/x-moz-file' || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple;\n\n  if (!multiple && files.length > 1) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    return accepted && sizeMatch;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === 'function') {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== 'undefined') {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === 'Files' || type === 'application/x-moz-file';\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === 'object' && item !== null && item.kind === 'file';\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromEvent } from 'file-selector';\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, isEvtWithFiles, isIeOrEdge, isPropagationStopped, onDocumentDragOver, TOO_MANY_FILES_REJECTION } from './utils/index';\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, [\"open\"]);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return React.createElement(Fragment, null, children(_objectSpread({}, props, {\n    open: open\n  })));\n});\nDropzone.displayName = 'Dropzone';\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are droppped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are droppped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nexport function useDropzone() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      accept = _ref2.accept,\n      _ref2$disabled = _ref2.disabled,\n      disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n      _ref2$getFilesFromEve = _ref2.getFilesFromEvent,\n      getFilesFromEvent = _ref2$getFilesFromEve === void 0 ? fromEvent : _ref2$getFilesFromEve,\n      _ref2$maxSize = _ref2.maxSize,\n      maxSize = _ref2$maxSize === void 0 ? Infinity : _ref2$maxSize,\n      _ref2$minSize = _ref2.minSize,\n      minSize = _ref2$minSize === void 0 ? 0 : _ref2$minSize,\n      _ref2$multiple = _ref2.multiple,\n      multiple = _ref2$multiple === void 0 ? true : _ref2$multiple,\n      onDragEnter = _ref2.onDragEnter,\n      onDragLeave = _ref2.onDragLeave,\n      onDragOver = _ref2.onDragOver,\n      onDrop = _ref2.onDrop,\n      onDropAccepted = _ref2.onDropAccepted,\n      onDropRejected = _ref2.onDropRejected,\n      onFileDialogCancel = _ref2.onFileDialogCancel,\n      _ref2$preventDropOnDo = _ref2.preventDropOnDocument,\n      preventDropOnDocument = _ref2$preventDropOnDo === void 0 ? true : _ref2$preventDropOnDo,\n      _ref2$noClick = _ref2.noClick,\n      noClick = _ref2$noClick === void 0 ? false : _ref2$noClick,\n      _ref2$noKeyboard = _ref2.noKeyboard,\n      noKeyboard = _ref2$noKeyboard === void 0 ? false : _ref2$noKeyboard,\n      _ref2$noDrag = _ref2.noDrag,\n      noDrag = _ref2$noDrag === void 0 ? false : _ref2$noDrag,\n      _ref2$noDragEventsBub = _ref2.noDragEventsBubbling,\n      noDragEventsBubbling = _ref2$noDragEventsBub === void 0 ? false : _ref2$noDragEventsBub;\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles; // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    if (inputRef.current) {\n      dispatch({\n        type: 'openDialog'\n      });\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch]); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: 'closeDialog'\n            });\n\n            if (typeof onFileDialogCancel === 'function') {\n              onFileDialogCancel();\n            }\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('focus', onWindowFocus, false);\n    return function () {\n      window.removeEventListener('focus', onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancel]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, inputRef]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: 'focus'\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: 'blur'\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [inputRef, noClick]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: 'setDraggedFiles'\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n\n    if (event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (isEvtWithFiles(event) && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: 'setDraggedFiles',\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var acceptedFiles = [];\n        var fileRejections = [];\n        files.forEach(function (file) {\n          var _fileAccepted = fileAccepted(file, accept),\n              _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n              accepted = _fileAccepted2[0],\n              acceptError = _fileAccepted2[1];\n\n          var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n              _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n              sizeMatch = _fileMatchSize2[0],\n              sizeError = _fileMatchSize2[1];\n\n          if (accepted && sizeMatch) {\n            acceptedFiles.push(file);\n          } else {\n            var errors = [acceptError, sizeError].filter(function (e) {\n              return e;\n            });\n            fileRejections.push({\n              file: file,\n              errors: errors\n            });\n          }\n        });\n\n        if (!multiple && acceptedFiles.length > 1) {\n          // Reject everything and empty accepted files\n          acceptedFiles.forEach(function (file) {\n            fileRejections.push({\n              file: file,\n              errors: [TOO_MANY_FILES_REJECTION]\n            });\n          });\n          acceptedFiles.splice(0);\n        }\n\n        dispatch({\n          acceptedFiles: acceptedFiles,\n          fileRejections: fileRejections,\n          type: 'setFiles'\n        });\n\n        if (onDrop) {\n          onDrop(acceptedFiles, fileRejections, event);\n        }\n\n        if (fileRejections.length > 0 && onDropRejected) {\n          onDropRejected(fileRejections, event);\n        }\n\n        if (acceptedFiles.length > 0 && onDropAccepted) {\n          onDropAccepted(acceptedFiles, event);\n        }\n      });\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n  }, [multiple, accept, minSize, maxSize, getFilesFromEvent, onDrop, onDropAccepted, onDropRejected, noDragEventsBubbling]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          onKeyDown = _ref3.onKeyDown,\n          onFocus = _ref3.onFocus,\n          onBlur = _ref3.onBlur,\n          onClick = _ref3.onClick,\n          onDragEnter = _ref3.onDragEnter,\n          onDragOver = _ref3.onDragOver,\n          onDragLeave = _ref3.onDragLeave,\n          onDrop = _ref3.onDrop,\n          rest = _objectWithoutProperties(_ref3, [\"refKey\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"]);\n\n      return _objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb))\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}, {}, rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          onChange = _ref4.onChange,\n          onClick = _ref4.onClick,\n          rest = _objectWithoutProperties(_ref4, [\"refKey\", \"onChange\", \"onClick\"]);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread({}, inputProps, {}, rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread({}, state, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case 'focus':\n      return _objectSpread({}, state, {\n        isFocused: true\n      });\n\n    case 'blur':\n      return _objectSpread({}, state, {\n        isFocused: false\n      });\n\n    case 'openDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: true\n      });\n\n    case 'closeDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false\n      });\n\n    case 'setDraggedFiles':\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread({}, state, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case 'setFiles':\n      return _objectSpread({}, state, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections\n      });\n\n    case 'reset':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false,\n        isDragActive: false,\n        draggedFiles: [],\n        acceptedFiles: [],\n        fileRejections: []\n      });\n\n    default:\n      return state;\n  }\n}","function degToRad(degree) {\n  const DEGREES_IN_CIRCLE = 360;\n  return (degree / DEGREES_IN_CIRCLE) * 2 * Math.PI;\n}\n\nfunction hexToRgba(hex, alpha) {\n  const match = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  const rgba = match\n    ? {\n        r: parseInt(match[1], 16),\n        g: parseInt(match[2], 16),\n        b: parseInt(match[3], 16),\n        a: alpha,\n      }\n    : { r: 0, g: 0, b: 0, a: 0 };\n  return `rgba(${rgba.r},${rgba.g},${rgba.b},${rgba.a})`;\n}\n\nconst backgroundColor = '#FFF';\nconst STRIPLES_ANGLE_DEG = 45;\nconst STRIPLES_WIDTH_PX = 20;\nconst STRIPLES_SHIFT_PX =\n  4 * STRIPLES_WIDTH_PX * Math.cos(degToRad(STRIPLES_ANGLE_DEG));\n\nfunction makeStriplesBackground(color, opacity = 0.4) {\n  const actualColor = hexToRgba(color, opacity);\n  return {\n    background: `repeating-linear-gradient(\n      ${STRIPLES_ANGLE_DEG}deg,\n      ${backgroundColor},\n      ${backgroundColor} ${STRIPLES_WIDTH_PX}px,\n      ${actualColor} ${STRIPLES_WIDTH_PX}px,\n      ${actualColor} ${2 * STRIPLES_WIDTH_PX}px\n    )`,\n    backgroundSize: `calc(100% + ${STRIPLES_SHIFT_PX}px)`,\n  };\n}\n\nexport default function resolveDropzoneStyles(theme) {\n  return {\n    dropzoneContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-around',\n      height: '100%',\n      minHeight: '144px',\n      padding: '0 12px',\n      margin: '12px 0',\n      cursor: 'pointer',\n    },\n    dropzoneStandby: {\n      '& $dropzoneContainer': {\n        border: `2px dashed ${theme.palette.primary.dark}`,\n        borderRadius: '4px',\n        ...makeStriplesBackground(theme.palette.primary.light, 0.2),\n      },\n      '& $dropzoneUpload': {\n        borderColor: theme.palette.disabled.dark,\n        ...makeStriplesBackground(theme.palette.disabled.main, 0.2),\n        animation: '$slide 2s infinite linear forwards',\n      },\n    },\n    dropzoneActive: {\n      border: `2px dashed ${theme.palette.secondary.dark}`,\n      animation: '$slide 2s infinite linear forwards',\n      ...makeStriplesBackground(theme.palette.secondary.light),\n      '&$dropzoneAccept': {\n        borderColor: theme.palette.secondary.dark,\n        ...makeStriplesBackground(theme.palette.secondary.main),\n        animation: '$slide 2s infinite linear forwards',\n      },\n      '&$dropzoneReject': {\n        borderColor: theme.palette.error.dark,\n        ...makeStriplesBackground(theme.palette.error.main),\n        animation: '$slide 2s infinite linear forwards',\n      },\n    },\n    dropzoneAccept: {},\n    dropzoneReject: {},\n    dropzoneUpload: {},\n    '@keyframes slide': {\n      '0%': {\n        backgroundPositionX: `-${STRIPLES_SHIFT_PX}px`,\n      },\n      '100%': {\n        backgroundPositionX: 0,\n      },\n    },\n  };\n}\n","import React, { useCallback, useState } from 'react';\nimport cls from 'classnames';\nimport { encode } from 'blurhash';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport resolveDropzoneStyles from '../../resolveDropzoneStyles';\n\nconst UPLOAD_IMAGE_MIN_SIZE = 50 * 1024;\nconst UPLOAD_IMAGE_MAX_SIZE = 5 * 1024 * 1024;\n\nconst useStyles = makeStyles(resolveDropzoneStyles);\n\nexport default function PhotosDropzone({\n  onUpload,\n  visit,\n}) {\n  const classes = useStyles();\n  const [progress, setProgress] = useState(null);\n  const [rejectedFiles, setRejectedFiles] = useState([]);\n  const isUploadInProgress = progress !== null;\n\n  const { visitId } = visit;\n\n  const handleSubmitPhotos = useCallback(\n    async (acceptedFiles, currentRejectedFiles) => {\n      if (currentRejectedFiles) {\n        setRejectedFiles(currentRejectedFiles);\n      }\n      setProgress(1);\n      return onUpload({\n        id: visitId,\n        data: acceptedFiles,\n        meta: await Promise.all(acceptedFiles.map(measureImage)),\n        isAsset: true,\n      }).finally(() => setProgress(null));\n    },\n    [onUpload],\n  );\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject,\n  } = useDropzone({\n    accept: 'image/jpeg, image/png',\n    disabled: isUploadInProgress,\n    onDrop: handleSubmitPhotos,\n    maxSize: UPLOAD_IMAGE_MAX_SIZE,\n    minSize: UPLOAD_IMAGE_MIN_SIZE,\n  });\n\n  return (\n    <div\n      {...getRootProps()}\n      className={cls({\n        [classes.dropzoneStandby]: !isDragActive,\n        [classes.dropzoneActive]: isDragActive,\n        [classes.dropzoneAccept]: isDragAccept,\n        [classes.dropzoneReject]: isDragReject,\n      })}\n    >\n      <div\n        className={cls(classes.dropzoneContainer, {\n          [classes.dropzoneUpload]: isUploadInProgress,\n        })}\n      >\n        <input {...getInputProps()} />\n        {renderDropzoneCaption({ isDragActive, isUploadInProgress })}\n        {rejectedFiles.length > 0 && (\n          <div>\n                :\n            {rejectedFiles.map(rejectedFile => (\n              <div key={rejectedFile.path}>{renderFile(rejectedFile)}</div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction renderDropzoneCaption({ isDragActive, isUploadInProgress }) {\n  switch (true) {\n    case isUploadInProgress:\n      return ' ,    ';\n    case isDragActive:\n      return ' ';\n    default:\n      return '      , -  ';\n  }\n}\n\nfunction renderFile({ file, errors }) {\n  const errorsMessage = errors.map(({ message }) => message).join(', ');\n  return `${file.path} - ${file.size} bytes, reason: ${errorsMessage}`;\n}\n\nfunction getImageData(image) {\n  const canvas = document.createElement('canvas');\n  canvas.width = image.width;\n  canvas.height = image.height;\n  const context = canvas.getContext('2d');\n  context.drawImage(image, 0, 0);\n  return context.getImageData(0, 0, image.width, image.height);\n}\n\nfunction gcd(a, b) {\n  let v1 = Math.abs(a);\n  let v2 = Math.abs(b);\n  let temp = v1;\n\n  if (v2 > v1) {\n    temp = v1;\n    v1 = v2;\n    v2 = temp;\n  }\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (v2 === 0) {\n      return a;\n    }\n    v1 %= v2;\n    if (v1 === 0) {\n      return b;\n    }\n    v2 %= v1;\n  }\n}\n\nasync function measureImage(fileImage) {\n  return new Promise(resolve => {\n    const imageURL = URL.createObjectURL(fileImage);\n\n    const image = new Image();\n\n    image.onload = () => {\n      const nod = gcd(image.width, image.height);\n      const [w, h] = nod\n        ? [image.width / nod, image.height / nod]\n        : [image.width, image.height];\n      try {\n        const imageData = getImageData(image);\n        resolve({\n          aspect_ratio: `${w}:${h}`,\n          blurhash: encode(\n            imageData.data,\n            imageData.width,\n            imageData.height,\n            4,\n            4,\n          ),\n        });\n      } catch (e) {\n        resolve({\n          aspect_ratio: `${w}:${h}`,\n          blurhash: null,\n        });\n      }\n    };\n\n    image.src = imageURL;\n  });\n}\n","import React from 'react';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport {\n  useAddVisitPhotoRequest,\n  useTripsStats,\n  useVisit,\n} from 'travel/dataSource';\nimport VisitsArranger, {\n  PLAIN_FILTERING,\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport PhotosDropzone from './components/PhotosDropzone';\n\nconst domain = 'travel.VisitPage';\nexport default function VisitPage({\n  match: {\n    params: { userAlias, strVisitId, section },\n  },\n}) {\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const visitId = parseInt(strVisitId, 10);\n  const { isError, isPending, visit, invalidate } = useVisit({\n    domain,\n    userAlias,\n    visitId,\n  });\n  const tripsStatsProvision = useTripsStats({\n    domain,\n    userAlias,\n    tripsIds: visit?.tripId ? [visit.tripId] : [],\n  });\n\n  const { submitVisitPhoto } = useAddVisitPhotoRequest({\n    domain,\n    userAlias,\n    visitId,\n  });\n\n  const editable = isAuthenticated && authenticatedUserAlias === userAlias;\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <div>...Loading</div>;\n  }\n\n  if (!visit) {\n    return <div>...  </div>;\n  }\n\n  return (\n    <>\n      <VisitsArranger\n        visitsList={[visit]}\n        provision={tripsStatsProvision}\n        groupsOrder={[PLAIN_GROUPS.JUST_VISITS]}\n        adaptHeadersSize={true}\n        photosSectionLevel={0}\n        mapSectionLevel={0}\n        sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n        filteringOption={PLAIN_FILTERING.ANY}\n        isObscure={!editable}\n        urls={urls}\n        config={{ YearVisitsGroup: { hyperlinks: { year: false } } }}\n      >\n        {({ level, index, className }) =>\n          level === 0 &&\n          index === 0 && (\n            <ConnectedLink\n              className={className}\n              variant=\"body2\"\n              to={urls.resolveTripUrl({ tripId: visit.tripId })}\n            >\n               \n            </ConnectedLink>\n          )\n        }\n      </VisitsArranger>\n      {editable && (\n        <PhotosDropzone\n          visit={visit}\n          userAlias={userAlias}\n          onUpload={values => submitVisitPhoto(values).finally(invalidate)}\n        />\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nexport default function BackdropLoader() {\n  const classes = useStyles();\n\n  return (\n    <Backdrop className={classes.backdrop} open={true}>\n      <CircularProgress color=\"inherit\" />\n    </Backdrop>\n  );\n}\n","import {\n  PLAIN_FILTERING,\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\n\n// GROUPPING\n\nexport const KEY_GROUP_VISITS_BY = 'group';\nexport const GROUP_VISITS_BY = {\n  LOCATIONS: 'loc',\n  COUNTRIES: 'c',\n  YEARS: 'yr',\n  YEARS_COUNTRIES: 'yr_c',\n  COUNTRIES_YEARS: 'c_yr',\n  TRIPS: 't',\n  TRIPS_COUNTRIES: 't_c',\n};\n\nexport const PLAIN_GROUPS_MAPPING = {\n  [GROUP_VISITS_BY.LOCATIONS]: PLAIN_GROUPS.LOCATIONS,\n  [GROUP_VISITS_BY.COUNTRIES]: PLAIN_GROUPS.COUNTRIES,\n  [GROUP_VISITS_BY.YEARS]: PLAIN_GROUPS.YEARS,\n  [GROUP_VISITS_BY.TRIPS]: PLAIN_GROUPS.TRIPS,\n};\n\n// SORTING\nexport const KEY_SORT_VISITS_BY = 'sort';\nexport const SORT_VISITS_BY = {\n  RATING_ALPHABET: 'r_a',\n  VISITS_ALPHABET: 'v_a',\n  FIRST_VISIT_ALPHABET: 'fv_a',\n  LAST_VISIT_ALPHABET: 'lv_a',\n  ALPHABET: 'a',\n};\nexport const SORT_VISITS_BY_DEFAULT = SORT_VISITS_BY.ALPHABET;\n\nexport const PLAIN_SORTING_MAPPING = {\n  a: PLAIN_SORTING.ALPHABET,\n  r: PLAIN_SORTING.RATING,\n  fv: PLAIN_SORTING.FIRST_VISIT,\n  lv: PLAIN_SORTING.LAST_VISIT,\n  v: PLAIN_SORTING.VISITS_COUNT,\n};\n\n// FILTERING\nexport const KEY_FILTER_VISITS_BY = 'filter';\nexport const FILTER_VISITS_BY = {\n  ANY: 'a',\n  FOREIGN: 'f',\n  DOMESTIC: 'd',\n};\nexport const FILTER_VISITS_BY_DEFAULT = FILTER_VISITS_BY.ANY;\n\nexport const PLAIN_FILTERING_MAPPING = {\n  [FILTER_VISITS_BY.ANY]: PLAIN_FILTERING.ANY,\n  [FILTER_VISITS_BY.FOREIGN]: PLAIN_FILTERING.FOREIGN,\n  [FILTER_VISITS_BY.DOMESTIC]: PLAIN_FILTERING.DOMESTIC,\n};\n","import { GROUP_VISITS_BY } from './sidebarConsts';\n\nexport const VISITS_SECTIONS = {\n  TRIPS: 'trips',\n  PLACES: 'places',\n};\nexport const VISITS_SECTION_DEFAULT = VISITS_SECTIONS.TRIPS;\nexport const VISITS_SECTIONS_GROUPS = {\n  [VISITS_SECTIONS.PLACES]: [\n    { key: GROUP_VISITS_BY.LOCATIONS, l10n: ' ' },\n    { key: GROUP_VISITS_BY.COUNTRIES, l10n: ' ' },\n    { key: GROUP_VISITS_BY.YEARS, l10n: ' ' },\n    { key: GROUP_VISITS_BY.YEARS_COUNTRIES, l10n: '   ' },\n    { key: GROUP_VISITS_BY.COUNTRIES_YEARS, l10n: '   ' },\n  ],\n  [VISITS_SECTIONS.TRIPS]: [\n    { key: GROUP_VISITS_BY.TRIPS, l10n: ' ' },\n    { key: GROUP_VISITS_BY.TRIPS_COUNTRIES, l10n: '   ' },\n  ],\n};\n\nexport const GROUP_VISITS_BY_DEFAULTS = {\n  [VISITS_SECTIONS.PLACES]: GROUP_VISITS_BY.COUNTRIES,\n  [VISITS_SECTIONS.TRIPS]: GROUP_VISITS_BY.TRIPS,\n};\n\nexport const COMPARATORS = {\n  VISIT: { ARRIVAL_YEAR: 'ARRIVAL_YEAR' },\n  TRIP: {\n    DEPARTURE_TIME: 'TRIP_DEPARTURE_DATE',\n    ID: 'TRIP_ID',\n    PRESERVE_ORDER: 'PRESERVE_ORDER',\n  },\n  COUNTRY: {\n    VISITS: 'COUNTRY_VISITS',\n    RATING: 'COUNTRY_RATING',\n    NAME_ID: 'COUNTRY_NAME_ID',\n    FIRST_VISIT: 'COUNTRY_FIRST_VISIT',\n    LAST_VISIT: 'COUNTRY_LAST_VISIT',\n  },\n  LOCATION: {\n    VISITS: 'LOCATION_VISITS',\n    RATING: 'LOCATION_RATING',\n    NAME_ID: 'LOCATION_NAME_ID',\n    FIRST_VISIT: 'LOCATION_FIRST_VISIT',\n    LAST_VISIT: 'LOCATION_LAST_VISIT',\n  },\n};\n\nexport const NODE_TYPE = {\n  ARRIVAL_LOCATION: 'ARRIVAL_LOCATION',\n  COUNTRY: 'COUNTRY',\n  DEPARTURE_LOCATION: 'DEPARTURE_LOCATION',\n  LOCATION: 'LOCATION',\n  TRIP: 'TRIP',\n  YEAR: 'YEAR',\n};\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSidebar } from 'core/context/SidebarContext';\nimport {\n  VISITS_SECTION_DEFAULT,\n  VISITS_SECTIONS,\n  VISITS_SECTIONS_GROUPS,\n  GROUP_VISITS_BY_DEFAULTS,\n} from './consts';\nimport {\n  GROUP_VISITS_BY,\n  KEY_GROUP_VISITS_BY,\n  SORT_VISITS_BY,\n  KEY_SORT_VISITS_BY,\n  SORT_VISITS_BY_DEFAULT,\n  FILTER_VISITS_BY,\n  FILTER_VISITS_BY_DEFAULT,\n  KEY_FILTER_VISITS_BY,\n} from './sidebarConsts';\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function(setQueryFilter, queryFilter, section) {\n  const classes = useStyles();\n\n  const {\n    [KEY_GROUP_VISITS_BY]: groupByQuery,\n    [KEY_SORT_VISITS_BY]: sortByQuery,\n    [KEY_FILTER_VISITS_BY]: filterByQuery,\n  } = queryFilter || {};\n\n  const sortBy = resolveActualSortBy(sortByQuery);\n  const filterBy = resolveActualFilterBy(filterByQuery);\n  const [groupBy, visitsSectionGroups] = resolveActualGroupBy(\n    groupByQuery,\n    section,\n  );\n\n  useSidebar(\n    ({ closeSidebar }) => (\n      <List>\n        <ListItem>\n          <FormControl className={classes.formControl}>\n            <InputLabel shrink={true} id=\"select-groupBy-filter-label\">\n              \n            </InputLabel>\n            <Select\n              labelId=\"select-groupBy-filter-label\"\n              autoWidth={true}\n              id=\"select-groupBy-filter\"\n              value={groupBy}\n              onChange={event => {\n                closeSidebar();\n                setQueryFilter({\n                  [KEY_GROUP_VISITS_BY]: event.target.value,\n                });\n              }}\n            >\n              {visitsSectionGroups.map(visitsSectionGroup => (\n                <MenuItem\n                  key={visitsSectionGroup.key}\n                  value={visitsSectionGroup.key}\n                >\n                  {visitsSectionGroup.l10n}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </ListItem>\n        {groupBy !== GROUP_VISITS_BY.TRIPS && (\n          <ListItem>\n            <FormControl className={classes.formControl}>\n              <InputLabel shrink={true} id=\"select-sortBy-filter-label\">\n                \n              </InputLabel>\n              <Select\n                labelId=\"select-sortBy-filter-label\"\n                autoWidth={true}\n                id=\"select-sortBy-filter\"\n                value={sortBy}\n                onChange={event => {\n                  closeSidebar();\n                  setQueryFilter({\n                    [KEY_SORT_VISITS_BY]: event.target.value,\n                  });\n                }}\n              >\n                <MenuItem value={SORT_VISITS_BY.ALPHABET}> </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.VISITS_ALPHABET}>\n                    \n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.FIRST_VISIT_ALPHABET}>\n                    \n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.LAST_VISIT_ALPHABET}>\n                    \n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.RATING_ALPHABET}>\n                   \n                </MenuItem>\n              </Select>\n            </FormControl>\n          </ListItem>\n        )}\n        <ListItem>\n          <FormControl className={classes.formControl}>\n            <InputLabel shrink={true} id=\"select-filterBy-filter-label\">\n              \n            </InputLabel>\n            <Select\n              labelId=\"select-filterBy-filter-label\"\n              autoWidth={true}\n              id=\"select-filterBy-filter\"\n              value={filterBy}\n              onChange={event => {\n                closeSidebar();\n                setQueryFilter({\n                  [KEY_FILTER_VISITS_BY]: event.target.value,\n                });\n              }}\n            >\n              <MenuItem value={FILTER_VISITS_BY.ANY}> </MenuItem>\n              <MenuItem value={FILTER_VISITS_BY.FOREIGN}>\n                 \n              </MenuItem>\n              <MenuItem value={FILTER_VISITS_BY.DOMESTIC}>\n                 \n              </MenuItem>\n            </Select>\n          </FormControl>\n        </ListItem>\n      </List>\n    ),\n    [groupBy, sortBy, filterBy],\n  );\n\n  return { groupBy, sortBy, filterBy };\n}\n\nfunction resolveActualSortBy(sortByQuery) {\n  return Object.values(SORT_VISITS_BY).includes(sortByQuery)\n    ? sortByQuery\n    : SORT_VISITS_BY_DEFAULT;\n}\n\nfunction resolveActualFilterBy(filterByQuery) {\n  return Object.values(FILTER_VISITS_BY).includes(filterByQuery)\n    ? filterByQuery\n    : FILTER_VISITS_BY_DEFAULT;\n}\n\nfunction resolveActualGroupBy(groupByQuery, section) {\n  const actualSection = Object.values(VISITS_SECTIONS).includes(section)\n    ? section\n    : VISITS_SECTION_DEFAULT;\n  const visitsSectionGroups = VISITS_SECTIONS_GROUPS[actualSection] || [];\n  const groupBy = visitsSectionGroups.find(({ key }) => key === groupByQuery)\n    ? groupByQuery\n    : GROUP_VISITS_BY_DEFAULTS[actualSection];\n  return [groupBy, visitsSectionGroups];\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport * as locators from '../../locators';\n\nexport default function renderTitle({\n  tripCreateUrl,\n  locationsUrl,\n  stats: {\n    locationsStats: { total: locationsCount },\n    countriesStats: { total: countriesCount },\n    // daysTravellingStats: { totalStay },\n  },\n}) {\n  return (\n    <Typography variant=\"h6\" paragraph={true}>\n      <span> </span>\n      <MUILink to={locationsUrl} component={Link}>\n        {`${locationsCount}  `}\n      </MUILink>\n      <span> </span>\n      <span>{`${countriesCount} `}</span>\n      {/* <span>{`  ${totalStay} `}</span> */}\n      {tripCreateUrl ? (\n        <IconButton\n          href={tripCreateUrl}\n          data-locator={locators.ADD_TRIP_BUTTON}\n        >\n          <AddCircleIcon />\n        </IconButton>\n      ) : null}\n    </Typography>\n  );\n}\n","export const ADD_TRIP_BUTTON = 'ADD_TRIP_BUTTON';\n","import { PLAIN_GROUPS } from 'travel/components/VisitsArranger';\nimport { PLAIN_GROUPS_MAPPING } from './sidebarConsts';\n\nexport default function resolveGroupsOrder(groupBy) {\n  const groupingOrder = groupBy\n    .split('_')\n    .map(currentGroupBy => PLAIN_GROUPS_MAPPING[currentGroupBy]);\n\n  const shouldShowVisits = groupingOrder.includes(PLAIN_GROUPS.TRIPS);\n  const lastGroup = groupingOrder[groupingOrder.length - 1];\n\n  if (!shouldShowVisits && lastGroup !== PLAIN_GROUPS.LOCATIONS) {\n    groupingOrder.push(PLAIN_GROUPS.LOCATIONS);\n  }\n  if (shouldShowVisits) {\n    groupingOrder.push(PLAIN_GROUPS.JUST_VISITS);\n  }\n  return groupingOrder;\n}\n","import { PLAIN_SORTING_MAPPING } from './sidebarConsts';\n\nexport default function resolveSortingOrder(sortBy) {\n  return sortBy\n    .split('_')\n    .map(currentSortBy => PLAIN_SORTING_MAPPING[currentSortBy]);\n}\n","import { PLAIN_FILTERING_MAPPING } from './sidebarConsts';\n\nexport default function resolveFiltering(filterBy) {\n  return PLAIN_FILTERING_MAPPING[filterBy];\n}\n","import React from 'react';\nimport { useTripsStats } from 'travel/dataSource';\nimport BackdropLoader from 'modules/components/loaders/BackdropLoader';\nimport { useQueryFilter } from 'core/context/QueryFilterContext';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsGroupingSidebar from './useVisitsGroupingSidebar';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  calcStats,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\nimport VisitsTitle from './components/VisitsTitle';\nimport resolveGroupsOrder from './resolveGroupsOrder';\nimport resolveSortingOrder from './resolveSortingOrder';\nimport resolveFiltering from './resolveFiltering';\n\nexport default function VisitsPage({\n  match: {\n    params: { userAlias, section },\n  },\n}) {\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n  const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const { queryFilter, setQueryFilter } = useQueryFilter();\n  const { groupBy, sortBy, filterBy } = useVisitsGroupingSidebar(\n    setQueryFilter,\n    queryFilter,\n    section,\n  );\n\n  const provision = useTripsStats({ userAlias });\n  const { isPending, isError } = provision;\n\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <BackdropLoader />;\n  }\n\n  const { visitsIds, visitsDict } = provision;\n  const visitsList = visitsIds.map(visitId => visitsDict[visitId]);\n\n  const commonVisitsGroup = { visitsList, parent: null, field: null };\n  const totalStats = calcStats(commonVisitsGroup, provision);\n\n  return (\n    <>\n      <VisitsTitle\n        locationsUrl={urls.locationsUrl}\n        tripCreateUrl={urls.tripCreateUrl}\n        stats={totalStats}\n      />\n      <VisitsArranger\n        visitsList={visitsList}\n        provision={provision}\n        groupsOrder={resolveGroupsOrder(groupBy)}\n        sortingOrder={\n          section === 'trips'\n            ? [PLAIN_SORTING.LAST_VISIT]\n            : resolveSortingOrder(sortBy)\n        }\n        filteringOption={resolveFiltering(filterBy)}\n        adaptHeadersSize={true}\n        isObscure={isObscure}\n        urls={urls}\n        virtualize={true}\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nconst RATING_LOCALIZATION = {\n  [LOCATION_RATING.PLACE_TO_LIVE]: '  ',\n  [LOCATION_RATING.FEW_PER_YEAR]: '   ',\n  [LOCATION_RATING.ONCE_PER_YEAR]: '  ',\n  [LOCATION_RATING.ONCE_PER_TWO_YEARS]: '   ',\n  [LOCATION_RATING.ONCE_PER_FIVE_YEARS]: '   ',\n  [LOCATION_RATING.ONCE_PER_DECADE]: '  ',\n  [LOCATION_RATING.TWICE_PER_LIVE]: '   ',\n  [LOCATION_RATING.ONCE_PER_LIVE]: '  ',\n  [LOCATION_RATING.NEVER]: '',\n};\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function LocationRating({\n  locationId,\n  locationRating,\n  isEditable,\n  onSubmitLocationRating,\n}) {\n  const classes = useStyles();\n  if (!isEditable) {\n    return <div>{RATING_LOCALIZATION[locationRating]}</div>;\n  }\n  return (\n    <FormControl className={classes.formControl}>\n      <InputLabel shrink={true} id=\"select-location-rating-label\">\n           \n      </InputLabel>\n      <Select\n        labelId=\"select-location-rating-label\"\n        id=\"select-location-rating\"\n        value={locationRating}\n        onChange={event => {\n          onSubmitLocationRating(event, locationId, event.target.value);\n        }}\n      >\n        <MenuItem value={LOCATION_RATING.PLACE_TO_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.PLACE_TO_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.FEW_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.FEW_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_TWO_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_TWO_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_FIVE_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_FIVE_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_DECADE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_DECADE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.TWICE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.TWICE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.NEVER}>\n          {RATING_LOCALIZATION[LOCATION_RATING.NEVER]}\n        </MenuItem>\n      </Select>\n    </FormControl>\n  );\n}\n\nLocationRating.propTypes = {\n  locationRating: PropTypes.number,\n  locationId: PropTypes.number.isRequired,\n  isEditable: PropTypes.bool.isRequired,\n  onSubmitLocationRating: PropTypes.func.isRequired,\n};\n\nLocationRating.defaultProps = { locationRating: null };\n","import React, { useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport LocationRating from './blocks/LocationRating';\nimport useUserLocations from './useUserLocations';\n\nconst useStyles = makeStyles({\n  container: { fontSize: '16px', lineHeight: '1.5' },\n  visitContainer: { margin: '20px 0' },\n  location: { fontWeight: 'bold', fontSize: '21px' },\n  googleMapContainer: {\n    margin: '12px 0',\n    width: '800px',\n    maxWidth: '100%',\n    height: '400px',\n    maxHeight: '100%',\n  },\n});\n\nconst domain = 'travel.LocationsPage';\nexport default function LocationsPage({\n  match: {\n    params: { userAlias, strLocationId },\n  },\n}) {\n  const classes = useStyles();\n\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds,\n    locationsRating,\n    submitLocationRating,\n  } = useUserLocations({ domain, userAlias });\n\n  const locationId = parseInt(strLocationId, 10);\n  const actualLocationsIds = locationId ? [locationId] : locationsIds;\n\n  const handleSubmitLocationRating = useCallback(\n    (event, locationIdToSubmit, value) => {\n      submitLocationRating({\n        query: { rating: value, id: String(locationIdToSubmit) },\n        condition: Boolean(locationIdToSubmit),\n      });\n    },\n  );\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <div>...Loading</div>;\n  }\n  if (locationId && !locationsIds.includes(locationId)) {\n    return (\n      <div>{` ${userAlias}     `}</div>\n    );\n  }\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n  return (\n    <div className={classes.container}>\n      {actualLocationsIds.map(locationsIdToRender => {\n        const location = locationsDict[locationsIdToRender];\n        if (!location) {\n          return null;\n        }\n        const { locationName } = location;\n        return (\n          <React.Fragment key={locationsIdToRender}>\n            <h1 className={classes.location}>{locationName}</h1>\n            <LocationRating\n              locationId={locationsIdToRender}\n              locationRating={locationsRating[locationsIdToRender]}\n              isEditable={isEditable}\n              onSubmitLocationRating={handleSubmitLocationRating}\n            />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n}\n","import useUser from 'travel/dataSource/useUser';\nimport { useTripsStats } from 'travel/dataSource/useTrips';\nimport { useLocationRatingRequest } from 'travel/dataSource/useLocations';\n\nexport default function useUserLocations({ domain, userAlias }) {\n  const {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds = [],\n    locationsRating,\n  } = useTripsStats({\n    userAlias,\n  });\n  const { submitLocationRating } = useLocationRatingRequest({ domain });\n\n  return {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds,\n    locationsRating,\n    submitLocationRating,\n  };\n}\n","import React, { useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n  PLAIN_FILTERING,\n} from 'travel/components/VisitsArranger';\nimport useCountryWithTripStats from './useCountryWithTripStats';\n\nexport default function CountryPage({\n  match: {\n    params: { userAlias, strCountryId, section },\n  },\n}) {\n  const [alsoGroupByYears, setAlsoGroupByYears] = useState(false);\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n\n  const urls = useVisitsUrls({ editable: false, userAlias, section });\n\n  // const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const countryId = parseInt(strCountryId, 10);\n\n  const {\n    country,\n    provision,\n    provision: { isError, isPending, isReady },\n    isVisited,\n    visitsList,\n  } = useCountryWithTripStats({ userAlias, countryId });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  if (!country) {\n    return null;\n  }\n\n  if (!isVisited) {\n    return (\n      <Typography variant=\"h2\" component=\"span\">\n        {country.countryName}\n      </Typography>\n    );\n  }\n\n  return (\n    <VisitsArranger\n      visitsList={visitsList}\n      provision={provision}\n      groupsOrder={[\n        PLAIN_GROUPS.COUNTRIES,\n        alsoGroupByYears && PLAIN_GROUPS.YEARS,\n        PLAIN_GROUPS.LOCATIONS,\n      ].filter(Boolean)}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={isObscure}\n      urls={urls}\n      config={{ CountryVisitsGroup: { hyperlinks: { country: false } } }}\n    >\n      {({ level, index }) =>\n        level === 0 &&\n        index === 0 && (\n          <MUILink\n            variant=\"body2\"\n            onClick={() =>\n              setAlsoGroupByYears(prevAlsoGroupByYears => !prevAlsoGroupByYears)\n            }\n          >\n            {alsoGroupByYears\n              ? '   '\n              : '  '}\n          </MUILink>\n        )\n      }\n    </VisitsArranger>\n  );\n}\n","import { useTripsStats } from 'travel/dataSource/useTrips';\n\nexport default function useCountryWithTripStats({ userAlias, countryId }) {\n  const tripsProvision = useTripsStats({\n    userAlias,\n  });\n\n  const { countriesIds, countriesDict, visitsDict, visitsIds } = tripsProvision;\n\n  const isVisited = countriesIds.includes(countryId);\n\n  return {\n    provision: tripsProvision,\n    country: countriesDict[countryId],\n    isVisited,\n    visitsList: isVisited\n      ? visitsIds\n          .map(visitId => visitsDict[visitId])\n          .filter(\n            ({ countryId: visitCountryId }) => visitCountryId === countryId,\n          )\n      : [],\n  };\n}\n","import React, { useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n  PLAIN_FILTERING,\n} from 'travel/components/VisitsArranger';\nimport useYearWithTripStats from './useYearWithTripStats';\n\nconst domain = 'travel.LocationPage';\nexport default function YearPage({\n  match: {\n    params: { userAlias, strYear, section },\n  },\n}) {\n  const [alsoGroupByCountries, setAlsoGroupByCountries] = useState(false);\n\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n\n  const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  const year = parseInt(strYear, 10);\n\n  const {\n    provision,\n    provision: { isError, isPending, isReady },\n    visitsList,\n  } = useYearWithTripStats({ domain, userAlias, year });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  if (!visitsList.length) {\n    return (\n      <Typography variant=\"h2\" component=\"span\">\n        {year}\n      </Typography>\n    );\n  }\n  return (\n    <VisitsArranger\n      visitsList={visitsList}\n      provision={provision}\n      groupsOrder={[\n        PLAIN_GROUPS.YEARS,\n        alsoGroupByCountries && PLAIN_GROUPS.COUNTRIES,\n        PLAIN_GROUPS.JUST_VISITS,\n      ].filter(Boolean)}\n      photosSectionLevel={1}\n      mapSectionLevel={0}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={isObscure}\n      urls={urls}\n      config={{ YearVisitsGroup: { hyperlinks: { year: false } } }}\n    >\n      {({ level, index }) =>\n        level === 0 &&\n        index === 0 && (\n          <>\n            <MUILink\n              variant=\"body2\"\n              onClick={() =>\n                setAlsoGroupByCountries(\n                  prevAlsoGroupByCountries => !prevAlsoGroupByCountries,\n                )\n              }\n            >\n              {alsoGroupByCountries\n                ? '   '\n                : '  '}\n            </MUILink>\n          </>\n        )\n      }\n    </VisitsArranger>\n  );\n}\n","import { useTripsStats } from 'travel/dataSource/useTrips';\n\nexport default function useYearWithTripStats({ userAlias, year }) {\n  const provision = useTripsStats({\n    userAlias,\n  });\n\n  const { visitsDict, visitsIds } = provision;\n\n  const visitsList = visitsIds\n    .map(visitId => visitsDict[visitId])\n    .filter(({ arrivalYear }) => year === arrivalYear);\n\n  return {\n    provision,\n    visitsList,\n  };\n}\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport max from 'lodash/max';\nimport min from 'lodash/min';\nimport { useProvision, selectDict } from 'core/connection';\nimport { selectResult } from 'core/connection/request/controllerRedux';\nimport mergeProvisionsState from 'core/connection/request/utils/mergeProvisionsState';\nimport useUser from './useUser';\nimport useCountries from './useCountries';\nimport useLocations from './useLocations';\n\nexport default function useTrips({ userAlias, tripsIds: requiredTripsIds }) {\n  const { tripsDict } = useSelector(state => ({\n    tripsDict: selectDict(state, 'trips') || {},\n  }));\n\n  const shouldRequireAllTrips = !requiredTripsIds;\n  const missingTripsIds =\n    !shouldRequireAllTrips &&\n    requiredTripsIds.filter(tripId => !tripsDict[tripId]);\n\n  const tripsIdsUniqStr = missingTripsIds ? missingTripsIds.join(',') : '*';\n  const tripsFilter = shouldRequireAllTrips\n    ? {}\n    : { id: { comparator: 'in', value: missingTripsIds } };\n\n  return useProvision({\n    domain: `travel.trips-${userAlias}-${tripsIdsUniqStr}`,\n    isProvision: true,\n    modelName: 'trips',\n    observe: userAlias,\n    condition: shouldRequireAllTrips || missingTripsIds.length > 0,\n    query: {\n      userAlias,\n      navigation: { isDisabled: true },\n      filter: {\n        user_alias: { comparator: '=', value: userAlias },\n        ...tripsFilter,\n      },\n    },\n  });\n}\n\nexport function useTripsStats({ userAlias, tripsIds: requiredTripsIds }) {\n  const tripsProvision = useTrips({ userAlias, tripsIds: requiredTripsIds });\n  const { user: { locationsRating = {} } = {}, ...userProvision } = useUser({\n    domain: `travel.trips-${userAlias}.user`,\n    userAlias,\n  });\n\n  const { data: tripsIds = [] } = requiredTripsIds\n    ? { data: requiredTripsIds }\n    : selectResult(tripsProvision) || {};\n\n  const {\n    tripsDict,\n    visitsDict,\n    ridesDict,\n    countriesDict,\n    locationsDict,\n  } = useSelector(state => ({\n    tripsDict: selectDict(state, 'trips') || {},\n    visitsDict: selectDict(state, 'visits') || {},\n    ridesDict: selectDict(state, 'rides') || {},\n    countriesDict: selectDict(state, 'countries') || {},\n    locationsDict: selectDict(state, 'locations') || {},\n  }));\n\n  const visitsIds = useUniqField(tripsIds, tripsDict, 'visits');\n  const ridesIds = useUniqField(tripsIds, tripsDict, 'rides');\n  const countriesIds = useUniqField(visitsIds, visitsDict, 'countryId');\n  const locationsIds = useUniqField(visitsIds, visitsDict, 'locationId');\n\n  const countriesProvision = useCountries();\n  const locationsProvision = useLocations({\n    domain: `travel.locations-${userAlias}`,\n    locationsIds,\n  });\n\n  const commonProvisionState = mergeProvisionsState(\n    tripsProvision,\n    userProvision,\n    countriesProvision,\n    locationsProvision,\n  );\n\n  const { isError, isValid, isReady, isPending } = commonProvisionState;\n\n  return {\n    userProvision,\n    tripsProvision,\n    countriesProvision,\n    locationsProvision,\n\n    isError,\n    isValid,\n    isReady,\n    isPending,\n\n    tripsIds,\n    tripsDict,\n    visitsIds,\n    visitsDict,\n    ridesIds,\n    ridesDict,\n    ridesStats: calcRidesStats(ridesIds, ridesDict),\n    locationsIds,\n    locationsDict,\n    locationsRating,\n    countriesIds,\n    countriesDict,\n  };\n}\n\nfunction calcRidesStats(ridesIds, ridesDict) {\n  return {\n    earliestDeparture: new Date(\n      min(\n        ridesIds.map(rideId => ridesDict[rideId]?.departureDateTime.getTime()),\n      ),\n    ),\n    latestArrival: new Date(\n      max(ridesIds.map(rideId => ridesDict[rideId]?.arrivalDateTime.getTime())),\n    ),\n  };\n}\n\nfunction useUniqField(entitiesIds, entitiesDict, fieldName) {\n  return useMemo(\n    () =>\n      Array.from(\n        new Set(\n          entitiesIds.flatMap(\n            entityId => entitiesDict[entityId]?.[fieldName] || [],\n          ),\n        ),\n      ),\n    [entitiesIds, entitiesDict, fieldName],\n  );\n}\n","import sum from 'lodash/sum';\nimport {\n  selectError,\n  selectIsError,\n  selectIsPending,\n  selectIsReady,\n  selectIsValid,\n  selectUpdatesCounter,\n} from '../controllerRedux';\n\nexport default function mergeProvisionsState(...provisions) {\n  return {\n    updatesCounter: sum(provisions.map(selectUpdatesCounter)),\n    isReady: provisions.every(selectIsReady),\n    isPending: provisions.some(selectIsPending),\n    isValid: provisions.every(selectIsValid),\n    error: provisions.find(selectIsError),\n    errors: provisions.map(selectError).filter(Boolean),\n    invalidate: () => provisions.forEach(({ invalidate }) => invalidate()),\n  };\n}\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport MUILink from '@material-ui/core/Link';\nimport { Typography } from '@material-ui/core';\n\nexport default function ConnectedLink({\n  optional,\n  children,\n  ...forwardingProps\n}) {\n  const linkable = Boolean(\n    !optional ||\n      forwardingProps.href ||\n      forwardingProps.to ||\n      forwardingProps.onClick,\n  );\n\n  if (!linkable) {\n    return <Typography {...forwardingProps}>{children}</Typography>;\n  }\n\n  return (\n    <MUILink {...forwardingProps} component={RouterLink}>\n      {children}\n    </MUILink>\n  );\n}\n\nConnectedLink.defaultProps = {\n  optional: false,\n};\n","import isSameDay from 'date-fns/isSameDay';\nimport isSameMonth from 'date-fns/isSameMonth';\nimport isSameYear from 'date-fns/isSameYear';\nimport ru from 'date-fns/locale/ru';\nimport dateFormat from 'modules/utilities/dateTime/safeDateFormat';\n\nconst DATE_FORMATS = {\n  FULL: 'd MMMM yyyy',\n  MONTH_YEAR: 'LLLL yyyy',\n  MONTH_ONLY: 'LLLL',\n  DAY_MONTH: 'd MMMM',\n  DAY_ONLY: 'd',\n};\n\nexport function dateTimePeriodToString(periodStart, periodEnd, isObscure) {\n  const fullFormat = isObscure ? DATE_FORMATS.MONTH_YEAR : DATE_FORMATS.FULL;\n  const periodEndString = dateFormat(periodEnd, fullFormat, {\n    locale: ru,\n  });\n\n  if (isSameDay(periodStart, periodEnd)) {\n    return periodEndString;\n  }\n\n  let periodStartString = '';\n  if (isSameMonth(periodStart, periodEnd)) {\n    if (!isObscure) {\n      periodStartString = dateFormat(periodStart, DATE_FORMATS.DAY_ONLY, {\n        locale: ru,\n      });\n    }\n  } else if (isSameYear(periodStart, periodEnd)) {\n    const shortFormat = isObscure\n      ? DATE_FORMATS.MONTH_ONLY\n      : DATE_FORMATS.DAY_MONTH;\n    periodStartString = dateFormat(periodStart, shortFormat, { locale: ru });\n  } else {\n    periodStartString = dateFormat(periodStart, fullFormat, { locale: ru });\n  }\n\n  return `${periodStartString}${periodEndString}`;\n}\n\nexport function rideDateTimePeriodToString(\n  { departureDateTime, arrivalDateTime },\n  isObscure,\n) {\n  return dateTimePeriodToString(departureDateTime, arrivalDateTime, isObscure);\n}\n\nexport function visitDateTimePeriodToString(\n  { departureDateTime, arrivalDateTime },\n  isObscure,\n) {\n  return dateTimePeriodToString(arrivalDateTime, departureDateTime, isObscure);\n}\n\nexport function dateTimeOpenPeriodToString({\n  periodStart,\n  periodEnd,\n  isObscure,\n  placeholder,\n}) {\n  if (!periodEnd) {\n    const format = isObscure ? DATE_FORMATS.MONTH_YEAR : DATE_FORMATS.FULL;\n    const startDateStr = dateFormat(periodStart, format, { locale: ru });\n    return `${startDateStr}${placeholder}`;\n  }\n  return dateTimePeriodToString(periodStart, periodEnd, isObscure);\n}\n","import { useProvision } from 'core/connection';\n\nexport default function useCountries() {\n  return useProvision({\n    domain: `travel.countries`,\n    isProvision: true,\n    modelName: 'countries',\n    query: { navigation: { isDisabled: true } },\n  });\n}\n","import dateFormat from 'date-fns/format';\nimport isValidDate from './isValidDate';\n\nexport default function safeDateFormat(date, ...args) {\n  if (!isValidDate(date)) {\n    return '?';\n  }\n  return dateFormat(date, ...args);\n}\n","export default function isValidDate(date) {\n  return date instanceof Date && !Number.isNaN(date.getTime());\n}\n","export const PLAIN_FILTERING = {\n  ANY: 'ANY',\n  FOREIGN: 'FOREIGN',\n  DOMESTIC: 'DOMESTIC',\n};\n","import { PLAIN_FILTERING } from './consts';\n\nexport default function switchFilteringFn(provision, filteringOption) {\n  switch (filteringOption) {\n    case PLAIN_FILTERING.FOREIGN:\n    case PLAIN_FILTERING.DOMESTIC:\n      return createFilterBasedOnOrigin(provision, filteringOption);\n    case PLAIN_FILTERING.ANY:\n    default:\n      return isVisitExist;\n  }\n}\n\nfunction createFilterBasedOnOrigin(\n  { tripsDict, locationsDict },\n  filteringOption,\n) {\n  const isForeign = filteringOption === PLAIN_FILTERING.FOREIGN;\n  if (!isForeign && filteringOption !== PLAIN_FILTERING.DOMESTIC) {\n    return isVisitExist; // filter nothing\n  }\n  return function filterOnlyForeign(visit) {\n    if (!visit) {\n      return false;\n    }\n    const { countryId, tripId } = visit;\n    if (!countryId) {\n      return true;\n    }\n    const trip = tripsDict[tripId];\n    if (!trip) {\n      return true;\n    }\n    const { originLocationId } = trip;\n    const originLocation = locationsDict[originLocationId];\n    if (!originLocation) {\n      return true;\n    }\n    const { countryId: originCountryId } = originLocation;\n    if (!originCountryId) {\n      return true;\n    }\n    return isForeign\n      ? countryId !== originCountryId\n      : countryId === originCountryId;\n  };\n}\n\nfunction isVisitExist(visit) {\n  return Boolean(visit);\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\n\nexport default function CountryVisitsGroup({\n  children,\n  visitsGroup: {\n    field: { value: countryId },\n  },\n  classes,\n  provision: { countriesDict },\n  urls,\n  config: {\n    CountryVisitsGroup: {\n      hyperlinks: { country: countryHyperlink = true } = {},\n    } = {},\n  },\n}) {\n  return (\n    <CountryInfo\n      country={countriesDict[countryId]}\n      className={classes.container}\n      classes={classes}\n      countryUrl={\n        countryHyperlink ? urls?.resolveCountryUrl({ countryId }) : null\n      }\n    >\n      {children}\n    </CountryInfo>\n  );\n}\n\nexport function CountryInfo({\n  variant,\n  country: { countryName },\n  children,\n  className,\n  classes,\n  countryUrl,\n}) {\n  return (\n    <div className={className}>\n      <ConnectedLink\n        to={countryUrl}\n        optional={true}\n        display=\"inline\"\n        variant={variant}\n        className={classes.header}\n      >\n        {countryName}\n      </ConnectedLink>\n      {children}\n    </div>\n  );\n}\n\nCountryVisitsGroup.defaultProps = {\n  config: {},\n};\n","export function findClosestGroupValue(visitsGroup, plainGroup) {\n  return findClosestGroup(visitsGroup, plainGroup)?.field?.value;\n}\n\nexport function findClosestGroup(visitsGroup, plainGroup) {\n  let currentVisitsGroup = visitsGroup;\n  while (currentVisitsGroup) {\n    if (plainGroup === currentVisitsGroup.plainGroup) {\n      return currentVisitsGroup;\n    }\n    currentVisitsGroup = currentVisitsGroup.parent;\n  }\n  return null;\n}\n","import React from 'react';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport { findClosestGroupValue } from '../../utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../consts';\n\nexport default function LocationVisitsGroup({\n  children,\n  visitsGroup,\n  visitsGroup: {\n    field: { value: locationIdStr },\n  },\n  classes,\n  provision,\n  provision: { locationsDict },\n  urls,\n  config: {\n    LocationVisitsGroup: {\n      appearance,\n      hyperlinks: {\n        location: locationHyperlink = true,\n        country: countryHyperlink = true,\n      } = {},\n    } = {},\n  },\n}) {\n  const location = locationsDict[locationIdStr];\n  const groupCountryId = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n  const { locationId, countryId } = location ?? {};\n\n  const locationUrl = locationHyperlink\n    ? urls?.resolveLocationUrl({ locationId })\n    : null;\n  const countryUrl = countryHyperlink\n    ? urls?.resolveCountryUrl({ countryId })\n    : null;\n\n  return (\n    <LocationInfo\n      className={classes.container}\n      classes={classes}\n      location={location}\n      provision={provision}\n      showCountry={!groupCountryId}\n      locationUrl={locationUrl}\n      countryUrl={countryUrl}\n      appearance={appearance}\n    >\n      {children}\n    </LocationInfo>\n  );\n}\n\nLocationVisitsGroup.defaultProps = {\n  config: {},\n};\n\nexport function LocationInfo({\n  children,\n  variant,\n  className,\n  classes = {},\n  location: { locationName, countryId } = {},\n  provision: { countriesDict },\n  showCountry,\n  locationUrl,\n  countryUrl,\n  appearance: { country: countryAppearance = true },\n}) {\n  const countryName = countriesDict[countryId]?.countryName;\n  const countryNode =\n    countryAppearance && countryName && showCountry ? (\n      <ConnectedLink\n        to={countryUrl}\n        optional={true}\n        display=\"inline\"\n        variant=\"body1\"\n      >\n        {countriesDict[countryId]?.countryName}\n      </ConnectedLink>\n    ) : null;\n\n  const locationNode = (\n    <ConnectedLink\n      to={locationUrl}\n      optional={true}\n      display=\"inline\"\n      variant={variant}\n      className={classes.header}\n    >\n      {locationName}\n      {countryNode ? ',' : ''}\n    </ConnectedLink>\n  );\n\n  return (\n    <div className={className}>\n      <div>\n        {locationNode}\n        {countryNode ? ' ' : null}\n        {countryNode}\n      </div>\n      {children}\n    </div>\n  );\n}\n\nLocationInfo.defaultProps = {\n  appearance: {},\n  classes: {},\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\n\nconst useStyles = makeStyles({\n  container: {},\n});\n\nexport default function YearVisitsGroup({\n  children,\n  visitsGroup: {\n    field: { value: year },\n  },\n  classes,\n  urls,\n  config: {\n    YearVisitsGroup: { hyperlinks: { year: yearHyperlink = true } = {} } = {},\n  } = {}\n}) {\n  const ownClasses = useStyles();\n\n  return (\n    <YearInfo\n      className={cls(classes.container, ownClasses.container)}\n      classes={classes}\n      year={year}\n      yearUrl={yearHyperlink ? urls?.resolveYearUrl({ year }) : null}\n    >\n      {children}\n    </YearInfo>\n  );\n}\n\nfunction YearInfo({ children, variant, className, classes, year, yearUrl }) {\n  return (\n    <div className={className}>\n      <ConnectedLink\n        to={(year && yearUrl) || undefined}\n        optional={true}\n        display=\"inline\"\n        variant={variant}\n        className={classes.header}\n      >\n        {year || '  '}\n      </ConnectedLink>\n      {children}\n    </div>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default function makeVisibleOnHoverStyles({\n  containerClassName = 'hoverTrigger',\n  contentClassName = 'visibleOnHover',\n} = {}) {\n  return makeStyles({\n    [containerClassName]: {\n      [`&:hover $${contentClassName}`]: {\n        visibility: 'visible',\n      },\n    },\n    [contentClassName]: {\n      visibility: 'hidden',\n    },\n  });\n}\n\nexport const useVisibleOnHoverStyles = makeVisibleOnHoverStyles();\n","import React from 'react';\nimport cls from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { resolveTripCaption } from 'travel/models/trips/utils';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useVisibleOnHoverStyles } from 'modules/utilities/hooks/makeVisibleOnlyOnHoverStyles';\n\nexport default function TripInfo({\n  trip,\n  visitsDict,\n  countriesDict,\n  locationsDict,\n  children,\n  className,\n  variant,\n  urls,\n}) {\n  const { hoverTrigger, visibleOnHover } = useVisibleOnHoverStyles();\n  const tripEditUrl = urls?.resolveTripEditUrl({ tripId: trip.tripId });\n\n  return (\n    <Typography\n      variant={variant ?? undefined}\n      className={cls(className, hoverTrigger)}\n      paragraph={true}\n    >\n      <span>\n        {resolveTripCaption(trip, visitsDict, countriesDict, locationsDict)}\n      </span>\n      {children}\n      {tripEditUrl && (\n        <IconButton className={visibleOnHover} href={tripEditUrl}>\n          <EditIcon />\n        </IconButton>\n      )}\n    </Typography>\n  );\n}\n\nTripInfo.defaultProps = { variant: 'h4' };\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  autoMargin: { marginLeft: 'auto' },\n});\n\nexport default function AutoMargin({ children, className }) {\n  const classes = useStyles();\n  const childrenArray = React.Children.toArray(children);\n  if (childrenArray.length <= 1) {\n    return <Typography className={className}>{children}</Typography>;\n  }\n\n  const lastChildren = childrenArray.slice(-1);\n  const restChildren = childrenArray.slice(0, -1);\n  return (\n    <Grid\n      className={className}\n      container={true}\n      justify=\"space-between\"\n      alignItems=\"center\"\n    >\n      <Grid item={true}>{restChildren}</Grid>\n      <Grid item={true} classes={{ item: classes.autoMargin }}>\n        {lastChildren}\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RideInfo from 'travel/components/RideInfo';\nimport AutoMargin from 'modules/components/AutoMargin';\nimport { LocationInfo } from '../../../LocationVisitsGroup/LocationVisitsGroup';\n\nconst useStyles = makeStyles({\n  halfDown: { position: 'relative', top: 12 },\n});\n\nexport default function LocationWithRideInfo({\n  locationId,\n  rideId,\n  provision,\n  provision: { ridesDict, locationsDict },\n  groupCountryId,\n  children,\n  locationInfoChildren,\n  className,\n  classes,\n  urls,\n}) {\n  const ownClasses = useStyles();\n  const location = locationsDict[locationId];\n\n  return (\n    <AutoMargin className={className}>\n      <LocationInfo\n        className={classes.locationContainer}\n        provision={provision}\n        location={location}\n        showCountry={!groupCountryId}\n        locationUrl={urls?.resolveLocationUrl({ locationId })}\n        countryUrl={urls?.resolveCountryUrl({ countryId: location?.countryId })}\n      >\n        {locationInfoChildren}\n      </LocationInfo>\n      {groupCountryId ? (\n        children\n      ) : (\n        <Grid container={true}>\n          <Grid item={true}>{children}</Grid>\n          <Grid item={true}>\n            <RideInfo\n              ride={ridesDict[rideId]}\n              className={ownClasses.halfDown}\n            />\n          </Grid>\n        </Grid>\n      )}\n    </AutoMargin>\n  );\n}\n\nLocationWithRideInfo.defaultProps = {\n  classes: {},\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport EventIcon from '@material-ui/icons/Event';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport LocationWithRideInfo from '../LocationWithRideInfo';\nimport { useVisibleOnHoverStyles } from 'modules/utilities/hooks/makeVisibleOnlyOnHoverStyles';\n\nconst useStyles = makeStyles({\n  locationContainer: {\n    position: 'relative',\n  },\n  detail: {\n    color: 'gray',\n    fontSize: 12,\n  },\n  editButton: {\n    position: 'absolute',\n    top: '-50%',\n    left: '100%',\n  },\n});\n\nexport default function VisitInfo({\n  visit: { visitId, locationId, departureRideId },\n  provision,\n  provision: { visitsDict },\n  urls,\n  isObscure,\n  groupCountryId,\n  className,\n}) {\n  const classes = useStyles();\n  const { hoverTrigger, visibleOnHover } = useVisibleOnHoverStyles();\n\n  const visitUrl = urls?.resolveVisitUrl({ visitId });\n  return (\n    <LocationWithRideInfo\n      className={cls(className, hoverTrigger)}\n      classes={{ locationContainer: classes.locationContainer }}\n      locationId={locationId}\n      rideId={departureRideId}\n      provision={provision}\n      groupCountryId={groupCountryId}\n      urls={urls}\n      locationInfoChildren={\n        visitUrl && (\n          <IconButton\n            className={cls(classes.editButton, visibleOnHover)}\n            component={Link}\n            to={visitUrl}\n          >\n            <EventIcon />\n          </IconButton>\n        )\n      }\n    >\n      <Typography className={classes.detail}>\n        {visitDateTimePeriodToString(visitsDict[visitId], isObscure)}\n      </Typography>\n    </LocationWithRideInfo>\n  );\n}\n","import React, { useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport uniqBy from 'lodash/uniqBy';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport { findClosestGroupValue } from '../../utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../consts';\nimport { LocationInfo } from '../LocationVisitsGroup';\nimport VisitInfo from './components/VisitInfo';\nimport LocationWithRideInfo from './components/LocationWithRideInfo';\n\nconst useStyles = makeStyles({\n  placeDetails: {\n    display: 'inline-block',\n    marginRight: '8px',\n  },\n});\n\nexport default function VisitsItselfGroup({\n  visitsGroup,\n  visitsGroup: { visitsList },\n  provision,\n  provision: { tripsDict, locationsDict },\n  classes,\n  urls,\n  config: {\n    VisitsItselfGroup: {\n      appearance: {\n        country: countryAppearance = true,\n        location: locationAppearance = true,\n      } = {},\n    } = {},\n  } = {},\n}) {\n  const ownClasses = useStyles();\n  const groupTripId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.TRIPS);\n  const groupCountryId = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n  const groupLocationId = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.LOCATIONS,\n  );\n\n  // currently remains only first visit, and only dates for this visit is shown to user\n  // todo: solve the issue, show all periods, or show no dates, whatever\n  const actualVisitsList = useMemo(\n    () => (groupCountryId ? uniqBy(visitsList, 'locationId') : visitsList),\n    [groupCountryId, visitsList],\n  );\n\n  if (!groupTripId) {\n    return (\n      <>\n        {visitsList.map(visit => {\n          const { locationId, countryId } = visit;\n          const locationUrl =\n            locationAppearance && !groupLocationId\n              ? urls?.resolveLocationUrl({ locationId })\n              : null;\n          const countryUrl =\n            countryAppearance && !groupLocationId\n              ? urls?.resolveCountryUrl({ countryId })\n              : null;\n          return (\n            <div className={classes.level}>\n              {locationUrl && (\n                <LocationInfo\n                  className={ownClasses.placeDetails}\n                  location={locationsDict[locationId]}\n                  provision={provision}\n                  showCountry={Boolean(countryUrl) && !groupCountryId}\n                  locationUrl={locationUrl}\n                  countryUrl={countryUrl}\n                />\n              )}\n              <ConnectedLink\n                to={urls.resolveVisitUrl({ visitId: visit.visitId })}\n                optional={true}\n                display=\"inline\"\n              >\n                {visitDateTimePeriodToString(visit, false)}\n              </ConnectedLink>\n            </div>\n          );\n        })}\n      </>\n    );\n  }\n\n  const { originLocationId, departureRideId } = tripsDict[groupTripId] ?? {};\n  const originLocation = locationsDict[originLocationId];\n\n  return (\n    <div className={classes.level}>\n      {!groupCountryId && (\n        <LocationWithRideInfo\n          locationId={originLocationId}\n          rideId={departureRideId}\n          provision={provision}\n          groupCountryId={groupCountryId}\n          className={classes.header}\n          urls={urls}\n        />\n      )}\n      {actualVisitsList.map(visit => (\n        <VisitInfo\n          className={classes.header}\n          key={`v${visit.visitId}`}\n          visit={visit}\n          provision={provision}\n          isObscure={false}\n          groupCountryId={groupCountryId}\n          urls={urls}\n        />\n      ))}\n      {/* todo: Don't show for relocation trip */}\n      {!groupCountryId && (\n        <LocationInfo\n          className={classes.header}\n          provision={provision}\n          location={originLocation}\n          showCountry={!groupCountryId}\n          locationUrl={urls?.resolveLocationUrl({\n            locationId: originLocationId,\n          })}\n          countryUrl={urls?.resolveCountryUrl({\n            countryId: originLocation?.countryId,\n          })}\n        />\n      )}\n    </div>\n  );\n}\n","import CountryVisitsGroup from './components/CountryVisitsGroup';\nimport LocationVisitsGroup from './components/LocationVisitsGroup';\nimport YearVisitsGroup from './components/YearVisitsGroup';\nimport TripVisitsGroup from './components/TripVisitsGroup';\nimport VisitsItselfGroup from './components/VisitsItselfGroup';\n\nexport const PLAIN_GROUPS = {\n  // ALL: 'ALL',\n  LOCATIONS: 'LOCATIONS',\n  COUNTRIES: 'COUNTRIES',\n  YEARS: 'YEARS',\n  TRIPS: 'TRIPS',\n  JUST_VISITS: 'JUST_VISITS',\n};\n\nexport const PLAIN_GROUPS_CONFIG = {\n  [PLAIN_GROUPS.TRIPS]: {\n    groupFieldName: 'tripId',\n    component: TripVisitsGroup,\n    adapter: Number, // Will be applied to value of \"groupFieldName\" field\n  },\n  [PLAIN_GROUPS.YEARS]: {\n    groupFieldName: function getArrivalYear({ arrivalDateTime }) {\n      return arrivalDateTime.getFullYear();\n    },\n    component: YearVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.COUNTRIES]: {\n    groupFieldName: 'countryId',\n    component: CountryVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.LOCATIONS]: {\n    groupFieldName: 'locationId',\n    component: LocationVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.JUST_VISITS]: {\n    groupFieldName: 'visitId',\n    component: VisitsItselfGroup,\n    adapter: Number,\n  },\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport TripInfo from './TripInfo';\n\nexport default function TripVisitsGroup({\n  classes,\n  children,\n  visitsGroup: {\n    field: { value: tripId },\n  },\n  provision: { tripsDict, visitsDict, countriesDict, locationsDict },\n  urls,\n}) {\n  return (\n    <TripInfo\n      key={`t${tripId}`}\n      className={cls(classes.container, classes.header)}\n      classes={classes}\n      trip={tripsDict[tripId]}\n      visitsDict={visitsDict}\n      countriesDict={countriesDict}\n      locationsDict={locationsDict}\n      variant={null}\n      urls={urls}\n    >\n      {children}\n    </TripInfo>\n  );\n}\n","import groupByFn from 'lodash/groupBy';\nimport isFunction from 'lodash/isFunction';\nimport { PLAIN_GROUPS, PLAIN_GROUPS_CONFIG } from '../consts';\n\nexport default function groupVisitsBy(visitsList, plainGroup) {\n  const { groupFieldName, adapter } = PLAIN_GROUPS_CONFIG[plainGroup];\n  return plainGroup === PLAIN_GROUPS.JUST_VISITS\n    ? [{ field: { name: groupFieldName, value: null }, visitsList }]\n    : groupVisitsByValue(visitsList, groupFieldName, adapter);\n}\n\nfunction groupVisitsByValue(visitsList, groupFieldName, adapter) {\n  return Object.entries(groupByFn(visitsList, groupFieldName)).map(\n    ([groupFieldValue, groupVisitsList]) => ({\n      field: {\n        name: isFunction(groupFieldName) ? groupFieldName.name : groupFieldName,\n        value: adapter ? adapter(groupFieldValue) : groupFieldValue,\n      },\n      visitsList: groupVisitsList,\n    }),\n  );\n}\n","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import memoizeOne from 'memoize-one';\nimport memoize from 'lodash/memoize';\n\nexport default function createCalcByYearUtils(lookupKey) {\n  const memoizedCalcOldies = memoizeOne(visitsDict =>\n    memoize(year => calcOldies(year, visitsDict)),\n  );\n\n  return {\n    calcTotal,\n    calcByYear,\n  };\n\n  function calcTotal(visitsList) {\n    return {\n      total: new Set(visitsList.map(({ [lookupKey]: entityId }) => entityId))\n        .size,\n    };\n  }\n\n  function calcByYear(visitsDict, visitsList, year) {\n    const oldies = memoizedCalcOldies(visitsDict)(year);\n\n    const freshies = visitsList.reduce(\n      (acc, { arrivalYear, [lookupKey]: entityId }) => {\n        if (arrivalYear === year) {\n          acc.add(entityId);\n        }\n        return acc;\n      },\n      new Set(),\n    );\n\n    const newbies = freshies.difference(oldies);\n    return {\n      totalAtYear: freshies.size,\n      newAtYear: newbies.size,\n      newbies,\n    };\n  }\n\n  function calcOldies(year, visitsDict) {\n    return Object.values(visitsDict).reduce(\n      (acc, { [lookupKey]: entityId, arrivalYear }) => {\n        if (arrivalYear < year) {\n          acc.add(entityId);\n        }\n        return acc;\n      },\n      new Set(),\n    );\n  }\n}\n","import differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\nimport createPeriods from 'modules/utilities/dateTime/periods';\n\nexport default function calcDaysTravellingStats(\n  visitsList,\n  { visitsDict, ridesDict },\n  { considerRides },\n) {\n  const visitToPeriodMapper = considerRides\n    ? createMapperWithRides(visitsDict, ridesDict, considerRides)\n    : simpleMapper;\n  const visitsPeriods = visitsList.map(visitToPeriodMapper);\n  const detailedStats = createPeriods([...visitsPeriods])\n    .toArray()\n    .reduce(\n      (\n        acc,\n        {\n          startDate: arrivalDateTime,\n          endDate: departureDateTime,\n          stack: visitsIds,\n        },\n      ) => {\n        const stay =\n          differenceInCalendarDays(departureDateTime, arrivalDateTime) + 1;\n        if (stay > 0) {\n          acc.push({ stay, visitsIds, departureDateTime, arrivalDateTime });\n        }\n        return acc;\n      },\n      [],\n    );\n  return {\n    detailedStats,\n    totalStay: detailedStats.reduce((total, { stay }) => total + stay, 0),\n  };\n}\n\nfunction simpleMapper({ arrivalDateTime, departureDateTime }) {\n  return {\n    startDate: arrivalDateTime,\n    endDate: departureDateTime,\n  };\n}\n\nfunction createMapperWithRides(visitsDict, ridesDict, considerRides) {\n  return function mapperWithRides({\n    visitId,\n    countryId,\n    arrivalRideId,\n    arrivalDateTime,\n    departureRideId,\n    departureDateTime,\n  }) {\n    let startDate;\n    const arrivalRide = ridesDict[arrivalRideId];\n    if (!arrivalRide) {\n      startDate = arrivalDateTime;\n    } else {\n      const {\n        departureVisitId: prevVisitId,\n        departureDateTime: rideStartDate,\n      } = arrivalRide;\n      if (\n        considerRides !== 'country' ||\n        (countryId && countryId === visitsDict[prevVisitId]?.countryId)\n      ) {\n        startDate = rideStartDate;\n      }\n    }\n\n    let endDate;\n    const departureRide = ridesDict[departureRideId];\n    if (!departureRide) {\n      endDate = departureDateTime;\n    } else {\n      const {\n        arrivalVisitId: nextVisitId,\n        arrivalDateTime: rideEndDate,\n      } = departureRide;\n      if (\n        considerRides !== 'country' ||\n        (countryId && countryId === visitsDict[nextVisitId]?.countryId)\n      ) {\n        endDate = rideEndDate;\n      }\n    }\n    return { startDate, endDate, stack: new Set([visitId]) };\n  };\n}\n","import minBy from 'lodash/minBy';\nimport maxBy from 'lodash/maxBy';\nimport { PLAIN_GROUPS } from '../../arrangement/groupping/consts';\nimport { findClosestGroupValue } from '../../arrangement/groupping/utils/resolveGroupingUtils';\nimport createCalcByYearUtils from './createCalcByYearUtils';\nimport calcDaysTravellingStats from './calcDaysTravellingStats';\n\nexport default function calcStats(visitsGroup, provision) {\n  const locationId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS);\n  const countryId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES);\n  const year = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS);\n  const { plainGroup, visitsList } = visitsGroup;\n\n  return {\n    visitsStats: calcVisitsStats(visitsList, provision),\n    countriesStats: countryId\n      ? null\n      : calcCountriesStats(visitsList, provision, { year }),\n    locationsStats: locationId\n      ? null\n      : calcLocationsStats(visitsList, provision, { year }),\n    daysTravellingStats: calcDaysTravellingStats(visitsList, provision, {\n      // Consider rides time, when count travelling days in groups, like country\n      // or year. So when you move across country, you still in trip,\n      // even if you sleep in train.\n      considerRides: [PLAIN_GROUPS.COUNTRIES, PLAIN_GROUPS.YEARS].includes(\n        plainGroup,\n      )\n        ? plainGroup\n        : false,\n    }),\n  };\n}\n\nconst {\n  calcTotal: calcCountriesTotal,\n  calcByYear: calcCountriesByYear,\n} = createCalcByYearUtils('countryId');\n\nfunction calcCountriesStats(visitsList, { visitsDict }, { year }) {\n  const { newAtYear, totalAtYear, total, newbies } = year\n    ? calcCountriesByYear(visitsDict, visitsList, year)\n    : calcCountriesTotal(visitsList);\n  return { year, newAtYear, totalAtYear, total, newbies };\n}\n\nconst {\n  calcTotal: calcLocationsTotal,\n  calcByYear: calcLocationsByYear,\n} = createCalcByYearUtils('locationId');\n\nfunction calcVisitsStats(visitsList) {\n  return {\n    visitsCount: visitsList.length,\n    firstVisit: minBy(visitsList, 'arrivalDateTime'),\n    lastVisit: maxBy(visitsList, 'departureDateTime'),\n  };\n}\n\nfunction calcLocationsStats(visitsList, { visitsDict }, { year }) {\n  const { newAtYear, totalAtYear, total, newbies } = year\n    ? calcLocationsByYear(visitsDict, visitsList, year)\n    : calcLocationsTotal(visitsList);\n  return {\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n    newbies,\n  };\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  statsIndicator: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    marginRLeft: '2px',\n    marginRight: '4px',\n  },\n});\n\nexport default function StatsIndicator({ className, icon, children, hint }) {\n  const classes = useStyles();\n\n  const contentNode = (\n    <Typography\n      variant=\"subtitle1\"\n      className={cls(className, classes.statsIndicator)}\n    >\n      {React.cloneElement(icon, { fontSize: 'inherit' })}\n      {children}\n    </Typography>\n  );\n\n  if (!hint) {\n    return contentNode;\n  }\n  return <Tooltip title={hint}>{contentNode}</Tooltip>;\n}\n","import React from 'react';\nimport FlagIcon from '@material-ui/icons/Flag';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function CountriesStats({\n  countriesStats: { year, newAtYear, totalAtYear, total },\n}) {\n  const showByYear = Boolean(year);\n  const hintNode = renderHint({\n    showByYear,\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  const detailsNode = renderDetails({\n    showByYear,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  return (\n    <StatsIndicator hint={hintNode} icon={<FlagIcon />}>\n      {detailsNode}\n    </StatsIndicator>\n  );\n}\n\nexport function renderDetails({ showByYear, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return String(total);\n  }\n  if (!newAtYear) {\n    return String(totalAtYear);\n  }\n  if (totalAtYear === newAtYear) {\n    return `+${newAtYear}`;\n  }\n  return `${totalAtYear} (+${newAtYear})`;\n}\n\nfunction renderHint({ showByYear, year, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return <div>{` ${total} `}</div>;\n  }\n  return (\n    <div>\n      <div>{` ${year}   ${totalAtYear} `}</div>\n      <div>\n        {newAtYear\n          ? `   ${newAtYear} `\n          : '      '}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport { renderDetails } from '../CountriesStats';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function LocationStats({\n  locationsStats: { year, newAtYear, totalAtYear, total },\n}) {\n  const showByYear = Boolean(year);\n  const hintNode = renderHint({\n    showByYear,\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  const detailsNode = renderDetails({\n    showByYear,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  return (\n    <StatsIndicator hint={hintNode} icon={<PlaceIcon />}>\n      {detailsNode}\n    </StatsIndicator>\n  );\n}\n\nfunction renderHint({ showByYear, year, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return <div>{` ${total} `}</div>;\n  }\n  return (\n    <div>\n      <div>{` ${year}   ${totalAtYear} `}</div>\n      <div>\n        {newAtYear\n          ? `   ${newAtYear} `\n          : '      '}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport TimelapseIcon from '@material-ui/icons/Timelapse';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function DaysTravellingStats({\n  className,\n  daysTravellingStats: { detailedStats, totalStay },\n  provision: { visitsDict },\n}) {\n  if (!totalStay) {\n    return null;\n  }\n\n  return (\n    <StatsIndicator\n      className={className}\n      hint={renderHint(detailedStats, totalStay, visitsDict)}\n      icon={<TimelapseIcon />}\n    >\n      {totalStay}\n    </StatsIndicator>\n  );\n}\n\nfunction renderHint(detailedStats, totalStay, visitsDict) {\n  const totalStr = ` ${totalStay}    `;\n\n  if (detailedStats.length === 1) {\n    const { visitsIds, departureDateTime, arrivalDateTime } = detailedStats[0];\n    const periodStr = visitDateTimePeriodToString({\n      departureDateTime,\n      arrivalDateTime,\n    });\n    const locationsStr = renderLocations(visitsIds, visitsDict);\n    return <div>{`${totalStr} ${periodStr}. ${locationsStr}`}</div>;\n  }\n\n  return (\n    <div>\n      <div>{totalStr}</div>\n      {detailedStats.map(\n        ({ stay, visitsIds, departureDateTime, arrivalDateTime }, index) => {\n          const periodStr = visitDateTimePeriodToString({\n            departureDateTime,\n            arrivalDateTime,\n          });\n          const locationsStr = renderLocations(visitsIds, visitsDict);\n          // No good alternative 4 array index key\n          /* eslint-disable react/no-array-index-key */\n          return (\n            <div\n              key={`v${index}`}\n            >{`${stay} , ${periodStr}. ${locationsStr}`}</div>\n          );\n          /* eslint-enable react/no-array-index-key */\n        },\n      )}\n    </div>\n  );\n}\n\nfunction renderLocations(visitsIds, visitsDict) {\n  return (\n    visitsIds\n      ?.map(visitId => visitsDict[visitId]?.locationName ?? '')\n      ?.join(', ') ?? ''\n  );\n}\n","import { PLAIN_GROUPS } from '../../../../arrangement/groupping/consts';\nimport { findClosestGroupValue } from '../../../../arrangement/groupping/utils/resolveGroupingUtils';\n\nexport default function isNewbie(visitsGroup) {\n  const {\n    plainGroup,\n    field: { value: entityId },\n  } = visitsGroup;\n\n  switch (plainGroup) {\n    case PLAIN_GROUPS.COUNTRIES:\n      return isNewbieCountry(visitsGroup, entityId);\n    case PLAIN_GROUPS.LOCATIONS:\n      return isNewbieLocation(visitsGroup, entityId);\n    default:\n      return false;\n  }\n}\n\nfunction isNewbieCountry(visitsGroup, countryId) {\n  return findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.YEARS,\n  )?.stats?.countriesStats?.newbies?.has(countryId);\n}\n\nfunction isNewbieLocation(visitsGroup, locationId) {\n  const yearVisitsGroup = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.YEARS,\n  );\n  const countriesVisitsGroup = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n\n  const countryLocationStats = countriesVisitsGroup?.stats?.locationsStats;\n  const allLocationsIsNew =\n    !countryLocationStats ||\n    !countryLocationStats.newAtYear ||\n    !countryLocationStats.totalAtYear ||\n    countryLocationStats.newAtYear === countryLocationStats.totalAtYear;\n\n  return (\n    !allLocationsIsNew &&\n    yearVisitsGroup?.stats?.locationsStats?.newbies?.has(locationId)\n  );\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport FiberNewIcon from '@material-ui/icons/FiberNew';\nimport { findClosestGroupValue } from '../../../arrangement/groupping/utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../../arrangement/groupping/consts';\nimport CountriesStats from './components/CountriesStats';\nimport LocationStats from './components/LocationStats';\nimport DaysTravellingStats from './components/DaysTravellingStats';\nimport isNewbie from './utils/isNewbie';\n\nconst useStyles = makeStyles({\n  container: {\n    color: 'gray',\n    display: 'inline-flex',\n    alignItems: 'center',\n    marginLeft: '4px',\n  },\n});\n\nexport default function StatsPanel({\n  provision,\n  visitsGroup,\n  visitsGroup: {\n    stats: { countriesStats, locationsStats, daysTravellingStats },\n  },\n  config: {\n    StatsPanel: {\n      appearance: {\n        CountriesStats: countriesStatsAppearance = true,\n        LocationsStats: locationStatsAppearance = true,\n        DaysTravellingStats: daysTravellingStatsAppearance = true,\n      } = {},\n    } = {},\n  },\n  isObscure,\n}) {\n  const classes = useStyles();\n\n  const isLocationGroup = visitsGroup.plainGroup === PLAIN_GROUPS.LOCATIONS;\n  const hasCountryGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES),\n  );\n  const hasLocationGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS),\n  );\n  const hasYearGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS),\n  );\n\n  const daysTravellingStatsNode =\n    daysTravellingStatsAppearance && daysTravellingStats && !isObscure ? (\n      <DaysTravellingStats\n        className={cls({\n          [classes.visibleOnlyOnHover]: isLocationGroup,\n        })}\n        daysTravellingStats={daysTravellingStats}\n        provision={provision}\n      />\n    ) : null;\n\n  return (\n    <Typography variant=\"body1\" className={classes.container}>\n      {hasYearGroup && isNewbie(visitsGroup) && <FiberNewIcon />}\n      {countriesStatsAppearance &&\n        !hasCountryGroup && <CountriesStats countriesStats={countriesStats} />}\n      {locationStatsAppearance &&\n        !hasLocationGroup && <LocationStats locationsStats={locationsStats} />}\n      {daysTravellingStatsNode}\n    </Typography>\n  );\n}\n\nStatsPanel.defaultProps = {\n  config: {},\n};\n","export const PLAIN_SORTING = {\n  ALPHABET: 'ALPHABET',\n  RATING: 'RATING',\n  FIRST_VISIT: 'FIRST_VISIT',\n  LAST_VISIT: 'LAST_VISIT',\n  VISITS_COUNT: 'VISITS_COUNT',\n};\n","import sortBy from 'lodash/sortBy';\nimport orderBy from 'lodash/orderBy';\nimport iterateeFn from 'lodash/iteratee';\nimport property from 'lodash/property';\nimport { PLAIN_GROUPS } from '../../groupping/consts';\nimport { PLAIN_SORTING } from '../consts';\n\nexport default function sortVisitsBy(\n  visitsGroups,\n  sortingOrder,\n  plainGroup,\n  provision,\n) {\n  const comparators = sortingOrder.flatMap(switchComparator);\n  const hasOrder = comparators.some(property('order'));\n\n  return hasOrder\n    ? orderBy(visitsGroups, ...withOrder(comparators))\n    : sortBy(visitsGroups, comparators);\n\n  function switchComparator(plainSorting) {\n    switch (plainSorting) {\n      case PLAIN_SORTING.FIRST_VISIT:\n        return dates('stats.visitsStats.firstVisit.arrivalDateTime');\n      case PLAIN_SORTING.LAST_VISIT:\n        return {\n          iteratee: nullsLast(\n            dates('stats.visitsStats.lastVisit.departureDateTime'),\n          ),\n          order: 'desc',\n        };\n      case PLAIN_SORTING.RATING:\n        return createRatingComparator(plainGroup, provision);\n      case PLAIN_SORTING.VISITS_COUNT:\n        return {\n          iteratee: 'stats.locationsStats.total',\n          order: 'desc',\n        };\n      case PLAIN_SORTING.ALPHABET:\n      default:\n        return createAlphabetComparator(plainGroup, provision);\n    }\n  }\n}\n\nfunction withOrder(comparators) {\n  return Object.values(\n    comparators.reduce(\n      (acc, current) => {\n        const { iteratee = [], order = 'asc' } = current.order\n          ? current\n          : { iteratee: current };\n        acc.iteratee.push(iteratee);\n        acc.order.push(order);\n        return acc;\n      },\n      {\n        iteratee: [],\n        order: [],\n      },\n    ),\n  );\n}\n\nfunction createRatingComparator(plainGroup, provision) {\n  switch (plainGroup) {\n    // case PLAIN_GROUPS.COUNTRIES:\n    //   return createCountryRatingComparator(provision);\n    case PLAIN_GROUPS.LOCATIONS:\n      return createLocationRatingComparator(provision);\n    default:\n      return () => 0;\n  }\n}\n\nfunction createAlphabetComparator(plainGroup, provision) {\n  switch (plainGroup) {\n    case PLAIN_GROUPS.YEARS:\n      return [\n        {\n          iteratee: nullsLast('stats.visitsStats.firstVisit.arrivalYear'),\n          order: 'desc',\n        },\n      ];\n    case PLAIN_GROUPS.COUNTRIES:\n      return createCountryNameComparator(provision);\n    case PLAIN_GROUPS.LOCATIONS:\n      return createLocationNameComparator(provision);\n    default:\n      return () => 0;\n  }\n}\n\nfunction createCountryNameComparator({ countriesDict }) {\n  return ({ field: { value: countryId } }) => {\n    const { countryName } = countriesDict[countryId] ?? {};\n    return countryName;\n  };\n}\n\nfunction createLocationNameComparator({ locationsDict }) {\n  return ({ field: { value: locationId } }) => {\n    const { locationName } = locationsDict[locationId] ?? {};\n    return locationName;\n  };\n}\n\nconst DEFAULT_RATING = 10;\nfunction createLocationRatingComparator({ locationsRating }) {\n  return ({ field: { value: locationId } }) =>\n    locationsRating[locationId] ?? DEFAULT_RATING;\n}\n\nfunction nullsLast(iteratee) {\n  const resolve = iterateeFn(iteratee);\n  return value => resolve(value) || '';\n}\n\nfunction dates(iteratee) {\n  const resolve = iterateeFn(iteratee);\n  return value => (resolve(value) || '').valueOf();\n}\n","import React, { useState, useCallback } from 'react';\nimport LazyLoad from 'react-lazy-load';\n\nexport default function LazyWithPlaceholder({\n  placeholder,\n  children,\n  ...forwardingProps\n}) {\n  const [loaded, setLoaded] = useState(false);\n  const handleVisible = useCallback(() => setLoaded(true), []);\n\n  return (\n    <>\n      {!loaded && placeholder}\n      <LazyLoad {...forwardingProps} onContentVisible={handleVisible}>\n        {children}\n      </LazyLoad>\n    </>\n  );\n}\n","import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport cls from 'classnames';\nimport { ensuredForwardRef } from 'react-use';\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\nimport ZoomOutIcon from '@material-ui/icons/ZoomOut';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst CENTER = 50;\n\nconst useStyles = makeStyles({\n  container: {\n    position: 'relative',\n  },\n  '@global': {\n    // need this workaround to keep zoom even when mouseover gallery controllers\n    '.image-gallery-slide-wrapper:hover .MINE-image-gallery-zoom-not-touchscreen': {\n      opacity: 1,\n    },\n  },\n  touchscreenZoom: {\n    opacity: 1,\n  },\n  zoom: {\n    backgroundPosition: `${CENTER}% ${CENTER}%`,\n    backgroundRepeat: 'no-repeat',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: 0,\n    padding: 0,\n    opacity: 0,\n    transition: 'opacity 0.5s',\n  },\n  zoomButton: {\n    position: 'absolute',\n    bottom: '10px',\n    left: 'calc(50% - 20px)',\n    zIndex: 4,\n  },\n  zoomIcon: {\n    height: '28px',\n    width: '28px',\n    color: 'white',\n    transition: 'all 0.3s ease-out',\n    border: 0,\n    cursor: 'pointer',\n    outline: 'none',\n    filter: 'drop-shadow(0 2px 2px #1a1a1a)',\n  },\n});\n\nexport default ensuredForwardRef(function ZoomableImage(\n  { alt, src, onSwipeLock, ...forwardingProps },\n  ref,\n) {\n  const touchscreen = window.matchMedia('(any-pointer: coarse)').matches;\n  const [touchscreenZoom, setTouchscreenZoom] = useState(false);\n\n  const classes = useStyles();\n  const [backgroundPosition, setBackgroundPosition] = useState(\n    `${CENTER}% ${CENTER}%`,\n  );\n\n  const containerRef = useRef();\n\n  useEffect(\n    () => {\n      onSwipeLock(touchscreenZoom);\n    },\n    [touchscreenZoom],\n  );\n\n  const handleAnyZoom = useCallback(event => {\n    const { nativeEvent } = event;\n    const {\n      top: containerTop,\n      left: containerLeft,\n      width: originalWidth,\n      height: originalHeight,\n    } = ref.current.getBoundingClientRect();\n\n    const offsetX =\n      (nativeEvent.clientX ?? nativeEvent.touches[0]?.clientX) - containerLeft;\n    const offsetY =\n      (nativeEvent.clientY ?? nativeEvent.touches[0]?.clientY) - containerTop;\n\n    if (!offsetX || !offsetY) {\n      return;\n    }\n\n    const extendable =\n      originalWidth < ref.current.naturalWidth ||\n      originalHeight < ref.current.naturalHeight;\n\n    const notEnoughWidth =\n      containerRef.current.getBoundingClientRect().width <\n      ref.current.naturalWidth;\n\n    if (!extendable) {\n      return;\n    }\n\n    const x =\n      extendable && notEnoughWidth\n        ? asPercent((offsetX / originalWidth) * 100)\n        : CENTER;\n    const y = extendable ? asPercent((offsetY / originalHeight) * 100) : CENTER;\n\n    setBackgroundPosition(`${x}% ${y}%`);\n  }, []);\n\n  const handleTouchscreenZoom = useCallback(\n    event => {\n      if (touchscreenZoom) {\n        handleAnyZoom(event);\n      }\n    },\n    [touchscreenZoom],\n  );\n\n  const ZoomIcon = touchscreenZoom ? ZoomOutIcon : ZoomInIcon;\n\n  return (\n    <div className={classes.container} ref={containerRef}>\n      <img ref={ref} alt={alt} src={src} {...forwardingProps} />\n      <figure\n        className={cls(classes.zoom, {\n          ['MINE-image-gallery-zoom-not-touchscreen']: !touchscreen,\n          [classes.touchscreenZoom]: touchscreenZoom,\n        })}\n        style={{ backgroundPosition, backgroundImage: `url(${src})` }}\n        onMouseMove={touchscreen ? undefined : handleAnyZoom}\n        onTouchMove={touchscreenZoom ? handleTouchscreenZoom : undefined}\n      />\n      {touchscreen && (\n        <IconButton\n          className={classes.zoomButton}\n          onClick={() =>\n            setTouchscreenZoom(prevTouchscreenZoom => !prevTouchscreenZoom)\n          }\n        >\n          <ZoomIcon className={classes.zoomIcon} />\n        </IconButton>\n      )}\n    </div>\n  );\n});\n\nfunction asPercent(value) {\n  return Math.min(Math.max(value, 0), 100) || CENTER;\n}\n","import { forwardRef, useEffect, useRef, } from 'react';\nexport default function useEnsuredForwardedRef(forwardedRef) {\n    var ensuredRef = useRef(forwardedRef && forwardedRef.current);\n    useEffect(function () {\n        if (!forwardedRef) {\n            return;\n        }\n        forwardedRef.current = ensuredRef.current;\n    }, [forwardedRef]);\n    return ensuredRef;\n}\nexport function ensuredForwardRef(Component) {\n    return forwardRef(function (props, ref) {\n        var ensuredRef = useEnsuredForwardedRef(ref);\n        return Component(props, ensuredRef);\n    });\n}\n","import { decode83 } from \"./base83\";\nimport { sRGBToLinear, signPow, linearTosRGB } from \"./utils\";\nimport { ValidationError } from \"./error\";\n/**\n * Returns an error message if invalid or undefined if valid\n * @param blurhash\n */\nconst validateBlurhash = (blurhash) => {\n    if (!blurhash || blurhash.length < 6) {\n        throw new ValidationError(\"The blurhash string must be at least 6 characters\");\n    }\n    const sizeFlag = decode83(blurhash[0]);\n    const numY = Math.floor(sizeFlag / 9) + 1;\n    const numX = (sizeFlag % 9) + 1;\n    if (blurhash.length !== 4 + 2 * numX * numY) {\n        throw new ValidationError(`blurhash length mismatch: length is ${blurhash.length} but it should be ${4 + 2 * numX * numY}`);\n    }\n};\nexport const isBlurhashValid = (blurhash) => {\n    try {\n        validateBlurhash(blurhash);\n    }\n    catch (error) {\n        return { result: false, errorReason: error.message };\n    }\n    return { result: true };\n};\nconst decodeDC = (value) => {\n    const intR = value >> 16;\n    const intG = (value >> 8) & 255;\n    const intB = value & 255;\n    return [sRGBToLinear(intR), sRGBToLinear(intG), sRGBToLinear(intB)];\n};\nconst decodeAC = (value, maximumValue) => {\n    const quantR = Math.floor(value / (19 * 19));\n    const quantG = Math.floor(value / 19) % 19;\n    const quantB = value % 19;\n    const rgb = [\n        signPow((quantR - 9) / 9, 2.0) * maximumValue,\n        signPow((quantG - 9) / 9, 2.0) * maximumValue,\n        signPow((quantB - 9) / 9, 2.0) * maximumValue\n    ];\n    return rgb;\n};\nconst decode = (blurhash, width, height, punch) => {\n    validateBlurhash(blurhash);\n    punch = punch | 1;\n    const sizeFlag = decode83(blurhash[0]);\n    const numY = Math.floor(sizeFlag / 9) + 1;\n    const numX = (sizeFlag % 9) + 1;\n    const quantisedMaximumValue = decode83(blurhash[1]);\n    const maximumValue = (quantisedMaximumValue + 1) / 166;\n    const colors = new Array(numX * numY);\n    for (let i = 0; i < colors.length; i++) {\n        if (i === 0) {\n            const value = decode83(blurhash.substring(2, 6));\n            colors[i] = decodeDC(value);\n        }\n        else {\n            const value = decode83(blurhash.substring(4 + i * 2, 6 + i * 2));\n            colors[i] = decodeAC(value, maximumValue * punch);\n        }\n    }\n    const bytesPerRow = width * 4;\n    const pixels = new Uint8ClampedArray(bytesPerRow * height);\n    for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n            let r = 0;\n            let g = 0;\n            let b = 0;\n            for (let j = 0; j < numY; j++) {\n                for (let i = 0; i < numX; i++) {\n                    const basis = Math.cos((Math.PI * x * i) / width) *\n                        Math.cos((Math.PI * y * j) / height);\n                    let color = colors[i + j * numX];\n                    r += color[0] * basis;\n                    g += color[1] * basis;\n                    b += color[2] * basis;\n                }\n            }\n            let intR = linearTosRGB(r);\n            let intG = linearTosRGB(g);\n            let intB = linearTosRGB(b);\n            pixels[4 * x + 0 + y * bytesPerRow] = intR;\n            pixels[4 * x + 1 + y * bytesPerRow] = intG;\n            pixels[4 * x + 2 + y * bytesPerRow] = intB;\n            pixels[4 * x + 3 + y * bytesPerRow] = 255; // alpha\n        }\n    }\n    return pixels;\n};\nexport default decode;\n//# sourceMappingURL=decode.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { decode } from 'blurhash';\nvar BlurhashCanvas = /** @class */ (function (_super) {\n    __extends(BlurhashCanvas, _super);\n    function BlurhashCanvas() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.canvas = null;\n        _this.handleRef = function (canvas) {\n            _this.canvas = canvas;\n            _this.draw();\n        };\n        _this.draw = function () {\n            var _a = _this.props, hash = _a.hash, height = _a.height, punch = _a.punch, width = _a.width;\n            if (_this.canvas) {\n                var pixels = decode(hash, width, height, punch);\n                var ctx = _this.canvas.getContext('2d');\n                var imageData = ctx.createImageData(width, height);\n                imageData.data.set(pixels);\n                ctx.putImageData(imageData, 0, 0);\n            }\n        };\n        return _this;\n    }\n    BlurhashCanvas.prototype.componentDidUpdate = function () {\n        this.draw();\n    };\n    BlurhashCanvas.prototype.render = function () {\n        var _a = this.props, hash = _a.hash, height = _a.height, width = _a.width, rest = __rest(_a, [\"hash\", \"height\", \"width\"]);\n        return React.createElement(\"canvas\", __assign({}, rest, { height: height, width: width, ref: this.handleRef }));\n    };\n    BlurhashCanvas.defaultProps = {\n        height: 128,\n        width: 128,\n    };\n    return BlurhashCanvas;\n}(React.PureComponent));\nexport default BlurhashCanvas;\n//# sourceMappingURL=BlurhashCanvas.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport BlurhashCanvas from './BlurhashCanvas';\nvar canvasStyle = {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: '100%',\n    height: '100%',\n};\nvar Blurhash = /** @class */ (function (_super) {\n    __extends(Blurhash, _super);\n    function Blurhash() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Blurhash.prototype.componentDidUpdate = function () {\n        if (this.props.resolutionX <= 0) {\n            throw new Error('resolutionX must be larger than zero');\n        }\n        if (this.props.resolutionY <= 0) {\n            throw new Error('resolutionY must be larger than zero');\n        }\n    };\n    Blurhash.prototype.render = function () {\n        var _a = this.props, hash = _a.hash, height = _a.height, width = _a.width, punch = _a.punch, resolutionX = _a.resolutionX, resolutionY = _a.resolutionY, style = _a.style, rest = __rest(_a, [\"hash\", \"height\", \"width\", \"punch\", \"resolutionX\", \"resolutionY\", \"style\"]);\n        return (React.createElement(\"div\", __assign({}, rest, { style: __assign(__assign({ display: 'inline-block', height: height, width: width }, style), { position: 'relative' }) }),\n            React.createElement(BlurhashCanvas, { hash: hash, height: resolutionY, width: resolutionX, punch: punch, style: canvasStyle })));\n    };\n    Blurhash.defaultProps = {\n        height: 128,\n        width: 128,\n        resolutionX: 32,\n        resolutionY: 32,\n    };\n    return Blurhash;\n}(React.PureComponent));\nexport default Blurhash;\n//# sourceMappingURL=Blurhash.js.map","import React, {\n  useCallback,\n  useEffect,\n  useState,\n  useRef,\n  useLayoutEffect,\n} from 'react';\nimport { Blurhash } from 'react-blurhash';\nimport min from 'lodash/min';\nimport ZoomableImage from '../ZoomableImage';\n\nconst BLURHASH_RESOLUTION = 32;\nconst BLURHASH_PUNCH = 1;\nconst ERROR_IMAGE_URL =\n  'https://res.cloudinary.com/dc2eke0gj/image/upload/minetravel/common/img_placeholder.png';\nconst LOADING_STATE = {\n  IDLE: 'IDLE',\n  LOADING: 'LOADING',\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR',\n};\nconst LAZY_LOADING_SUPPORT = false; // 'loading' in HTMLImageElement.prototype;\nconst INITIAL_STATE = LAZY_LOADING_SUPPORT\n  ? LOADING_STATE.LOADING\n  : LOADING_STATE.IDLE;\n\nexport default function LazyImage({\n  aspectRatio,\n  className,\n  component: ImageComponent,\n  require,\n  tag,\n  src,\n  alt,\n  blurhash,\n  constraints,\n  height,\n  width,\n  onLoad,\n  children,\n  zoomable,\n  ...forwardingProps\n}) {\n  const [loadingState, setLoadingState] = useState(INITIAL_STATE);\n\n  const handleError = useCallback(() => {\n    setLoadingState(LOADING_STATE.ERROR);\n  }, []);\n\n  const imgRef = useRef();\n  const handleLoad = useCallback(() => {\n    setLoadingState(LOADING_STATE.SUCCESS);\n    if (onLoad) {\n      onLoad({\n        aspectRatio: imgRef.current.naturalWidth / imgRef.current.naturalHeight,\n      });\n    }\n  }, []);\n\n  useEffect(\n    () => {\n      if (require && loadingState === LOADING_STATE.IDLE) {\n        setLoadingState(LOADING_STATE.LOADING);\n      }\n    },\n    [require, loadingState],\n  );\n\n  const hasResult =\n    loadingState === LOADING_STATE.SUCCESS ||\n    loadingState === LOADING_STATE.ERROR;\n\n  const { imageWidth, imageHeight } = resolveImageSize(\n    {\n      height,\n      width,\n      aspectRatio,\n    },\n    constraints,\n  );\n\n  // consider all margins and paddings, reflect to { maxWidth: '100%' } img behavior\n  const [realImgWidth, setRealImgWidth] = useState(imageWidth);\n\n  useLayoutEffect(\n    () => {\n      if (imgRef.current) {\n        setRealImgWidth(imgRef.current.getBoundingClientRect().width);\n      }\n    },\n    [imageWidth],\n  );\n\n  return (\n    <>\n      {!hasResult && (\n        <Blurhash\n          hash={blurhash}\n          width={realImgWidth}\n          height={realImgWidth / aspectRatio ?? imageHeight}\n          resolutionX={BLURHASH_RESOLUTION}\n          resolutionY={BLURHASH_RESOLUTION}\n          punch={BLURHASH_PUNCH}\n        />\n      )}\n      {loadingState !== LOADING_STATE.ERROR ? (\n        <ImageComponent\n          key=\"ok\"\n          data-tag={tag}\n          ref={imgRef}\n          className={className}\n          alt={alt}\n          src={resolveActualSrc(src, loadingState)}\n          style={{\n            width: imageWidth,\n            height: hasResult ? imageHeight : 0,\n            maxWidth: '100%',\n          }}\n          onLoad={handleLoad}\n          onError={handleError}\n          loading={LAZY_LOADING_SUPPORT ? 'lazy' : undefined}\n          {...forwardingProps}\n        />\n      ) : (\n        <img\n          key=\"error\"\n          alt=\"error\"\n          className={className}\n          src={ERROR_IMAGE_URL}\n          style={{\n            width: imageWidth,\n            height: imageHeight,\n            maxWidth: '100%',\n          }}\n        />\n      )}\n      {children}\n    </>\n  );\n}\n\nLazyImage.defaultProps = {\n  component: 'img',\n};\n\nfunction resolveActualSrc(src, loadingState) {\n  switch (loadingState) {\n    case LOADING_STATE.IDLE:\n      return null;\n    default:\n      return src;\n  }\n}\n\nfunction resolveImageSize({ aspectRatio, height, width }, constraints) {\n  if (!constraints) {\n    return {\n      imageHeight: height || width / aspectRatio,\n      imageWidth: width || height * aspectRatio,\n    };\n  }\n\n  const heightConstraint = min([constraints.height, height]);\n  const widthConstraint = min([constraints.width, width]);\n  const constraintByHeight = heightConstraint * aspectRatio < widthConstraint;\n\n  const [imageWidth, imageHeight] = constraintByHeight\n    ? [heightConstraint * aspectRatio, heightConstraint]\n    : [widthConstraint, widthConstraint / aspectRatio];\n\n  return {\n    imageHeight,\n    imageWidth,\n  };\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { fade, withStyles } from '@material-ui/core/styles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      // Create a \"on paper\" color with sufficient contrast retaining the color\n      backgroundColor: fade(theme.palette.text.primary, theme.palette.type === 'light' ? 0.11 : 0.13),\n      height: '1.2em'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      marginTop: 0,\n      marginBottom: 0,\n      height: 'auto',\n      transformOrigin: '0 60%',\n      transform: 'scale(1, 0.60)',\n      borderRadius: theme.shape.borderRadius,\n      '&:empty:before': {\n        content: '\"\\\\00a0\"'\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"rect\"`. */\n    rect: {},\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the root element if `animation=\"pulse\"`. */\n    pulse: {\n      animation: '$pulse 1.5s ease-in-out 0.5s infinite'\n    },\n    '@keyframes pulse': {\n      '0%': {\n        opacity: 1\n      },\n      '50%': {\n        opacity: 0.4\n      },\n      '100%': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the root element if `animation=\"wave\"`. */\n    wave: {\n      position: 'relative',\n      overflow: 'hidden',\n      '&::after': {\n        animation: '$wave 1.6s linear 0.5s infinite',\n        background: \"linear-gradient(90deg, transparent, \".concat(theme.palette.action.hover, \", transparent)\"),\n        content: '\"\"',\n        position: 'absolute',\n        transform: 'translateX(-100%)',\n        // Avoid flash during server-side hydration\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      }\n    },\n    '@keyframes wave': {\n      '0%': {\n        transform: 'translateX(-100%)'\n      },\n      '60%': {\n        // +0.5s of delay between each loop\n        transform: 'translateX(100%)'\n      },\n      '100%': {\n        transform: 'translateX(100%)'\n      }\n    },\n\n    /* Styles applied when the component is passed children. */\n    withChildren: {\n      '& > *': {\n        visibility: 'hidden'\n      }\n    },\n\n    /* Styles applied when the component is passed children and no width. */\n    fitContent: {\n      maxWidth: 'fit-content'\n    },\n\n    /* Styles applied when the component is passed children and no height. */\n    heightAuto: {\n      height: 'auto'\n    }\n  };\n};\nvar Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(props, ref) {\n  var _props$animation = props.animation,\n      animation = _props$animation === void 0 ? 'pulse' : _props$animation,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      height = props.height,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      width = props.width,\n      other = _objectWithoutProperties(props, [\"animation\", \"classes\", \"className\", \"component\", \"height\", \"variant\", \"width\"]);\n\n  var hasChildren = Boolean(other.children);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: clsx(classes.root, classes[variant], className, hasChildren && [classes.withChildren, !width && classes.fitContent, !height && classes.heightAuto], animation !== false && classes[animation])\n  }, other, {\n    style: _extends({\n      width: width,\n      height: height\n    }, other.style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes = {\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The type of content that will be rendered.\n   */\n  variant: PropTypes.oneOf(['text', 'rect', 'circle']),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSkeleton'\n})(Skeleton);","import React from 'react';\nimport times from 'lodash/times';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst THUMB_HEIGHT = 40;\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'flex',\n  },\n  imageSkeleton: {\n    flexGrow: '1',\n  },\n  thumbsContainer: {\n    overflow: 'hidden',\n  },\n  thumbSkeleton: {\n    margin: '0 5px 10px 5px',\n  },\n});\n\nexport default function GallerySkeleton({ height }) {\n  const classes = useStyles();\n\n  const thumbsCount = Math.ceil(height / THUMB_HEIGHT);\n\n  return (\n    <div className={classes.container}>\n      <Skeleton\n        variant=\"rect\"\n        height={height}\n        className={classes.imageSkeleton}\n      />\n      <div className={classes.thumbsContainer} style={{ height }}>\n        {times(thumbsCount).map(() => (\n          <Skeleton\n            variant=\"rect\"\n            height={60}\n            width={100}\n            className={classes.thumbSkeleton}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport ScrollLock from 'react-scrolllock';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  top: {\n    zIndex: `${theme.zIndex.drawer + 1} !important`,\n  },\n}));\n\nexport default function FullscreenFallback({\n  children,\n  fullscreen,\n  uniqKey,\n  inlineGalleryRef,\n}) {\n  const classes = useStyles();\n  const portalGalleryRef = useRef();\n\n  useEffect(() => {\n    const element = document.createElement('div');\n    element.id = `imageGalleryPortal-${uniqKey}`;\n    document.body.append(element);\n    return () => element.remove();\n  }, []);\n\n  useEffect(\n    () => {\n      if (inlineGalleryRef.current) {\n        inlineGalleryRef.current.setState({\n          isFullscreen: false,\n          modalFullscreen: false,\n        });\n      }\n      if (fullscreen) {\n        portalGalleryRef.current.setState({\n          isFullscreen: true,\n          modalFullscreen: true,\n        });\n      }\n    },\n    [fullscreen],\n  );\n\n  if (!fullscreen) {\n    return null;\n  }\n  return ReactDOM.createPortal(\n    <ScrollLock>\n      <div>\n        {React.cloneElement(children, {\n          ref: portalGalleryRef,\n          additionalClass: classes.top,\n        })}\n      </div>\n    </ScrollLock>,\n    window.document.getElementById(`imageGalleryPortal-${uniqKey}`),\n  );\n}\n","import React, { useState, useMemo, useEffect, useRef } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\nimport cls from 'classnames';\nimport ImageGallery from 'react-image-gallery';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport LazyWithPlaceholder from 'modules/components/LazyWithPlaceholder';\nimport { useLayoutContext } from 'modules/components/LayoutContext';\nimport ZoomableImage from './components/ZoomableImage';\nimport LazyImage from './components/LazyImage';\nimport GallerySkeleton from './components/GallerySkeleton';\nimport FullscreenFallback from './components/FullscreenFallback';\n\nconst FALLBACK_ASPECT_RATIO = 1;\nconst PREFETCH_SLIDES = 1;\nconst START_INDEX = 0;\nconst THUMB_WIDTH_WITHOUT_BORDERS_PX = 92;\nconst FULLSCREEN_ENABLED =\n  document.fullscreenEnabled ||\n  document.mozFullScreenEnabled ||\n  document.documentElement.webkitRequestFullScreen;\n\nconst useStyles = makeStyles({\n  photoContainer: {\n    minHeight: '200px',\n    margin: '24px 0',\n    '& .image-gallery-thumbnails': {\n      overflowY: 'auto',\n      '-ms-overflow-style': 'none' /* Hide scrollbar for IE, Old Edge */,\n      scrollbarWidth: 'none' /* Firefox */,\n      '&::-webkit-scrollbar': {\n        /* Hide scrollbar for Chrome, Safari and Opera */\n        display: 'none',\n      },\n    },\n  },\n  photo: {\n    display: 'block',\n    width: '100%',\n  },\n});\n\nexport default function PhotosGallery({ className, photos }) {\n  const uniqKey = useMemo(() => uuidV4(), []);\n  const classes = useStyles();\n\n  const mobile = useMediaQuery(theme => theme.breakpoints.down('sm'));\n  const touchscreen = window.matchMedia('(any-pointer: coarse)').matches;\n  const [swipeLock, setSwipeLock] = useState(false);\n\n  const { vw, vh } = useLayoutContext();\n  const [fullscreen, setFullscreen] = useState(false);\n  const [aspectRatios, setAspectRatios] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(START_INDEX);\n\n  const constraints = useMemo(\n    () => resolveImageConstraints(fullscreen, { vh, vw }),\n    [fullscreen, vh, vw],\n  );\n\n  useEffect(\n    () => {\n      const thumbnailElement = window.document\n        .querySelector(\n          `[data-tag=\"photos-gallery-thumb-${uniqKey}-${currentIndex}\"]`,\n        )\n        ?.closest('.image-gallery-thumbnail');\n\n      if (thumbnailElement) {\n        thumbnailElement.scrollIntoView({\n          block: 'nearest',\n          behavior: 'smooth',\n        });\n      }\n    },\n    [currentIndex],\n  );\n\n  const actualPhotos = photos.map(\n    (\n      {\n        fullSizePhotoUrl,\n        thumbnailUrl,\n        previewUrl,\n        blurhash,\n        aspectRatio,\n        description,\n      },\n      index,\n    ) => ({\n      original: previewUrl,\n      originalClass: classes.photo,\n      thumbnail: thumbnailUrl,\n      fullscreen: fullSizePhotoUrl,\n      description,\n      blurhash,\n      aspectRatio,\n      index,\n    }),\n  );\n\n  if (!actualPhotos.length) {\n    return null;\n  }\n\n  const showThumbnails = !mobile || fullscreen;\n  const zoomable = !touchscreen || fullscreen;\n\n  const galleryRef = useRef();\n  const imageGalleryNode = (\n    <ImageGallery\n      ref={galleryRef}\n      useBrowserFullscreen={FULLSCREEN_ENABLED}\n      startIndex={START_INDEX}\n      disableSwipe={swipeLock}\n      showIndex={true}\n      showThumbnails={showThumbnails}\n      items={actualPhotos}\n      thumbnailPosition={showThumbnails ? 'right' : undefined}\n      onScreenChange={nextFullscreen => setFullscreen(nextFullscreen)}\n      onBeforeSlide={nextIndex => setCurrentIndex(nextIndex)}\n      disableKeyDown={true}\n      disableThumbnailScroll={true}\n      renderItem={item => (\n        <LazyImage\n          className=\"image-gallery-image\"\n          aspectRatio={\n            aspectRatios[item.index] ||\n            item.aspectRatio?.ratio ||\n            FALLBACK_ASPECT_RATIO\n          }\n          component={\n            zoomable && currentIndex === item.index ? ZoomableImage : 'img'\n          }\n          description={item.description}\n          src={fullscreen ? item.fullscreen : item.original}\n          alt={item.originalAlt}\n          constraints={constraints}\n          title={item.originalTitle}\n          blurhash={item.blurhash}\n          require={Math.abs(currentIndex - item.index) <= PREFETCH_SLIDES}\n          onSwipeLock={setSwipeLock}\n        >\n          {item.description && (\n            <span className=\"image-gallery-description\">\n              {item.description}\n            </span>\n          )}\n        </LazyImage>\n      )}\n      renderThumbInner={item => (\n        <span className=\"image-gallery-thumbnail-inner\">\n          <LazyImage\n            tag={`photos-gallery-thumb-${uniqKey}-${item.index}`}\n            className=\"image-gallery-thumbnail-image\"\n            aspectRatio={\n              aspectRatios[item.index] ||\n              item.aspectRatio ||\n              FALLBACK_ASPECT_RATIO\n            }\n            src={item.thumbnail}\n            width={THUMB_WIDTH_WITHOUT_BORDERS_PX}\n            alt={item.thumbnailAlt}\n            title={item.thumbnailTitle}\n            blurhash={item.blurhash}\n            require={true}\n            onLoad={({ aspectRatio }) =>\n              setAspectRatios(prevRatios => ({\n                ...prevRatios,\n                [item.index]: aspectRatio,\n              }))\n            }\n          />\n        </span>\n      )}\n    />\n  );\n\n  return (\n    <div\n      className={cls(className, classes.photoContainer)}\n      style={{ height: constraints.height }}\n    >\n      <LazyWithPlaceholder\n        offset={1000}\n        placeholder={<GallerySkeleton height={constraints.height} />}\n      >\n        {imageGalleryNode}\n      </LazyWithPlaceholder>\n      {!FULLSCREEN_ENABLED && (\n        <FullscreenFallback\n          fullscreen={fullscreen}\n          uniqKey={uniqKey}\n          inlineGalleryRef={galleryRef}\n        >\n          {imageGalleryNode}\n        </FullscreenFallback>\n      )}\n    </div>\n  );\n}\n\nconst RATIOS = {\n  FULLSCREEN: {\n    HEIGHT: { PERCENT: 100, MAX_PX: Infinity },\n    WIDTH: { PERCENT: 100, MAX_PX: Infinity },\n  },\n  DEFAULT: {\n    HEIGHT: { PERCENT: 50, MAX_PX: 1024 },\n    WIDTH: { PERCENT: 100, MAX_PX: 1024 },\n  },\n};\nfunction resolveImageConstraints(fullscreen, { vh, vw }) {\n  const { HEIGHT, WIDTH } = fullscreen ? RATIOS.FULLSCREEN : RATIOS.DEFAULT;\n  return {\n    height: calc(HEIGHT, vh),\n    width: calc(WIDTH, vw),\n  };\n\n  function calc(CONFIG, unit) {\n    return Math.min(CONFIG.PERCENT * unit, CONFIG.MAX_PX);\n  }\n}\n","import React from 'react';\nimport PhotosGallery from 'modules/components/PhotosGallery';\nimport { findClosestGroupValue } from '../../arrangement/groupping/utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../arrangement/groupping/consts';\n\nexport default function VisitsPhotosGallery({\n  className,\n  visitsGroup,\n  provision,\n}) {\n  const visitPhotos = visitsGroup.visitsList.flatMap(visit =>\n    visit.photos.map(photo => ({\n      ...photo,\n      description: renderDescription(visit, visitsGroup, provision),\n    })),\n  );\n\n  return <PhotosGallery className={className} photos={visitPhotos} />;\n}\n\nfunction renderDescription(visit, visitsGroup, { countriesDict }) {\n  const { locationName, countryId, arrivalYear } = visit;\n\n  let result = '';\n\n  const hasLocationGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS),\n  );\n  const hasCountryGroup =\n    hasLocationGroup ||\n    Boolean(findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES));\n  const hasYearGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS),\n  );\n\n  if (!hasLocationGroup) {\n    result += locationName;\n  }\n  if (!hasCountryGroup) {\n    const { countryName } = countriesDict[countryId] ?? {};\n    if (countryName) {\n      result += `, ${countryName}`;\n    }\n  }\n  if (!hasYearGroup) {\n    result += `/${arrivalYear}`;\n  }\n\n  return result;\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport uniq from 'lodash/uniq';\nimport MUILink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocationsMap, { MARKERS_SCALES } from 'travel/components/LocationsMap';\n\nconst useStyles = makeStyles({\n  container: { fontSize: '16px', lineHeight: '1.5' },\n  visitContainer: { margin: '20px 0' },\n  mapVisibilityToggle: { marginLeft: '8px', cursor: 'pointer' },\n  googleMapContainer: {\n    margin: '12px 0',\n    width: '800px',\n    maxWidth: '100%',\n    height: '400px',\n    maxHeight: '100%',\n  },\n});\n\nexport default function VisitsLocationsMap({\n  className,\n  visitsGroup,\n  provision: { visitsDict, locationsDict, locationsRating },\n  onToggle,\n}) {\n  const classes = useStyles();\n  const [mapVisible, setMapVisible] = useState(false);\n\n  const locationsIds = uniq(\n    visitsGroup.visitsList.map(({ locationId }) => locationId),\n  );\n\n  const frRef = useRef(false);\n  useEffect(\n    () => {\n      if (!frRef.current) {\n        frRef.current = true;\n      } else if (onToggle) {\n        onToggle(mapVisible);\n      }\n    },\n    [mapVisible],\n  );\n\n  return (\n    <div className={className}>\n      <div>\n        <MUILink\n          variant=\"body2\"\n          onClick={() => {\n            setMapVisible(prevMapVisible => !prevMapVisible);\n          }}\n        >\n          {mapVisible ? ' ' : ' '}\n        </MUILink>\n      </div>\n      {mapVisible && (\n        <LocationsMap\n          className={classes.mapContainer}\n          locationsDict={locationsDict}\n          visitsDict={visitsDict}\n          locationsRating={locationsRating}\n          locationsIds={locationsIds}\n          minHeight={300}\n          scaleBy={MARKERS_SCALES.BY_LAST_VISIT}\n          ratingLevel={null}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { Fragment } from 'react';\nimport StatsPanel from '../../statistics/components/StatsPanel';\nimport VisitsPhotosGallery from '../VisitsPhotosGallery';\nimport VisitsLocationsMap from '../VisitsLocationsMap';\n\nfunction VisitGroup({\n  children,\n  classes,\n  config,\n  forwardingProps,\n  isObscure,\n  showMap,\n  showPhotos,\n  provision,\n  urls,\n  visitsGroup,\n  VisitsGroupComponent,\n  onHeightChange,\n}) {\n  return (\n    <Fragment key={visitsGroup.field.value}>\n      <VisitsGroupComponent\n        visitsGroup={visitsGroup}\n        classes={classes}\n        provision={provision}\n        urls={urls}\n        config={config}\n        {...forwardingProps}\n      >\n        <StatsPanel\n          visitsGroup={visitsGroup}\n          provision={provision}\n          isObscure={isObscure}\n          config={config}\n        />\n      </VisitsGroupComponent>\n      {children}\n      {showMap && (\n        <VisitsLocationsMap\n          className={classes.nextLevel}\n          visitsGroup={visitsGroup}\n          provision={provision}\n          onToggle={onHeightChange}\n        />\n      )}\n      {showPhotos && (\n        <VisitsPhotosGallery\n          className={classes.nextLevel}\n          visitsGroup={visitsGroup}\n          provision={provision}\n        />\n      )}\n    </Fragment>\n  );\n}\n\nexport default React.memo(VisitGroup);\n","import React, { useLayoutEffect, useEffect } from 'react';\n\nexport default function useWindowRect() {\n  const [rect, dispatch] = React.useReducer(rectReducer, {});\n  useLayoutEffect(() => {\n    dispatch({\n      rect: {\n        height: window.innerHeight,\n        width: window.innerWidth,\n      },\n    });\n  }, []);\n\n  useEffect(() => {\n    const resizeHandler = () => {\n      dispatch({\n        rect: {\n          height: window.innerHeight,\n          width: window.innerWidth,\n        },\n      });\n    };\n    resizeHandler();\n    window.addEventListener('resize', resizeHandler);\n    return () => {\n      window.removeEventListener('resize', resizeHandler);\n    };\n  }, []);\n\n  return rect;\n}\n\nfunction rectReducer(state, action) {\n  const { rect } = action;\n  if (!state || state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n  return state;\n}\n","const findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    let middle = ((low + high) / 2) | 0;\n    let currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nexport default function calculateRange({ measurements, outerSize, scrollOffset }, prevRange) {\n  const size = measurements.length - 1;\n  const getOffset = index => measurements[index].start;\n\n  let start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  let end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  if (prevRange.start !== start || prevRange.end !== end) {\n    return { start, end };\n  }\n\n  return prevRange;\n}","import React, { useLayoutEffect } from 'react';\nimport useRect from './useRect';\nimport useRange from './useRange';\n\nconst defaultEstimateSize = () => 50;\n\nconst defaultKeyExtractor = index => index;\n\nexport const defaultRangeExtractor = range => {\n  const start = Math.max(range.start - range.overscan, 0);\n  const end = Math.min(range.end + range.overscan, range.size - 1);\n\n  const arr = [];\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\n\nexport function useVirtual({\n  size = 0,\n  estimateSize = defaultEstimateSize,\n  overscan = 1,\n  paddingStart = 0,\n  paddingEnd = 0,\n  parentRef,\n  keyExtractor = defaultKeyExtractor,\n}) {\n  const { height: outerSize } = useRect();\n  const latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: [],\n    outerSize: undefined,\n    totalSize: undefined,\n  });\n\n  latestRef.current.outerSize = outerSize;\n\n  const [measuredCache, setMeasuredCache] = React.useState({});\n  const [updDep, forceUpdate] = React.useReducer(x => x + 1, 0);\n\n  const measure = forceUpdate;\n\n  const pendingMeasuredCacheIndexesRef = React.useRef([]);\n\n  const measurements = React.useMemo(\n    () => {\n      const min =\n        pendingMeasuredCacheIndexesRef.current.length > 0\n          ? Math.min(...pendingMeasuredCacheIndexesRef.current)\n          : 0;\n      pendingMeasuredCacheIndexesRef.current = [];\n\n      const measurements = latestRef.current.measurements.slice(0, min);\n\n      for (let i = min; i < size; i++) {\n        const key = keyExtractor(i);\n        const measuredSize = measuredCache[key];\n        const start = measurements[i - 1]\n          ? measurements[i - 1].end\n          : paddingStart;\n        const size =\n          typeof measuredSize === 'number' ? measuredSize : estimateSize(i);\n        const end = start + size;\n        measurements[i] = { index: i, start, size, end, key };\n      }\n      return measurements;\n    },\n    [estimateSize, measuredCache, paddingStart, size, keyExtractor],\n  );\n\n  const totalSize = (measurements[size - 1]?.end || 0) + paddingEnd;\n\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n\n  const range = useRange({\n    measurements,\n    outerSize,\n    latestRef,\n    parentRef,\n  });\n\n  const virtualItems = React.useMemo(\n    () => {\n      const indexes = defaultRangeExtractor({\n        start: range.start,\n        end: range.end,\n        overscan,\n        size: measurements.length,\n      });\n\n      const virtualItems = [];\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        const i = indexes[k];\n        const measurement = measurements[i];\n\n        const item = {\n          ...measurement,\n          measureRef: el => {\n            if (el) {\n              const measuredSize = el.offsetHeight;\n\n              if (measuredSize !== item.size) {\n                const { scrollOffset } = latestRef.current;\n\n                if (item.start < scrollOffset) {\n                  defaultScrollToFn(scrollOffset + (measuredSize - item.size));\n                }\n\n                pendingMeasuredCacheIndexesRef.current.push(i);\n\n                setMeasuredCache(old => ({\n                  ...old,\n                  [item.key]: measuredSize,\n                }));\n              }\n            }\n          },\n        };\n\n        virtualItems.push(item);\n      }\n\n      return virtualItems;\n    },\n    [measurements, overscan, range.end, range.start, updDep],\n  );\n\n  const mountedRef = React.useRef();\n\n  useLayoutEffect(\n    () => {\n      if (mountedRef.current) {\n        if (estimateSize) setMeasuredCache({});\n      }\n      mountedRef.current = true;\n    },\n    [estimateSize],\n  );\n\n  const scrollToOffset = React.useCallback(\n    (toOffset, { align = 'start' } = {}) => {\n      const { scrollOffset, outerSize } = latestRef.current;\n\n      if (align === 'auto') {\n        if (toOffset <= scrollOffset) {\n          align = 'start';\n        } else if (toOffset >= scrollOffset + outerSize) {\n          align = 'end';\n        } else {\n          align = 'start';\n        }\n      }\n\n      if (align === 'start') {\n        defaultScrollToFn(toOffset);\n      } else if (align === 'end') {\n        defaultScrollToFn(toOffset - outerSize);\n      } else if (align === 'center') {\n        defaultScrollToFn(toOffset - outerSize / 2);\n      }\n    },\n    [],\n  );\n\n  const tryScrollToIndex = React.useCallback(\n    (index, { align = 'auto', ...rest } = {}) => {\n      const { measurements, scrollOffset, outerSize } = latestRef.current;\n\n      const measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n      if (!measurement) {\n        return;\n      }\n\n      if (align === 'auto') {\n        if (measurement.end >= scrollOffset + outerSize) {\n          align = 'end';\n        } else if (measurement.start <= scrollOffset) {\n          align = 'start';\n        } else {\n          return;\n        }\n      }\n\n      const toOffset =\n        align === 'center'\n          ? measurement.start + measurement.size / 2\n          : align === 'end'\n            ? measurement.end\n            : measurement.start;\n\n      scrollToOffset(toOffset, { align, ...rest });\n    },\n    [scrollToOffset, size],\n  );\n\n  const scrollToIndex = React.useCallback(\n    (...args) => {\n      // We do a double request here because of\n      // dynamic sizes which can cause offset shift\n      // and end up in the wrong spot. Unfortunately,\n      // we can't know about those dynamic sizes until\n      // we try and render them. So double down!\n      tryScrollToIndex(...args);\n      requestAnimationFrame(() => {\n        tryScrollToIndex(...args);\n      });\n    },\n    [tryScrollToIndex],\n  );\n\n  return {\n    virtualItems,\n    totalSize,\n    scrollToOffset,\n    scrollToIndex,\n    measure,\n  };\n}\n\nfunction defaultScrollToFn(offset) {\n  window.scrollY = offset;\n}\n","import React, { useLayoutEffect } from 'react';\nimport calculateRange from 'modules/utilities/virtual/calculateRange';\n\nexport default function useRange({\n  measurements,\n  outerSize,\n  latestRef,\n  parentRef,\n}) {\n  const [range, setRange] = React.useState({ start: 0, end: 0 });\n\n  const rangeTimeoutIdRef = React.useRef(null);\n\n  const cancelAsyncRange = React.useCallback(() => {\n    if (rangeTimeoutIdRef.current !== null) {\n      clearTimeout(rangeTimeoutIdRef.current);\n      rangeTimeoutIdRef.current = null;\n    }\n  }, []);\n\n  useLayoutEffect(\n    () => {\n      rangeTimeoutIdRef.current = setTimeout(() => {\n        setRange(prevRange => calculateRange(latestRef.current, prevRange));\n      });\n      return () => cancelAsyncRange();\n    },\n    [measurements, outerSize, cancelAsyncRange],\n  );\n\n  useLayoutEffect(\n    () => {\n      const onScroll = () => {\n        latestRef.current.scrollOffset = parentRef.current\n          ? scrollOffsetFn(parentRef)\n          : 0;\n        cancelAsyncRange();\n        setRange(prevRange => calculateRange(latestRef.current, prevRange));\n      };\n\n      // Determine initially visible range\n      onScroll();\n\n      window.addEventListener('scroll', onScroll, {\n        capture: false,\n        passive: true,\n      });\n\n      return () => {\n        window.removeEventListener('scroll', onScroll);\n      };\n    },\n    [cancelAsyncRange],\n  );\n\n  return range;\n}\n\nfunction scrollOffsetFn(parentRef) {\n  const bounds = parentRef.current.getBoundingClientRect();\n  return bounds.top * -1;\n}\n","import React, { useRef, forwardRef, useImperativeHandle } from 'react';\nimport { useVirtual } from 'modules/utilities/virtual';\n\nexport default forwardRef(function Virtualized(\n  { children, items: originalItems, overscan },\n  ref,\n) {\n  const parentRef = useRef();\n\n  const { virtualItems, totalSize, measure } = useVirtual({\n    parentRef,\n    size: originalItems.length,\n    estimateSize,\n    overscan,\n  });\n\n  useImperativeHandle(ref, () => ({\n    measure,\n  }));\n\n  return (\n    <div ref={parentRef} style={{ height: totalSize }}>\n      <div style={{ height: totalSize, position: 'relative' }}>\n        {virtualItems.map(virtualItem => (\n          <div\n            key={virtualItem.index}\n            ref={virtualItem.measureRef}\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              transform: `translateY(${virtualItem.start}px)`,\n            }}\n          >\n            {children({\n              item: originalItems[virtualItem.index],\n              virtualItem,\n              index: virtualItem.index,\n              measure,\n            })}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n});\n\nfunction estimateSize() {\n  return 500;\n}\n","import React, { forwardRef, useImperativeHandle } from 'react';\n\nexport default forwardRef(function BypassVirtualized({ children, items }, ref) {\n  useImperativeHandle(ref, () => ({\n    measure: noop,\n  }));\n\n  return (\n    <>\n      {items.map((item, index) =>\n        children({\n          item,\n          virtualItem: null,\n          index,\n          measure: noop,\n        }),\n      )}\n    </>\n  );\n});\n\nfunction noop() {\n  return null;\n}\n","import React, { forwardRef } from 'react';\nimport Virtualized from './components/Virtualized';\nimport BypassVirtualized from './components/BypassVirtualized';\n\nexport default forwardRef(function Virtualizer(\n  { children, items, bypass, ...forwardingProps },\n  ref,\n) {\n  const Component = bypass ? BypassVirtualized : Virtualized;\n  return (\n    <Component ref={ref} items={items} {...forwardingProps}>\n      {children}\n    </Component>\n  );\n});\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\n\nexport default function ExpandableActions({\n  className,\n  onExpand,\n  onExpandAll,\n  diffCount,\n}) {\n  return (\n    <Typography className={className} variant=\"body2\">\n      <MUILink onClick={onExpand}>{`  ${diffCount}`}</MUILink>\n      {Boolean(onExpandAll) && (\n        <>\n          {', '}\n          <MUILink onClick={onExpandAll}> </MUILink>\n        </>\n      )}\n    </Typography>\n  );\n}\n","import React, { useState } from 'react';\nimport ExpandableActions from './components/ExpandableActions';\n\nconst DEFAULT_ALWAYS_EXPANDED_ITEMS_COUNT = 10;\nconst DEFAULT_COLLAPSIBLE_THRESHOLD = 2;\n\nexport default function Expandable({\n  classes,\n  collapsible,\n  children,\n  items: originalItems,\n  onExpand,\n  onExpandAll,\n  alwaysExpandedItemsCount,\n  collapsibleThreshold,\n}) {\n  const [collapsed, setCollapsed] = useState(true);\n\n  const actualCollapsible =\n    collapsible &&\n    originalItems.length > alwaysExpandedItemsCount + collapsibleThreshold;\n\n  const actualCollapsed = actualCollapsible && collapsed;\n\n  const actualItems = actualCollapsed\n    ? originalItems.slice(0, alwaysExpandedItemsCount)\n    : originalItems;\n\n  return (\n    <>\n      {children({ items: actualItems })}\n      {actualCollapsed && (\n        <ExpandableActions\n          className={classes.actions}\n          diffCount={originalItems.length - actualItems.length}\n          onExpand={event => {\n            if (onExpand) {\n              onExpand(event);\n            }\n            setCollapsed(false);\n          }}\n          onExpandAll={onExpandAll}\n        />\n      )}\n    </>\n  );\n}\n\nExpandable.defaultProps = {\n  alwaysExpandedItemsCount: DEFAULT_ALWAYS_EXPANDED_ITEMS_COUNT,\n  collapsibleThreshold: DEFAULT_COLLAPSIBLE_THRESHOLD,\n};\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\nimport cls from 'classnames';\nimport clamp from 'lodash/clamp';\nimport {\n  groupVisitsBy,\n  PLAIN_GROUPS,\n  PLAIN_GROUPS_CONFIG,\n} from './arrangement/groupping';\nimport { calcStats } from './statistics';\nimport { sortVisitsBy } from './arrangement/sorting';\nimport VisitGroup from './components/VisitGroup';\nimport Virtualizer from './components/Virtualizer';\nimport Expandable from './components/Expandable';\n\nexport default function renderRecursive({\n  classes,\n  children,\n  provision,\n  urls,\n  config,\n  visitsList,\n  groupsOrder,\n  sortingOrder,\n  isObscure,\n  adaptHeadersSize,\n  mapSectionLevel,\n  photosSectionLevel,\n  forwardingProps,\n  virtualize,\n}) {\n  const virtualizerRef = useRef();\n  const [collapsible, setCollapsible] = useState(true);\n  const disableCollapsible = useCallback(() => setCollapsible(false), []);\n  useEffect(() => virtualizerRef.current?.measure(), [collapsible]);\n\n  // if virtualize is true, then need to virtualize, so not yet virtualized\n  let virtualized = !virtualize;\n\n  return renderRecursiveInternal(\n    { visitsList, parent: null, field: null },\n    groupsOrder,\n  );\n\n  function renderRecursiveInternal(parentVisitsGroup, groupsOrderInternal) {\n    const [plainGroup, ...restGroupsOrder] = groupsOrderInternal;\n    if (!plainGroup) {\n      return null;\n    }\n    const { component: VisitsGroupComponent } = PLAIN_GROUPS_CONFIG[plainGroup];\n    const { visitsList: visitsListInternal } = parentVisitsGroup;\n\n    const nestingLevel = lookupLevel(parentVisitsGroup);\n    const expectedMaxLevel = nestingLevel + groupsOrderInternal.length;\n    const actualAdaptHeadersSize = Array.isArray(adaptHeadersSize)\n      ? adaptHeadersSize[nestingLevel]\n      : adaptHeadersSize;\n    const sectionLevel = actualAdaptHeadersSize\n      ? resolveSectionLevel(nestingLevel, expectedMaxLevel)\n      : nestingLevel;\n\n    const visitsGroups = groupVisitsBy(visitsListInternal, plainGroup).map(\n      visitsGroup => {\n        const enhancedVisitsGroup = {\n          ...visitsGroup,\n          plainGroup,\n          parent: parentVisitsGroup,\n        };\n        enhancedVisitsGroup.stats = calcStats(enhancedVisitsGroup, provision);\n        return enhancedVisitsGroup;\n      },\n    );\n\n    const sortedVisitsGroups = sortVisitsBy(\n      visitsGroups,\n      sortingOrder,\n      plainGroup,\n      provision,\n    );\n\n    const bypassVirtualization = virtualized;\n    if (!virtualized) {\n      virtualized = true; // only apply for the top level list\n    }\n    return (\n      <>\n        <Expandable\n          classes={{\n            actions: cls(classes.link, classes[`level${nestingLevel}`]),\n          }}\n          collapsible={collapsible && plainGroup === PLAIN_GROUPS.LOCATIONS}\n          items={sortedVisitsGroups}\n          onExpand={virtualizerRef.current?.measure}\n          onExpandAll={disableCollapsible}\n        >\n          {({ items: actualVisitsGroups }) => (\n            <Virtualizer\n              items={actualVisitsGroups}\n              bypass={bypassVirtualization}\n              ref={bypassVirtualization ? undefined : virtualizerRef}\n              overscan={3}\n            >\n              {({ item: visitsGroup, index }) => (\n                <VisitGroup\n                  key={toFieldSignature(visitsGroup.field)}\n                  classes={resolveVisitsGroupClasses(classes, {\n                    nestingLevel,\n                    sectionLevel,\n                    isFirstChild: index === 0,\n                  })}\n                  visitsGroup={visitsGroup}\n                  VisitsGroupComponent={VisitsGroupComponent}\n                  config={config}\n                  isObscure={isObscure}\n                  provision={provision}\n                  urls={urls}\n                  forwardingProps={forwardingProps}\n                  showMap={nestingLevel === mapSectionLevel}\n                  showPhotos={nestingLevel === photosSectionLevel}\n                  onHeightChange={virtualizerRef.current?.measure}\n                >\n                  {children?.({\n                    level: nestingLevel,\n                    className: classes[`level${nestingLevel + 1}`],\n                    index,\n                    visitsGroup,\n                  })}\n                  {renderRecursiveInternal(visitsGroup, restGroupsOrder)}\n                </VisitGroup>\n              )}\n            </Virtualizer>\n          )}\n        </Expandable>\n      </>\n    );\n  }\n}\n\nfunction lookupLevel(visitsGroup) {\n  let currentVisitsGroup = visitsGroup;\n  let level = 0;\n  while (currentVisitsGroup) {\n    level += 1;\n    currentVisitsGroup = currentVisitsGroup.parent;\n  }\n  return Math.max(0, level - 1);\n}\n\nconst MAX_LEVEL = 3;\nfunction resolveSectionLevel(nestingLevel, expectedMaxLevel) {\n  return clamp(MAX_LEVEL - expectedMaxLevel + nestingLevel, 0, MAX_LEVEL - 1);\n}\n\nfunction toFieldSignature(field) {\n  const { name, value } = field ?? {};\n  return `${name}:${value}`;\n}\n\nfunction resolveVisitsGroupClasses(\n  classes,\n  { nestingLevel, sectionLevel, isFirstChild },\n) {\n  return {\n    level: classes[`level${nestingLevel}`],\n    nextLevel: classes[`level${nestingLevel + 1}`],\n    container: cls(\n      classes[`level${nestingLevel}`],\n      classes[`container${sectionLevel}`],\n      { [classes.noMarginTop]: isFirstChild && nestingLevel === 0 },\n    ),\n    header: classes[`header${sectionLevel}`],\n  };\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { switchFilteringFn } from './arrangement/filtering';\nimport renderGroupsRecursive from './renderGroupsRecursive';\n\nconst useStyles = makeStyles(theme => ({\n  noMarginTop: {},\n  link: {\n    cursor: 'pointer',\n  },\n  header0: {\n    ...theme.typography.h2,\n    wordBreak: 'break-word',\n  },\n  container0: {\n    display: 'flex',\n    alignItems: 'self-start',\n    '&:not($noMarginTop)': {\n      marginTop: '64px',\n    },\n  },\n  level0: {},\n\n  header1: {\n    ...theme.typography.h4,\n    wordBreak: 'break-word',\n  },\n  container1: {\n    display: 'flex',\n    alignItems: 'self-start',\n    marginTop: '18px',\n    marginBottom: '6px',\n  },\n  level1: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: '32px',\n    },\n  },\n\n  header2: {\n    ...theme.typography.body1,\n    wordBreak: 'break-word',\n  },\n  container2: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  level2: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: '96px',\n    },\n  },\n}));\n\nexport default function VisitsArranger({\n  visitsList,\n  groupsOrder,\n  sortingOrder,\n  filteringOption,\n  provision,\n  urls,\n  config,\n  adaptHeadersSize,\n  mapSectionLevel,\n  photosSectionLevel,\n  children,\n  virtualize,\n  ...forwardingProps\n}) {\n  const classes = useStyles();\n\n  const actualVisitsList = visitsList.filter(\n    switchFilteringFn(provision, filteringOption),\n  );\n\n  return renderGroupsRecursive({\n    classes,\n    children,\n    provision,\n    urls,\n    config,\n    visitsList: actualVisitsList,\n    groupsOrder,\n    sortingOrder,\n    adaptHeadersSize,\n    mapSectionLevel,\n    photosSectionLevel,\n    virtualize,\n    forwardingProps,\n  });\n}\n\nVisitsArranger.defaultProps = {\n  mapSectionLevel: 0,\n  photosSectionLevel: 0,\n};\n","import VisitsArranger from './VisitsArranger';\nexport * from './arrangement/groupping';\nexport * from './arrangement/sorting';\nexport * from './arrangement/filtering';\nexport * from './statistics';\n\nexport default VisitsArranger;\n","import { useSelector } from 'react-redux';\nimport { useProvision, useRequest, selectDict } from 'core/connection';\n\nexport default function useLocations({\n  domain,\n  locationsIds: requiredLocationIds,\n}) {\n  const locationsDict = useSelector(\n    state => selectDict(state, 'locations') || {},\n  );\n\n  const missingLocationsIds = requiredLocationIds.filter(\n    locationId => !locationsDict[locationId],\n  );\n\n  return useProvision({\n    domain,\n    isProvision: true,\n    modelName: 'locations',\n    observe: requiredLocationIds,\n    condition: Boolean(missingLocationsIds.length),\n    query: {\n      filter: { id: { comparator: 'in', value: missingLocationsIds } },\n      navigation: { isDisabled: true },\n    },\n  });\n}\n\nexport function useLocationRatingRequest({ domain }) {\n  const [submitLocationRating, provision] = useRequest({\n    domain,\n    modelName: 'locations',\n    method: 'POST',\n  });\n\n  return {\n    ...provision,\n    submitLocationRating,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, useRequest, selectDict } from 'core/connection';\n\nexport default function useVisit({ userAlias, visitId: requiredVisitId }) {\n  const { visitsDict } = useSelector(state => ({\n    visitsDict: selectDict(state, 'visits') || {},\n  }));\n  const visit = visitsDict[requiredVisitId];\n\n  return {\n    visit,\n    ...useProvision({\n      domain: `travel.visit${requiredVisitId}-${userAlias}`,\n      isProvision: true,\n      modelName: 'visits',\n      observe: requiredVisitId,\n      condition: !visit,\n      query: {\n        userAlias,\n        filter: { visit_id: { comparator: '=', value: requiredVisitId } },\n        navigation: { isDisabled: true },\n      },\n    }),\n  };\n}\n\nexport function useAddVisitPhotoRequest({ domain }) {\n  const [submitVisitPhoto, provision] = useRequest({\n    domain,\n    modelName: 'visits', // todo: actually this is assets model, not visits. Moreover this is photos model\n    method: 'POST',\n    contentType: 'multipart/form-data',\n  });\n\n  return {\n    ...provision,\n    submitVisitPhoto,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, selectItem } from 'core/connection';\n\nexport default function useUser({ domain, userAlias }) {\n  const user = useSelector(state => selectItem(state, 'users', userAlias));\n  const provision = useProvision({\n    domain,\n    applicableSchemaName: 'item',\n    isProvision: true,\n    modelName: 'users',\n    observe: userAlias,\n    condition: Boolean(userAlias),\n    query: {\n      id: userAlias,\n    },\n  });\n  return { ...provision, user };\n}\n","import { useMemo } from 'react';\nimport { usePaths } from 'modules/packages';\n\nexport default function useVisitsUrls({ editable, userAlias, section }) {\n  const { travel: travelPaths } = usePaths();\n\n  return useMemo(\n    () => ({\n      hyperlinks: () => {},\n      locationsUrl: travelPaths.locations.toUrl({ userAlias, section }),\n      tripCreateUrl: editable\n        ? travelPaths.tripCreate.toUrl({ userAlias })\n        : null,\n      resolveLocationUrl: ({ locationId }) =>\n        travelPaths.location.toUrl({\n          userAlias,\n          section,\n          strLocationId: String(locationId),\n        }),\n      resolveCountryUrl: ({ countryId }) =>\n        travelPaths.country.toUrl({\n          userAlias,\n          section,\n          strCountryId: String(countryId),\n        }),\n      resolveYearUrl: ({ year }) =>\n        year\n          ? travelPaths.year.toUrl({\n              userAlias,\n              section,\n              strYear: String(year),\n            })\n          : null,\n      resolveTripEditUrl: ({ tripId }) =>\n        editable\n          ? travelPaths.tripEdit.toUrl({\n              strTripId: String(tripId),\n              userAlias,\n            })\n          : null,\n      resolveTripUrl: ({ tripId }) =>\n        travelPaths.trip.toUrl({\n          strTripId: String(tripId),\n          userAlias,\n        }),\n      resolveVisitUrl: ({ visitId }) =>\n        travelPaths.visit.toUrl({\n          userAlias,\n          section,\n          strVisitId: String(visitId),\n        }),\n    }),\n    [editable, travelPaths],\n  );\n}\n","import React from 'react';\nimport BikeIcon from '@material-ui/icons/DirectionsBike';\nimport BoatIcon from '@material-ui/icons/DirectionsBoat';\nimport BusIcon from '@material-ui/icons/DirectionsBus';\nimport CarIcon from '@material-ui/icons/DirectionsCar';\nimport CustomTransportIcon from '@material-ui/icons/Commute';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\nimport TerrainIcon from '@material-ui/icons/Terrain';\nimport TrainIcon from '@material-ui/icons/Train';\nimport TruckIcon from '@material-ui/icons/LocalShipping';\nimport VanIcon from '@material-ui/icons/AirportShuttle';\nimport WalkIcon from '@material-ui/icons/DirectionsWalk';\nimport TramIcon from '@material-ui/icons/Tram';\nimport LocalTaxiIcon from '@material-ui/icons/LocalTaxi';\nimport SubwayIcon from '@material-ui/icons/Subway';\nimport SeatIcon from '@material-ui/icons/AirlineSeatReclineNormal';\nimport UnknownRideIcon from '@material-ui/icons/NotListedLocation';\nimport { VEHICLE_TYPES } from 'travel/models/rides/consts';\n\nexport default function RideIcon({ ride: { vehicleType }, className }) {\n  const IconComponent = resolveRideIconComponent(vehicleType);\n  return <IconComponent className={className} />;\n}\n\nfunction resolveRideIconComponent(vehicleType) {\n  switch (vehicleType) {\n    case VEHICLE_TYPES.CAR:\n      return CarIcon;\n    case VEHICLE_TYPES.TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.AIRCRAFT:\n      return FlightIcon;\n    case VEHICLE_TYPES.BUS:\n    case VEHICLE_TYPES.TROLLEY:\n    case VEHICLE_TYPES.CITY_BUS:\n      return BusIcon;\n    case VEHICLE_TYPES.MOTORHOME:\n    case VEHICLE_TYPES.JITNEY:\n      return VanIcon;\n    case VEHICLE_TYPES.LOCAL_TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.FERRY:\n      return BoatIcon;\n    case VEHICLE_TYPES.BIKE:\n      return BikeIcon;\n    case VEHICLE_TYPES.BY_FEET:\n      return WalkIcon;\n    case VEHICLE_TYPES.MOTORBIKE:\n      return MotorcycleIcon;\n    case VEHICLE_TYPES.TRUCK:\n      return TruckIcon;\n    case VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:\n      return TerrainIcon;\n    case VEHICLE_TYPES.TRAM:\n      return TramIcon;\n    case VEHICLE_TYPES.TAXI:\n      return LocalTaxiIcon;\n    case VEHICLE_TYPES.SUBWAY:\n      return SubwayIcon;\n    case VEHICLE_TYPES.PUBLIC_TRANSPORT:\n      return SeatIcon;\n    case VEHICLE_TYPES.ROPEWAY:\n    case VEHICLE_TYPES.FUNICULAR:\n      return CustomTransportIcon;\n    default:\n      return UnknownRideIcon;\n  }\n}\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pipe = exports.listenerOptions = undefined;\nexports.preventTouchMove = preventTouchMove;\nexports.allowTouchMove = allowTouchMove;\nexports.preventInertiaScroll = preventInertiaScroll;\nexports.isTouchDevice = isTouchDevice;\nexports.camelToKebab = camelToKebab;\nexports.parse = parse;\nexports.getPadding = getPadding;\nexports.getWindowHeight = getWindowHeight;\nexports.getDocumentHeight = getDocumentHeight;\nexports.makeStyleTag = makeStyleTag;\nexports.injectStyles = injectStyles;\nexports.insertStyleTag = insertStyleTag;\n\nvar _exenv = require('exenv');\n\nvar listenerOptions = exports.listenerOptions = {\n  capture: false,\n  passive: false\n};\n\n// ==============================\n// Touch Helpers\n// ==============================\n\nfunction preventTouchMove(e) {\n  e.preventDefault();\n\n  return false;\n}\n\nfunction allowTouchMove(e) {\n  var target = e.currentTarget;\n\n  if (target.scrollHeight > target.clientHeight) {\n    e.stopPropagation();\n    return true;\n  }\n\n  e.preventDefault();\n  return false;\n}\n\nfunction preventInertiaScroll() {\n  var top = this.scrollTop;\n  var totalScroll = this.scrollHeight;\n  var currentScroll = top + this.offsetHeight;\n\n  if (top === 0) {\n    this.scrollTop = 1;\n  } else if (currentScroll === totalScroll) {\n    this.scrollTop = top - 1;\n  }\n}\n\n// `ontouchstart` check works on most browsers\n// `maxTouchPoints` works on IE10/11 and Surface\nfunction isTouchDevice() {\n  if (!_exenv.canUseDOM) return false;\n  return 'ontouchstart' in window || navigator.maxTouchPoints;\n}\n\n// ==============================\n// Misc.\n// ==============================\n\nfunction camelToKebab(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\nfunction parse(val) {\n  return isNaN(val) ? val : val + 'px';\n}\n\n// Take a list of functions and return a function that applies the list of\n// functions from left to right\n\nvar pipeFns = function pipeFns(a, b) {\n  return function () {\n    return b(a.apply(undefined, arguments));\n  };\n};\nvar pipe = exports.pipe = function pipe() {\n  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return fns.reduce(pipeFns);\n};\n\n// ==============================\n// Document Helpers\n// ==============================\n\nfunction getPadding() {\n  if (!_exenv.canUseDOM) return 0;\n\n  var paddingRight = parseInt(window.getComputedStyle(document.body).paddingRight, 10);\n  var scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n\n  return paddingRight + scrollbarWidth;\n}\n\nfunction getWindowHeight() {\n  var multiplier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n  if (_exenv.canUseDOM) {\n    return window.innerHeight * multiplier;\n  }\n}\n\nfunction getDocumentHeight() {\n  if (_exenv.canUseDOM) {\n    return document.body.clientHeight;\n  }\n}\n\n// ==============================\n// Style Sheets\n// ==============================\n\nfunction makeStyleTag() {\n  if (!_exenv.canUseDOM) return;\n\n  var tag = document.createElement('style');\n  tag.type = 'text/css';\n  tag.setAttribute('data-react-scrolllock', '');\n\n  return tag;\n}\nfunction injectStyles(tag, css) {\n  if (!_exenv.canUseDOM) return;\n\n  if (tag.styleSheet) {\n    tag.styleSheet.cssText = css;\n  } else {\n    tag.appendChild(document.createTextNode(css));\n  }\n}\nfunction insertStyleTag(tag) {\n  if (!_exenv.canUseDOM) return;\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n\n  head.appendChild(tag);\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HichHikingIcon from '@material-ui/icons/ThumbUp';\nimport { rideDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport { RIDE_TYPES } from 'travel/models/rides/consts';\nimport RideIcon from 'travel/components/RideIcon';\n\nconst useStyles = makeStyles({\n  icon: { color: 'gray', fontSize: 16, height: 16 },\n  absoluteIcon: {\n    // todo fast decision, need refactor\n    color: 'gray',\n    fontSize: 16,\n    height: 16,\n    position: 'absolute',\n  },\n  detail: { color: 'gray', fontSize: 12 },\n});\n\nexport default function RideInfo({\n  ride,\n  ride: { rideType } = {},\n  className,\n  isLong,\n}) {\n  const classes = useStyles();\n\n  if (!ride) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <RideIcon ride={ride} className={classes.icon} />\n      {rideType === RIDE_TYPES.HITCH_HIKING && (\n        <HichHikingIcon className={classes.absoluteIcon} />\n      )}\n      {isLong && rideDateTimePeriodToString(ride)}\n    </div>\n  );\n}\n","import resolveLocationFirstAndLastVisitDateTime from './resolveLocationFirstAndLastVisitDateTime';\n\nexport default function adaptMarkerData({\n  locationsIds,\n  locationsDict,\n  visitsDict,\n  locationsRating,\n}) {\n  return locationsIds.map(locationId => {\n    const location = locationsDict[locationId];\n    if (!location) {\n      return null;\n    }\n    const { lon, lat, locationName, visitsIds } = location;\n    const {\n      firstVisitDateTime,\n      lastVisitDateTime,\n    } = resolveLocationFirstAndLastVisitDateTime(visitsIds ?? [], visitsDict);\n\n    return {\n      locationName,\n      lat,\n      lon,\n      firstVisitDateTime,\n      lastVisitDateTime,\n      locationRating: locationsRating[locationId],\n      visitsCount: location.visitsIds?.length,\n    };\n  });\n}\n","import min from 'lodash/min';\nimport max from 'lodash/max';\n\nexport default function resolveLocationFirstAndLastVisitDateTime(\n  visitsIds,\n  visitsDict,\n) {\n  return visitsIds.reduce(\n    (accumulator, visitId) => {\n      const visit = visitsDict[visitId];\n      if (visit) {\n        const { arrivalDateTime, departureDateTime } = visit;\n        accumulator.firstVisitDateTime = min([\n          accumulator.firstVisitDateTime,\n          arrivalDateTime,\n        ]);\n        accumulator.lastVisitDateTime = max([\n          accumulator.lastVisitDateTime,\n          departureDateTime,\n        ]);\n      }\n      return accumulator;\n    },\n    { firstVisitDateTime: null, lastVisitDateTime: null },\n  );\n}\n","export const KEY_MARKERS_SCALE_BY = 'scale';\n\nexport const MARKERS_SCALES = {\n  BY_FIRST_VISIT: 'fv',\n  BY_LAST_VISIT: 'lv',\n  BY_VISITS_COUNT: 'vc',\n  BY_RATING: 'r',\n};\n\nexport const MARKERS_SCALE_DEFAULT = MARKERS_SCALES.BY_LAST_VISIT;\n\nexport const MARKERS_SCALE_IMAGES_BASE_PATH =\n  'https://res.cloudinary.com/dc2eke0gj/image/upload/markers/';\n\nexport const MARKERS_SCALE_BY_TIME_FILENAMES = [\n  'step_by_time_1_zjtrlw.png',\n  'step_by_time_2_tvotvg.png',\n  'step_by_time_3_ylj1vi.png',\n  'step_by_time_4_uovfrs.png',\n  'step_by_time_5_s4jq0u.png',\n  'step_by_time_6_lmihnf.png',\n];\n\nexport const MARKERS_SCALE_BY_RATING_FILENAMES = [\n  'step_by_rating_1_id2qgb.png',\n  'step_by_rating_2_iiqvik.png',\n  'step_by_rating_3_x2gzsd.png',\n  'step_by_rating_4_cbqdcn.png',\n  'step_by_rating_5_viyhls.png',\n  'step_by_rating_6_zzfgki.png',\n  'step_by_rating_7_pjjhhq.png',\n  'step_by_rating_8_vgetsd.png',\n  'step_by_rating_9_t6tenz.png',\n  'step_by_rating_10_yjywr0.png',\n];\n\nexport const MARKERS_SCALE_BY_VISITS_FILENAMES = [\n  'step_by_visits_1_zv3tba.png',\n  'step_by_visits_2_qthjqa.png',\n  'step_by_visits_3_xcjyla.png',\n  'step_by_visits_4_kwdwka.png',\n  'step_by_visits_5_xnnipa.png',\n];\n\nexport const MARKERS_SCALE_BY_SOURCES = {\n  [MARKERS_SCALES.BY_FIRST_VISIT]: MARKERS_SCALE_BY_TIME_FILENAMES,\n  [MARKERS_SCALES.BY_LAST_VISIT]: MARKERS_SCALE_BY_TIME_FILENAMES,\n  [MARKERS_SCALES.BY_VISITS_COUNT]: MARKERS_SCALE_BY_VISITS_FILENAMES,\n  [MARKERS_SCALES.BY_RATING]: MARKERS_SCALE_BY_RATING_FILENAMES,\n};\n\nexport const MARKERS_RATING_LEVELS = {\n  ALL: 'all',\n  WANT_COME_BACK: 'good',\n  LOVE_THIS_PLACE: 'best',\n};\n\nexport const KEY_MARKERS_RATING_LEVEL = 'rating';\n\nexport const MARKERS_RATING_LEVEL_DEFAULT = MARKERS_RATING_LEVELS.ALL;\n","import min from 'lodash/min';\nimport max from 'lodash/max';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\nimport { MARKERS_SCALES } from '../consts';\n\nexport default function makeScaleUtils(scaleBy) {\n  switch (scaleBy) {\n    case MARKERS_SCALES.BY_VISITS_COUNT:\n      return {\n        resolveStep: stepByVisitsCount,\n      };\n    case MARKERS_SCALES.BY_RATING:\n      return {\n        resolveStep: stepByRating,\n      };\n    case MARKERS_SCALES.BY_LAST_VISIT:\n      return makeScaleByDateTimeUtils('lastVisitDateTime');\n    case MARKERS_SCALES.BY_FIRST_VISIT:\n      return makeScaleByDateTimeUtils('firstVisitDateTime');\n    default:\n      return {\n        resolveStep: () => 1,\n      };\n  }\n}\n\nfunction stepByVisitsCount({ visitsCount }) {\n  switch (true) {\n    case visitsCount > 10:\n      return 5;\n    case visitsCount > 5:\n      return 4;\n    case visitsCount > 2:\n      return 3;\n    case visitsCount > 1:\n      return 2;\n    default:\n      return 1;\n  }\n}\n\nfunction stepByRating({ locationRating }) {\n  switch (locationRating) {\n    case LOCATION_RATING.PLACE_TO_LIVE:\n      return 1;\n    case LOCATION_RATING.FEW_PER_YEAR:\n    case LOCATION_RATING.ONCE_PER_YEAR:\n      return 3;\n    case LOCATION_RATING.ONCE_PER_TWO_YEARS:\n    case LOCATION_RATING.ONCE_PER_FIVE_YEARS:\n      return 4;\n    case LOCATION_RATING.ONCE_PER_DECADE:\n    case LOCATION_RATING.TWICE_PER_LIVE:\n      return 7;\n    case LOCATION_RATING.ONCE_PER_LIVE:\n      return 9;\n    case LOCATION_RATING.NEVER:\n      return 10;\n    default:\n      return 6;\n  }\n}\n\nconst stepsByDateTimeCount = 6;\nfunction makeScaleByDateTimeUtils(field) {\n  return {\n    resolveStep: function stepByDateTime(\n      { [field]: dateTime },\n      { minTime, diff },\n    ) {\n      const step = ((dateTime - minTime) / diff) * stepsByDateTimeCount;\n      return Math.min(Math.max(Math.floor(step), 0), stepsByDateTimeCount);\n    },\n    resolveOptions: function resolveOptionsForStepByDateTime(markersDataList) {\n      const times = markersDataList\n        .map(markerData => markerData[field] && markerData[field].getTime())\n        .filter(Boolean);\n\n      const minTime = min(times);\n      const maxTime = max(times) + 1;\n      const diff = maxTime - minTime;\n      return { minTime, diff };\n    },\n  };\n}\n","import ru from 'date-fns/locale/ru';\nimport dateFormat from './safeDateFormat';\n\nexport default function formatDate(date, format = 'eeeeee, d MMMM yyyy') {\n  return dateFormat(date, format, { locale: ru });\n}\n","import formatDate from 'modules/utilities/dateTime/formatDate';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nexport default function renderTitle({\n  locationName,\n  locationRating,\n  visitsCount,\n  firstVisitDateTime,\n  lastVisitDateTime,\n}) {\n  return [\n    locationName,\n    ` ${visitsCount} `,\n    ` ${formatDate(firstVisitDateTime)}`,\n    visitsCount > 1 && `  ${formatDate(lastVisitDateTime)}`,\n    `: ${renderRating(locationRating)}`,\n  ]\n    .filter(Boolean)\n    .join('\\n');\n}\n\nfunction renderRating(locationRating) {\n  switch (locationRating) {\n    case LOCATION_RATING.PLACE_TO_LIVE:\n      return '  ';\n    case LOCATION_RATING.FEW_PER_YEAR:\n    case LOCATION_RATING.ONCE_PER_YEAR:\n      return '   ';\n    case LOCATION_RATING.ONCE_PER_TWO_YEARS:\n    case LOCATION_RATING.ONCE_PER_FIVE_YEARS:\n      return '  ';\n    case LOCATION_RATING.ONCE_PER_DECADE:\n    case LOCATION_RATING.TWICE_PER_LIVE:\n      return '   ';\n    case LOCATION_RATING.ONCE_PER_LIVE:\n      return '  ';\n    case LOCATION_RATING.NEVER:\n      return '  ';\n    default:\n      return '?';\n  }\n}\n","import {\n  MARKERS_SCALE_BY_SOURCES,\n  MARKERS_SCALE_BY_TIME_FILENAMES,\n  MARKERS_SCALE_IMAGES_BASE_PATH,\n} from '../consts';\n\nexport default function resolveMarkerUrl(step, scaleBy) {\n  if (!scaleBy) {\n    return `${MARKERS_SCALE_IMAGES_BASE_PATH}${\n      MARKERS_SCALE_BY_TIME_FILENAMES[0]\n    }`;\n  }\n  const markerSources = MARKERS_SCALE_BY_SOURCES[scaleBy];\n  const subPath = markerSources[step - 1] || markerSources[0];\n  return `${MARKERS_SCALE_IMAGES_BASE_PATH}${subPath}`;\n}\n","import { useState, useEffect, useRef } from 'react';\n\nexport default markersData => {\n  const [googleMapsApi, setGoogleMapsApi] = useState(null);\n\n  const isFirsRenderRef = useRef(true);\n\n  useEffect(\n    () => {\n      if (!googleMapsApi) {\n        return undefined;\n      }\n      const { map, maps } = googleMapsApi;\n      const bounds = new maps.LatLngBounds();\n      const markers = markersData.map(\n        ({ lat, lon, iconUrl, title, zIndex }) => {\n          const marker = new maps.Marker({\n            map,\n            position: { lat, lng: lon },\n            icon: {\n              url: iconUrl,\n              scaledSize: new maps.Size(24, 24),\n            },\n            scale: 0.5,\n            title,\n            zIndex,\n          });\n          bounds.extend(marker.position);\n          return marker;\n        },\n      );\n      if (isFirsRenderRef.current) {\n        map.setOptions({ maxZoom: 11, minZoom: 2 });\n        map.fitBounds(bounds);\n        map.setOptions({ maxZoom: null, minZoom: null });\n        isFirsRenderRef.current = false;\n      }\n      return () => {\n        markers.forEach(marker => {\n          marker.setMap(null);\n          marker.setVisible(false);\n        });\n        markers.length = 0;\n      };\n    },\n    [googleMapsApi, markersData],\n  );\n  return { handleGoogleApiLoaded: api => setGoogleMapsApi(api) };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {\n  MARKERS_SCALES,\n  KEY_MARKERS_SCALE_BY,\n  KEY_MARKERS_RATING_LEVEL,\n} from '../../consts';\n\nexport default function MarkersScaleSelect({\n  classes,\n  scaleBy,\n  onClose,\n  onChange,\n}) {\n  return (\n    <List>\n      <ListItem>\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink={true} id=\"select-scaleBy-filter-label\">\n             \n          </InputLabel>\n          <Select\n            labelId=\"select-scaleBy-filter-label\"\n            autoWidth={true}\n            id=\"select-scaleBy-filter\"\n            value={scaleBy}\n            onChange={event => {\n              onClose();\n              const nextScaleBy = event.target.value;\n              const updates = { [KEY_MARKERS_SCALE_BY]: nextScaleBy };\n              if (nextScaleBy !== MARKERS_SCALES.BY_RATING) {\n                updates[KEY_MARKERS_RATING_LEVEL] = undefined;\n              }\n              onChange(updates);\n            }}\n          >\n            <MenuItem\n              key={MARKERS_SCALES.BY_FIRST_VISIT}\n              value={MARKERS_SCALES.BY_FIRST_VISIT}\n            >\n                \n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_LAST_VISIT}\n              value={MARKERS_SCALES.BY_LAST_VISIT}\n            >\n                \n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_VISITS_COUNT}\n              value={MARKERS_SCALES.BY_VISITS_COUNT}\n            >\n                \n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_RATING}\n              value={MARKERS_SCALES.BY_RATING}\n            >\n               \n            </MenuItem>\n          </Select>\n        </FormControl>\n      </ListItem>\n    </List>\n  );\n}\n\nMarkersScaleSelect.propTypes = {\n  classes: PropTypes.shape({ formControl: PropTypes.string.isRequired })\n    .isRequired,\n  scaleBy: PropTypes.oneOf(Object.values(MARKERS_SCALES)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { MARKERS_RATING_LEVELS, KEY_MARKERS_RATING_LEVEL } from '../../consts';\n\nexport default function MarkersRatingLevelSelect({\n  classes,\n  ratingLevel,\n  onClose,\n  onChange,\n}) {\n  return (\n    <List>\n      <ListItem>\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink={true} id=\"select-ratingLevel-filter-label\">\n              \n          </InputLabel>\n          <Select\n            labelId=\"select-ratingLevel-filter-label\"\n            autoWidth={true}\n            id=\"select-ratingLevel-filter\"\n            value={ratingLevel}\n            onChange={event => {\n              onClose();\n              onChange({\n                [KEY_MARKERS_RATING_LEVEL]: event.target.value,\n              });\n            }}\n          >\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.ALL}\n              value={MARKERS_RATING_LEVELS.ALL}\n            >\n              \n            </MenuItem>\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.WANT_COME_BACK}\n              value={MARKERS_RATING_LEVELS.WANT_COME_BACK}\n            >\n                \n            </MenuItem>\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.LOVE_THIS_PLACE}\n              value={MARKERS_RATING_LEVELS.LOVE_THIS_PLACE}\n            >\n               \n            </MenuItem>\n          </Select>\n        </FormControl>\n      </ListItem>\n    </List>\n  );\n}\n\nMarkersRatingLevelSelect.propTypes = {\n  classes: PropTypes.shape({ formControl: PropTypes.string.isRequired })\n    .isRequired,\n  ratingLevel: PropTypes.oneOf(Object.values(MARKERS_RATING_LEVELS)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSidebar } from 'core/context/SidebarContext';\nimport MarkersScaleSelect from './blocks/MarkersScaleSelect';\nimport MarkersRatingLevelSelect from './blocks/MarkersRatingLevelSelect';\nimport {\n  MARKERS_SCALES,\n  KEY_MARKERS_SCALE_BY,\n  MARKERS_SCALE_DEFAULT,\n  MARKERS_RATING_LEVELS,\n  KEY_MARKERS_RATING_LEVEL,\n  MARKERS_RATING_LEVEL_DEFAULT,\n} from './consts';\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function(setQueryFilter, queryFilter) {\n  const classes = useStyles();\n  const {\n    [KEY_MARKERS_SCALE_BY]: scaleByQuery,\n    [KEY_MARKERS_RATING_LEVEL]: ratingLevelQuery,\n  } = queryFilter || {};\n  const scaleBy = resolveActualScaleBy(scaleByQuery);\n  const ratingLevel = resolveActualRatingLevel(ratingLevelQuery);\n  useSidebar(\n    ({ closeSidebar }) => (\n      <>\n        <MarkersScaleSelect\n          classes={classes}\n          onClose={closeSidebar}\n          scaleBy={scaleBy}\n          onChange={setQueryFilter}\n        />\n        {scaleBy === MARKERS_SCALES.BY_RATING && (\n          <MarkersRatingLevelSelect\n            classes={classes}\n            onClose={closeSidebar}\n            ratingLevel={ratingLevel}\n            onChange={setQueryFilter}\n          />\n        )}\n      </>\n    ),\n    [scaleBy, ratingLevel],\n  );\n\n  return { scaleBy, ratingLevel };\n}\n\nfunction resolveActualScaleBy(scaleByQuery) {\n  return Object.values(MARKERS_SCALES).includes(scaleByQuery)\n    ? scaleByQuery\n    : MARKERS_SCALE_DEFAULT;\n}\nfunction resolveActualRatingLevel(ratingLevelQuery) {\n  return Object.values(MARKERS_RATING_LEVELS).includes(ratingLevelQuery)\n    ? ratingLevelQuery\n    : MARKERS_RATING_LEVEL_DEFAULT;\n}\n","/* globals __GOOGLE_MAP_API_KEY__ */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport GoogleMapReact from 'google-map-react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport locationPropTypes from 'travel/models/locations/propTypes';\nimport visitsPropTypes from 'travel/models/visits/propTypes';\nimport adaptMarkerData from './utils/adaptMarkerData';\nimport filterMarkerData from './utils/filterMarkerData';\nimport makeScaleUtils from './utils/makeScaleUtils';\nimport renderTitle from './utils/renderTitle';\nimport resolveMarkerUrl from './utils/resolveMarkerUrl';\nimport { MARKERS_SCALES, MARKERS_RATING_LEVELS } from './consts';\nimport useMarkers from './useMarkers';\n\nexport { MARKERS_SCALES, MARKERS_RATING_LEVELS };\nexport useMarkersScaleSidebar from './useMarkersScaleSidebar';\n\nconst useStyles = makeStyles({\n  googleMapContainer: {\n    margin: '12px 0',\n    maxWidth: '100%',\n    flexGrow: 1,\n    minHeight: ({ minHeight }) => minHeight,\n    position: 'relative',\n  },\n  googleMapPosition: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n  },\n});\n\nexport default function LocationsMap({\n  className,\n  locationsDict,\n  visitsDict,\n  locationsRating,\n  locationsIds,\n  minHeight,\n  scaleBy,\n  ratingLevel,\n}) {\n  const classes = useStyles({ minHeight });\n  const markersData = useMemo(\n    () => {\n      const adaptedMarkersData = adaptMarkerData({\n        locationsDict,\n        visitsDict,\n        locationsRating,\n        locationsIds,\n      });\n      const actualMarkersData = filterMarkerData(adaptedMarkersData, {\n        ratingLevel,\n      });\n      const { resolveStep, resolveOptions } = makeScaleUtils(scaleBy);\n      const options = resolveOptions && resolveOptions(actualMarkersData);\n      return actualMarkersData.map(markerData => {\n        const step = resolveStep(markerData, options);\n        return {\n          ...markerData,\n          zIndex: [\n            MARKERS_SCALES.BY_RATING,\n            MARKERS_SCALES.BY_FIRST_VISIT,\n          ].includes(scaleBy)\n            ? 10 - step\n            : step,\n          iconUrl: resolveMarkerUrl(step, scaleBy),\n          title: renderTitle(markerData),\n        };\n      });\n    },\n    [\n      locationsDict,\n      visitsDict,\n      locationsRating,\n      locationsIds,\n      scaleBy,\n      ratingLevel,\n    ],\n  );\n  const { handleGoogleApiLoaded } = useMarkers(markersData);\n\n  return (\n    <div className={cls(className, classes.googleMapContainer)}>\n      <div className={classes.googleMapPosition}>\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: __GOOGLE_MAP_API_KEY__ }}\n          center={{ lat: 0, lng: 0 }}\n          zoom={11}\n          onGoogleApiLoaded={handleGoogleApiLoaded}\n        />\n      </div>\n    </div>\n  );\n}\n\nLocationsMap.propTypes = {\n  className: PropTypes.string,\n  visitsDict: PropTypes.objectOf(PropTypes.shape(visitsPropTypes)).isRequired,\n  locationsDict: PropTypes.objectOf(PropTypes.shape(locationPropTypes))\n    .isRequired,\n  locationsIds: PropTypes.arrayOf(PropTypes.number).isRequired,\n  locationsRating: PropTypes.objectOf(PropTypes.number).isRequired,\n  minHeight: PropTypes.number,\n  scaleBy: PropTypes.oneOf(Object.values(MARKERS_SCALES)).isRequired,\n  ratingLevel: PropTypes.oneOf(Object.values(MARKERS_RATING_LEVELS)).isRequired,\n};\n\nLocationsMap.defaultProps = {\n  className: undefined,\n  minHeight: '400px',\n};\n","import { MARKERS_RATING_LEVELS } from '../consts';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nexport default function filterMarkerData(adaptedMarkersData, { ratingLevel }) {\n  const validMarkersData = adaptedMarkersData.filter(Boolean);\n  if (\n    !Object.values(MARKERS_RATING_LEVELS).includes(ratingLevel) ||\n    ratingLevel === MARKERS_RATING_LEVELS.ALL\n  ) {\n    return validMarkersData;\n  }\n  return validMarkersData.filter(({ locationRating, visitsCount }) => {\n    switch (ratingLevel) {\n      case MARKERS_RATING_LEVELS.WANT_COME_BACK:\n        if (visitsCount < 2) {\n          return locationRating <= LOCATION_RATING.TWICE_PER_LIVE;\n        }\n        return locationRating <= LOCATION_RATING.ONCE_PER_DECADE;\n      case MARKERS_RATING_LEVELS.LOVE_THIS_PLACE:\n        return locationRating <= LOCATION_RATING.ONCE_PER_YEAR;\n      default:\n        return true;\n    }\n  });\n}\n","import uniq from 'lodash/uniq';\n\nexport default (array, { maxLength, separator = ', ' }) => {\n  const uniqArray = uniq(array);\n  const result = uniqArray.slice(0, maxLength).join(separator);\n  if (uniqArray.length > maxLength) {\n    return `${result}...`;\n  }\n  return result;\n};\n","import dateMin from 'date-fns/min';\nimport dateMax from 'date-fns/max';\nimport groupBy from 'lodash/groupBy';\nimport uniqTrimAndJoin from 'modules/utilities/text/uniqTrimAndJoin';\nimport { VISIT_TYPES } from 'travel/models/visits/consts';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\n\nconst FALLBACK = ' ';\nexport default function resolveTripCaption(\n  trip,\n  visitsDict,\n  countriesDict,\n  locationsDict,\n) {\n  const {\n    visits: visitsIds,\n    originLocationId,\n    tripName,\n    hasAutogeneratedTripName,\n  } = trip || {};\n\n  const originCountryId = locationsDict[originLocationId]?.countryId;\n\n  if (!hasAutogeneratedTripName) {\n    return tripName || FALLBACK;\n  }\n  if (!visitsIds.length) {\n    return FALLBACK;\n  }\n\n  const periodStr = visitDateTimePeriodToString({\n    arrivalDateTime: dateMin(\n      visitsIds.map(visitsId => visitsDict[visitsId]?.arrivalDateTime),\n    ),\n    departureDateTime: dateMax(\n      visitsIds.map(visitsId => visitsDict[visitsId]?.departureDateTime),\n    ),\n  });\n\n  const visitsByCountries = Object.keys(\n    groupBy(\n      visitsIds.filter(\n        visitId => visitsDict[visitId]?.visitType !== VISIT_TYPES.TRANSIT,\n      ),\n      'countryId',\n    ),\n  );\n\n  if (visitsByCountries.length === 1) {\n    const locationsNames = uniqTrimAndJoin(\n      visitsIds.map(visitId => visitsDict[visitId]?.locationName),\n      { maxLength: 4 },\n    );\n    return `${locationsNames || FALLBACK}, ${periodStr}`;\n  }\n\n  const countriesNames = uniqTrimAndJoin(\n    visitsByCountries\n      .map(\n        countryId =>\n          Number(countryId) !== originCountryId &&\n          countriesDict[countryId] &&\n          countriesDict[countryId].countryName,\n      )\n      .filter(Boolean),\n    { maxLength: 4 },\n  );\n  return `${countriesNames || FALLBACK}, ${periodStr}`;\n}\n"],"sourceRoot":""}