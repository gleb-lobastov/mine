{"version":3,"sources":["webpack:///./src/modules/components/loaders/ProvisionLoader.jsx","webpack:///./src/core/connection/withProvision.jsx","webpack:///./src/modules/components/muiExtended/OptionsSelect/OptionsSelect.jsx","webpack:///./src/modules/components/muiExtended/Suggest/components/DefaultSuggestionsResolver.jsx","webpack:///./src/modules/components/muiExtended/Suggest/components/DefaultInputRender.jsx","webpack:///./src/modules/components/muiExtended/Suggest/components/DefaultSuggestionRender.jsx","webpack:///./src/modules/components/muiExtended/Suggest/Suggest.jsx","webpack:///./src/modules/components/muiExtended/Suggest/modifications/ProvisionedSuggest.jsx","webpack:///./src/packages/travel/components/models/trips/TripEditDialog/localization.js","webpack:///./src/packages/travel/components/models/trips/TripEditDialog/blocks/TripEditCard.jsx","webpack:///./src/packages/travel/components/models/trips/TripEditDialog/TripEditDialog.jsx","webpack:///./src/packages/travel/components/models/locations/Location.jsx","webpack:///./src/packages/travel/components/models/visits/Visit.jsx","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/localization.js","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/blocks/RideEditCard.jsx","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/RideEditDialog.jsx","webpack:///./src/packages/travel/pages/Trips/blocks/Ride.jsx","webpack:///./src/modules/utilities/dateTime/arrivalDepartureDateTimeToString.js","webpack:///./src/packages/travel/pages/Trips/blocks/VisitWithRides.jsx","webpack:///./src/packages/travel/pages/Trips/blocks/Trip.jsx","webpack:///./src/modules/utilities/algorithms/createOrderCalculator.js","webpack:///./src/packages/travel/pages/Trips/actionCreators.js","webpack:///./src/packages/travel/pages/Trips/Trips.jsx","webpack:///./src/packages/travel/models/trips/initialize.js","webpack:///./src/packages/literature/pages/Article/designed/Chaldini.jsx","webpack:///./src/packages/literature/pages/Article/designed/BlackSwan.jsx","webpack:///./src/packages/literature/pages/Article/Article.jsx"],"names":["withLoader","Component","props","_props$provision","provision","_props$provision$isCo","isComplete","_props$provision$isPe","isPending","react_default","a","createElement","PlainLoader","__webpack_exports__","_len2","arguments","length","provisionParams","Array","_key2","ExtendableComponent","_len","funcsArray","_key","arg","reduceRight","composed","func","compose","provide","apply","OptionsSelect","_ref","caption","classes","hasNullOption","inputId","handleChange","onChange","optionRender","options","value","className","container","InputLabel","component","shrink","htmlFor","Select","displayEmpty","input","Input","id","selectRoot","MenuItem","key","option","index","map","valuePropTypes","PropTypes","oneOfType","number","string","propTypes","isRequired","arrayOf","bool","defaultProps","_ref2","undefined","withStyles","display","flexGrow","flexBasis","DefaultSuggestionResolver","inputValue","_ref$sourceProps","sourceProps","_ref$sourceProps$sugg","suggestions","renderProp","children","lowerCaseInputValue","toLowerCase","Fragment","filter","label","includes","shape","array","DefaultInputRender","inputProps","ref","other","_objectWithoutProperties","TextField","_extends","InputProps","_objectSpread","inputRef","root","inputRoot","inputInput","DefaultSuggestionRender","itemProps","isHighlighted","isSelected","DefaultSuggestionRender_extends","selected","style","fontWeight","object","useStyles","makeStyles","theme","paper","position","zIndex","marginTop","spacing","left","right","defaultItemToString","createSuggestComponent","_ref2$SuggestionsReso","SuggestionsResolver","DefaultSuggestionsResolver","_ref2$SuggestionItemC","SuggestionItemComponent","_ref2$InputComponent","InputComponent","_ref3","inputFieldProps","downshiftProps","Suggest_objectWithoutProperties","downshift_esm","Suggest_extends","itemToString","_ref4","getInputProps","getItemProps","getMenuProps","highlightedIndex","isOpen","selectedItem","fullWidth","Paper","square","resolvedSuggestions","suggestion","item","Boolean","withProvision","state","_ref2$sourceProps","modelName","domain","filterField","numberOfItemsToRequest","require","entities","query","ProvisionedSuggest_defineProperty","comparator","concat","navigation","pageSize","meta","debounceRequest","_ref$sourceProps$conv","convertEntityToSuggestion","entity","ProvisionedSuggest_objectSpread","_ref$entities","_ref$entities$data","data","entitiesList","TRIP_TYPE_NAMES","localization_defineProperty","_TRIP_TYPE_NAMES","TRIP_TYPES","LEISURE","BUSINESS","MIXED","OTHER","renderTripType","tripType","useTripState","initialTripName","tripName","initialTripType","initialOriginLocationId","originLocationId","_useState2","_slicedToArray","useState","tripState","setTripState","tripStateUpdate","TripEditCard_objectSpread","TripEditCard","locationsDict","_ref3$tripState","setTripName","useCallback","nextTripName","target","setTripType","_ref5","nextTripType","setOriginLocation","_ref6","nextOriginLocationId","locationId","locationName","optionGroup","ProvisionedSuggest","textFieldProps","initialInputValue","placeholder","muiExtended_OptionsSelect_OptionsSelect","Object","values","connect","selectDict","TripEditDialog","initialState","handleSubmit","onSubmit","_useTripState","_React$useState2","TripEditDialog_slicedToArray","React","setOpen","handleClose","IconButton","data-sort-handler","size","variant","color","onClick","Dialog","transitionDuration","open","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","blocks_TripEditCard","DialogActions","Button","ridePropTypes","node","Location","_ref$location$locatio","location","Icon","icon","objectOf","locationPropTypes","reactComponentPropType","marginRight","verticalAlign","Visit","visit","visitType","TransferWithinAStationIcon","DomainIcon","LocalShippingIcon","LocationCityIcon","resolveVisitIconComponent","visitPropTypes","RIDE_CLASSES_NAMES","RideEditDialog_localization_defineProperty","_RIDE_CLASSES_NAMES","RIDE_CLASSES","ECONOMY","COMFORT","FIRST","PRIVATE","RIDE_OCCUPATION_NAMES","_RIDE_OCCUPATION_NAME","RIDE_OCCUPATION","PASSENGER","STUFF","DRIVER","RIDE_TYPES_NAMES","_RIDE_TYPES_NAMES","RIDE_TYPES","SELF_DRIVE","SCHEDULED","CHARTER","TOUR","CARPOOL","HITCH_HIKING","VEHICLE_NAMES","_VEHICLE_NAMES","VEHICLE_TYPES","CAR","TRAIN","AIRCRAFT","BUS","MOTORHOME","LOCAL_TRAIN","FERRY","BIKE","BY_FEET","ROPEWAY","FUNICULAR","MOTORBIKE","TRUCK","ALL_TERRAIN_VEHICLE","ORIGIN_OF_TRIP","renderVehicleType","vehicleType","renderRideType","rideType","renderRideClass","rideClass","renderRideOccupation","rideOccupation","useRideState","initialArrivalVisitId","departureVisitId","initialDepartureVisitId","arrivalVisitId","initialVehicleType","initialRideType","initialRideClass","initialRideOccupation","initialDepartureDateTime","departureDateTime","initialArrivalDateTime","arrivalDateTime","RideEditCard_slicedToArray","rideState","setRideState","rideStateUpdate","RideEditCard_objectSpread","RideEditCard","availableVisits","originLocation","_ref6$rideState","setDepartureVisitId","_ref7","nextDepartureVisitId","setArrivalVisitId","_ref8","nextArrivalVisitId","setVehicleType","_ref9","nextVehicleType","setRideType","_ref10","nextRideType","setRideClass","_ref11","nextRideClass","setRideOccupation","_ref12","nextRideOccupation","setArrivalDateTime","nextArrivalDateTime","setDepartureDateTime","nextDepartureDateTime","availableVisitsIds","_ref13","visitId","visitsDict","fromEntries","renderVisit","_ref14","_toConsumableArray","material_ui_pickers_esm","autoOk","ampm","RideEditDialog","_useRideState","RideEditDialog_slicedToArray","blocks_RideEditCard","locationsPropTypes","Ride","defaultArrivalVisitId","defaultDepartureVisitId","isEditable","handleRideUpdate","onRideUpdate","ride","_ref$ride","rideId","showDetails","CarIcon","TrainIcon","FlightIcon","BusIcon","VanIcon","BoatIcon","BikeIcon","WalkIcon","MotorcycleIcon","TruckIcon","TerrainIcon","CustomTransportIcon","resolveRideIconComponent","UnknownRideIcon","iconNode","rideInitialState","initializeRide","rideNode","rides_RideEditDialog_RideEditDialog","editDialogTrigger","updatedRide","Ride_objectSpread","cls","details","arrivalDateTimeString","toLocaleDateString","departureDateTimeString","arrivalDepartureDateTimeToString","VisitWithRides","_cls","_cls2","_ref$visit","arrivalRideId","departureRideId","ridesDict","prevVisitId","nextVisitId","tripVisitsList","isSorting","isArrivalRideMatch","isDepartureRideMatch","shouldWarnForArrivalRide","shouldWarnForDepartureRide","blocks_Ride","VisitWithRides_defineProperty","alwaysVisible","warning","visits_Visit","&:hover $editDialogTrigger","visibility","marginLeft","top","transform","SortableTrip","SortableContainer","SortableVisitWithRides","SortableElement","checkIsRidesMatch","prevVisit","nextVisit","checkIsNodeNotSortable","event","element","dataset","sortHandler","parentNode","Trip","handleVisitsOrderUpdate","onVisitsOrderUpdate","trip","_ref2$trip","tripIndex","handleTripUpdate","onTripUpdate","Trip_slicedToArray","setIsSorting","isSortable","VisitWithRidesComponent","visitsNodes","indexOfVisit","wrappedVisitsNodes","onSortEnd","Trip_objectSpread","collection","shouldCancelStart","updateBeforeSortStart","originLocationNode","locations_Location","IconHome","recentVisit","preRecentVisit","rideToHomeId","recentVisitId","trips_TripEditDialog_TripEditDialog","updatedTrip","Edit_default","tripPropTypes","resolveOrder","calcOrder","orderResolver","orderInTrip","prevOrder","nextOrder","Math","random","groupAndOrderVisitsByTrips","memoizeByLastArgs","visitsList","mapValues","groupBy","sort","Trips","_ref3$trips","trips","_ref3$trips$data","tripsList","_ref3$visits","visits","_ref3$visits$data","request","isAuthenticated","oldIndex","newIndex","body","submitOrderInTrip","submitRide","tripId","submitTrip","visitsGroupedByTrips","blocks_Trip","authContextPropTypes","ridesPropTypes","withAuth","locations","isDisabled","rides","Header","styled","header","_templateObject","Article","article","_templateObject2","Paragraph","div","_templateObject3","ParagraphTitle","h3","_templateObject4","StyledBlockTitle","h4","_templateObject5","StyledBlockBody","blockquote","_templateObject6","nodeOrStringPropType","Block","title","Quote","Chaldini_Block","Guidance","Example","Footnote","ChaptersList","ol","_templateObject7","Chapter","li","_templateObject8","Clause","_templateObject9","OrderedList","_templateObject10","UnorderedList","ul","_templateObject11","Small","p","_templateObject12","Chaldini","Helmet","href","rel","Chaldini_Guidance","Chaldini_Quote","Chaldini_Example","Chaldini_Footnote","BlackSwan_templateObject","BlackSwan_templateObject2","BlackSwan_templateObject3","BlackSwan_templateObject4","Reference","BlackSwan_templateObject5","BlackSwan","BlackSwan_Article","BlackSwan_Header","BlackSwan_Paragraph","BlackSwan_ParagraphTitle","withRouter","match","params","slug","designed_Chaldini","designed_BlackSwan"],"mappings":"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","file":"literature-Article-358195364bc9fa6a8ba9.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport React from 'react';\nimport PlainLoader from 'modules/components/loaders/PlainLoader';\n\n// todo implement logic, which loader to show for each request, etc.\nexport const withLoader = Component => props => {\n  const { provision: { isComplete = false, isPending = true } = {} } = props;\n  if (!isComplete || isPending) {\n    return <PlainLoader />;\n  }\n  return <Component {...props} />;\n};\n","import { withLoader } from 'modules/components/loaders/ProvisionLoader';\nimport { provide } from 'core/connection';\n\nconst compose = (...funcsArray) => arg =>\n  funcsArray.reduceRight((composed, func) => func(composed), arg);\n\nexport default (...provisionParams) => ExtendableComponent =>\n  compose(\n    provide(...provisionParams),\n    withLoader,\n  )(ExtendableComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nconst styles = {\n  container: {\n    display: 'inline-block',\n    flexGrow: '1',\n    flexBasis: '0',\n  },\n  selectRoot: {\n    display: 'block',\n  },\n};\n\nconst OptionsSelect = ({\n  caption,\n  classes,\n  hasNullOption,\n  inputId,\n  onChange: handleChange,\n  optionRender,\n  options,\n  value,\n}) => (\n  <div className={classes.container}>\n    <InputLabel component=\"label\" shrink={true} htmlFor={inputId}>\n      {caption}\n    </InputLabel>\n    <Select\n      value={value}\n      displayEmpty={true}\n      onChange={handleChange}\n      input={<Input id={inputId} />}\n      className={classes.selectRoot}\n    >\n      {hasNullOption && (\n        <MenuItem key={null} value={null}>\n          {optionRender({ option: null, index: -1, options })}\n        </MenuItem>\n      )}\n      {options.map((option, index) => (\n        <MenuItem key={option} value={option}>\n          {optionRender({ option, index, options })}\n        </MenuItem>\n      ))}\n    </Select>\n  </div>\n);\n\nconst valuePropTypes = PropTypes.oneOfType([\n  PropTypes.number,\n  PropTypes.string,\n]);\nOptionsSelect.propTypes = {\n  caption: PropTypes.string.isRequired,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  hasNullOption: PropTypes.bool,\n  inputId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  optionRender: PropTypes.func,\n  options: PropTypes.arrayOf(valuePropTypes),\n  value: valuePropTypes,\n};\n\nOptionsSelect.defaultProps = {\n  hasNullOption: true,\n  optionRender: ({ option }) => option || '',\n  options: [],\n  value: undefined,\n};\n\nexport default withStyles(styles)(OptionsSelect);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst DefaultSuggestionResolver = ({\n  inputValue,\n  sourceProps: { suggestions = [] } = {},\n  children: renderProp,\n}) => {\n  const lowerCaseInputValue = inputValue.toLowerCase();\n  return (\n    <React.Fragment>\n      {renderProp(\n        suggestions.filter(({ label }) =>\n          label.toLowerCase().includes(lowerCaseInputValue),\n        ),\n      )}\n    </React.Fragment>\n  );\n};\n\nDefaultSuggestionResolver.propTypes = {\n  inputValue: PropTypes.string.isRequired,\n  sourceProps: PropTypes.shape({\n    // eslint-disable-next-line react/forbid-prop-types\n    suggestions: PropTypes.array,\n  }).isRequired,\n  children: PropTypes.func.isRequired,\n};\n\nexport default DefaultSuggestionResolver;\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nexport default ({ inputProps, classes, ref, ...other }) => (\n  <TextField\n    InputProps={{\n      inputRef: ref,\n      classes: {\n        root: classes.inputRoot,\n        input: classes.inputInput,\n      },\n      ...inputProps,\n    }}\n    {...other}\n  />\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nconst DefaultSuggestionRender = ({\n  itemProps,\n  isHighlighted,\n  isSelected,\n  children,\n}) => (\n  <MenuItem\n    {...itemProps}\n    selected={isHighlighted}\n    component=\"div\"\n    style={{\n      fontWeight: isSelected ? 500 : 400,\n    }}\n  >\n    {children}\n  </MenuItem>\n);\n\nDefaultSuggestionRender.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  itemProps: PropTypes.object,\n  isHighlighted: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  children: PropTypes.func.isRequired,\n};\n\nDefaultSuggestionRender.defaultProps = {\n  itemProps: undefined,\n  isHighlighted: false,\n  isSelected: false,\n};\n\nexport default DefaultSuggestionRender;\n","import React from 'react';\nimport Downshift from 'downshift';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport DefaultSuggestionsResolver from './components/DefaultSuggestionsResolver';\nimport DefaultInputRender from './components/DefaultInputRender';\nimport DefaultSuggestionRender from './components/DefaultSuggestionRender';\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  container: {},\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(1),\n    left: 0,\n    right: 0,\n  },\n  inputRoot: {},\n  inputInput: {},\n}));\n\nconst defaultItemToString = ({ label }) => label;\n\nexport const createSuggestComponent = ({\n  SuggestionsResolver = DefaultSuggestionsResolver,\n  SuggestionItemComponent = DefaultSuggestionRender,\n  InputComponent = DefaultInputRender,\n} = {}) => ({\n  sourceProps,\n  inputProps,\n  inputFieldProps,\n  ...downshiftProps\n}) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Downshift itemToString={defaultItemToString} {...downshiftProps}>\n        {({\n          getInputProps,\n          getItemProps,\n          getMenuProps,\n          highlightedIndex,\n          inputValue,\n          isOpen,\n          selectedItem,\n        }) => (\n          <div className={classes.container}>\n            <InputComponent\n              fullWidth={true}\n              classes={classes}\n              inputProps={getInputProps(inputProps)}\n              {...inputFieldProps}\n            />\n            <div {...getMenuProps()}>\n              {isOpen && (\n                <Paper className={classes.paper} square={true}>\n                  <SuggestionsResolver\n                    inputValue={inputValue}\n                    sourceProps={sourceProps}\n                  >\n                    {resolvedSuggestions =>\n                      resolvedSuggestions.map((suggestion, index) => (\n                        <SuggestionItemComponent\n                          key={suggestion.label}\n                          itemProps={getItemProps({\n                            item: suggestion,\n                          })}\n                          isHighlighted={highlightedIndex === index}\n                          isSelected={\n                            Boolean(selectedItem) &&\n                            selectedItem.label === suggestion.label\n                          }\n                        >\n                          {suggestion.label}\n                        </SuggestionItemComponent>\n                      ))\n                    }\n                  </SuggestionsResolver>\n                </Paper>\n              )}\n            </div>\n          </div>\n        )}\n      </Downshift>\n    </div>\n  );\n};\n\nexport default createSuggestComponent();\n/*\nconst x = (\n  <FetchContacts\n    searchValue={inputValue}\n    omitContacts={selectedContacts}\n    onLoaded={({ contacts }) => {\n      clearItems();\n      if (contacts) {\n        setHighlightedIndex(contacts.length ? 0 : null);\n        setItemCount(contacts.length);\n      }\n    }}\n  >\n    {({ loading, contacts, error }) => (\n      <div\n        {...css({\n          position: 'absolute',\n          backgroundColor: 'white',\n          width: 300,\n          maxHeight: 280,\n          overflow: 'scroll',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n          border: '1px solid rgba(0,0,0,.2)',\n        })}\n      >\n        {loading ? (\n          <div {...css({ padding: 10 })}>loading...</div>\n        ) : error ? (\n          <div {...css({ padding: 10 })}>error...</div>\n        ) : contacts.length ? (\n          <ContactList\n            highlightedIndex={highlightedIndex}\n            getItemProps={getItemProps}\n            contacts={contacts}\n          />\n        ) : (\n          <div {...css({ padding: 10 })}>no results...</div>\n        )}\n      </div>\n    )}\n  </FetchContacts>\n);\n\nclass FetchContacts extends React.Component {\n  static initialState = { loading: false, error: null, contacts: [] };\n  requestId = 0;\n  state = FetchContacts.initialState;\n  mounted = false;\n  reset(overrides) {\n    this.setState({ ...FetchContacts.initialState, ...overrides });\n  }\n  fetch = debounce(\n    () => {\n      if (!this.mounted) {\n        return;\n      }\n      const { omitContacts, limit } = this.props;\n      this.requestId++;\n      fetchContacts(this.props.searchValue, {\n        omitContacts,\n        limit,\n        requestId: this.requestId,\n      }).then(\n        ({ response: { data: contacts, requestId } }) => {\n          if (this.mounted && requestId === this.requestId) {\n            this.props.onLoaded({ contacts });\n            this.setState({ loading: false, contacts });\n          }\n        },\n        ({ response: { error, requestId } }) => {\n          if (this.mounted && requestId === this.requestId) {\n            this.props.onLoaded({ error });\n            this.setState({ loading: false, error });\n          }\n        },\n      );\n    },\n    { wait: 300 },\n  );\n  prepareFetch() {\n    this.reset({ loading: true });\n  }\n  componentDidMount() {\n    this.mounted = true;\n    this.prepareFetch();\n    this.fetch();\n  }\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.searchValue !== this.props.searchValue ||\n      prevProps.omitContacts !== this.props.omitContacts\n    ) {\n      this.prepareFetch();\n      this.fetch();\n    }\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n  render() {\n    return this.props.children(this.state);\n  }\n}\n*/\n","import withProvision from 'core/connection/withProvision';\nimport { createSuggestComponent } from '../Suggest';\n\nconst Resolver = ({\n  sourceProps: {\n    filterField,\n    convertEntityToSuggestion = entity => ({\n      ...entity,\n      label: entity[filterField],\n    }),\n  } = {},\n  entities: { data: entitiesList = [] } = {},\n  children: renderProp,\n}) => renderProp((entitiesList || []).map(convertEntityToSuggestion));\n\nexport default createSuggestComponent({\n  SuggestionsResolver: withProvision(\n    (\n      state,\n      {\n        inputValue,\n        sourceProps: { modelName, domain, filterField, numberOfItemsToRequest },\n      },\n    ) => ({\n      require: {\n        entities: {\n          modelName,\n          query: {\n            filter: {\n              [filterField]: { comparator: '~', value: `%${inputValue}%` },\n            },\n            navigation: { pageSize: numberOfItemsToRequest },\n          },\n        },\n      },\n      meta: {\n        domain,\n      },\n      debounceRequest: 500,\n    }),\n  )(Resolver),\n});\n","/* eslint-disable import/prefer-default-export */\n// todo use localization library\nimport { TRIP_TYPES } from 'travel/models/trips/consts';\n\nexport const TRIP_TYPE_NAMES = {\n  [TRIP_TYPES.LEISURE]: 'Отдых',\n  [TRIP_TYPES.BUSINESS]: 'Работа',\n  [TRIP_TYPES.MIXED]: 'Смешанный',\n  [TRIP_TYPES.OTHER]: 'Другой',\n};\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport compose from 'lodash/fp/compose';\nimport OptionsSelect from 'modules/components/muiExtended/OptionsSelect';\nimport ProvisionedSuggest from 'modules/components/muiExtended/Suggest/modifications/ProvisionedSuggest';\nimport { selectDict } from 'core/connection';\nimport { TRIP_TYPES } from 'travel/models/trips/consts';\nimport { TRIP_TYPE_NAMES } from '../localization';\n\nconst renderTripType = ({ option: tripType }) =>\n  tripType ? TRIP_TYPE_NAMES[tripType] : 'Не указан';\n\nexport const useTripState = ({\n  tripName: initialTripName,\n  tripType: initialTripType,\n  originLocationId: initialOriginLocationId,\n}) => {\n  const [tripState, setTripState] = useState({\n    tripName: initialTripName,\n    tripType: initialTripType,\n    originLocationId: initialOriginLocationId,\n  });\n\n  return {\n    tripState,\n    setTripState: tripStateUpdate =>\n      setTripState({ ...tripState, ...tripStateUpdate }),\n  };\n};\n\nconst styles = {\n  optionGroup: {\n    display: 'block',\n  },\n};\n\nconst TripEditCard = ({\n  classes,\n  locationsDict,\n  tripState: { tripType, tripName, originLocationId },\n  setTripState,\n}) => {\n  const setTripName = useCallback(\n    ({ target: { value: nextTripName } }) =>\n      setTripState({ tripName: nextTripName }),\n    [setTripState],\n  );\n  const setTripType = useCallback(\n    ({ target: { value: nextTripType } }) =>\n      setTripState({ tripType: nextTripType }),\n    [setTripState],\n  );\n  const setOriginLocation = useCallback(\n    ({ locationId: nextOriginLocationId }) =>\n      setTripState({ originLocationId: nextOriginLocationId }),\n    [setTripState],\n  );\n\n  const originLocation = locationsDict[originLocationId];\n  const { locationName } = originLocation || {};\n  return (\n    <>\n      <div className={classes.optionGroup}>\n        <TextField\n          label=\"Название поездки\"\n          value={tripName}\n          onChange={setTripName}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <ProvisionedSuggest\n          textFieldProps={{\n            label: 'Старт из',\n          }}\n          initialInputValue={locationName}\n          inputProps={{ placeholder: 'Населенный пункт...' }}\n          onChange={setOriginLocation}\n          sourceProps={{\n            filterField: 'locationName',\n            modelName: 'locations',\n            domain: 'tripEditCard.location',\n          }}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Тип поездки\"\n          inputId=\"TripEditCard-TripTypeOptions\"\n          onChange={setTripType}\n          optionRender={renderTripType}\n          options={Object.values(TRIP_TYPES)}\n          hasNullOption={true}\n          value={tripType}\n        />\n      </div>\n    </>\n  );\n};\n\nTripEditCard.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\nTripEditCard.defaultProps = {\n  className: undefined,\n};\n\nconst mapStateToProps = state => ({\n  locationsDict: selectDict(state, 'locations'),\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  withStyles(styles),\n)(TripEditCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport TripEditCard, { useTripState } from './blocks/TripEditCard';\n\nconst TripEditDialog = ({ initialState, children, onSubmit: handleSubmit }) => {\n  const { tripState, setTripState } = useTripState(initialState);\n  const [isOpen, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const handleSubmitInternal = () => {\n    handleSubmit(tripState);\n    handleClose(false);\n  };\n\n  return (\n    <>\n      <IconButton\n        data-sort-handler=\"disabled\"\n        size=\"small\"\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleClickOpen}\n      >\n        {children}\n      </IconButton>\n      {isOpen && (\n        <Dialog\n          transitionDuration={500}\n          open={isOpen}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Поездка</DialogTitle>\n          <DialogContent>\n            <DialogContentText>Редактирование поездки</DialogContentText>\n            <TripEditCard tripState={tripState} setTripState={setTripState} />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              Отмена\n            </Button>\n            <Button onClick={handleSubmitInternal} color=\"primary\">\n              Сохранить\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </>\n  );\n};\n\nTripEditDialog.propTypes = {\n  initialState: PropTypes.shape(ridePropTypes).isRequired,\n  children: PropTypes.node.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\nTripEditDialog.defaultProps = {};\n\nexport default TripEditDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport reactComponentPropType from 'modules/customPropTypes/reactComponentPropType';\nimport locationPropTypes from 'travel/models/locations/propTypes';\n\nexport const styles = {\n  container: {\n    display: 'inline-block',\n    marginRight: '4px',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n};\n\nconst Location = ({\n  location: { locationName = 'unknown' },\n  Icon,\n  classes,\n}) => (\n  <div className={classes.container}>\n    {Icon && <Icon className={classes.icon} />}\n    {locationName}\n  </div>\n);\n\nLocation.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  location: PropTypes.shape(locationPropTypes),\n  Icon: reactComponentPropType,\n};\n\nLocation.defaultProps = {\n  location: {},\n  Icon: undefined,\n};\n\nexport default withStyles(styles)(Location);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\nimport TransferWithinAStationIcon from '@material-ui/icons/TransferWithinAStation';\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\nimport DomainIcon from '@material-ui/icons/Domain';\nimport visitPropTypes from 'travel/models/visits/propTypes';\n\nconst resolveVisitIconComponent = visitType => {\n  switch (visitType) {\n    case 'Transit':\n      return TransferWithinAStationIcon;\n    case 'BaseCamp':\n      return DomainIcon;\n    case 'Relocation':\n      return LocalShippingIcon;\n    case 'Regular':\n    default:\n      return LocationCityIcon;\n  }\n};\n\nconst Visit = ({ visit, classes }) => {\n  if (!visit) {\n    return 'Не указано';\n  }\n  const { locationName, visitType } = visit;\n  const Icon = resolveVisitIconComponent(visitType);\n  return (\n    <div className={classes.container}>\n      {Icon && <Icon className={classes.icon} />}\n      {locationName}\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    display: 'inline-block',\n    marginRight: '4px',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n};\n\nVisit.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  visit: PropTypes.shape(visitPropTypes),\n};\n\nVisit.defaultProps = {\n  visit: {},\n};\n\nexport default withStyles(styles)(Visit);\n","// todo use localization library\nimport {\n  RIDE_CLASSES,\n  RIDE_OCCUPATION,\n  RIDE_TYPES,\n  VEHICLE_TYPES,\n} from 'travel/models/rides/consts';\n\nexport const RIDE_CLASSES_NAMES = {\n  [RIDE_CLASSES.ECONOMY]: 'Эконом',\n  [RIDE_CLASSES.COMFORT]: 'Комфорт',\n  [RIDE_CLASSES.BUSINESS]: 'Бизнес',\n  [RIDE_CLASSES.FIRST]: 'Первый',\n  [RIDE_CLASSES.PRIVATE]: 'Частный',\n};\n\nexport const RIDE_OCCUPATION_NAMES = {\n  [RIDE_OCCUPATION.PASSENGER]: 'Пассажир',\n  [RIDE_OCCUPATION.STUFF]: 'Персонал', // todo кроме персонального транспорта\n  [RIDE_OCCUPATION.DRIVER]: 'Водитель', // todo только для персонального транспорта\n};\n\nexport const RIDE_TYPES_NAMES = {\n  [RIDE_TYPES.SELF_DRIVE]: 'Самостоятельная поездка',\n  [RIDE_TYPES.SCHEDULED]: 'Регулярный рейс',\n  [RIDE_TYPES.CHARTER]: 'Чартерный рейс', // todo only for aircrafts\n  [RIDE_TYPES.TOUR]: 'Тур', // todo except aircrafts\n  [RIDE_TYPES.CARPOOL]: 'Попутный автомобиль',\n  [RIDE_TYPES.HITCH_HIKING]: 'Автостоп',\n};\n\nexport const VEHICLE_NAMES = {\n  [VEHICLE_TYPES.CAR]: 'Автомобиль',\n  [VEHICLE_TYPES.TRAIN]: 'Поезд',\n  [VEHICLE_TYPES.AIRCRAFT]: 'Самолет',\n  [VEHICLE_TYPES.BUS]: 'Автобус',\n  [VEHICLE_TYPES.MOTORHOME]: 'Дом на колесах',\n  [VEHICLE_TYPES.LOCAL_TRAIN]: 'Электричка',\n  [VEHICLE_TYPES.FERRY]: 'Паром',\n  [VEHICLE_TYPES.BIKE]: 'Велосипед',\n  [VEHICLE_TYPES.BY_FEET]: 'Пешком',\n  [VEHICLE_TYPES.ROPEWAY]: 'Канатная дорога',\n  [VEHICLE_TYPES.FUNICULAR]: 'Фуникулер',\n  [VEHICLE_TYPES.MOTORBIKE]: 'Мотоцикл',\n  [VEHICLE_TYPES.TRUCK]: 'Грузовик',\n  [VEHICLE_TYPES.ALL_TERRAIN_VEHICLE]: 'Вездеход',\n};\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { DatePicker, TimePicker } from '@material-ui/pickers';\nimport OptionsSelect from 'modules/components/muiExtended/OptionsSelect/OptionsSelect';\nimport {\n  RIDE_CLASSES,\n  RIDE_OCCUPATION,\n  RIDE_TYPES,\n  VEHICLE_TYPES,\n} from 'travel/models/rides/consts';\nimport {\n  VEHICLE_NAMES,\n  RIDE_CLASSES_NAMES,\n  RIDE_TYPES_NAMES,\n  RIDE_OCCUPATION_NAMES,\n} from '../localization';\n\n// if ride was started/ended in origin, then it has no corresponding\n// related visit. Relation is null. So this is not a magic, but real value\nconst ORIGIN_OF_TRIP = null;\n\nconst renderVehicleType = ({ option: vehicleType }) =>\n  vehicleType ? VEHICLE_NAMES[vehicleType] : 'Не указан';\nconst renderRideType = ({ option: rideType }) =>\n  rideType ? RIDE_TYPES_NAMES[rideType] : 'Не указан';\nconst renderRideClass = ({ option: rideClass }) =>\n  rideClass ? RIDE_CLASSES_NAMES[rideClass] : 'Не указан';\nconst renderRideOccupation = ({ option: rideOccupation }) =>\n  rideOccupation ? RIDE_OCCUPATION_NAMES[rideOccupation] : 'Не указан';\n\nexport const useRideState = ({\n  departureVisitId: initialArrivalVisitId,\n  arrivalVisitId: initialDepartureVisitId,\n  vehicleType: initialVehicleType,\n  rideType: initialRideType,\n  rideClass: initialRideClass,\n  rideOccupation: initialRideOccupation,\n  departureDateTime: initialDepartureDateTime,\n  arrivalDateTime: initialArrivalDateTime,\n}) => {\n  const [rideState, setRideState] = useState({\n    departureVisitId: initialArrivalVisitId,\n    arrivalVisitId: initialDepartureVisitId,\n    vehicleType: initialVehicleType,\n    rideType: initialRideType,\n    rideClass: initialRideClass,\n    rideOccupation: initialRideOccupation,\n    departureDateTime: initialDepartureDateTime,\n    arrivalDateTime: initialArrivalDateTime,\n  });\n\n  return {\n    rideState,\n    setRideState: rideStateUpdate =>\n      setRideState({ ...rideState, ...rideStateUpdate }),\n  };\n};\n\nconst styles = {\n  optionGroup: {\n    display: 'flex',\n  },\n};\n\nconst RideEditCard = ({\n  classes,\n  availableVisits,\n  originLocation,\n  rideState: {\n    departureVisitId,\n    arrivalVisitId,\n    vehicleType,\n    rideType,\n    rideClass,\n    rideOccupation,\n    departureDateTime,\n    arrivalDateTime,\n  },\n  setRideState,\n}) => {\n  const setDepartureVisitId = useCallback(\n    ({ target: { value: nextDepartureVisitId } }) =>\n      setRideState({ departureVisitId: nextDepartureVisitId }),\n    [setRideState],\n  );\n  const setArrivalVisitId = useCallback(\n    ({ target: { value: nextArrivalVisitId } }) =>\n      setRideState({ arrivalVisitId: nextArrivalVisitId }),\n    [setRideState],\n  );\n  const setVehicleType = useCallback(\n    ({ target: { value: nextVehicleType } }) =>\n      setRideState({ vehicleType: nextVehicleType }),\n    [setRideState],\n  );\n  const setRideType = useCallback(\n    ({ target: { value: nextRideType } }) =>\n      setRideState({ rideType: nextRideType }),\n    [setRideState],\n  );\n  const setRideClass = useCallback(\n    ({ target: { value: nextRideClass } }) =>\n      setRideState({ rideClass: nextRideClass }),\n    [setRideState],\n  );\n  const setRideOccupation = useCallback(\n    ({ target: { value: nextRideOccupation } }) =>\n      setRideState({ rideOccupation: nextRideOccupation }),\n    [setRideState],\n  );\n  const setArrivalDateTime = useCallback(\n    nextArrivalDateTime =>\n      setRideState({ arrivalDateTime: nextArrivalDateTime }),\n    [setRideState],\n  );\n  const setDepartureDateTime = useCallback(\n    nextDepartureDateTime =>\n      setRideState({ departureDateTime: nextDepartureDateTime }),\n    [setRideState],\n  );\n  const availableVisitsIds = availableVisits.map(({ visitId }) => visitId);\n  const visitsDict = Object.fromEntries(\n    availableVisits.map(visit => {\n      const { visitId } = visit;\n      return [visitId, visit];\n    }),\n  );\n  const renderVisit = useCallback(\n    ({ option: visitId }) => {\n      if (visitId === ORIGIN_OF_TRIP) {\n        const { locationName } = originLocation;\n        return locationName;\n      }\n      const visit = visitsDict[visitId];\n      if (!visit) {\n        return 'Не указано';\n      }\n      const { locationName } = visit;\n      return locationName;\n    },\n    [visitsDict],\n  );\n  return (\n    <>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Отправление из\"\n          inputId=\"RideEditCard-departureVisitId\"\n          onChange={setDepartureVisitId}\n          optionRender={renderVisit}\n          hasNullOption={false}\n          options={[ORIGIN_OF_TRIP, ...availableVisitsIds]}\n          value={departureVisitId}\n        />\n        <OptionsSelect\n          caption=\"Прибытие в\"\n          inputId=\"RideEditCard-arrivalVisitId\"\n          onChange={setArrivalVisitId}\n          hasNullOption={false}\n          optionRender={renderVisit}\n          options={[...availableVisitsIds, ORIGIN_OF_TRIP]}\n          value={arrivalVisitId}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Транспорт\"\n          inputId=\"RideEditCard-VehicleTypeOptions\"\n          onChange={setVehicleType}\n          optionRender={renderVehicleType}\n          options={Object.values(VEHICLE_TYPES)}\n          value={vehicleType}\n        />\n        <OptionsSelect\n          caption=\"Тип поездки\"\n          inputId=\"RideEditCard-RideTypeOptions\"\n          onChange={setRideType}\n          optionRender={renderRideType}\n          options={Object.values(RIDE_TYPES)}\n          value={rideType}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Класс поездки\"\n          inputId=\"RideEditCard-RideClassOptions\"\n          onChange={setRideClass}\n          optionRender={renderRideClass}\n          options={Object.values(RIDE_CLASSES)}\n          value={rideClass}\n        />\n        <OptionsSelect\n          caption=\"Роль\"\n          inputId=\"RideEditCard-RideOccupationOptions\"\n          onChange={setRideOccupation}\n          optionRender={renderRideOccupation}\n          options={Object.values(RIDE_OCCUPATION)}\n          value={rideOccupation}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <DatePicker\n          autoOk={true}\n          value={departureDateTime}\n          onChange={setDepartureDateTime}\n          label=\"Дата отправления\"\n        />\n        <TimePicker\n          autoOk={true}\n          ampm={false}\n          value={departureDateTime}\n          onChange={setDepartureDateTime}\n          label=\"Время отправления\"\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <DatePicker\n          autoOk={true}\n          value={arrivalDateTime}\n          onChange={setArrivalDateTime}\n          label=\"Дата прибытия\"\n        />\n        <TimePicker\n          autoOk={true}\n          ampm={false}\n          value={arrivalDateTime}\n          onChange={setArrivalDateTime}\n          label=\"Время прибытия\"\n        />\n      </div>\n    </>\n  );\n};\n\nRideEditCard.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\nRideEditCard.defaultProps = {\n  className: undefined,\n};\n\nexport default withStyles(styles)(RideEditCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport RideEditCard, { useRideState } from './blocks/RideEditCard';\n\nconst RideEditDialog = ({\n  availableVisits,\n  initialState,\n  children,\n  className,\n  onSubmit: handleSubmit,\n  originLocation,\n}) => {\n  const { rideState, setRideState } = useRideState(initialState);\n  const [isOpen, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const handleSubmitInternal = () => {\n    handleSubmit(rideState);\n    handleClose(false);\n  };\n\n  return (\n    <div className={className}>\n      <IconButton\n        data-sort-handler=\"disabled\"\n        size=\"small\"\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleClickOpen}\n      >\n        {children}\n      </IconButton>\n      {isOpen && (\n        <Dialog\n          transitionDuration={500}\n          open={true}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Транспорт</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Как вы добрались в место назначения и как уехали из него?\n            </DialogContentText>\n            <RideEditCard\n              availableVisits={availableVisits}\n              rideState={rideState}\n              setRideState={setRideState}\n              originLocation={originLocation}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              Отмена\n            </Button>\n            <Button onClick={handleSubmitInternal} color=\"primary\">\n              Сохранить\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </div>\n  );\n};\n\nRideEditDialog.propTypes = {\n  availableVisits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  initialState: PropTypes.shape(ridePropTypes).isRequired,\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  onSubmit: PropTypes.func.isRequired,\n  originLocation: PropTypes.shape(locationsPropTypes).isRequired,\n};\nRideEditDialog.defaultProps = {\n  className: undefined,\n  availableVisits: [],\n};\n\nexport default RideEditDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport BikeIcon from '@material-ui/icons/DirectionsBike';\nimport BoatIcon from '@material-ui/icons/DirectionsBoat';\nimport BusIcon from '@material-ui/icons/DirectionsBus';\nimport CarIcon from '@material-ui/icons/DirectionsCar';\nimport CustomTransportIcon from '@material-ui/icons/Commute';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\nimport TerrainIcon from '@material-ui/icons/Terrain';\nimport TrainIcon from '@material-ui/icons/Train';\nimport TruckIcon from '@material-ui/icons/LocalShipping';\nimport VanIcon from '@material-ui/icons/AirportShuttle';\nimport WalkIcon from '@material-ui/icons/DirectionsWalk';\nimport UnknownRideIcon from '@material-ui/icons/NotListedLocation';\nimport arrivalDepartureDateTimeToString from 'modules/utilities/dateTime/arrivalDepartureDateTimeToString';\nimport { VEHICLE_TYPES } from 'travel/models/rides/consts';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport initializeRide from 'travel/models/rides/initialize';\nimport RideEditDialog from 'travel/components/models/rides/RideEditDialog';\n\nconst resolveRideIconComponent = vehicleType => {\n  switch (vehicleType) {\n    case VEHICLE_TYPES.CAR:\n      return CarIcon;\n    case VEHICLE_TYPES.TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.AIRCRAFT:\n      return FlightIcon;\n    case VEHICLE_TYPES.BUS:\n      return BusIcon;\n    case VEHICLE_TYPES.MOTORHOME:\n      return VanIcon;\n    case VEHICLE_TYPES.LOCAL_TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.FERRY:\n      return BoatIcon;\n    case VEHICLE_TYPES.BIKE:\n      return BikeIcon;\n    case VEHICLE_TYPES.BY_FEET:\n      return WalkIcon;\n    case VEHICLE_TYPES.MOTORBIKE:\n      return MotorcycleIcon;\n    case VEHICLE_TYPES.TRUCK:\n      return TruckIcon;\n    case VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:\n      return TerrainIcon;\n    case VEHICLE_TYPES.ROPEWAY:\n    case VEHICLE_TYPES.FUNICULAR:\n    default:\n      return CustomTransportIcon;\n  }\n};\n\nexport const styles = {\n  container: {\n    display: 'inline-block',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n  details: {\n    marginRight: '4px',\n  },\n  editDialogTrigger: {\n    display: 'inline-block',\n  },\n};\n\nconst Ride = ({\n  availableVisits,\n  originLocation,\n  classes,\n  className,\n  defaultArrivalVisitId,\n  defaultDepartureVisitId,\n  isEditable,\n  onRideUpdate: handleRideUpdate,\n  ride,\n  ride: { rideId, vehicleType, arrivalDateTime, departureDateTime },\n  showDetails,\n}) => {\n  const Icon = rideId ? resolveRideIconComponent(vehicleType) : UnknownRideIcon;\n  const iconNode = <Icon className={classes.icon} />;\n  const rideInitialState = rideId\n    ? ride\n    : initializeRide({\n        defaultDepartureVisitId,\n        defaultArrivalVisitId,\n      });\n  const rideNode = isEditable ? (\n    <RideEditDialog\n      className={classes.editDialogTrigger}\n      initialState={rideInitialState}\n      availableVisits={availableVisits}\n      onSubmit={updatedRide => handleRideUpdate({ ...ride, ...updatedRide })}\n      originLocation={originLocation}\n    >\n      {iconNode}\n    </RideEditDialog>\n  ) : (\n    iconNode\n  );\n  return (\n    <div className={cls(className, classes.container)}>\n      {rideNode}\n      {Boolean(rideId && showDetails) && (\n        <span className={classes.details}>\n          {arrivalDepartureDateTimeToString(departureDateTime, arrivalDateTime)}\n        </span>\n      )}\n    </div>\n  );\n};\n\nRide.propTypes = {\n  availableVisits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  className: PropTypes.string,\n  defaultArrivalVisitId: PropTypes.number,\n  defaultDepartureVisitId: PropTypes.number,\n  isEditable: PropTypes.bool,\n  onRideUpdate: PropTypes.func.isRequired,\n  originLocation: PropTypes.shape(locationsPropTypes).isRequired,\n  ride: PropTypes.shape(ridePropTypes),\n  showDetails: PropTypes.bool,\n};\n\nRide.defaultProps = {\n  availableVisits: [],\n  className: undefined,\n  defaultArrivalVisitId: undefined,\n  defaultDepartureVisitId: undefined,\n  isEditable: true,\n  ride: {},\n  showDetails: false,\n};\n\nexport default withStyles(styles)(Ride);\n","export default (departureDateTime, arrivalDateTime) => {\n  const arrivalDateTimeString =\n    Boolean(arrivalDateTime) && arrivalDateTime.toLocaleDateString();\n  const departureDateTimeString =\n    Boolean(departureDateTime) && departureDateTime.toLocaleDateString();\n  if (arrivalDateTimeString === departureDateTimeString) {\n    return arrivalDateTimeString;\n  }\n  return `${departureDateTimeString}—${arrivalDateTimeString}`;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport Visit from 'travel/components/models/visits/Visit';\nimport Ride from './Ride';\n\nconst styles = {\n  alwaysVisible: {},\n  container: {\n    position: 'relative',\n    '&:hover $editDialogTrigger': {\n      visibility: 'visible',\n    },\n    // '&:hover $ride, $alwaysVisible': {\n    //   display: 'inline-block',\n    // },\n  },\n  editDialogTrigger: {\n    marginLeft: '4px',\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    display: 'inline-block',\n    visibility: 'hidden',\n  },\n  ride: {\n    // display: 'none',\n  },\n  warning: {\n    color: 'red',\n  },\n};\n\nconst VisitWithRides = ({\n  visit,\n  visit: { visitId, arrivalRideId, departureRideId } = {},\n  ridesDict,\n  classes,\n  prevVisitId,\n  nextVisitId,\n  tripVisitsList,\n  isEditable,\n  isSorting,\n  isArrivalRideMatch,\n  isDepartureRideMatch,\n  onRideUpdate: handleRideUpdate,\n  originLocation,\n}) => {\n  const shouldWarnForArrivalRide = isEditable && !isArrivalRideMatch;\n  const shouldWarnForDepartureRide = isEditable && !isDepartureRideMatch;\n  return (\n    <div className={classes.container}>\n      <Ride\n        availableVisits={tripVisitsList}\n        defaultDepartureVisitId={prevVisitId}\n        defaultArrivalVisitId={visitId}\n        visitId={visitId}\n        isEditable={isEditable}\n        className={cls(classes.ride, {\n          [classes.alwaysVisible]: isSorting || !isDepartureRideMatch,\n          [classes.warning]: shouldWarnForArrivalRide,\n        })}\n        ride={ridesDict[arrivalRideId]}\n        showDetails={isSorting || shouldWarnForArrivalRide}\n        onRideUpdate={handleRideUpdate}\n        originLocation={originLocation}\n      />\n      <Visit visit={visit} />\n      {(!isDepartureRideMatch || isSorting) && (\n        <Ride\n          className={cls(classes.ride, {\n            [classes.alwaysVisible]: isSorting || !isDepartureRideMatch,\n            [classes.warning]: shouldWarnForDepartureRide,\n          })}\n          ride={ridesDict[departureRideId]}\n          availableVisits={tripVisitsList}\n          defaultDepartureVisitId={visitId}\n          defaultArrivalVisitId={nextVisitId}\n          isEditable={isEditable && !isDepartureRideMatch}\n          showDetails={isSorting || shouldWarnForDepartureRide}\n          onRideUpdate={handleRideUpdate}\n          originLocation={originLocation}\n        />\n      )}\n    </div>\n  );\n};\n\nVisitWithRides.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  isArrivalRideMatch: PropTypes.bool,\n  isDepartureRideMatch: PropTypes.bool,\n  isEditable: PropTypes.bool,\n  isSorting: PropTypes.bool,\n  nextVisitId: PropTypes.number,\n  onRideUpdate: PropTypes.func.isRequired,\n  originLocation: PropTypes.shape(locationsPropTypes).isRequired,\n  prevVisitId: PropTypes.number,\n  ridesDict: PropTypes.objectOf(PropTypes.shape(ridePropTypes)).isRequired,\n  tripVisitsList: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  visit: PropTypes.shape(visitPropTypes).isRequired,\n};\n\nVisitWithRides.defaultProps = {\n  isArrivalRideMatch: true,\n  isDepartureRideMatch: true,\n  isEditable: false,\n  isSorting: false,\n  nextVisitId: null,\n  prevVisitId: null,\n  tripVisitsList: [],\n};\n\nexport default withStyles(styles)(VisitWithRides);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport IconHome from '@material-ui/icons/Home';\nimport EditIcon from '@material-ui/icons/Edit';\nimport locationPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport tripPropTypes from 'travel/models/trips/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport Location from 'travel/components/models/locations/Location';\nimport TripEditDialog from 'travel/components/models/trips/TripEditDialog';\nimport VisitWithRides from './VisitWithRides';\nimport Ride from './Ride';\n\nconst SortableTrip = SortableContainer(({ children }) => <div>{children}</div>);\nconst SortableVisitWithRides = SortableElement(VisitWithRides);\n\nconst checkIsRidesMatch = (prevVisit, nextVisit) => {\n  if (!prevVisit || !nextVisit) {\n    return true;\n  }\n  const { departureRideId: prevVisitDepartureRideId } = prevVisit;\n  const { arrivalRideId: nextVisitArrivalRideId } = nextVisit;\n  return prevVisitDepartureRideId === nextVisitArrivalRideId;\n};\nconst checkIsNodeNotSortable = event => {\n  let element = event.target;\n  while (element) {\n    if (element.dataset && element.dataset.sortHandler === 'disabled') {\n      return true;\n    }\n    element = element.parentNode;\n  }\n  return false;\n};\n\nconst Trip = ({\n  isEditable,\n  locationsDict,\n  onRideUpdate: handleRideUpdate,\n  onVisitsOrderUpdate: handleVisitsOrderUpdate,\n  ridesDict,\n  trip,\n  trip: { originLocationId, tripName },\n  tripIndex,\n  tripVisitsList,\n  onTripUpdate: handleTripUpdate,\n}) => {\n  const [isSorting, setIsSorting] = useState(false);\n  const handleSortEnd = (data, event) => {\n    setIsSorting(false);\n    handleVisitsOrderUpdate(event, {\n      ...data,\n      collection: tripVisitsList,\n    });\n  };\n\n  const isSortable = isEditable;\n  const VisitWithRidesComponent = isSortable\n    ? SortableVisitWithRides\n    : VisitWithRides;\n\n  const visitsNodes = tripVisitsList.map((visit, indexOfVisit) => {\n    const { visitId } = visit;\n    const prevVisit =\n      indexOfVisit > 0 ? tripVisitsList[indexOfVisit - 1] : null;\n    const nextVisit =\n      indexOfVisit < tripVisitsList.length - 1\n        ? tripVisitsList[indexOfVisit + 1]\n        : null;\n    return (\n      <VisitWithRidesComponent\n        key={visitId}\n        index={indexOfVisit /* for SortableVisitWithRides */}\n        isArrivalRideMatch={checkIsRidesMatch(prevVisit, visit)}\n        isDepartureRideMatch={checkIsRidesMatch(visit, nextVisit)}\n        isEditable={isEditable}\n        isSorting={isSorting}\n        onRideUpdate={handleRideUpdate}\n        prevVisitId={prevVisit && prevVisit.visitId}\n        nextVisitId={nextVisit && nextVisit.visitId}\n        ridesDict={ridesDict}\n        tripVisitsList={tripVisitsList}\n        visit={visit}\n        originLocation={locationsDict[originLocationId]}\n      />\n    );\n  });\n\n  const wrappedVisitsNodes = !isSortable ? (\n    <div>{visitsNodes}</div>\n  ) : (\n    <SortableTrip\n      onSortEnd={handleSortEnd}\n      shouldCancelStart={checkIsNodeNotSortable}\n      updateBeforeSortStart={() => setIsSorting(true)}\n    >\n      {visitsNodes}\n    </SortableTrip>\n  );\n\n  const originLocationNode = (\n    <Location location={locationsDict[originLocationId]} Icon={IconHome} />\n  );\n\n  const recentVisit = tripVisitsList[tripVisitsList.length - 1];\n  const preRecentVisit = tripVisitsList[tripVisitsList.length - 2];\n  const { departureRideId: rideToHomeId, visitId: recentVisitId } =\n    recentVisit || {};\n  return (\n    <>\n      <h1>\n        {`${tripIndex + 1}. ${tripName}`}\n        {isEditable && (\n          <TripEditDialog\n            initialState={trip}\n            onSubmit={updatedTrip =>\n              handleTripUpdate({ ...trip, ...updatedTrip })\n            }\n          >\n            <EditIcon />\n          </TripEditDialog>\n        )}\n      </h1>\n      {originLocationNode}\n      {wrappedVisitsNodes}\n      <Ride\n        ride={ridesDict[rideToHomeId]}\n        showDetails={\n          isSorting || checkIsRidesMatch(preRecentVisit, recentVisit)\n        }\n        onRideUpdate={handleRideUpdate}\n        isEditable={isEditable}\n        availableVisits={tripVisitsList}\n        defaultDepartureVisitId={recentVisitId}\n        originLocation={locationsDict[originLocationId]}\n      />\n      {originLocationNode}\n    </>\n  );\n};\nTrip.propTypes = {\n  tripIndex: PropTypes.number.isRequired,\n  isEditable: PropTypes.bool,\n  locationsDict: PropTypes.objectOf(PropTypes.shape(locationPropTypes))\n    .isRequired,\n  onRideUpdate: PropTypes.func.isRequired,\n  onTripUpdate: PropTypes.func.isRequired,\n  onVisitsOrderUpdate: PropTypes.func.isRequired,\n  ridesDict: PropTypes.objectOf(PropTypes.shape(ridePropTypes)).isRequired,\n  trip: PropTypes.shape(tripPropTypes).isRequired,\n  tripVisitsList: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\n\nTrip.defaultProps = {\n  isSortable: false,\n  tripVisitsList: [],\n};\n\nexport default Trip;\n","export default ({ orderResolver: resolveOrder }) => ({ index, collection }) => {\n  if (index <= 0) {\n    return resolveOrder(collection[0]) - 1;\n  }\n  if (index >= collection.length - 1) {\n    return resolveOrder(collection[collection.length - 1]) + 1;\n  }\n  const prevOrder = resolveOrder(collection[index]);\n  const nextOrder = resolveOrder(collection[index + 1]);\n  const randomness = ((Math.random() - 0.5) * (nextOrder - prevOrder)) / 2;\n  return (prevOrder + nextOrder) / 2 + randomness;\n};\n","import createOrderCalculator from 'modules/utilities/algorithms/createOrderCalculator';\n\nconst calcOrder = createOrderCalculator({\n  orderResolver: ({ orderInTrip }) => orderInTrip,\n});\n\nexport const submitOrderInTrip = ({ oldIndex, newIndex, collection }) => ({\n  modelName: 'visits',\n  query: {\n    id: collection[oldIndex].visitId,\n    body: {\n      orderInTrip: calcOrder({ index: newIndex, collection }),\n    },\n  },\n  meta: {\n    domain: 'trips.visits.sort',\n  },\n});\n\nexport const submitRide = ({ ride, ride: { rideId } }) => ({\n  modelName: 'rides',\n  query: {\n    id: rideId,\n    body: ride,\n  },\n  meta: {\n    domain: 'trips.visits.rides',\n  },\n});\n\nexport const submitTrip = ({ trip, trip: { tripId } }) => ({\n  modelName: 'trips',\n  query: {\n    id: tripId,\n    body: trip,\n  },\n  meta: {\n    domain: 'trips.visits.trips',\n  },\n});\n","import React, { useCallback } from 'react';\nimport compose from 'lodash/fp/compose';\nimport PropTypes from 'prop-types';\nimport groupBy from 'lodash/groupBy';\nimport mapValues from 'lodash/mapValues';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { memoizeByLastArgs } from 'modules/utilities/memo';\nimport { selectDict } from 'core/connection';\nimport withProvision from 'core/connection/withProvision';\nimport { authContextPropTypes, withAuth } from 'core/context/AuthContext';\nimport TripEditDialog from 'travel/components/models/trips/TripEditDialog';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridesPropTypes from 'travel/models/rides/propTypes';\nimport initializeTrip from 'travel/models/trips/initialize';\nimport tripPropTypes from 'travel/models/trips/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport Trip from './blocks/Trip';\nimport { submitRide, submitOrderInTrip, submitTrip } from './actionCreators';\n\nconst groupAndOrderVisitsByTrips = memoizeByLastArgs(visitsList =>\n  mapValues(groupBy(visitsList, 'tripId'), tripVisitsList =>\n    tripVisitsList.sort(\n      ({ orderInTrip: orderInTripA }, { orderInTrip: orderInTripB }) =>\n        orderInTripA - orderInTripB,\n    ),\n  ),\n);\n\nconst Trips = ({\n  trips: { data: tripsList = [] } = {},\n  visits: { data: visitsList = [] } = {},\n  locationsDict,\n  ridesDict,\n  request,\n  isAuthenticated: isEditable,\n}) => {\n  if (!ridesDict || !visitsList) {\n    return <div>None</div>;\n  }\n  const handleVisitsOrderUpdate = useCallback(\n    (event, { oldIndex, newIndex, collection }) => {\n      if (oldIndex !== newIndex) {\n        request(submitOrderInTrip({ oldIndex, newIndex, collection }));\n      }\n    },\n    [request],\n  );\n  const handleRideUpdate = useCallback(ride => request(submitRide({ ride })), [\n    request,\n  ]);\n  const handleTripUpdate = useCallback(trip => request(submitTrip({ trip })), [\n    request,\n  ]);\n\n  const visitsGroupedByTrips = groupAndOrderVisitsByTrips(visitsList);\n  return (\n    <>\n      {isEditable && (\n        <TripEditDialog\n          initialState={initializeTrip()}\n          onSubmit={handleTripUpdate}\n        >\n          <EditIcon />\n        </TripEditDialog>\n      )}\n      {tripsList.map((trip, tripIndex) => {\n        const { tripId } = trip;\n        return (\n          <div key={tripId}>\n            <Trip\n              isEditable={isEditable}\n              locationsDict={locationsDict}\n              onRideUpdate={handleRideUpdate}\n              onTripUpdate={handleTripUpdate}\n              onVisitsOrderUpdate={handleVisitsOrderUpdate}\n              ridesDict={ridesDict}\n              trip={trip}\n              tripIndex={tripIndex}\n              tripVisitsList={visitsGroupedByTrips[tripId]}\n            />\n          </div>\n        );\n      })}\n    </>\n  );\n};\nTrips.propTypes = {\n  isAuthenticated: authContextPropTypes.isAuthenticated.isRequired,\n  request: PropTypes.func.isRequired,\n  trips: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(tripPropTypes)),\n  }).isRequired,\n  visits: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  }).isRequired,\n  ridesDict: PropTypes.objectOf(PropTypes.shape(ridesPropTypes)).isRequired,\n  locationsDict: PropTypes.objectOf(PropTypes.shape(locationsPropTypes))\n    .isRequired,\n};\n\nexport default compose(\n  withAuth,\n  withProvision(\n    () => ({\n      require: {\n        locations: {\n          modelName: 'locations',\n          query: { navigation: { isDisabled: true } },\n        },\n        rides: {\n          modelName: 'rides',\n          query: { navigation: { isDisabled: true } },\n        },\n        trips: {\n          modelName: 'trips',\n          query: { navigation: { isDisabled: true } },\n        },\n        visits: {\n          modelName: 'visits',\n          query: { navigation: { isDisabled: true } },\n        },\n      },\n      meta: { domain: 'trips' },\n    }),\n    state => ({\n      locationsDict: selectDict(state, 'locations'),\n      ridesDict: selectDict(state, 'rides'),\n    }),\n  ),\n)(Trips);\n","export default () => ({\n  tripType: null,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet';\nimport styled from 'styled-components';\n\nconst Header = styled.header`\n  font-family: 'Lora', serif;\n`;\n\nconst Article = styled.article`\n  max-width: 720px;\n  margin: 0 auto;\n`;\n\nconst Paragraph = styled.div`\n  margin-bottom: 12px;\n  line-height: 1.5;\n`;\n\nconst ParagraphTitle = styled.h3`\n  font-family: 'Lora', serif;\n`;\n\nconst StyledBlockTitle = styled.h4`\n  background-color: #fff;\n  display: inline-block;\n  margin: 12px 12px 0 28px;\n  padding: 0 2px;\n  position: relative;\n  top: 12px;\n`;\n\nconst StyledBlockBody = styled.blockquote`\n  border-radius: 2px;\n  border: 1px solid #212121;\n  margin: 0 auto;\n  padding: 16px 8px 8px 28px;\n`;\n\nconst nodeOrStringPropType = PropTypes.oneOfType([\n  PropTypes.node,\n  PropTypes.string,\n]);\n\nconst Block = ({ children, title }) => (\n  <Paragraph>\n    <StyledBlockTitle>{title}</StyledBlockTitle>\n    <StyledBlockBody>{children}</StyledBlockBody>\n  </Paragraph>\n);\nBlock.propTypes = {\n  children: nodeOrStringPropType.isRequired,\n  title: nodeOrStringPropType.isRequired,\n};\n\nconst Quote = ({ children }) => (\n  <Block title=\"Цитата\">\n    <em>{children}</em>\n  </Block>\n);\nQuote.propTypes = {\n  children: nodeOrStringPropType.isRequired,\n};\n\nconst Guidance = ({ children }) => <Block title=\"Действие\">{children}</Block>;\nGuidance.propTypes = {\n  children: nodeOrStringPropType.isRequired,\n};\n\nconst Example = ({ children }) => <Block title=\"Пример\">{children}</Block>;\nExample.propTypes = {\n  children: nodeOrStringPropType.isRequired,\n};\n\nconst Footnote = ({ children }) => <Block title=\"Примечание\">{children}</Block>;\nFootnote.propTypes = {\n  children: nodeOrStringPropType.isRequired,\n};\n\nconst ChaptersList = styled.ol`\n  margin: 36px 0 0;\n  padding: 0;\n  list-style: none;\n`;\n\nconst Chapter = styled.li`\n  margin-bottom: 72px;\n  ${Paragraph} {\n    padding-left: 32px;\n  }\n`;\n\nconst Clause = styled.li`\n  margin-bottom: 12px;\n`;\n\nconst OrderedList = styled.ol``;\n\nconst UnorderedList = styled.ul`\n  list-style-type: none;\n  margin-right: 0;\n  padding: 0;\n  ${Clause} {\n    :before {\n      content: '–';\n      margin-right: 4px;\n    }\n  }\n`;\n\nconst Small = styled.p`\n  font-size: 0.8em;\n`;\n\nfunction Chaldini() {\n  return (\n    <React.Fragment>\n      <Helmet>\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Lora:700|Merriweather:400,400i&amp;subset=cyrillic\"\n          rel=\"stylesheet\"\n        />\n      </Helmet>\n      <Article>\n        <Header>\n          <h1>Р.&nbsp;Чалдини и&nbsp;др. &laquo;Психология убеждения&raquo;</h1>\n          <h3>Краткий конспект книги</h3>\n        </Header>\n        <main>\n          <Paragraph>\n            В&nbsp;книге, с&nbsp;опорой на&nbsp;исследования <em>ученых</em>,\n            представлены полсотни разных техник, призванных повысить\n            проникновенность вашей идеи для вашей аудитории. Каждая техника\n            сулит какой-то процент улучшений, от&nbsp;мизерного, в&nbsp;пределах\n            погрешности, до&nbsp;значительного.\n          </Paragraph>\n          <Paragraph>\n            Этот конспект готовился для личных нужд и&nbsp;не&nbsp;эквивалентен\n            материалу из&nbsp;книги. Конечно я&nbsp;старался передать идеи\n            автора, но&nbsp;уверен, что в чем-то отклонился от&nbsp;оригинальной\n            задумки. Несколько пунктов я&nbsp;и вовсе пропустил.\n            По&nbsp;соображением краткости и&nbsp;экономии времени, здесь нет\n            отсылок к&nbsp;оригинальным исследованиям. А&nbsp;еще весь материал\n            подвергнут искажениям моей личной интерпретации.\n          </Paragraph>\n          <Paragraph>\n            Поэтому перед тем как продолжить чтение подумайте, возможно вас\n            больше заинтересует оригинал книги.\n          </Paragraph>\n          <ChaptersList>\n            <Chapter>\n              <ParagraphTitle>1. Социальное доказательство </ParagraphTitle>\n              <Guidance>\n                <UnorderedList>\n                  <Clause>\n                    Подчеркивать поведение одобряемое большинством в&nbsp;той\n                    или иной ситуации\n                  </Clause>\n                  <Clause>\n                    Указывать на&nbsp;растущее число присоединившихся, особенно\n                    на ранних стадиях компании, когда вам надо набрать обороты.\n                  </Clause>\n                </UnorderedList>\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>2. Против толпы</ParagraphTitle>\n              <Paragraph>\n                Каждому, кто хочет воспрепятствовать определенному поведению,\n                стоит подумать о&nbsp;возможности вызвать ассоциацию этого\n                поведения с&nbsp;нежелательной самоидентификацией\n              </Paragraph>\n              <Quote>\n                За&nbsp;противодействие общественному мнению мы&nbsp;платим\n                своими эмоциями и&nbsp;цена эта может быть весьма ощутимой, даже\n                болезненной\n              </Quote>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>3. Еще о&nbsp;социальных нормах</ParagraphTitle>\n              <Paragraph>\n                Попытки убеждения будут более успешными, если строить послания в\n                терминах отклонения от&nbsp;социальной нормы,\n                а&nbsp;не&nbsp;соответствия&nbsp;ей. Имеется ввиду социальная\n                норма рассматриваемая собеседником. Сначала нужно учесть реакцию\n                аудитории на&nbsp;социальные нормы.\n              </Paragraph>\n              <Quote>\n                ... люди склонны к&nbsp;подчинению нормам. В&nbsp;то&nbsp;же\n                время в&nbsp;качестве самохарактеристики они выбирают как раз\n                те&nbsp;черты, которыми отличаются от&nbsp;других\n              </Quote>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>4. Разбитые окна </ParagraphTitle>\n              <Paragraph>\n                Когда кто-то замечает, что равные ему по&nbsp;положению люди\n                нарушили одну социальную норму, он&nbsp;не&nbsp;только сам\n                становится более склонным к&nbsp;ее&nbsp;нарушению,\n                но&nbsp;также в&nbsp;большей степени оказывается готов нарушить\n                другую социальную норму связанную с&nbsp;первой.\n              </Paragraph>\n              <Example>\n                Люди видят граффити -&gt; Больше мусорят. Люди видят много\n                мусора -&gt; Больше склонны стащить то&nbsp;что плохо лежит\n              </Example>\n              <Guidance>\n                Нужно показывать уважение других людей к&nbsp;принятым нормам\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>5. Люди любят свои имена</ParagraphTitle>\n              <Paragraph>\n                Обращайтесь к&nbsp;собеседнику по&nbsp;имени, когда это\n                возможно. Люди делают больше пожертвований пострадавшим\n                от&nbsp;урагана, с&nbsp;названием начинающимся\n                на&nbsp;ту&nbsp;же букву, что и&nbsp;их&nbsp;имя\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>6. Выбирайте тип общности</ParagraphTitle>\n              <Example>\n                Пример: Фанаты манчестера больше были готовы помочь фанату\n                Ливерпуля, если до&nbsp;этого они расказывали, чем\n                их&nbsp;привлекает быть футбольным фанатом, а&nbsp;не&nbsp;чем\n                им&nbsp;нравиться манчестер (в&nbsp;этом случае помогали\n                ожидаемо редко)\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>\n                7. Чем дольше отношения, тем меньше понимания между партнерами\n              </ParagraphTitle>\n              <Paragraph>\n                Потому что отношающиеся стороны ориентируются на&nbsp;мнение\n                сложившееся в&nbsp;начале отношений, а&nbsp;люди\n                со&nbsp;временем меняются.\n              </Paragraph>\n              <Guidance>\n                Нужно обмениваться новой информацией. Говорить о&nbsp;тех вещах,\n                о которых уже казалось&nbsp;бы все ясно.\n              </Guidance>\n              <Example>\n                Пригласите на&nbsp;деловую встречу нового человека, ему будет\n                нормально задавать простые вопросы, которые казалось&nbsp;бы\n                очевидны для бывалых участников. Тем не&nbsp;менее ответы могут\n                оказаться неожиданными и&nbsp;для бывалых.\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>\n                8-9. Людям не&nbsp;легко отказаться от&nbsp;обязательства\n              </ParagraphTitle>\n              <Paragraph>\n                Если есть возможность&nbsp;&mdash; возьмите с&nbsp;собеседника\n                обязательство. Обязательство может быть неформальным &mdash;\n                простое согласие или неявным&nbsp;&mdash; вместо обязательства\n                явиться на&nbsp;собрание можно попросить подготовить пару\n                вопросов к докладчику.\n              </Paragraph>\n              <Example>\n                Можно подарить значок типа &laquo;Друг земли&raquo;.\n              </Example>\n              <Guidance>\n                Попросите подтверждения обязательства или проговорите его, чтобы\n                сверить часы и&nbsp;чтобы собеседник уделил больше внимания тому\n                на что он&nbsp;соглашается. Обязательство должно быть\n                конкретным. Хорошо, если человек будет встречать напоминания\n                о&nbsp;своем обязательстве. Люди больше склонны выполнять\n                обязательства, если они взяли на&nbsp;себя их&nbsp;сами.\n              </Guidance>\n              <Example>\n                Время следующей явки к&nbsp;врачу проставляют\n                в&nbsp;регистратуре&nbsp;&mdash; обязательство установленно\n                извне. Пациенты пишут время следуюей явки\n                от&nbsp;руки&nbsp;&mdash; берут обязательство сами.\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>10. Эффект позволения</ParagraphTitle>\n              <Example>\n                После беговой дорожки есть соблазн позволить себе пироженное.\n                Если люди знают, что есть аппарат для утилизации\n                то&nbsp;производят больше мусора, меньше стараясь экономить\n                ресурсы\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>11. Важное дело</ParagraphTitle>\n              <Guidance>\n                Лучшая мотивация&nbsp;&mdash; когда сотрудники понимают, почему\n                их работа важна. Напоминайте им&nbsp;об&nbsp;этом. Расскажите\n                истории клиентов, или познакомьте с&nbsp;клиентами.\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>12. Эскалация обязательств</ParagraphTitle>\n              <Paragraph>\n                <UnorderedList>\n                  <Clause>\n                    Первый принцип: Если человек берет на&nbsp;себя даже\n                    небольшое обязательство, то&nbsp;под влиянием чувства долга\n                    и&nbsp;внимания со стороны окружающих он&nbsp;считает\n                    обязанным это обязательство выполнить.\n                  </Clause>\n                  <Clause>\n                    Второй принцип: На&nbsp;первое место выходит не&nbsp;желание\n                    победить, а&nbsp;желание избежать проигрыша.\n                  </Clause>\n                </UnorderedList>\n              </Paragraph>\n              <Example>\n                Если человек выступает инициатором переговоров,\n                он&nbsp;испытвает излишнее желание довести их&nbsp;до&nbsp;конца\n                и&nbsp;заключить сделку, хотя возможно лучшее\n                решение&nbsp;&mdash; от&nbsp;сделки отказаться\n              </Example>\n              <Guidance>\n                Как избежать: принятие принципиально важного решения\n                об&nbsp;участии в&nbsp;переговорах поручается одному сотруднику,\n                а&nbsp;ведение переговоров&nbsp;&mdash; другому. Однако может\n                не&nbsp;сработать, если эти сотрудники поддерживают между собою\n                отношения.\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>13. Намерения по&nbsp;воплощению</ParagraphTitle>\n              <Guidance>\n                После согласия на&nbsp;что-то, что&nbsp;бы повысить шансы, что\n                обещанное будет исполнено, попросите составить план о&nbsp;том,\n                что будет делать собеседник для исполнения. Либо задайте\n                наводящие вопросы.\n              </Guidance>\n              <Footnote>\n                Подход логичный, но&nbsp;проценты, оценивающие эффективность\n                этой стратегии, приведенные в&nbsp;книге очень скромные.\n                Практически в пределах погрешности: от&nbsp;1&nbsp;до&nbsp;10%\n              </Footnote>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>14. Привязка к&nbsp;будущему</ParagraphTitle>\n              <Guidance>\n                Вместо просьбы согласиться что-то изменить сейчас, попросите\n                дать согласие на&nbsp;изменение в&nbsp;будущем.\n              </Guidance>\n              <Example>\n                Попросить время на&nbsp;рефакторинг в&nbsp;следующем квартале\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>\n                15. Ответственность перед завтрашним собой\n              </ParagraphTitle>\n              <Paragraph>\n                Чем более сильную связь чувствует человек с&nbsp;завтрашним\n                собой, тем скорее он&nbsp;готов измениться к&nbsp;лучшему.\n              </Paragraph>\n              <Example>\n                В&nbsp;эксперименте людям давали посмотреть на&nbsp;свою\n                состаренную фотку и&nbsp;больше людей согласилось увеличить\n                пенсионные накопления. Но процент там тоже сомнителен.\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>16. Неточные цели</ParagraphTitle>\n              <Paragraph>\n                Вместо того чтобы ставить точную цель, например похудеть\n                на&nbsp;10кг лучше ставить интервал&nbsp;&mdash; похудеть\n                на&nbsp;8&mdash;12кг. Так будет больше шансов продержаться,\n                а&nbsp;не&nbsp;откатиться на&nbsp;первом&nbsp;же кг. А&nbsp;еще\n                так даже можно перевыполнить цели, если дело заладиться.\n              </Paragraph>\n              <Quote>\n                Люди должны считать выбранную ими цель достаточно амбициозной,\n                чтобы достигнув ее&nbsp;они могли испытать чувство\n                удовлетворения. В то&nbsp;же время эта цель не&nbsp;должна быть\n                недостижимой\n              </Quote>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle> 17. Расширенный активный выбор</ParagraphTitle>\n              <Paragraph>\n                Есть стратегия поставить человека согласным по&nbsp;умолчанию,\n                она работает (например добавленная по&nbsp;умолчанию страховка\n                при покупке авиабилета), но&nbsp;она естественным образом\n                вызывает возмущение человека, который воспринимает это как обман\n                и лишение выбора. В&nbsp;то&nbsp;же время можно оставить\n                возможность выбора и&nbsp;все&nbsp;же увеличить процент\n                согласия.\n              </Paragraph>\n              <Guidance>\n                Это случится если вместо одного пункта:\n                <Small>\n                  <div>&#9633; Я&nbsp;согласен на&nbsp;прививку</div>\n                </Small>\n                будет два варианта:\n                <Small>\n                  <div>&#9633; Я&nbsp;согласен на&nbsp;прививку</div>\n                  <div>&#9633; Я&nbsp;отказываюсь от&nbsp;прививки</div>\n                </Small>\n                Еще можно изменять текст:\n                <Small>\n                  <div>\n                    &#9633; Я&nbsp;согласен привиться и&nbsp;не&nbsp;болеть\n                    зимой\n                  </div>\n                  <div>\n                    &#9633; Я&nbsp;отказываюсь от&nbsp;прививки\n                    и&nbsp;соглашаюсь с&nbsp;риском заболеть и пропустить неделю\n                    работы.\n                  </div>\n                </Small>\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>\n                18. Меньше времени на&nbsp;раздумья\n              </ParagraphTitle>\n              <Example>\n                Сертификат с&nbsp;длительным сроком намереваются реализовать\n                большее число потенциальных покупателей, однако на&nbsp;деле\n                пользуются им меньше. Откладывают до&nbsp;последнего\n                и&nbsp;забивают.\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>20. Потенциал</ParagraphTitle>\n              <Quote>\n                Как это не&nbsp;парадоксально, предполагаемая возможность\n                преуспеть в какой-либо сфере деятельности часто является более\n                привлекательной в&nbsp;глазах тех, кто принимает решения, чем\n                уже имеющееся мастерство\n              </Quote>\n              <Guidance>\n                В&nbsp;своем сообщение сначала обратите внимание\n                на&nbsp;потенциальную выгоду для клиента, а&nbsp;потом\n                о&nbsp;высоком качестве услуг уже предоставленных в&nbsp;прошлом\n                (достижениях)\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>21. Совещания</ParagraphTitle>\n              <Paragraph>\n                <OrderedList>\n                  <Clause>\n                    Пусть все участники совещания предоставят материалы заранее\n                  </Clause>\n                  <Clause>\n                    Пусть тот, кто ведет совещание выступает последним, чтобы\n                    не&nbsp;оказывать влияние на&nbsp;группу\n                  </Clause>\n                  <Clause>\n                    Пусть ведущий составит чек-лист необходимых условий для\n                    успешного совещания.\n                    <p>\n                      Пример вопросов: Все&nbsp;ли ответственные\n                      за&nbsp;принятие решения находятся на совещании?\n                      Найдется&nbsp;ли здесь кто-либо с&nbsp;противоположным,\n                      но&nbsp;полезным мнением?\n                    </p>\n                  </Clause>\n                </OrderedList>\n              </Paragraph>\n              <Guidance>\n                Если расставить стулья в&nbsp;форме круга, то&nbsp;участники\n                будут более склонны к&nbsp;чувству общности\n                и&nbsp;сосредотачиваются на&nbsp;общей пользе, а&nbsp;если\n                в&nbsp;форме буквы&nbsp;L, то&nbsp;к&nbsp;чувству\n                исключительности и&nbsp;большей ответственности. Кроме того\n                места рассадки стоит определять организаторам. Достаточно\n                поставить карточки с&nbsp;именами.\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>22. Одежда</ParagraphTitle>\n              <Paragraph>\n                Правильный выбор одежды может повысить воспринимаемую\n                авторитетность. Плюс имеет значение фактор сходства\n                с&nbsp;принятым дресс-кодом.\n              </Paragraph>\n              <Guidance>\n                Одевайтесь как принято среди ваших слушателей, но чуть более\n                строго.\n              </Guidance>\n              <Example>\n                Помочь незнакомцу соглашалось вдвое больше людей, если\n                он&nbsp;был одет в&nbsp;форму охранника\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>23. Контекст</ParagraphTitle>\n              <Paragraph>\n                Доводы выступающего принимаются после обсуждения\n                во&nbsp;&laquo;Внутреннем диалоге&raquo;. Поэтому важен контекст\n                этого диалога.\n              </Paragraph>\n              <Example>\n                Предложение сделать более строгим ограничение скорости вызовет\n                больший отклик, если незадолго перед тем слушатель узнал о\n                нескольких случаях тяжелых аварий на&nbsp;оспариваемой\n                допустимой скорости.\n              </Example>\n              <Paragraph>\n                Если выступающего принимают за&nbsp;авторитета,\n                то&nbsp;критическое мышление отключается. На&nbsp;томографии\n                не&nbsp;фиксировали активность связанных с&nbsp;ним отделов\n                мозга.\n              </Paragraph>\n              <Guidance>\n                При представлении обратить внимание на&nbsp;моменты, которые\n                помогут воспринимать вас как авторитета\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>24. Тон</ParagraphTitle>\n              <Paragraph>\n                В&nbsp;ситуации, когда нет четкого однозначного ответа,\n                небольшая нота неуверенности в&nbsp;речи эксперта привлечет\n                внимание к&nbsp;тому о чем он&nbsp;говорит и&nbsp;создаст более\n                доверительную атмосферу. Что поспособствует его убедительности\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>25. Центральное положение</ParagraphTitle>\n              <Paragraph>\n                Человек который разместился в&nbsp;центре группы приобретает\n                большее влияние на&nbsp;остальных. Ему более склонны прощать\n                промахи и ошибки. Однако если явно указать главного это\n                преимущество нивелируется\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>26. Высота потолка</ParagraphTitle>\n              <Quote>\n                Когда потолок высокий, люди склонны мыслить более концептуально\n                и&nbsp;творчески, а&nbsp;когда низкий&nbsp;&mdash; более\n                конкретно и&nbsp;узко\n              </Quote>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>27. Место проведения переговоров</ParagraphTitle>\n              <Paragraph>\n                Сторона на&nbsp;чьей территории проходят переговоры находится\n                в&nbsp;более выгодном положении\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>28. Установка перед переговорами</ParagraphTitle>\n              <Paragraph>\n                Если подумать перед важным разговором или собеседованием о\n                каком-то моменте из&nbsp;прошлого, когда ты&nbsp;чувствовал себя\n                сильным, то&nbsp;это оказывает положительное влияние\n                на&nbsp;результат. А&nbsp;если подумать о&nbsp;моменте, когда\n                чувствовал себя слабым, то&nbsp;сравнимо отрицательное. Открытые\n                позы&nbsp;&mdash; признак сильного человека. Открытая поза имеет\n                обратный эффект, в&nbsp;том смысле если ее принять намерянно,\n                это может придать ощущение силы.\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>31. Взаимная помощь</ParagraphTitle>\n              <Guidance>\n                Первым приходите на&nbsp;помощь коллегам, оказывайте услуги,\n                предлагайте информацию Обязательно подчеркивайте, что оказали\n                помощь в&nbsp;рамках двустороннего соглашения, естественного и\n                справедливого:\n                <UnorderedList>\n                  <Clause>\n                    Не&nbsp;за&nbsp;что, коллеги всегда помогают друг другу\n                  </Clause>\n                  <Clause>\n                    О&nbsp;чем разговор! Я&nbsp;знаю, что в&nbsp;подобной\n                    ситуации вы сделали&nbsp;бы то&nbsp;же самое для меня.\n                  </Clause>\n                </UnorderedList>\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>32. Искренняя благодарность</ParagraphTitle>\n              <Paragraph>\n                Один из&nbsp;способов увеличения своего влияния получателем\n                помощи может оказаться явное выражение благодарности тому, кто\n                эту помощь оказал\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>33. Неожиданность</ParagraphTitle>\n              <Example>\n                Если официант оставлял конфету вместе со&nbsp;счетом,\n                а&nbsp;потом возвращался и&nbsp;оставлял еще одну, то&nbsp;ему\n                давали больше чаевых\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>34. Просто попросите</ParagraphTitle>\n              <Paragraph>\n                Люди обычно значительно недооценивают вероятность того, что им\n                ответят согласием на&nbsp;просьбу о&nbsp;помощи\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>35. Первое предложение</ParagraphTitle>\n              <Paragraph>\n                На&nbsp;переговорах преимущество за&nbsp;тем, кто вносит свое\n                предложение первым. Потому что первое предложение становится\n                отправной точкой для переговоров. Оппонент может даже сам начать\n                искать объяснения первой ставке (вероятно высокой для него)\n                и&nbsp;даже найти&nbsp;их.\n              </Paragraph>\n              <Guidance>\n                Чтобы не&nbsp;оказаться в&nbsp;более слабом положении, когда\n                оппонент успел внести предложение первым или, если прайс заранее\n                оговорен, нужно загодя придумать идеальную для себя цену\n                и&nbsp;найти ей&nbsp;объяснения&mdash;аргументы.\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>36. Не&nbsp;округляйте сумму</ParagraphTitle>\n              <Paragraph>\n                Предложение стоимостью в&nbsp;30215 рублей кажется более\n                выверенным, чем в&nbsp;30000. Создается впечатление, будто оно\n                высчитано по некоторой методике, а&nbsp;значит оправдано.\n                К&nbsp;тому&nbsp;же это несколько неожиданно и&nbsp;такое\n                предложение вызовет больший интерес среди списка подобных.\n                И&nbsp;все&nbsp;же лучше подготовить аргументы о&nbsp;причине\n                именно такой оценки&nbsp;По той&nbsp;же причине лучше попросить\n                сотрудников подготовить работу не&nbsp;через две недели,\n                а&nbsp;через 13 дней. И&nbsp;пригласить для демонстрации\n                результатов в&nbsp;15:47\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>37. 999&nbsp;в цене</ParagraphTitle>\n              <Paragraph>\n                Первая цифра меньше, покупателю кажется выгоднее. Сотрудникам\n                сложнее смухлевать, из-за возросшей сложности расчетов.\n              </Paragraph>\n              <Paragraph>\n                Однако возможно вы&nbsp;хотите продавать именно более дорогой\n                товар?\n              </Paragraph>\n              <Guidance>\n                Другой способ использования&nbsp;&mdash; задавать себе цели,\n                кажущиеся более достижимыми: пробежать не&nbsp;10км, а&nbsp;9,8.\n                Или собрание не&nbsp;на&nbsp;2&nbsp;часа,\n                а&nbsp;на&nbsp;1ч&nbsp;55м\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>\n                38а. Феномен перцептивного контраста\n              </ParagraphTitle>\n              <Paragraph>\n                Восприятие предложения можно изменить, не&nbsp;меняя при этом\n                самого предложения.\n              </Paragraph>\n              <Example>\n                Бутылка вина за&nbsp;35&nbsp;долларов кажется дорогой, если она\n                стоит среди вин по&nbsp;15&nbsp;долларов, но&nbsp;если окружить\n                ее&nbsp;винами за&nbsp;60 долларов, то&nbsp;она наоборот будет\n                восприниматься дешевой.\n              </Example>\n              <Guidance>\n                Можно приберечь предложение на&nbsp;которое мы&nbsp;хотим, чтобы\n                клиент согласился и&nbsp;продемонстрировать в&nbsp;начале\n                несколько неподходящих вариантов. И&nbsp;тогда, когда\n                мы&nbsp;сделаем актуальное предложение оно предстанет\n                в&nbsp;более выгодном свете.\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>38б. Продукт, затем цена</ParagraphTitle>\n              <Paragraph>\n                Если расчет не&nbsp;элементарный больше внимания уделяется\n                первому пункту и&nbsp;видимо, если первый пункт несет пользу\n                у&nbsp;не&nbsp;траты, то предложение выглядит более заманчивым.\n              </Paragraph>\n              <Example>\n                <UnorderedList>\n                  <Clause>\n                    21&nbsp;Гб за&nbsp;370 рублей предпочтительнее чем 370\n                    рублей за&nbsp;31гб.\n                  </Clause>\n                  <Clause>\n                    23&nbsp;проектов за&nbsp;2,5 года работы лучше чем 2,5 года\n                    работы и 23&nbsp;проектов.\n                  </Clause>\n                </UnorderedList>\n              </Example>\n              <Paragraph>\n                Если расчеты сделать легко , то&nbsp;нет значительной разницы.\n              </Paragraph>\n              <Example>10гб за&nbsp;200руб или 200руб за&nbsp;10гб</Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>39. Бонусы</ParagraphTitle>\n              <Paragraph>\n                Бесплатный бонус к&nbsp;основной услуги обесценивает&nbsp;ее.\n                Словно вы добавляете теплую воду в&nbsp;горячую.\n              </Paragraph>\n              <Guidance>\n                Вместо маленького бонуса для каждого клиента лучше сделайте\n                большой бонус для избранных клиентов, на&nbsp;ту&nbsp;же сумму.\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>40. Выяснение возможной платы</ParagraphTitle>\n              <Paragraph>\n                Когда человек собирается приобрести несколько однотипных\n                предметов, когда он&nbsp;сам указывает цену или сделать\n                пожертвование группе людей, то&nbsp;если его сначала спросить\n                сколько&nbsp;бы он пожертвовал одному из&nbsp;группы,\n                а&nbsp;потом только попросить сделать пожертвование для всех,\n                то&nbsp;величины пожертвования может значительно возрасти. Важно\n                чтобы группа была разменной величины\n                &mdash;&nbsp;на&nbsp;десятках тысяч такая стратегия уже\n                не&nbsp;сработает\n              </Paragraph>\n              <Example>\n                Перед тем как запросить у&nbsp;руководства годовой бюджет на\n                командировки, сначала спросить как руководство оценивает бюджет\n                на&nbsp;одну командировку\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>41. Детализированное дополнение</ParagraphTitle>\n              <Paragraph>\n                Подчеркивайте особенности тех людей, для кого вы&nbsp;делаете\n                свои продукты или кому вы&nbsp;оказываете помощь. Цвет волос,\n                увлечения, что-то что позволить представить конкретного живого\n                человека, а не&nbsp;абстрактного.\n              </Paragraph>\n              <Example>\n                Фотография пациента в&nbsp;его карточке делает отношение\n                к&nbsp;нему более человечным.\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>42. Альтернативные издержки</ParagraphTitle>\n              <Paragraph>\n                Есть разница между выбором &laquo;купить dvd или не&nbsp;купить\n                dvd&raquo; или &laquo;Купить dvd или приберечь деньги\n                на&nbsp;что-нибудь другое&raquo;. Как не трудно предположить,\n                во&nbsp;втором варианте купят меньше dvd.\n              </Paragraph>\n              <Example>\n                Реклама икеи: дизайнерский шкафчик для обуви и&nbsp;одна пара\n                за&nbsp;1700 долларов или икеевский шкафчик и&nbsp;30&nbsp;пар\n                обуви за&nbsp;1670\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>43. Теория малых количеств</ParagraphTitle>\n              <Quote>\n                Теория малых количеств предполагает, что на&nbsp;каком&nbsp;бы\n                этапе накопления баллов не&nbsp;находился данный клиент,\n                обратная связь должна сосредотачиваться на&nbsp;небольших шагах,\n                будь&nbsp;то уже достигнутые успехи или еще оставшиеся усилия\n              </Quote>\n              <Example>\n                Если надо пробежать 10&nbsp;км, то&nbsp;первую половину пути\n                следует думать о&nbsp;том сколько км&nbsp;вы&nbsp;уже пробежали,\n                а&nbsp;вторую о&nbsp;том, сколько еще осталось\n              </Example>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>44. Мотивирующее задание</ParagraphTitle>\n              <Paragraph>\n                Если выбор прост и&nbsp;мотивация выполнить задачу сильна,\n                то&nbsp;цели достигают чаще&nbsp;те, кто имеет свободу действий.\n                Но&nbsp;если выбор сложнее или уровень мотивации ниже,\n                то&nbsp;цели скорее достигают&nbsp;те, кому предписан заданный\n                режим&nbsp;&mdash; определенная последовательность действий.\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>45. Эффект изменения категории</ParagraphTitle>\n              <Paragraph>\n                Мотивация заполучить две вещи из&nbsp;разных категорий гораздо\n                выше, чем получить две вещи одной категории, при прочих равных.\n                Люди начинают считать, что они что-то &laquo;проиграют&raquo;,\n                если не&nbsp;заполучат по&nbsp;вещи из&nbsp;каждой категории.\n              </Paragraph>\n              <Guidance>\n                Если вы&nbsp;хотите с&nbsp;помощью вознаграждений повлиять\n                на&nbsp;людей так, чтобы они выполнили то&nbsp;или иное задание,\n                разделите эти приятные мелочи на&nbsp;несколько категорий\n                одинаковой ценности\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>47. Учитесь на&nbsp;чужих ошибках</ParagraphTitle>\n              <Paragraph>\n                Истории успеха приносят мало пользы, потому что успех\n                сопутствует много факторов и&nbsp;практически невозможно\n                воспроизвести их&nbsp;все. А&nbsp;вот причины неудач определить\n                гораздо легче. При изучении чужих ошибок не&nbsp;будет желания\n                оправдать их внешними факторами, потому что не&nbsp;нужно\n                пытаться защитить свое эго.\n              </Paragraph>\n              <Guidance>\n                Стоит интересоваться не&nbsp;удачами и&nbsp;вызвавшими\n                их&nbsp;действиями и&nbsp;не повторять&nbsp;их. Педагоги могут\n                подчеркивать ошибки прошлых групп студентов, врачи пациентов,\n                а&nbsp;тренеры спортсменов.\n              </Guidance>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>48. Учитесь на&nbsp;своих ошибках</ParagraphTitle>\n              <Paragraph>\n                Процессу обучения способствуют фразы&nbsp;&mdash; &laquo;Чем\n                больше ошибок вы&nbsp;делаете, тем больше знаний\n                приобретаете&nbsp;&mdash; Делать ошибки естественно&raquo;.\n                Ошибки показывают, на&nbsp;что именно следует обратить внимание\n                в&nbsp;первую очередь Высокий уровень обслуживания &mdash; это\n                не&nbsp;полное избегание ошибок, а&nbsp;своевременное\n                их&nbsp;исправление.\n              </Paragraph>\n              <Quote>\n                В&nbsp;бизнесе лучше не&nbsp;предотвращать ошибки,\n                а&nbsp;избавляться от&nbsp;них.\n              </Quote>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>49. Момент для отзыва</ParagraphTitle>\n              <Paragraph>\n                Положительное мнение в&nbsp;интернете имело&nbsp;бы\n                такую&nbsp;же ценность, как и&nbsp;отрицательное, если&nbsp;бы\n                было указанно, что оно основано на сегодняшнем опыте.\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>51. Тактильный контакт</ParagraphTitle>\n              <Quote>\n                У&nbsp;всех участников эксперимента, которым дали возможность\n                потрогать товар, эмоциональная реакция на&nbsp;него была более\n                позитивной, а&nbsp;тактильный контакт сделал ощущение\n                собственности сильнее\n              </Quote>\n              <Paragraph>\n                Важно только, чтобы товар был либо нейтральный, либо приятный на\n                ощупь\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>52. Эффект пика-конца</ParagraphTitle>\n              <Paragraph>\n                После того как мы&nbsp;вышли из&nbsp;состояния в&nbsp;котором\n                находились какое-то время (отпуск, врачебная процедура) самые\n                сильные воспоминания у&nbsp;нас будут о&nbsp;пиковом моменте\n                события и&nbsp;о&nbsp;его конце. Человек склонен обращать\n                не&nbsp;слишком много внимания на продолжительность события\n              </Paragraph>\n            </Chapter>\n            <Chapter>\n              <ParagraphTitle>\n                53. Оптимальное едииновременное количество стратегий убеждения\n              </ParagraphTitle>\n              <Paragraph>\n                Наиболее эффективное количество утверждений в&nbsp;рекламе\n                &mdash; три, дальше слушатель уже насторожится.\n              </Paragraph>\n            </Chapter>\n          </ChaptersList>\n        </main>\n      </Article>\n    </React.Fragment>\n  );\n}\n\nexport default Chaldini;\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport styled from 'styled-components';\n\nconst Header = styled.header`\n  font-family: 'Lora', serif;\n`;\n\nconst Article = styled.article`\n  max-width: 720px;\n  margin: 0 auto;\n`;\n\nconst Paragraph = styled.div`\n  margin-bottom: 12px;\n  line-height: 1.5;\n`;\n\nconst ParagraphTitle = styled.h3`\n  font-family: 'Lora', serif;\n`;\n\nconst Reference = styled.div`\n  text-align: right;\n  height: 0;\n  color: gray;\n  font-size: 0.75em;\n  & > a {\n    margin-right: 4px;\n  }\n`;\n\nfunction BlackSwan() {\n  return (\n    <React.Fragment>\n      <Helmet>\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Lora:700|Merriweather:400,400i&amp;subset=cyrillic\"\n          rel=\"stylesheet\"\n        />\n      </Helmet>\n      <Article>\n        <Header>\n          <Reference>\n            <a href=\"https://lobastov.livejournal.com/5718.html\">\n              Опубликовано\n            </a>\n            <span>23.06.2014</span>\n          </Reference>\n          <h1>&laquo;Черный лебедь&raquo; Нассима Талеба</h1>\n          <h3>\n            &laquo;Черный лебедь&raquo; - это такая книга и весьма практичная\n            теория.\n          </h3>\n        </Header>\n        <main>\n          <Paragraph>\n            Речь идет о&nbsp;редких, из&nbsp;ряда вон выходящих событиях,\n            способных оказать большое влияние на&nbsp;наши представления\n            о&nbsp;мире. Черным Лебедем автор называет случайное событие,\n            вызвавшее значительные последствия, предугадать которое невозможно,\n            но&nbsp;можно объяснить, уже после его совершения, найдя предпосылки\n            в&nbsp;прошлом. Проще говоря&nbsp;&mdash; это такое важное для нас\n            событие, которое нарочно не&nbsp;придумаешь.\n          </Paragraph>\n          <Paragraph>\n            Так как книга крайне разумная и&nbsp;практичная, то&nbsp;советую\n            прочитать ее&nbsp;целиком. Ну&nbsp;а&nbsp;если лень,\n            но&nbsp;интересно, то&nbsp;тут вкратце рассказал-пересказал. Черный\n            Лебедь&nbsp;&mdash; метафора, показывающая, как относительны наши\n            познания. Тысячелетиями считалось, что все лебеди белые. Одно\n            единственное наблюдение, во&nbsp;время экспедиции в&nbsp;Австралию,\n            перечеркнуло эту аксиому.\n          </Paragraph>\n          <Paragraph>\n            Приведу несколько примеров Черных Лебедей: события на&nbsp;Украине\n            (Сирии, Ливии), финансовый кризис 2008-го (1998-го, любого другого),\n            успех серии &laquo;Код да&nbsp;Винчи&raquo; и&nbsp;&laquo;Гарри\n            Поттера&raquo;, популярность футбола, создание смартфона, построение\n            бизнес&nbsp;&mdash; империй или даже свалившееся на&nbsp;голову\n            наследство и&nbsp;многое другое.\n          </Paragraph>\n          <Paragraph>\n            Кроме плохих случайностей, от&nbsp;которых&nbsp;бы стоило себя\n            поберечь (начало войны, финансовый кризис, увольнение\n            с&nbsp;работы), есть и&nbsp;Черные Лебеди сулящие невероятный успех\n            тем, кто имеет с&nbsp;ними дело: научные открытия, популярность,\n            успешные стартапы. Да, вероятность стать автором бестселлера или\n            новым Цукербергом крайне низка, практически невозможна. Тем\n            не&nbsp;менее кто-то из&nbsp;пытающихся рано или поздно получит\n            приз, но&nbsp;почти все останутся ни&nbsp;с&nbsp;чем.\n          </Paragraph>\n          <Paragraph>\n            Стоит или нет искать удачи, каждый решает сам. А&nbsp;вот повысить\n            адекватность оценки вероятности успеха/провала будет полезно.\n          </Paragraph>\n          <Paragraph>\n            Обычно именно интуиция подсказывает нам ответы и&nbsp;склоняет\n            в&nbsp;пользу принятия того или иного решения в&nbsp;условиях\n            неопределенности (про принцип работы интуиции и&nbsp;вообще мозга\n            в&nbsp;целом&nbsp;&mdash; в&nbsp;следующий раз). Но&nbsp;интуиция\n            бывает и&nbsp;ошибается (что нормально, если рассматривать интуицию,\n            как встроенное средство оценки вероятностей). А&nbsp;когда дело\n            касается нашего восприятия редких событий, обнаруживается, что\n            мать-природа не&nbsp;подготовила человека к&nbsp;восприятию Черных\n            Лебедей. Мы&nbsp;их&nbsp;буквально не&nbsp;замечаем.\n          </Paragraph>\n          <Paragraph>\n            Я&nbsp;приведу краткий обзор основных наших заблуждений, связанных\n            с&nbsp;оценкой вероятности, в&nbsp;соответствии с&nbsp;книгой.\n            Примеры тоже в&nbsp;основном взяты из&nbsp;книги. Если захотите\n            изучить эти заблуждения подробнее, заказать книгу можно, например,\n            здесь.\n          </Paragraph>\n          <Paragraph>\n            <ParagraphTitle>Проблема индукции</ParagraphTitle>\n            Если каждый день мы&nbsp;сталкиваемся с&nbsp;определенным фактом,\n            мы&nbsp;начинаем принимать его за&nbsp;аксиому. Однако при таком\n            подходе существует риск, что однажды &laquo;мир перевернется&raquo;.\n            Есть хороший пример на&nbsp;этот счет: представим себе индюшку,\n            человек кормит, поит и&nbsp;убирает за&nbsp;ней всю ее&nbsp;жизнь.\n            Что она может себе подумать? Что человек&nbsp;&mdash; друг, доброе\n            существо заботящееся о&nbsp;ней. Но&nbsp;наступает канун праздника\n            и&nbsp;индюшку ждет сюрприз, который коренным образом изменит\n            ее&nbsp;убеждения. Могла&nbsp;ли она предполагать такое развитие\n            событий, основываясь на&nbsp;известных ей&nbsp;фактах?\n          </Paragraph>\n          <Paragraph>\n            Для хозяина индюшки праздничная дата известна заранее, как\n            и&nbsp;судьба пребывающей в&nbsp;неведении птицы. Но&nbsp;человека\n            ждут свои сюрпризы, основанные на&nbsp;той-же проблеме индукции.\n            На&nbsp;невозможности придти от&nbsp;частного знания к&nbsp;общему.\n            Можем&nbsp;ли мы&nbsp;утверждать, что все лебеди белые, если\n            мы&nbsp;видели только белых лебедей и&nbsp;никогда не&nbsp;слышали\n            о&nbsp;черных?\n            <ParagraphTitle>Ошибка подтверждения.</ParagraphTitle>\n            Ошибка подтверждения возникает когда мы&nbsp;основываясь\n            на&nbsp;некотором количестве фактов строим теорию и&nbsp;пытаемся\n            на&nbsp;основе этой теории устанавливать причинно следственные связи\n            и&nbsp;предугадывать события будущего.\n          </Paragraph>\n          <Paragraph>\n            Как это работает? Возьмите лист бумаги, поставьте на&nbsp;нем\n            несколько точек&nbsp;&mdash; это будут факты. Теперь соедините\n            их&nbsp;линией, она будет означать теорию. Теорию, которая вполне\n            согласуется с&nbsp;известными вам фактами. Но, постойте, можно ведь\n            через те&nbsp;же точки провести и&nbsp;другую линию? Оказывается,\n            сколь угодно много фактов подтверждающих теорию\n            не&nbsp;доказывают&nbsp;ее, а&nbsp;вот единственный\n            не&nbsp;согласующийся с&nbsp;теорией факт ставит на&nbsp;ней крест.\n            Мораль такова&nbsp;&mdash; если вам какое-то утверждение кажется\n            верным&nbsp;&mdash; не&nbsp;ищите ему подтверждений, попытайтесь\n            лучше его опровергнуть. Хоть и&nbsp;очень трудно искать опровержение\n            идее, что приходится по&nbsp;душе, но&nbsp;это имеет смысл\n            и&nbsp;ценность. Искать&nbsp;же подтверждения&nbsp;&mdash;\n            бессмысленно, так как не&nbsp;смотря на&nbsp;кажущуюся пользу они\n            не&nbsp;увеличивают имеющиеся знания (а&nbsp;могут даже уменьшать).\n          </Paragraph>\n          <Paragraph>\n            Ошибка подтверждения&nbsp;&mdash; это когда выражение: &laquo;все\n            виденные мной лебеди&nbsp;&mdash; белые&raquo; подменяется&nbsp;на:\n            &laquo;черных лебедей не&nbsp;существует&raquo;. Эти выражения\n            не&nbsp;равнозначны, но&nbsp;мы&nbsp;обычно не&nbsp;замечаем, как\n            наш мозг производит подобные подмены.\n          </Paragraph>\n          <Paragraph>\n            Еще один пример&nbsp;&mdash; выражение &laquo;большинство\n            террористов&nbsp;&mdash; мусульмане&raquo; часто переформулируется\n            в&nbsp;головах в&nbsp;&laquo;большинство мусульман&nbsp;&mdash;\n            террористы&raquo;. Если считать, что первое выражение&nbsp;&mdash;\n            правда, и&nbsp;из&nbsp;10000 террористов&nbsp;95% мусульмане,\n            то&nbsp;из&nbsp;миллиарда мусульман всего 0,00095% окажется\n            террористами. Однако&nbsp;же ожидание, что некий незнакомый\n            мусульманин окажется террористом у&nbsp;некоторых особо опасливых\n            граждан стремится к&nbsp;100%.\n          </Paragraph>\n          <Paragraph>\n            <ParagraphTitle>Искажение нарратива (повествования)</ParagraphTitle>\n            Мы&nbsp;любим истории. В&nbsp;любом приличном руководстве, как\n            выступать перед публикой написано: &laquo;что-бы заинтересовать\n            людей&nbsp;&mdash; расскажите им&nbsp;историю&raquo;. Почему это\n            работает? Так уж&nbsp;устроен наш мозг, что ему проще хранить\n            информацию в&nbsp;виде логически связанных цепочек. Что-то вроде\n            архивации. &laquo;Цыц цыган цыпленок на&nbsp;цыпочках&raquo;\n            запоминается легко, в&nbsp;отличии от&nbsp;тех-же слов расположенных\n            в&nbsp;случайном порядке. Вот еще пример, сравните: &laquo;Король\n            умер. Королева умерла&raquo; и&nbsp;&laquo;Король умер, следом\n            за&nbsp;ним от&nbsp;горя умерла Королева&raquo;. Кажется вторая\n            фраза звучит органичнее.\n          </Paragraph>\n          <Paragraph>\n            Так вот, возвращаясь к&nbsp;теме&nbsp;&mdash; когда\n            мы&nbsp;воспринимаем окружающий мир или делимся познаниями\n            другим&nbsp;&mdash; мы&nbsp;пользуемся нарративом,\n            мы&nbsp;укладываем факты во&nbsp;взаимосвязанную логическую цепочку,\n            в&nbsp;которой есть четко обозначенные причины и&nbsp;следствия.\n            Однако события, происходящее в&nbsp;мире, более случайны,\n            не&nbsp;всегда так уж&nbsp;легко определить что и&nbsp;почему\n            произошло. Бывает, что одно и&nbsp;то-же событие можно объяснить\n            несколькими разными, но&nbsp;логичными способами. Что предрешило\n            исход Куликовской Битвы? Историки пишут&nbsp;&mdash; засадный полк,\n            но&nbsp;может дело решил превосходный моральный дух наших бойцов,\n            или своевременный контрудар, или плохой вчерашний обед монголов,\n            а&nbsp;может роль сыграла погода и&nbsp;был важен численный перевес?\n            Насколько вообще мы&nbsp;можем дать однозначный ответ? Любая\n            причинно-следственная логика окажется более-менее спорной и&nbsp;так\n            с&nbsp;каждым историческим событием. Задумайтесь об&nbsp;этом\n            в&nbsp;следующий раз, когда будете наводить исторические справки.\n          </Paragraph>\n          <Paragraph>\n            Еще один отличный пример искажения нарратива. Сравните:\n            &laquo;Он&nbsp;любил свою жену. Он&nbsp;ее&nbsp;убил.&raquo;\n            и&nbsp;&laquo;Он&nbsp;любил свою жену. Он&nbsp;ее&nbsp;убил\n            из&nbsp;ревности&raquo;, какой вариант по&nbsp;вашему более\n            вероятный?\n          </Paragraph>\n          <Paragraph>\n            На&nbsp;самом деле первый вариант, так как он&nbsp;более общий,\n            второй вариант, когда &laquo;он&raquo; убил жену из&nbsp;ревности,\n            это частный случай первого, а&nbsp;ведь &laquo;он&raquo; мог убить\n            жену например из-за наследства или из-за того, что она была\n            смертельно больна и&nbsp;страдала. Тем не&nbsp;менее большинство\n            опрошенных указывает на&nbsp;второй вариант.\n          </Paragraph>\n          <Paragraph>\n            <ParagraphTitle>Влияние наших чувств</ParagraphTitle>\n            Мы&nbsp;так устроены, что оцениваем сами себя и&nbsp;ждем оценки\n            от&nbsp;людей, с&nbsp;которыми имеем дело. В&nbsp;зависимости\n            от&nbsp;того, хорошую или плохую обратную связь мы&nbsp;получаем,\n            изменяется наше самочувствие, настроение и&nbsp;мотивация.\n          </Paragraph>\n          <Paragraph>\n            Представьте себе что ваш друг уволился с&nbsp;работы и&nbsp;решил\n            стать художником, он&nbsp;учится, пишет картины, подается\n            на&nbsp;выставки. Но&nbsp;галереи не&nbsp;высоко оценивают его\n            работы, покупатели находятся с&nbsp;трудом и&nbsp;ваш приятель еле\n            сводит концы с&nbsp;концами. А&nbsp;у&nbsp;него возможно есть\n            и&nbsp;семья, жена, дети. И&nbsp;вроде-бы все ничего, они готовы\n            потерпеть нужду, понятно, что признание не&nbsp;приходит сразу.\n            Но&nbsp;вот, ваш друг с&nbsp;семьей в&nbsp;гостях у&nbsp;старого\n            приятеля, разговор зашел о&nbsp;работе. Приятель работает\n            в&nbsp;офисе, постоянная зарплата, новая машина, недавно вот ремонт\n            дома сделал. Возникает неловкая пауза. И&nbsp;по&nbsp;дороге домой\n            жена как&nbsp;бы невзначай говорит, вот&nbsp;бы и&nbsp;нам так\n            устроится. Нужно иметь каменное сердце, что&nbsp;бы\n            не&nbsp;почувствовать тоску в&nbsp;такой момент. Трудно идти против\n            течения, против мнения близких людей и&nbsp;против того, что\n            в&nbsp;обществе считается нормой. Тем более, когда результат еще\n            довольно призрачен. И&nbsp;даже если ваш друг однажды продаст свою\n            новую картину за&nbsp;миллион, будет&nbsp;ли это соразмерная плата\n            за&nbsp;все то&nbsp;время, пока он&nbsp;был в&nbsp;неведении\n            относительно будущего?\n          </Paragraph>\n          <Paragraph>\n            Вообще, такое внутреннее и&nbsp;внешнее давление способно отвернуть\n            многих от&nbsp;выбранного пути. Даже если они все делают правильно,\n            людям начинает казаться что они&nbsp;&mdash; неудачники\n            и&nbsp;единственное, что им&nbsp;осталось&nbsp;&mdash; это сдаться\n            и&nbsp;плыть по&nbsp;течению.\n          </Paragraph>\n          <Paragraph>\n            <ParagraphTitle>Скрытые свидетельства</ParagraphTitle>\n            Очень распространенная ошибка. Представьте ситуацию, во&nbsp;время\n            кораблекрушения человек молился и&nbsp;спасся, теперь он&nbsp;будет\n            свято верить в&nbsp;чудо и&nbsp;расскажет всем, что молитва его\n            спасла. А&nbsp;вот тот, кто молился и&nbsp;утонул увы ничего уже нам\n            не&nbsp;поведает. Набожные утопленники&nbsp;&mdash; и&nbsp;есть\n            скрытые свидетельства, не&nbsp;принимая их&nbsp;во&nbsp;внимание\n            можно сильно отклониться от&nbsp;истины в&nbsp;своих суждениях.\n          </Paragraph>\n          <Paragraph>\n            Или например успешные бизнесмены, такие как Бренсон или Тиньков\n            и&nbsp;многие другие, их&nbsp;имена у&nbsp;всех на&nbsp;слуху. Люди\n            покупают книги с&nbsp;их&nbsp;биографиями, полагая, что смогут найти\n            в&nbsp;них секрет успеха. Первые при этом искренне стараются,\n            находят объяснение, как и&nbsp;почему они смогли достичь таких\n            высот. Однако&nbsp;же настоящий секрет в&nbsp;том, что счастливчикам\n            несколько раз повезло, в&nbsp;ответственный момент. Да, конечно они\n            много трудились и&nbsp;это важное условие победы,\n            но&nbsp;есть&nbsp;же и&nbsp;их&nbsp;антиподы&nbsp;&mdash;\n            не&nbsp;менее способные и&nbsp;трудолюбивые предприниматели, однажды\n            поставившие не&nbsp;на&nbsp;ту&nbsp;лошадку. Такие ребята никогда\n            не&nbsp;попадут в&nbsp;список бизнес-икон и&nbsp;не&nbsp;напишут для\n            нас книг об&nbsp;истории своего краха. Мы&nbsp;о&nbsp;них никогда\n            не&nbsp;узнаем. Читать о&nbsp;провалах не&nbsp;интересно, хотя\n            на&nbsp;мой взгляд более познавательно. Если учитывать скрытые\n            свидетельства, закрытые компании, то&nbsp;масштабы трагедии станут\n            более осязаемы.&nbsp;9&nbsp;из&nbsp;10&nbsp;открытых бизнесов\n            закроются, не&nbsp;протянув и&nbsp;года,\n            9&nbsp;из&nbsp;10&nbsp;оставшихся не&nbsp;продержатся 10&nbsp;лет.\n            А&nbsp;на&nbsp;глобальный уровень выйдет только один\n            на&nbsp;миллион. И&nbsp;стоит учитывать существование этого\n            миллиона, а&nbsp;не&nbsp;только победителя.\n          </Paragraph>\n          <Paragraph>\n            <ParagraphTitle>Игровая ошибка</ParagraphTitle>\n            Когда мы&nbsp;отправляемся в&nbsp;путешествие, мы&nbsp;берем\n            с&nbsp;собой карту&nbsp;&mdash; упрощенную модель окружающего мира,\n            которая тем не&nbsp;менее здорово помогает нам ориентироваться.\n            Но&nbsp;карта&nbsp;&mdash; не&nbsp;территория, мелкие подробности\n            мы&nbsp;узнаем уже на&nbsp;месте, так-же на&nbsp;месте мы&nbsp;можем\n            обнаружить и&nbsp;что карта уже устарела или изначально была\n            с&nbsp;ошибками (взгляните на&nbsp;древние карты мира). Наше\n            представления о&nbsp;мире в&nbsp;чем-то аналогичны карте, более\n            того, все научные и&nbsp;практические теории тоже являются\n            в&nbsp;своем роде картами и&nbsp;по&nbsp;научному называются\n            моделями. Так вот карты и&nbsp;модели нужны и&nbsp;хороши, пока\n            не&nbsp;выходят за&nbsp;границы своей применимости. Загвоздка\n            в&nbsp;том, что эти границы не&nbsp;всегда четко определены.\n            Особенно, когда речь идет о&nbsp;нашем личном восприятии мира. Нам\n            кажется, что существуют правила можно &laquo;играть&raquo;\n            руководствуясь ими. В&nbsp;какой-то момент мы&nbsp;обнаруживаем, что\n            с&nbsp;нами-то жизнь по&nbsp;правилам не&nbsp;играет.\n          </Paragraph>\n          <Paragraph>\n            Представьте, что у&nbsp;меня есть идеальная, честная монетка,\n            у&nbsp;которой орел и&nbsp;решка выпадают с&nbsp;равной\n            вероятностью. Я&nbsp;кидаю монетку 99&nbsp;раз и&nbsp;99&nbsp;раз\n            выпадает орел. Какова вероятность, что на&nbsp;сотый раз выпадет\n            решка? Если&nbsp;вы, следуя теории вероятности ответите, что каждый\n            случай мы&nbsp;рассматриваем отдельно и&nbsp;вероятность\n            будет&nbsp;50% на&nbsp;50%, то&nbsp;вы&nbsp;то&nbsp;и&nbsp;падете\n            жертвой игровой ошибки (здесь высшее образование играет\n            отрицательную роль). Жизнь не&nbsp;играет с&nbsp;нами\n            по&nbsp;правилам, если вы&nbsp;встретите в&nbsp;жизни ситуацию,\n            когда 99&nbsp;раз выпадет одна сторона, то&nbsp;будьте уверены, что\n            монетка с&nbsp;подвохом. Вероятность выпадения решки будет\n            не&nbsp;больше 1-го процента. Если монетка была&nbsp;бы идеальная,\n            то&nbsp;по&nbsp;теории вероятности, ради такой серии\n            пришлось&nbsp;бы кидать ее&nbsp;куда дольше, чем существует наша\n            вселенная.\n          </Paragraph>\n          <Paragraph>\n            <ParagraphTitle>Что еще?</ParagraphTitle>\n            Кроме ошибок суждения влияющих на&nbsp;оценки риска\n            и&nbsp;возможностей в&nbsp;книге подробно рассмотрена сама\n            возможность предсказания, речь идет о&nbsp;сложности\n            и&nbsp;невозможности прогнозирования. Причем эта ограниченность\n            имеет физический характер и&nbsp;никак не&nbsp;зависит от&nbsp;наших\n            интеллектуальных способностей и&nbsp;технологических возможностей.\n            Первый отскок бильярдного шара легко прикинуть в&nbsp;уме,\n            второй&nbsp;&mdash; сложнее но&nbsp;тоже можно, третий можно\n            рассчитать зная несколько формул и&nbsp;характеристик стола\n            и&nbsp;шара. Для расчета четвертого удара уже нужна геометрия кия,\n            а&nbsp;для седьмого&nbsp;&mdash; гравитационное воздействие\n            на&nbsp;шар игроков. Дальше больше.\n          </Paragraph>\n          <Paragraph>\n            Все еще верите в&nbsp;предсказания на&nbsp;длительный период?\n            Возьмите прогноз развития, план на&nbsp;будущее любого государства\n            или корпорации за&nbsp;дату в&nbsp;тридцать лет назад\n            и&nbsp;сравните его с&nbsp;результатом.\n          </Paragraph>\n          <Paragraph>\n            Еще один момент&nbsp;&mdash; это ограниченность ретроспективных\n            предсказаний, то&nbsp;есть верного восстановления цепочки событий\n            прошлого, объясняющей имеющееся положение вещей.\n          </Paragraph>\n          <Paragraph>\n            Если положить на&nbsp;стол кубик льда, то&nbsp;мы&nbsp;можем\n            представить, что с&nbsp;ним будет, через час. А&nbsp;вот\n            взялась&nbsp;ли лужица на&nbsp;столе из-за растаявшего льда или\n            кто-то неаккуратно пронес графин с&nbsp;водой уже так-то просто\n            не&nbsp;определить.\n          </Paragraph>\n          <Paragraph>\n            В&nbsp;отдельной главе, в&nbsp;книге сравнивается традиционная\n            модель оценки рисков, основанной на&nbsp;кривой нормального\n            распределения (гауссиане) с&nbsp;альтернативными подходами.\n            И&nbsp;соответствие этих методов реальности. Выводы далеко\n            не&nbsp;в&nbsp;пользу гауссовой кривой. Проводится разбор ошибок\n            и&nbsp;соответствующих им&nbsp;глобальных угроз, связанных\n            с&nbsp;распространением традиционной модели.\n          </Paragraph>\n          <Paragraph>\n            В&nbsp;заключении автор делиться своей стратегией действий\n            в&nbsp;мире живущем по&nbsp;правилам Черных Лебедей\n          </Paragraph>\n        </main>\n      </Article>\n    </React.Fragment>\n  );\n}\n\nexport default BlackSwan;\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport Chaldini from './designed/Chaldini';\nimport BlackSwan from './designed/BlackSwan';\n\nexport default withRouter(({ match: { params: { slug } } }) => {\n  switch (slug) {\n    case 'chaldini':\n      return <Chaldini />;\n    case 'blackSwan':\n      return <BlackSwan />;\n    default:\n      return <div>Статья не найдена</div>;\n  }\n});\n"],"sourceRoot":""}