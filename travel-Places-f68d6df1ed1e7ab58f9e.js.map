{"version":3,"sources":["webpack:///./node_modules/blurhash/dist/esm/utils.js","webpack:///./node_modules/blurhash/dist/esm/error.js","webpack:///./node_modules/blurhash/dist/esm/base83.js","webpack:///./node_modules/core-js/modules/esnext.async-iterator.constructor.js","webpack:///./node_modules/core-js/modules/esnext.async-iterator.to-array.js","webpack:///./node_modules/core-js/modules/esnext.iterator.to-array.js","webpack:///./src/modules/components/LazyWithPlaceholder/LazyWithPlaceholder.jsx","webpack:///./node_modules/blurhash/dist/esm/decode.js","webpack:///./node_modules/react-blurhash/es/BlurhashCanvas.js","webpack:///./node_modules/react-blurhash/es/Blurhash.js","webpack:///./src/modules/components/PhotosGallery/components/LazyImage/LazyImage.jsx","webpack:///./node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js","webpack:///./src/modules/components/PhotosGallery/components/GallerySkeleton/GallerySkeleton.jsx","webpack:///./src/modules/components/PhotosGallery/PhotosGallery.jsx","webpack:///./node_modules/react-dropzone/node_modules/prop-types/index.js","webpack:///./node_modules/react-dropzone/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/react-dropzone/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/attr-accept/dist/index.js","webpack:///./node_modules/react-image-gallery/build/image-gallery.js","webpack:///./node_modules/react-lazy-load/lib/LazyLoad.js","webpack:///./node_modules/eventlistener/eventlistener.js","webpack:///./node_modules/lodash.debounce/index.js","webpack:///./node_modules/lodash.throttle/index.js","webpack:///./node_modules/react-lazy-load/lib/utils/parentScroll.js","webpack:///./node_modules/react-lazy-load/lib/utils/inViewport.js","webpack:///./node_modules/react-lazy-load/lib/utils/getElementPosition.js","webpack:///./node_modules/core-js/modules/esnext.array.group-by.js","webpack:///./node_modules/core-js/internals/array-group-by.js","webpack:///./node_modules/core-js/internals/array-from-constructor-and-list.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/@material-ui/icons/Event.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./node_modules/@material-ui/icons/Flag.js","webpack:///./node_modules/@material-ui/icons/Place.js","webpack:///./node_modules/@material-ui/icons/Timelapse.js","webpack:///./node_modules/@material-ui/icons/FiberNew.js","webpack:///./node_modules/lodash/orderBy.js","webpack:///./node_modules/fast-deep-equal/react.js","webpack:///./node_modules/blurhash/dist/esm/encode.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/file-selector/dist/es5/file.js","webpack:///./node_modules/file-selector/dist/es5/file-selector.js","webpack:///./node_modules/react-dropzone/dist/es/utils/index.js","webpack:///./node_modules/react-dropzone/dist/es/index.js","webpack:///./src/packages/travel/pages/VisitPage/resolveDropzoneStyles.js","webpack:///./src/packages/travel/pages/VisitPage/components/PhotosDropzone/PhotosDropzone.jsx","webpack:///./src/packages/travel/pages/VisitPage/VisitPage.jsx","webpack:///./src/modules/components/loaders/BackdropLoader.jsx","webpack:///./src/packages/travel/pages/VisitsPage/sidebarConsts.js","webpack:///./src/packages/travel/pages/VisitsPage/consts.js","webpack:///./src/packages/travel/pages/VisitsPage/useVisitsGroupingSidebar.jsx","webpack:///./src/packages/travel/pages/VisitsPage/components/VisitsTitle/VisitsTitle.jsx","webpack:///./src/packages/travel/pages/VisitsPage/locators.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveGroupsOrder.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveSortingOrder.js","webpack:///./src/packages/travel/pages/VisitsPage/resolveFiltering.js","webpack:///./src/packages/travel/pages/VisitsPage/VisitsPage.jsx","webpack:///./src/packages/travel/pages/LocationPage/blocks/LocationRating.jsx","webpack:///./src/packages/travel/pages/LocationPage/useLocationWithTripStats.js","webpack:///./src/packages/travel/dataSource/useLocation.js","webpack:///./src/packages/travel/pages/LocationPage/LocationPage.jsx","webpack:///./src/packages/travel/pages/LocationsPage/blocks/LocationRating.jsx","webpack:///./src/packages/travel/pages/LocationsPage/LocationsPage.jsx","webpack:///./src/packages/travel/pages/LocationsPage/useUserLocations.js","webpack:///./src/packages/travel/pages/CountryPage/CountryPage.jsx","webpack:///./src/packages/travel/pages/CountryPage/useCountryWithTripStats.js","webpack:///./src/packages/travel/dataSource/useTrips.js","webpack:///./src/core/connection/request/utils/mergeProvisionsState.js","webpack:///./src/modules/utilities/dateTime/dateTimePeriodToString.js","webpack:///./src/modules/components/muiExtended/ConnectedLink/ConnectedLink.jsx","webpack:///./src/packages/travel/dataSource/useCountries.js","webpack:///./src/modules/utilities/dateTime/safeDateFormat.js","webpack:///./src/modules/utilities/dateTime/isValidDate.js","webpack:///./src/packages/travel/dataSource/useLocations.js","webpack:///./src/packages/travel/dataSource/useUser.js","webpack:///./src/packages/travel/dataSource/useVisit.js","webpack:///./node_modules/react-use/esm/useCustomCompareEffect.js","webpack:///./node_modules/react-use/esm/misc/isDeepEqual.js","webpack:///./node_modules/react-use/esm/useDeepCompareEffect.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/filtering/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/filtering/switchFilteringFn.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/CountryVisitsGroup/CountryVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/utils/resolveGroupingUtils.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/LocationVisitsGroup/LocationVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/YearVisitsGroup/YearVisitsGroup.jsx","webpack:///./src/modules/utilities/hooks/makeVisibleOnlyOnHoverStyles.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/TripVisitsGroup/TripInfo/TripInfo.jsx","webpack:///./src/modules/components/AutoMargin/AutoMargin.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/components/LocationWithRideInfo/LocationWithRideInfo.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/components/VisitInfo/VisitInfo.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/TripVisitsGroup/TripVisitsGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/components/VisitsItselfGroup/VisitsItselfGroup.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/groupping/utils/groupVisitsBy.js","webpack:///./node_modules/memoize-one/dist/memoize-one.esm.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/createCalcByYearUtils.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/calcDaysTravellingStats.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/utils/calcStats.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/StatsIndicator/StatsIndicator.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/CountriesStats/CountriesStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/LocationStats/LocationStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/components/DaysTravellingStats/DaysTravellingStats.jsx","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/utils/isNewbie.js","webpack:///./src/packages/travel/components/VisitsArranger/statistics/components/StatsPanel/StatsPanel.jsx","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/sorting/consts.js","webpack:///./src/packages/travel/components/VisitsArranger/arrangement/sorting/utils/sortVisitsBy.js","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitsPhotosGallery/VisitsPhotosGallery.jsx","webpack:///./src/packages/travel/components/VisitsArranger/components/VisitsLocationsMap/VisitsLocationsMap.jsx","webpack:///./src/packages/travel/components/VisitsArranger/renderGroupsRecursive.jsx","webpack:///./src/packages/travel/components/VisitsArranger/VisitsArranger.jsx","webpack:///./src/packages/travel/components/VisitsArranger/index.js","webpack:///./src/packages/travel/components/VisitInfo/VisitInfo.jsx","webpack:///./src/packages/travel/components/VisitIcon/VisitIcon.jsx","webpack:///./src/packages/travel/components/RideIcon/RideIcon.jsx","webpack:///./src/packages/travel/components/LocationsMap/utils/adaptMarkerData.js","webpack:///./src/packages/travel/components/LocationsMap/utils/resolveLocationFirstAndLastVisitDateTime.js","webpack:///./src/packages/travel/components/LocationsMap/consts.js","webpack:///./src/packages/travel/components/LocationsMap/utils/makeScaleUtils.js","webpack:///./src/modules/utilities/dateTime/formatDate.js","webpack:///./src/packages/travel/components/LocationsMap/utils/renderTitle.js","webpack:///./src/packages/travel/components/LocationsMap/utils/resolveMarkerUrl.js","webpack:///./src/packages/travel/components/LocationsMap/useMarkers.js","webpack:///./src/packages/travel/components/LocationsMap/blocks/MarkersScaleSelect/MarkersScaleSelect.jsx","webpack:///./src/packages/travel/components/LocationsMap/blocks/MarkersRatingLevelSelect/MarkersRatingLevelSelect.jsx","webpack:///./src/packages/travel/components/LocationsMap/useMarkersScaleSidebar.js","webpack:///./src/packages/travel/components/LocationsMap/LocationsMap.jsx","webpack:///./src/packages/travel/components/LocationsMap/utils/filterMarkerData.js","webpack:///./src/packages/travel/components/RideInfo/RideInfo.jsx","webpack:///./src/packages/travel/utils/useVisitsUrls.js","webpack:///./src/modules/utilities/text/uniqTrimAndJoin.js","webpack:///./src/packages/travel/models/trips/utils/resolveTripCaption.js"],"names":["sRGBToLinear","value","v","Math","pow","linearTosRGB","max","min","round","signPow","val","exp","abs","ValidationError","Error","message","super","this","name","digitCharacters","decode83","str","i","length","c","indexOf","encode83","n","result","digit","floor","$","anInstance","createNonEnumerableProperty","hasOwn","wellKnownSymbol","AsyncIteratorPrototype","IS_PURE","TO_STRING_TAG","AsyncIteratorConstructor","prototype","constructor","Object","global","forced","AsyncIterator","$toArray","toArray","target","proto","real","undefined","iterate","anObject","push","that","IS_ITERATOR","LazyWithPlaceholder","placeholder","children","forwardingProps","useState","loaded","setLoaded","handleVisible","useCallback","onContentVisible","validateBlurhash","blurhash","sizeFlag","numY","numX","decodeDC","intR","intG","intB","decodeAC","maximumValue","quantR","quantG","quantB","extendStatics","width","height","punch","colors","Array","substring","bytesPerRow","pixels","Uint8ClampedArray","y","x","r","g","b","j","basis","cos","PI","color","__extends","d","setPrototypeOf","__proto__","p","hasOwnProperty","call","__","create","__assign","assign","t","s","arguments","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","_super","BlurhashCanvas","_this","canvas","handleRef","draw","_a","props","hash","ctx","getContext","imageData","createImageData","data","set","putImageData","componentDidUpdate","render","rest","ref","defaultProps","canvasStyle","position","top","bottom","left","right","Blurhash","resolutionX","resolutionY","style","display","LOADING_STATE","INITIAL_STATE","LazyImage","aspectRatio","className","require","tag","src","alt","constraints","onLoad","loadingState","setLoadingState","handleError","imgRef","useRef","handleLoad","current","naturalWidth","naturalHeight","useEffect","hasResult","imageHeight","imageWidth","heightConstraint","widthConstraint","resolveImageSize","realImgWidth","setRealImgWidth","useLayoutEffect","getBoundingClientRect","key","data-tag","resolveActualSrc","maxWidth","onError","loading","_props$animation","animation","classes","_props$component","component","Component","_props$variant","variant","other","hasChildren","Boolean","root","withChildren","fitContent","heightAuto","withStyles","theme","backgroundColor","palette","text","primary","type","marginTop","marginBottom","transformOrigin","transform","borderRadius","shape","content","rect","circle","pulse","opacity","wave","overflow","background","concat","action","hover","visibility","useStyles","makeStyles","container","imageSkeleton","flexGrow","thumbsContainer","thumbSkeleton","margin","GallerySkeleton","thumbsCount","ceil","times","map","photoContainer","minHeight","overflowY","scrollbarWidth","photo","PhotosGallery","photos","uniqKey","useMemo","uuidV4","useLayoutContext","vw","vh","fullscreen","setFullscreen","aspectRatios","setAspectRatios","currentIndex","setCurrentIndex","RATIOS","FULLSCREEN","DEFAULT","HEIGHT","WIDTH","calc","CONFIG","unit","PERCENT","MAX_PX","resolveImageConstraints","thumbnailElement","window","document","querySelector","closest","scrollIntoView","block","behavior","actualPhotos","index","fullSizePhotoUrl","thumbnailUrl","previewUrl","description","original","originalClass","thumbnail","cls","offset","startIndex","showIndex","items","thumbnailPosition","onScreenChange","nextFullscreen","onBeforeSlide","nextIndex","disableKeyDown","disableThumbnailScroll","renderItem","item","ratio","originalAlt","title","originalTitle","renderThumbInner","thumbnailAlt","thumbnailTitle","prevRatios","Infinity","module","exports","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","exact","checkPropTypes","PropTypes","o","l","m","defineProperty","configurable","enumerable","get","__esModule","default","isArray","split","u","replace","some","trim","charAt","toLowerCase","endsWith","703","a","697","414","590","Element","Map","Set","ArrayBuffer","isView","size","entries","next","done","has","RegExp","source","flags","valueOf","toString","keys","$$typeof","match","console","warn","37","delta","preventDefaultTouchmoveEvent","rotationAngle","trackMouse","trackTouch","first","initial","start","swiping","xy","sin","h","touches","addEventListener","f","clientX","clientY","timeStamp","sqrt","w","absX","absY","deltaX","deltaY","dir","event","velocity","vxvy","onSwiping","T","onSwiped","cancelable","preventDefault","eventData","onTap","removeEventListener","forEach","passive","el","cleanUpTouch","onMouseDown","DOWN","LEFT","RIGHT","UP","useSwipeable","888","globalThis","Function","Symbol","toStringTag","Me","self","Date","now","S","O","E","I","parseInt","k","NaN","slice","test","_","L","TypeError","setTimeout","clearTimeout","leading","maxWait","trailing","cancel","flush","P","M","R","D","__entries__","delete","splice","clear","F","C","W","requestAnimationFrame","bind","N","MutationObserver","z","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","connect_","removeObserver","disconnect_","updateObservers_","filter","gatherActive","hasActive","broadcastActive","observe","attributes","childList","characterData","subtree","disconnect","propertyName","getInstance","instance_","B","writable","A","ownerDocument","defaultView","G","V","U","parseFloat","H","reduce","q","SVGGraphicsElement","SVGElement","getBBox","X","broadcastWidth","broadcastHeight","contentRect_","isActive","clientWidth","clientHeight","getComputedStyle","boxSizing","documentElement","K","broadcastRect","Y","DOMRectReadOnly","contentRect","activeObservations_","observations_","callback_","controller_","callbackCtx_","unobserve","clearActive","J","WeakMap","Q","Z","ResizeObserver","ee","te","ne","memo","handleImageLoaded","isFullscreen","onImageError","originalHeight","originalWidth","sizes","srcSet","createElement","Fragment","displayName","propTypes","ie","re","points","maximize","minimize","play","pause","ae","strokeWidth","viewBox","icon","xmlns","fill","stroke","strokeLinecap","strokeLinejoin","se","oe","onClick","le","ue","disabled","ce","he","de","fe","isPlaying","pe","me","ve","ge","be","iterator","ye","getOwnPropertyDescriptor","we","Te","getOwnPropertyDescriptors","defineProperties","Oe","Ee","Ie","ReferenceError","ke","getPrototypeOf","xe","_e","media","Le","keyCode","which","Pe","Reflect","construct","sham","Proxy","state","thumbsTranslate","thumbsSwipedTranslate","currentSlideOffset","galleryWidth","thumbnailsWrapperWidth","thumbnailsWrapperHeight","thumbsStyle","transition","slideDuration","isSwipingThumbnail","loadedImages","imageGallery","createRef","thumbnailsWrapper","thumbnails","imageGallerySlideWrapper","handleKeyDown","handleMouseDown","handleTouchMove","handleOnSwiped","handleScreenChange","handleSwiping","handleThumbnailSwiping","handleOnThumbnailSwiped","onThumbnailMouseLeave","handleImageError","pauseOrPlay","slideLeft","slideRight","toggleFullScreen","togglePlay","unthrottledSlideToIndex","slideToIndex","lazyLoad","lazyLoaded","autoPlay","useWindowKeyDown","initResizeObserver","addScreenChangeEvent","slideInterval","showThumbnails","removeResizeObserver","handleResize","slideThumbnailBar","setState","removeScreenChangeEvent","playPauseIntervalId","clearInterval","transitionTimer","isTransitioning","onSlide","onThumbnailClick","parentNode","blur","thumbnailMouseOverTimer","modalFullscreen","isThumbnailVertical","scrollHeight","scrollWidth","infinite","previousIndex","direction","gallerySlideWrapperHeight","slideStyle","useTranslate3D","isRTL","getTranslateXForTwoSlide","isSlideVisible","WebkitTransform","MozTransform","msTransform","OTransform","slideOnThumbnailOver","onTouchMove","onTouchEnd","onTouchStart","onMouseOver","onMouseLeave","showBullets","getAlignmentClassName","thumbnailClass","getSlideStyle","tabIndex","onKeyUp","handleSlideKeyUp","onFocus","role","active","handleThumbnailMouseOver","handleThumbnailKeyUp","bulletClass","bulletOnClick","itemIndex","slides","bullets","slideIsTransitioning","ignoreIsTransitioning","isFirstOrLastSlide","getThumbsTranslate","canSlideNext","canSlidePrevious","disableSwipe","stopPropagation","swipingUpDown","swipingLeftRight","swipingTransitionDuration","swipingThumbnailTransitionDuration","resetSwipingDirection","swipeThreshold","flickThreshold","handleOnSwipedTo","sufficientSwipe","canSlideLeft","canSlideRight","classList","add","useBrowserFullscreen","remove","exitFullScreen","onErrorImageURL","resizeObserver","offsetWidth","offsetHeight","setThumbsTranslate","fullScreen","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","onSliding","slideTo","onThumbnailMouseOver","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","setModalFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","onPlay","setInterval","onPause","onImageLoad","onThumbnailError","thumbnailHeight","thumbnailWidth","thumbnailLabel","additionalClass","disableThumbnailSwipe","indexSeparator","renderFullscreenButton","renderCustomControls","renderLeftNav","renderRightNav","showFullscreenButton","showNav","showPlayButton","renderPlayPauseButton","getThumbnailStyle","getSlideItems","canSlide","getThumbnailBarHeight","Se","imageSet","_createClass","descriptor","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes2","_reactDom","_eventlistener","_lodash2","_lodash4","_parentScroll2","_inViewport2","obj","LazyLoad","_Component","instance","_classCallCheck","_possibleConstructorReturn","lazyLoadHandler","throttle","debounce","visible","subClass","superClass","_inherits","_mounted","eventNode","getEventNode","_nextProps","nextState","detachListeners","findDOMNode","_props","offsetVertical","offsetHorizontal","offsetTop","offsetBottom","offsetLeft","offsetRight","_offsetAll","threshold","_offsetVertical","_offsetHorizontal","getOffset","_props2","elStyles","elClasses","Children","only","wrap","standard","fallback","evtName","listener","useCapture","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","objectToString","nativeMax","nativeMin","isObject","toNumber","isObjectLike","isSymbol","isBinary","wait","options","lastArgs","lastThis","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","prop","getPropertyValue","HTMLElement","parent","body","inViewport","customOffset","offsetParent","isHidden","pageYOffset","pageXOffset","innerHeight","innerWidth","containerPosition","_getElementPosition2","elementPosition","_getElementPosition","$groupBy","arraySpeciesConstructor","addToUnscopables","groupBy","callbackfn","uncurryThis","IndexedObject","toObject","toPropertyKey","lengthOfArrayLike","objectCreate","arrayFromConstructorAndList","$this","specificConstructor","boundFunction","list","createHTML","forcedStringHTMLMethod","link","url","requireObjectCoercible","quot","attribute","p1","fails","METHOD_NAME","baseClamp","lower","upper","baseIteratee","baseUniq","iteratee","_interopRequireWildcard","React","_default","baseExtremum","baseLt","baseGt","baseOrderBy","collection","iteratees","orders","guard","equal","multiplyBasisFunction","basisFunction","scale","componentX","componentY","factors","normalisation","factor","dc","ac","actualMaximumValue","quantisedMaximumValue","encodeAC","__awaiter","_arguments","generator","Promise","resolve","reject","fulfilled","step","rejected","then","__generator","label","sent","trys","ops","verb","op","pop","__read","ar","error","COMMON_MIME_TYPES","toFileWithPath","file","path","lastIndexOf","ext","withMimeType","webkitRelativePath","FILES_TO_IGNORE","fromEvent","evt","dataTransfer","getDataTransferFiles","getInputFiles","files","fromList","dt","kind","all","toFilePromises","noIgnoredFiles","flatten","webkitGetAsEntry","fromDataTransferItem","entry","isDirectory","fromDirEntry","acc","getAsFile","fwp","fromEntry","fromFileEntry","reader","createReader","readEntries","batch","err_1","fullPath","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_s","_i","_iterableToArrayLimit","_nonIterableRest","getInvalidTypeRejectionErr","accept","messageSuffix","join","code","getTooLargeRejectionErr","maxSize","getTooSmallRejectionErr","minSize","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","fileMatchSize","isDefined","allFilesAccepted","_ref","multiple","every","accepted","sizeMatch","isPropagationStopped","cancelBubble","isEvtWithFiles","types","onDocumentDragOver","isIe","userAgent","isEdge","isIeOrEdge","navigator","composeEventHandlers","_len","fns","_key","_len2","_key2","fn","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","ownKeys","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","Dropzone","_useDropzone","useDropzone","open","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","getFilesFromEvent","onFileDialogCancel","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","initialState","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","draggedFiles","acceptedFiles","fileRejections","_ref2","_ref2$disabled","_ref2$getFilesFromEve","_ref2$maxSize","_ref2$minSize","_ref2$multiple","_ref2$preventDropOnDo","_ref2$noClick","_ref2$noKeyboard","_ref2$noDrag","_ref2$noDragEventsBub","rootRef","inputRef","_useReducer","reducer","_useReducer2","dispatch","openFileDialog","click","onWindowFocus","onKeyDownCb","isEqualNode","onFocusCb","onBlurCb","onClickCb","dragTargetsRef","onDocumentDrop","contains","onDragEnterCb","persist","onDragOverCb","dropEffect","_unused","onDragLeaveCb","targets","targetIdx","onDropCb","_fileAccepted2","acceptError","_fileMatchSize2","sizeError","errors","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref3","_ref3$refKey","refKey","onKeyDown","onBlur","onInputElementClick","getInputProps","_ref4","_ref4$refKey","onChange","inputProps","autoComplete","fileCount","hexToRgba","hex","alpha","exec","rgba","STRIPLES_SHIFT_PX","makeStriplesBackground","actualColor","backgroundSize","dropzoneContainer","flexDirection","justifyContent","padding","cursor","dropzoneStandby","border","dark","light","borderColor","main","dropzoneActive","secondary","dropzoneAccept","dropzoneReject","dropzoneUpload","backgroundPositionX","PhotosDropzone","onUpload","visit","progress","setProgress","rejectedFiles","setRejectedFiles","isUploadInProgress","visitId","currentRejectedFiles","measureImage","id","meta","isAsset","renderDropzoneCaption","rejectedFile","errorsMessage","getImageData","image","context","drawImage","gcd","v1","v2","temp","fileImage","imageURL","URL","createObjectURL","Image","onload","nod","aspect_ratio","encode","VisitPage","params","userAlias","strVisitId","useAuthContext","isAuthenticated","authenticatedUserAlias","travelPaths","usePaths","travel","useVisit","domain","isError","isPending","invalidate","submitVisitPhoto","useAddVisitPhotoRequest","isEditable","locationId","VisitInfo","isLong","locationUrl","toUrl","strLocationId","String","values","backdrop","zIndex","drawer","BackdropLoader","Backdrop","CircularProgress","GROUP_VISITS_BY","PLAIN_GROUPS_MAPPING","PLAIN_GROUPS","LOCATIONS","COUNTRIES","YEARS","TRIPS","SORT_VISITS_BY","RATING_ALPHABET","VISITS_ALPHABET","FIRST_VISIT_ALPHABET","LAST_VISIT_ALPHABET","ALPHABET","SORT_VISITS_BY_DEFAULT","PLAIN_SORTING_MAPPING","PLAIN_SORTING","RATING","fv","FIRST_VISIT","lv","LAST_VISIT","VISITS_COUNT","FILTER_VISITS_BY","ANY","FOREIGN","DOMESTIC","FILTER_VISITS_BY_DEFAULT","PLAIN_FILTERING_MAPPING","PLAIN_FILTERING","VISITS_SECTIONS","PLACES","VISITS_SECTION_DEFAULT","VISITS_SECTIONS_GROUPS","l10n","GROUP_VISITS_BY_DEFAULTS","formControl","setQueryFilter","queryFilter","section","groupByQuery","sortByQuery","filterByQuery","sortBy","includes","resolveActualSortBy","filterBy","resolveActualFilterBy","actualSection","visitsSectionGroups","find","resolveActualGroupBy","useSidebar","closeSidebar","List","ListItem","FormControl","InputLabel","shrink","Select","labelId","autoWidth","visitsSectionGroup","MenuItem","renderTitle","tripCreateUrl","locationsUrl","stats","locationsCount","locationsStats","total","countriesCount","countriesStats","Typography","paragraph","to","Link","IconButton","href","data-locator","resolveGroupsOrder","groupingOrder","currentGroupBy","shouldShowVisits","lastGroup","JUST_VISITS","resolveSortingOrder","currentSortBy","resolveFiltering","VisitsPage","editable","isObscure","useQueryFilter","useVisitsGroupingSidebar","provision","useTripsStats","urls","useVisitsUrls","visitsIds","visitsDict","visitsList","commonVisitsGroup","field","totalStats","calcStats","VisitsArranger","groupsOrder","sortingOrder","filteringOption","RATING_LOCALIZATION","LOCATION_RATING","PLACE_TO_LIVE","FEW_PER_YEAR","ONCE_PER_YEAR","ONCE_PER_TWO_YEARS","ONCE_PER_FIVE_YEARS","ONCE_PER_DECADE","TWICE_PER_LIVE","ONCE_PER_LIVE","NEVER","LocationRating","locationRating","onSubmitLocationRating","useLocationWithTripStats","tripsStatsProvision","isTripsError","isTripsPending","isTripsReady","isReady","locationsIds","locationsRating","useSelector","selectItem","useProvision","isProvision","modelName","condition","query","useLocation","restProvision","submitLocationRating","useLocationRatingRequest","isVisited","LocationPage","userProvision","handleSubmitLocationRating","locationIdToSubmit","rating","photosSectionLevel","mapSectionLevel","config","LocationVisitsGroup","hyperlinks","StatsPanel","appearance","CountriesStats","level","locationName","fontSize","lineHeight","visitContainer","fontWeight","googleMapContainer","maxHeight","LocationsPage","locationsDict","useUserLocations","actualLocationsIds","locationsIdToRender","CountryPage","strCountryId","countryId","tripsProvision","countriesIds","countriesDict","country","useCountryWithTripStats","CountryVisitsGroup","countryName","requiredTripsIds","tripsIds","tripsDict","selectDict","shouldRequireAllTrips","missingTripsIds","tripId","navigation","isDisabled","comparator","useTrips","useUser","user","selectResult","ridesDict","useUniqField","ridesIds","countriesProvision","useCountries","locationsProvision","useLocations","commonProvisionState","provisions","updatesCounter","sum","selectUpdatesCounter","selectIsReady","selectIsPending","isValid","selectIsValid","selectIsError","selectError","mergeProvisionsState","ridesStats","calcRidesStats","earliestDeparture","rideId","departureDateTime","getTime","latestArrival","arrivalDateTime","entitiesIds","entitiesDict","fieldName","flatMap","entityId","DATE_FORMATS","dateTimePeriodToString","periodStart","periodEnd","fullFormat","periodEndString","dateFormat","locale","ru","isSameDay","periodStartString","isSameMonth","isSameYear","shortFormat","rideDateTimePeriodToString","visitDateTimePeriodToString","dateTimeOpenPeriodToString","format","startDateStr","ConnectedLink","optional","RouterLink","safeDateFormat","date","isValidDate","Number","isNaN","requiredLocationIds","missingLocationsIds","useRequest","method","applicableSchemaName","requiredVisitId","visit_id","contentType","effect","deps","depsEqual","isDeepEqual","switchFilteringFn","isForeign","isVisitExist","trip","originLocationId","originLocation","originCountryId","createFilterBasedOnOrigin","visitsGroup","countryHyperlink","CountryInfo","countryUrl","resolveCountryUrl","header","findClosestGroupValue","plainGroup","currentVisitsGroup","findClosestGroup","locationIdStr","locationHyperlink","groupCountryId","resolveLocationUrl","LocationInfo","showCountry","countryAppearance","countryNode","locationNode","YearInfo","year","useVisibleOnHoverStyles","containerClassName","contentClassName","makeVisibleOnHoverStyles","TripInfo","hoverTrigger","visibleOnHover","tripEditUrl","resolveTripEditUrl","resolveTripCaption","autoMargin","marginLeft","AutoMargin","childrenArray","lastChildren","restChildren","Grid","justify","alignItems","halfDown","LocationWithRideInfo","locationInfoChildren","ownClasses","locationContainer","RideInfo","ride","detail","editButton","departureRideId","visitUrl","resolveVisitUrl","PLAIN_GROUPS_CONFIG","groupFieldName","adapter","getFullYear","groupTripId","actualVisitsList","uniqBy","groupVisitsBy","groupByFn","groupFieldValue","groupVisitsList","isFunction","groupVisitsByValue","areInputsEqual","newInputs","lastInputs","resultFn","isEqual","lastResult","calledOnce","newArgs","createCalcByYearUtils","lookupKey","memoizedCalcOldies","memoizeOne","memoize","arrivalYear","calcOldies","calcTotal","calcByYear","oldies","freshies","newbies","difference","totalAtYear","newAtYear","calcDaysTravellingStats","considerRides","visitToPeriodMapper","startDate","endDate","arrivalRideId","arrivalRide","prevVisitId","departureVisitId","rideStartDate","departureRide","nextVisitId","arrivalVisitId","rideEndDate","stack","createMapperWithRides","simpleMapper","visitsPeriods","detailedStats","createPeriods","stay","differenceInCalendarDays","totalStay","visitsStats","calcVisitsStats","calcCountriesStats","calcLocationsStats","daysTravellingStats","calcCountriesTotal","calcCountriesByYear","calcLocationsTotal","calcLocationsByYear","visitsCount","firstVisit","minBy","lastVisit","maxBy","statsIndicator","marginRLeft","marginRight","StatsIndicator","hint","contentNode","cloneElement","Tooltip","showByYear","hintNode","renderHint","detailsNode","renderDetails","LocationStats","DaysTravellingStats","totalStr","periodStr","locationsStr","renderLocations","isNewbie","isNewbieCountry","yearVisitsGroup","countriesVisitsGroup","countryLocationStats","isNewbieLocation","countriesStatsAppearance","LocationsStats","locationStatsAppearance","daysTravellingStatsAppearance","isLocationGroup","hasCountryGroup","hasLocationGroup","hasYearGroup","daysTravellingStatsNode","visibleOnlyOnHover","sortVisitsBy","visitsGroups","comparators","plainSorting","dates","nullsLast","order","createRatingComparator","createAlphabetComparator","property","orderBy","withOrder","iterateeFn","VisitsPhotosGallery","visitPhotos","renderDescription","mapVisibilityToggle","VisitsLocationsMap","mapVisible","setMapVisible","uniq","prevMapVisible","LocationsMap","mapContainer","scaleBy","MARKERS_SCALES","BY_LAST_VISIT","ratingLevel","renderRecursive","expandedGroups","toggleExpandedGroups","renderRecursiveInternal","parentVisitsGroup","groupsOrderInternal","restGroupsOrder","VisitsGroupComponent","visitsListInternal","nestingLevel","lookupLevel","expectedMaxLevel","sectionLevel","clamp","MAX_LEVEL","resolveSectionLevel","sortedVisitsGroups","enhancedVisitsGroup","expanded","COLLAPSED_GROUP_ITEMS","toFieldSignature","actualVisitsGroups","resolveVisitsGroupClasses","header0","typography","h2","wordBreak","container0","level0","header1","h4","container1","level1","breakpoints","up","paddingLeft","header2","body1","container2","level2","setExpandedGroups","fieldSignature","prevExpandedGroups","useDeepCompareEffect","renderGroupsRecursive","verticalAlign","period","VisitIcon","visitType","IconComponent","VISIT_TYPES","TRANSIT","TransferWithinAStationIcon","BASE_CAMP","DomainIcon","RELOCATION","LocalShippingIcon","REGULAR","LocationCityIcon","resolveRideIconComponent","RideIcon","vehicleType","VEHICLE_TYPES","CAR","CarIcon","TRAIN","TrainIcon","AIRCRAFT","FlightIcon","BUS","TROLLEY","CITY_BUS","BusIcon","MOTORHOME","JITNEY","VanIcon","LOCAL_TRAIN","FERRY","BoatIcon","BIKE","BikeIcon","BY_FEET","WalkIcon","MOTORBIKE","MotorcycleIcon","TRUCK","TruckIcon","ALL_TERRAIN_VEHICLE","TerrainIcon","TRAM","TramIcon","TAXI","LocalTaxiIcon","SUBWAY","SubwayIcon","PUBLIC_TRANSPORT","SeatIcon","ROPEWAY","FUNICULAR","CustomTransportIcon","UnknownRideIcon","adaptMarkerData","lon","lat","accumulator","firstVisitDateTime","lastVisitDateTime","resolveLocationFirstAndLastVisitDateTime","BY_FIRST_VISIT","BY_VISITS_COUNT","BY_RATING","MARKERS_SCALE_DEFAULT","MARKERS_SCALE_BY_TIME_FILENAMES","MARKERS_SCALE_BY_SOURCES","MARKERS_RATING_LEVELS","ALL","WANT_COME_BACK","LOVE_THIS_PLACE","MARKERS_RATING_LEVEL_DEFAULT","stepByVisitsCount","stepByRating","makeScaleByDateTimeUtils","resolveStep","minTime","diff","resolveOptions","markersDataList","markerData","formatDate","renderRating","resolveMarkerUrl","markerSources","subPath","MarkersScaleSelect","onClose","nextScaleBy","updates","MarkersRatingLevelSelect","scaleByQuery","ratingLevelQuery","resolveActualScaleBy","resolveActualRatingLevel","googleMapPosition","handleGoogleApiLoaded","markersData","googleMapsApi","setGoogleMapsApi","isFirsRenderRef","maps","bounds","LatLngBounds","markers","iconUrl","marker","Marker","lng","scaledSize","Size","extend","setOptions","maxZoom","minZoom","fitBounds","setMap","setVisible","api","useMarkers","actualMarkersData","adaptedMarkersData","validMarkersData","filterMarkerData","makeScaleUtils","bootstrapURLKeys","__GOOGLE_MAP_API_KEY__","center","zoom","onGoogleApiLoaded","visitsPropTypes","locationPropTypes","absoluteIcon","rideType","RIDE_TYPES","HITCH_HIKING","locations","tripCreate","tripEdit","strTripId","maxLength","separator","uniqArray","visits","tripName","hasAutogeneratedTripName","dateMin","visitsId","dateMax","visitsByCountries","locationsNames","uniqTrimAndJoin","countriesNames"],"mappings":"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","file":"travel-Places-f68d6df1ed1e7ab58f9e.js","sourcesContent":["export const sRGBToLinear = (value) => {\n    let v = value / 255;\n    if (v <= 0.04045) {\n        return v / 12.92;\n    }\n    else {\n        return Math.pow((v + 0.055) / 1.055, 2.4);\n    }\n};\nexport const linearTosRGB = (value) => {\n    let v = Math.max(0, Math.min(1, value));\n    if (v <= 0.0031308) {\n        return Math.round(v * 12.92 * 255 + 0.5);\n    }\n    else {\n        return Math.round((1.055 * Math.pow(v, 1 / 2.4) - 0.055) * 255 + 0.5);\n    }\n};\nexport const sign = (n) => (n < 0 ? -1 : 1);\nexport const signPow = (val, exp) => sign(val) * Math.pow(Math.abs(val), exp);\n//# sourceMappingURL=utils.js.map","export class ValidationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"ValidationError\";\n        this.message = message;\n    }\n}\n//# sourceMappingURL=error.js.map","const digitCharacters = [\n    \"0\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"A\",\n    \"B\",\n    \"C\",\n    \"D\",\n    \"E\",\n    \"F\",\n    \"G\",\n    \"H\",\n    \"I\",\n    \"J\",\n    \"K\",\n    \"L\",\n    \"M\",\n    \"N\",\n    \"O\",\n    \"P\",\n    \"Q\",\n    \"R\",\n    \"S\",\n    \"T\",\n    \"U\",\n    \"V\",\n    \"W\",\n    \"X\",\n    \"Y\",\n    \"Z\",\n    \"a\",\n    \"b\",\n    \"c\",\n    \"d\",\n    \"e\",\n    \"f\",\n    \"g\",\n    \"h\",\n    \"i\",\n    \"j\",\n    \"k\",\n    \"l\",\n    \"m\",\n    \"n\",\n    \"o\",\n    \"p\",\n    \"q\",\n    \"r\",\n    \"s\",\n    \"t\",\n    \"u\",\n    \"v\",\n    \"w\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"#\",\n    \"$\",\n    \"%\",\n    \"*\",\n    \"+\",\n    \",\",\n    \"-\",\n    \".\",\n    \":\",\n    \";\",\n    \"=\",\n    \"?\",\n    \"@\",\n    \"[\",\n    \"]\",\n    \"^\",\n    \"_\",\n    \"{\",\n    \"|\",\n    \"}\",\n    \"~\"\n];\nexport const decode83 = (str) => {\n    let value = 0;\n    for (let i = 0; i < str.length; i++) {\n        const c = str[i];\n        const digit = digitCharacters.indexOf(c);\n        value = value * 83 + digit;\n    }\n    return value;\n};\nexport const encode83 = (n, length) => {\n    var result = \"\";\n    for (let i = 1; i <= length; i++) {\n        let digit = (Math.floor(n) / Math.pow(83, length - i)) % 83;\n        result += digitCharacters[Math.floor(digit)];\n    }\n    return result;\n};\n//# sourceMappingURL=base83.js.map","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar anInstance = require('../internals/an-instance');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar AsyncIteratorPrototype = require('../internals/async-iterator-prototype');\nvar IS_PURE = require('../internals/is-pure');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar AsyncIteratorConstructor = function AsyncIterator() {\n  anInstance(this, AsyncIteratorPrototype);\n};\n\nAsyncIteratorConstructor.prototype = AsyncIteratorPrototype;\n\nif (!hasOwn(AsyncIteratorPrototype, TO_STRING_TAG)) {\n  createNonEnumerableProperty(AsyncIteratorPrototype, TO_STRING_TAG, 'AsyncIterator');\n}\n\nif (IS_PURE || !hasOwn(AsyncIteratorPrototype, 'constructor') || AsyncIteratorPrototype.constructor === Object) {\n  createNonEnumerableProperty(AsyncIteratorPrototype, 'constructor', AsyncIteratorConstructor);\n}\n\n$({ global: true, forced: IS_PURE }, {\n  AsyncIterator: AsyncIteratorConstructor\n});\n","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar $toArray = require('../internals/async-iterator-iteration').toArray;\n\n$({ target: 'AsyncIterator', proto: true, real: true }, {\n  toArray: function toArray() {\n    return $toArray(this, undefined, []);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar anObject = require('../internals/an-object');\n\nvar push = [].push;\n\n$({ target: 'Iterator', proto: true, real: true }, {\n  toArray: function toArray() {\n    var result = [];\n    iterate(anObject(this), push, { that: result, IS_ITERATOR: true });\n    return result;\n  }\n});\n","import React, { useState, useCallback } from 'react';\nimport LazyLoad from 'react-lazy-load';\n\nexport default function LazyWithPlaceholder({\n  placeholder,\n  children,\n  ...forwardingProps\n}) {\n  const [loaded, setLoaded] = useState(false);\n  const handleVisible = useCallback(() => setLoaded(true), []);\n\n  return (\n    <>\n      {!loaded && placeholder}\n      <LazyLoad {...forwardingProps} onContentVisible={handleVisible}>\n        {children}\n      </LazyLoad>\n    </>\n  );\n}\n","import { decode83 } from \"./base83\";\nimport { sRGBToLinear, signPow, linearTosRGB } from \"./utils\";\nimport { ValidationError } from \"./error\";\n/**\n * Returns an error message if invalid or undefined if valid\n * @param blurhash\n */\nconst validateBlurhash = (blurhash) => {\n    if (!blurhash || blurhash.length < 6) {\n        throw new ValidationError(\"The blurhash string must be at least 6 characters\");\n    }\n    const sizeFlag = decode83(blurhash[0]);\n    const numY = Math.floor(sizeFlag / 9) + 1;\n    const numX = (sizeFlag % 9) + 1;\n    if (blurhash.length !== 4 + 2 * numX * numY) {\n        throw new ValidationError(`blurhash length mismatch: length is ${blurhash.length} but it should be ${4 + 2 * numX * numY}`);\n    }\n};\nexport const isBlurhashValid = (blurhash) => {\n    try {\n        validateBlurhash(blurhash);\n    }\n    catch (error) {\n        return { result: false, errorReason: error.message };\n    }\n    return { result: true };\n};\nconst decodeDC = (value) => {\n    const intR = value >> 16;\n    const intG = (value >> 8) & 255;\n    const intB = value & 255;\n    return [sRGBToLinear(intR), sRGBToLinear(intG), sRGBToLinear(intB)];\n};\nconst decodeAC = (value, maximumValue) => {\n    const quantR = Math.floor(value / (19 * 19));\n    const quantG = Math.floor(value / 19) % 19;\n    const quantB = value % 19;\n    const rgb = [\n        signPow((quantR - 9) / 9, 2.0) * maximumValue,\n        signPow((quantG - 9) / 9, 2.0) * maximumValue,\n        signPow((quantB - 9) / 9, 2.0) * maximumValue\n    ];\n    return rgb;\n};\nconst decode = (blurhash, width, height, punch) => {\n    validateBlurhash(blurhash);\n    punch = punch | 1;\n    const sizeFlag = decode83(blurhash[0]);\n    const numY = Math.floor(sizeFlag / 9) + 1;\n    const numX = (sizeFlag % 9) + 1;\n    const quantisedMaximumValue = decode83(blurhash[1]);\n    const maximumValue = (quantisedMaximumValue + 1) / 166;\n    const colors = new Array(numX * numY);\n    for (let i = 0; i < colors.length; i++) {\n        if (i === 0) {\n            const value = decode83(blurhash.substring(2, 6));\n            colors[i] = decodeDC(value);\n        }\n        else {\n            const value = decode83(blurhash.substring(4 + i * 2, 6 + i * 2));\n            colors[i] = decodeAC(value, maximumValue * punch);\n        }\n    }\n    const bytesPerRow = width * 4;\n    const pixels = new Uint8ClampedArray(bytesPerRow * height);\n    for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n            let r = 0;\n            let g = 0;\n            let b = 0;\n            for (let j = 0; j < numY; j++) {\n                for (let i = 0; i < numX; i++) {\n                    const basis = Math.cos((Math.PI * x * i) / width) *\n                        Math.cos((Math.PI * y * j) / height);\n                    let color = colors[i + j * numX];\n                    r += color[0] * basis;\n                    g += color[1] * basis;\n                    b += color[2] * basis;\n                }\n            }\n            let intR = linearTosRGB(r);\n            let intG = linearTosRGB(g);\n            let intB = linearTosRGB(b);\n            pixels[4 * x + 0 + y * bytesPerRow] = intR;\n            pixels[4 * x + 1 + y * bytesPerRow] = intG;\n            pixels[4 * x + 2 + y * bytesPerRow] = intB;\n            pixels[4 * x + 3 + y * bytesPerRow] = 255; // alpha\n        }\n    }\n    return pixels;\n};\nexport default decode;\n//# sourceMappingURL=decode.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { decode } from 'blurhash';\nvar BlurhashCanvas = /** @class */ (function (_super) {\n    __extends(BlurhashCanvas, _super);\n    function BlurhashCanvas() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.canvas = null;\n        _this.handleRef = function (canvas) {\n            _this.canvas = canvas;\n            _this.draw();\n        };\n        _this.draw = function () {\n            var _a = _this.props, hash = _a.hash, height = _a.height, punch = _a.punch, width = _a.width;\n            if (_this.canvas) {\n                var pixels = decode(hash, width, height, punch);\n                var ctx = _this.canvas.getContext('2d');\n                var imageData = ctx.createImageData(width, height);\n                imageData.data.set(pixels);\n                ctx.putImageData(imageData, 0, 0);\n            }\n        };\n        return _this;\n    }\n    BlurhashCanvas.prototype.componentDidUpdate = function () {\n        this.draw();\n    };\n    BlurhashCanvas.prototype.render = function () {\n        var _a = this.props, hash = _a.hash, height = _a.height, width = _a.width, rest = __rest(_a, [\"hash\", \"height\", \"width\"]);\n        return React.createElement(\"canvas\", __assign({}, rest, { height: height, width: width, ref: this.handleRef }));\n    };\n    BlurhashCanvas.defaultProps = {\n        height: 128,\n        width: 128,\n    };\n    return BlurhashCanvas;\n}(React.PureComponent));\nexport default BlurhashCanvas;\n//# sourceMappingURL=BlurhashCanvas.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport BlurhashCanvas from './BlurhashCanvas';\nvar canvasStyle = {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: '100%',\n    height: '100%',\n};\nvar Blurhash = /** @class */ (function (_super) {\n    __extends(Blurhash, _super);\n    function Blurhash() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Blurhash.prototype.componentDidUpdate = function () {\n        if (this.props.resolutionX <= 0) {\n            throw new Error('resolutionX must be larger than zero');\n        }\n        if (this.props.resolutionY <= 0) {\n            throw new Error('resolutionY must be larger than zero');\n        }\n    };\n    Blurhash.prototype.render = function () {\n        var _a = this.props, hash = _a.hash, height = _a.height, width = _a.width, punch = _a.punch, resolutionX = _a.resolutionX, resolutionY = _a.resolutionY, style = _a.style, rest = __rest(_a, [\"hash\", \"height\", \"width\", \"punch\", \"resolutionX\", \"resolutionY\", \"style\"]);\n        return (React.createElement(\"div\", __assign({}, rest, { style: __assign(__assign({ display: 'inline-block', height: height, width: width }, style), { position: 'relative' }) }),\n            React.createElement(BlurhashCanvas, { hash: hash, height: resolutionY, width: resolutionX, punch: punch, style: canvasStyle })));\n    };\n    Blurhash.defaultProps = {\n        height: 128,\n        width: 128,\n        resolutionX: 32,\n        resolutionY: 32,\n    };\n    return Blurhash;\n}(React.PureComponent));\nexport default Blurhash;\n//# sourceMappingURL=Blurhash.js.map","import React, {\n  useCallback,\n  useEffect,\n  useState,\n  useRef,\n  useLayoutEffect,\n} from 'react';\nimport { Blurhash } from 'react-blurhash';\nimport min from 'lodash/min';\n\nconst BLURHASH_RESOLUTION = 32;\nconst BLURHASH_PUNCH = 1;\nconst ERROR_IMAGE_URL =\n  'https://res.cloudinary.com/dc2eke0gj/image/upload/minetravel/common/img_placeholder.png';\nconst LOADING_STATE = {\n  IDLE: 'IDLE',\n  LOADING: 'LOADING',\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR',\n};\nconst LAZY_LOADING_SUPPORT = false; // 'loading' in HTMLImageElement.prototype;\nconst INITIAL_STATE = LAZY_LOADING_SUPPORT\n  ? LOADING_STATE.LOADING\n  : LOADING_STATE.IDLE;\n\nexport default function LazyImage({\n  aspectRatio,\n  className,\n  require,\n  tag,\n  src,\n  alt,\n  blurhash,\n  constraints,\n  height,\n  width,\n  onLoad,\n  children,\n  ...forwardingProps\n}) {\n  const [loadingState, setLoadingState] = useState(INITIAL_STATE);\n\n  const handleError = useCallback(() => {\n    setLoadingState(LOADING_STATE.ERROR);\n  }, []);\n\n  const imgRef = useRef();\n  const handleLoad = useCallback(() => {\n    setLoadingState(LOADING_STATE.SUCCESS);\n    if (onLoad) {\n      onLoad({\n        aspectRatio: imgRef.current.naturalWidth / imgRef.current.naturalHeight,\n      });\n    }\n  }, []);\n\n  useEffect(\n    () => {\n      if (require && loadingState === LOADING_STATE.IDLE) {\n        setLoadingState(LOADING_STATE.LOADING);\n      }\n    },\n    [require, loadingState],\n  );\n\n  const hasResult =\n    loadingState === LOADING_STATE.SUCCESS ||\n    loadingState === LOADING_STATE.ERROR;\n\n  const { imageWidth, imageHeight } = resolveImageSize(\n    {\n      height,\n      width,\n      aspectRatio,\n    },\n    constraints,\n  );\n\n  // consider all margins and paddings, reflect to { maxWidth: '100%' } img behavior\n  const [realImgWidth, setRealImgWidth] = useState(imageWidth);\n  useLayoutEffect(\n    () => {\n      setRealImgWidth(imgRef.current.getBoundingClientRect().width);\n    },\n    [imageWidth],\n  );\n\n  return (\n    <>\n      {!hasResult && (\n        <Blurhash\n          hash={blurhash}\n          width={realImgWidth}\n          height={realImgWidth / aspectRatio ?? imageHeight}\n          resolutionX={BLURHASH_RESOLUTION}\n          resolutionY={BLURHASH_RESOLUTION}\n          punch={BLURHASH_PUNCH}\n        />\n      )}\n      {loadingState !== LOADING_STATE.ERROR ? (\n        <img\n          key=\"ok\"\n          data-tag={tag}\n          ref={imgRef}\n          className={className}\n          alt={alt}\n          src={resolveActualSrc(src, loadingState)}\n          style={{\n            width: imageWidth,\n            height: hasResult ? imageHeight : 0,\n            maxWidth: '100%',\n          }}\n          onLoad={handleLoad}\n          onError={handleError}\n          loading={LAZY_LOADING_SUPPORT ? 'lazy' : undefined}\n          {...forwardingProps}\n        />\n      ) : (\n        <img\n          key=\"error\"\n          alt=\"error\"\n          className={className}\n          src={ERROR_IMAGE_URL}\n          style={{\n            width: imageWidth,\n            height: imageHeight,\n            maxWidth: '100%',\n          }}\n        />\n      )}\n      {children}\n    </>\n  );\n}\n\nfunction resolveActualSrc(src, loadingState) {\n  switch (loadingState) {\n    case LOADING_STATE.IDLE:\n      return null;\n    default:\n      return src;\n  }\n}\n\nfunction resolveImageSize({ aspectRatio, height, width }, constraints) {\n  if (!constraints) {\n    return {\n      imageHeight: height || width / aspectRatio,\n      imageWidth: width || height * aspectRatio,\n    };\n  }\n\n  const heightConstraint = min([constraints.height, height]);\n  const widthConstraint = min([constraints.width, width]);\n  const constraintByHeight = heightConstraint * aspectRatio < widthConstraint;\n\n  const [imageWidth, imageHeight] = constraintByHeight\n    ? [heightConstraint * aspectRatio, heightConstraint]\n    : [widthConstraint, widthConstraint / aspectRatio];\n\n  return {\n    imageHeight,\n    imageWidth,\n  };\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { fade, withStyles } from '@material-ui/core/styles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      // Create a \"on paper\" color with sufficient contrast retaining the color\n      backgroundColor: fade(theme.palette.text.primary, theme.palette.type === 'light' ? 0.11 : 0.13),\n      height: '1.2em'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      marginTop: 0,\n      marginBottom: 0,\n      height: 'auto',\n      transformOrigin: '0 60%',\n      transform: 'scale(1, 0.60)',\n      borderRadius: theme.shape.borderRadius,\n      '&:empty:before': {\n        content: '\"\\\\00a0\"'\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"rect\"`. */\n    rect: {},\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the root element if `animation=\"pulse\"`. */\n    pulse: {\n      animation: '$pulse 1.5s ease-in-out 0.5s infinite'\n    },\n    '@keyframes pulse': {\n      '0%': {\n        opacity: 1\n      },\n      '50%': {\n        opacity: 0.4\n      },\n      '100%': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the root element if `animation=\"wave\"`. */\n    wave: {\n      position: 'relative',\n      overflow: 'hidden',\n      '&::after': {\n        animation: '$wave 1.6s linear 0.5s infinite',\n        background: \"linear-gradient(90deg, transparent, \".concat(theme.palette.action.hover, \", transparent)\"),\n        content: '\"\"',\n        position: 'absolute',\n        transform: 'translateX(-100%)',\n        // Avoid flash during server-side hydration\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      }\n    },\n    '@keyframes wave': {\n      '0%': {\n        transform: 'translateX(-100%)'\n      },\n      '60%': {\n        // +0.5s of delay between each loop\n        transform: 'translateX(100%)'\n      },\n      '100%': {\n        transform: 'translateX(100%)'\n      }\n    },\n\n    /* Styles applied when the component is passed children. */\n    withChildren: {\n      '& > *': {\n        visibility: 'hidden'\n      }\n    },\n\n    /* Styles applied when the component is passed children and no width. */\n    fitContent: {\n      maxWidth: 'fit-content'\n    },\n\n    /* Styles applied when the component is passed children and no height. */\n    heightAuto: {\n      height: 'auto'\n    }\n  };\n};\nvar Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(props, ref) {\n  var _props$animation = props.animation,\n      animation = _props$animation === void 0 ? 'pulse' : _props$animation,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      height = props.height,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      width = props.width,\n      other = _objectWithoutProperties(props, [\"animation\", \"classes\", \"className\", \"component\", \"height\", \"variant\", \"width\"]);\n\n  var hasChildren = Boolean(other.children);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: clsx(classes.root, classes[variant], className, hasChildren && [classes.withChildren, !width && classes.fitContent, !height && classes.heightAuto], animation !== false && classes[animation])\n  }, other, {\n    style: _extends({\n      width: width,\n      height: height\n    }, other.style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes = {\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The type of content that will be rendered.\n   */\n  variant: PropTypes.oneOf(['text', 'rect', 'circle']),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSkeleton'\n})(Skeleton);","import React from 'react';\nimport times from 'lodash/times';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst THUMB_HEIGHT = 40;\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'flex',\n  },\n  imageSkeleton: {\n    flexGrow: '1',\n  },\n  thumbsContainer: {\n    overflow: 'hidden',\n  },\n  thumbSkeleton: {\n    margin: '0 5px 10px 5px',\n  },\n});\n\nexport default function GallerySkeleton({ height }) {\n  const classes = useStyles();\n\n  const thumbsCount = Math.ceil(height / THUMB_HEIGHT);\n\n  return (\n    <div className={classes.container}>\n      <Skeleton\n        variant=\"rect\"\n        height={height}\n        className={classes.imageSkeleton}\n      />\n      <div className={classes.thumbsContainer} style={{ height }}>\n        {times(thumbsCount).map(() => (\n          <Skeleton\n            variant=\"rect\"\n            height={60}\n            width={100}\n            className={classes.thumbSkeleton}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useMemo, useEffect } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\nimport cls from 'classnames';\nimport ImageGallery from 'react-image-gallery';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LazyWithPlaceholder from 'modules/components/LazyWithPlaceholder';\nimport LazyImage from './components/LazyImage';\nimport { useLayoutContext } from 'modules/components/LayoutContext';\nimport GallerySkeleton from './components/GallerySkeleton';\n\nconst FALLBACK_ASPECT_RATIO = 1;\nconst PREFETCH_SLIDES = 1;\nconst START_INDEX = 0;\nconst THUMB_WIDTH_WITHOUT_BORDERS_PX = 92;\n\nconst useStyles = makeStyles({\n  photoContainer: {\n    minHeight: '200px',\n    margin: '24px 0',\n    '& .image-gallery-thumbnails': {\n      overflowY: 'auto',\n      '-ms-overflow-style': 'none' /* Hide scrollbar for IE, Old Edge */,\n      scrollbarWidth: 'none' /* Firefox */,\n      '&::-webkit-scrollbar': {\n        /* Hide scrollbar for Chrome, Safari and Opera */\n        display: 'none',\n      },\n    },\n  },\n  photo: {\n    display: 'block',\n    width: '100%',\n  },\n});\n\nexport default function PhotosGallery({ className, photos }) {\n  const uniqKey = useMemo(() => uuidV4(), []);\n  const classes = useStyles();\n  const { vw, vh } = useLayoutContext();\n  const [fullscreen, setFullscreen] = useState(false);\n  const [aspectRatios, setAspectRatios] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(START_INDEX);\n\n  const constraints = useMemo(\n    () => resolveImageConstraints(fullscreen, { vh, vw }),\n    [fullscreen, vh, vw],\n  );\n\n  useEffect(\n    () => {\n      const thumbnailElement = window.document\n        .querySelector(\n          `[data-tag=\"photos-gallery-thumb-${uniqKey}-${currentIndex}\"]`,\n        )\n        ?.closest('.image-gallery-thumbnail');\n\n      if (thumbnailElement) {\n        thumbnailElement.scrollIntoView({\n          block: 'nearest',\n          behavior: 'smooth',\n        });\n      }\n    },\n    [currentIndex],\n  );\n\n  const actualPhotos = photos.map(\n    (\n      {\n        fullSizePhotoUrl,\n        thumbnailUrl,\n        previewUrl,\n        blurhash,\n        aspectRatio,\n        description,\n      },\n      index,\n    ) => ({\n      original: previewUrl,\n      originalClass: classes.photo,\n      thumbnail: thumbnailUrl,\n      fullscreen: fullSizePhotoUrl,\n      description,\n      blurhash,\n      aspectRatio,\n      index,\n    }),\n  );\n\n  if (!actualPhotos.length) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cls(className, classes.photoContainer)}\n      style={{ height: constraints.height }}\n    >\n      <LazyWithPlaceholder\n        offset={1000}\n        placeholder={<GallerySkeleton height={constraints.height} />}\n      >\n        <ImageGallery\n          startIndex={START_INDEX}\n          showIndex={true}\n          items={actualPhotos}\n          thumbnailPosition=\"right\"\n          onScreenChange={nextFullscreen => setFullscreen(nextFullscreen)}\n          onBeforeSlide={nextIndex => setCurrentIndex(nextIndex)}\n          disableKeyDown={true}\n          disableThumbnailScroll={true}\n          renderItem={item => (\n            <LazyImage\n              className=\"image-gallery-image\"\n              aspectRatio={\n                aspectRatios[item.index] ||\n                item.aspectRatio?.ratio ||\n                FALLBACK_ASPECT_RATIO\n              }\n              description={item.description}\n              src={fullscreen ? item.fullscreen : item.original}\n              alt={item.originalAlt}\n              constraints={constraints}\n              title={item.originalTitle}\n              blurhash={item.blurhash}\n              require={Math.abs(currentIndex - item.index) <= PREFETCH_SLIDES}\n            >\n              {item.description && (\n                <span className=\"image-gallery-description\">\n                  {item.description}\n                </span>\n              )}\n            </LazyImage>\n          )}\n          renderThumbInner={item => (\n            <span className=\"image-gallery-thumbnail-inner\">\n              <LazyImage\n                tag={`photos-gallery-thumb-${uniqKey}-${item.index}`}\n                className=\"image-gallery-thumbnail-image\"\n                aspectRatio={\n                  aspectRatios[item.index] ||\n                  item.aspectRatio ||\n                  FALLBACK_ASPECT_RATIO\n                }\n                src={item.thumbnail}\n                width={THUMB_WIDTH_WITHOUT_BORDERS_PX}\n                alt={item.thumbnailAlt}\n                title={item.thumbnailTitle}\n                blurhash={item.blurhash}\n                require={true}\n                onLoad={({ aspectRatio }) =>\n                  setAspectRatios(prevRatios => ({\n                    ...prevRatios,\n                    [item.index]: aspectRatio,\n                  }))\n                }\n              />\n            </span>\n          )}\n        />\n      </LazyWithPlaceholder>\n    </div>\n  );\n}\n\nconst RATIOS = {\n  FULLSCREEN: {\n    HEIGHT: { PERCENT: 100, MAX_PX: Infinity },\n    WIDTH: { PERCENT: 100, MAX_PX: Infinity },\n  },\n  DEFAULT: {\n    HEIGHT: { PERCENT: 50, MAX_PX: 1024 },\n    WIDTH: { PERCENT: 100, MAX_PX: 1024 },\n  },\n};\nfunction resolveImageConstraints(fullscreen, { vh, vw }) {\n  const { HEIGHT, WIDTH } = fullscreen ? RATIOS.FULLSCREEN : RATIOS.DEFAULT;\n  return {\n    height: calc(HEIGHT, vh),\n    width: calc(WIDTH, vw),\n  };\n\n  function calc(CONFIG, unit) {\n    return Math.min(CONFIG.PERCENT * unit, CONFIG.MAX_PX);\n  }\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p=\"\",r(r.s=0)}([function(e,r,t){\"use strict\";r.__esModule=!0,r.default=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(\",\"),n=e.name||\"\",o=e.type||\"\",u=o.replace(/\\/.*$/,\"\");return t.some(function(e){var r=e.trim();return\".\"===r.charAt(0)?n.toLowerCase().endsWith(r.toLowerCase()):r.endsWith(\"/*\")?u===r.replace(/\\/.*$/,\"\"):o===r})}return!0}}]);","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ImageGallery=t(require(\"react\")):e.ImageGallery=t(e.React)}(this,(function(e){return(()=>{var t={703:(e,t,n)=>{\"use strict\";var i=n(414);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,s){if(s!==i){var o=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw o.name=\"Invariant Violation\",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},590:e=>{var t=\"undefined\"!=typeof Element,n=\"function\"==typeof Map,i=\"function\"==typeof Set,r=\"function\"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,s){if(e===s)return!0;if(e&&s&&\"object\"==typeof e&&\"object\"==typeof s){if(e.constructor!==s.constructor)return!1;var o,l,u,c;if(Array.isArray(e)){if((o=e.length)!=s.length)return!1;for(l=o;0!=l--;)if(!a(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!a(l.value[1],s.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((o=e.length)!=s.length)return!1;for(l=o;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((o=(u=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if((\"_owner\"!==u[l]&&\"__v\"!==u[l]&&\"__o\"!==u[l]||!e.$$typeof)&&!a(e[u[l]],s[u[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||\"\").match(/stack|recursion/i))return console.warn(\"react-fast-compare cannot handle circular refs\"),!1;throw e}}},37:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var i=\"Left\",r=\"Right\",a=\"Down\",s={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},o={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},l=\"mousemove\",u=\"mouseup\";function c(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function h(e,t){var s=function(t){t&&\"touches\"in t&&t.touches.length>1||e((function(e,i){i.trackMouse&&(document.addEventListener(l,h),document.addEventListener(u,f));var r=\"touches\"in t?t.touches[0]:t,a=c([r.clientX,r.clientY],i.rotationAngle);return n({},e,o,{initial:[].concat(a),xy:a,start:t.timeStamp||0})}))},h=function(t){e((function(e,s){if(\"touches\"in t&&t.touches.length>1)return e;var o=\"touches\"in t?t.touches[0]:t,l=c([o.clientX,o.clientY],s.rotationAngle),u=l[0],h=l[1],d=u-e.xy[0],f=h-e.xy[1],p=Math.abs(d),m=Math.abs(f),v=(t.timeStamp||0)-e.start,g=Math.sqrt(p*p+m*m)/(v||1),b=[d/(v||1),f/(v||1)];if(p<s.delta&&m<s.delta&&!e.swiping)return e;var y=function(e,t,n,s){return e>t?n>0?r:i:s>0?a:\"Up\"}(p,m,d,f),w={absX:p,absY:m,deltaX:d,deltaY:f,dir:y,event:t,first:e.first,initial:e.initial,velocity:g,vxvy:b};s.onSwiping&&s.onSwiping(w);var T=!1;return(s.onSwiping||s.onSwiped||\"onSwiped\"+y in s)&&(T=!0),T&&s.preventDefaultTouchmoveEvent&&s.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:w,swiping:!0})}))},d=function(t){e((function(e,i){var r;if(e.swiping&&e.eventData){r=n({},e.eventData,{event:t}),i.onSwiped&&i.onSwiped(r);var a=\"onSwiped\"+r.dir;a in i&&i[a](r)}else i.onTap&&i.onTap({event:t});return n({},e,o,{eventData:r})}))},f=function(e){document.removeEventListener(l,h),document.removeEventListener(u,f),d(e)},p=function(e,t){var n=function(){};if(e&&e.addEventListener){var i=[[\"touchstart\",s],[\"touchmove\",h],[\"touchend\",d]];i.forEach((function(n){var i=n[0],r=n[1];return e.addEventListener(i,r,{passive:t})})),n=function(){return i.forEach((function(t){var n=t[0],i=t[1];return e.removeEventListener(n,i)}))}}return n},m={ref:function(t){null!==t&&e((function(e,i){if(e.el===t)return e;var r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),i.trackTouch&&t&&(r.cleanUpTouch=p(t,!i.preventDefaultTouchmoveEvent)),n({},e,{el:t},r)}))}};return t.trackMouse&&(m.onMouseDown=s),[m,p]}e.DOWN=a,e.LEFT=i,e.RIGHT=r,e.UP=\"Up\",e.useSwipeable=function(e){var i=e.trackMouse,r=t.useRef(n({},o)),a=t.useRef(n({},s));a.current=n({},s,e);var l=t.useMemo((function(){return h((function(e){return r.current=e(r.current,a.current)}),{trackMouse:i})}),[i]),u=l[0],c=l[1];return r.current=function(e,t,i){var r={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),r.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(r.cleanUpTouch=i(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,r)}(r.current,a.current,c),u}}(t,n(888))},888:t=>{\"use strict\";t.exports=e}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{\"use strict\";function e(t){var n,i,r=\"\";if(\"string\"==typeof t||\"number\"==typeof t)r+=t;else if(\"object\"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(i=e(t[n]))&&(r&&(r+=\" \"),r+=i);else for(n in t)t[n]&&(r&&(r+=\" \"),r+=n);return r}function t(){for(var t,n,i=0,r=\"\";i<arguments.length;)(t=arguments[i++])&&(n=e(t))&&(r&&(r+=\" \"),r+=n);return r}i.r(r),i.d(r,{default:()=>Me});var n=i(888),a=i.n(n);const s=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)},o=\"object\"==typeof global&&global&&global.Object===Object&&global;var l=\"object\"==typeof self&&self&&self.Object===Object&&self;const u=o||l||Function(\"return this\")(),c=function(){return u.Date.now()};var h=/\\s/;var d=/^\\s+/;const f=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&h.test(e.charAt(t)););return t}(e)+1).replace(d,\"\"):e},p=u.Symbol;var m=Object.prototype,v=m.hasOwnProperty,g=m.toString,b=p?p.toStringTag:void 0;var y=Object.prototype.toString;var w=p?p.toStringTag:void 0;const T=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":w&&w in Object(e)?function(e){var t=v.call(e,b),n=e[b];try{e[b]=void 0;var i=!0}catch(e){}var r=g.call(e);return i&&(t?e[b]=n:delete e[b]),r}(e):function(e){return y.call(e)}(e)};var S=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,E=/^0o[0-7]+$/i,I=parseInt;const k=function(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return null!=e&&\"object\"==typeof e}(e)&&\"[object Symbol]\"==T(e)}(e))return NaN;if(s(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=f(e);var n=O.test(e);return n||E.test(e)?I(e.slice(2),n?2:8):S.test(e)?NaN:+e};var x=Math.max,_=Math.min;const L=function(e,t,n){var i,r,a,o,l,u,h=0,d=!1,f=!1,p=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function m(t){var n=i,a=r;return i=r=void 0,h=t,o=e.apply(a,n)}function v(e){return h=e,l=setTimeout(b,t),d?m(e):o}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-h>=a}function b(){var e=c();if(g(e))return y(e);l=setTimeout(b,function(e){var n=t-(e-u);return f?_(n,a-(e-h)):n}(e))}function y(e){return l=void 0,p&&i?m(e):(i=r=void 0,o)}function w(){var e=c(),n=g(e);if(i=arguments,r=this,u=e,n){if(void 0===l)return v(u);if(f)return clearTimeout(l),l=setTimeout(b,t),m(u)}return void 0===l&&(l=setTimeout(b,t)),o}return t=k(t)||0,s(n)&&(d=!!n.leading,a=(f=\"maxWait\"in n)?x(k(n.maxWait)||0,t):a,p=\"trailing\"in n?!!n.trailing:p),w.cancel=function(){void 0!==l&&clearTimeout(l),h=0,i=u=r=l=void 0},w.flush=function(){return void 0===l?o:y(c())},w},P=function(e,t,n){var i=!0,r=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");return s(n)&&(i=\"leading\"in n?!!n.leading:i,r=\"trailing\"in n?!!n.trailing:r),L(e,t,{leading:i,maxWait:t,trailing:r})};var M=i(590),R=i.n(M),D=function(){if(\"undefined\"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,\"size\",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),F=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.document===document,C=void 0!==i.g&&i.g.Math===Math?i.g:\"undefined\"!=typeof self&&self.Math===Math?self:\"undefined\"!=typeof window&&window.Math===Math?window:Function(\"return this\")(),W=\"function\"==typeof requestAnimationFrame?requestAnimationFrame.bind(C):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},N=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\",\"size\",\"weight\"],j=\"undefined\"!=typeof MutationObserver,z=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&o()}function s(){W(a)}function o(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);r=e}return o}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){F&&!this.connected_&&(document.addEventListener(\"transitionend\",this.onTransitionEnd_),window.addEventListener(\"resize\",this.refresh),j?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){F&&this.connected_&&(document.removeEventListener(\"transitionend\",this.onTransitionEnd_),window.removeEventListener(\"resize\",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?\"\":t;N.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),B=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},A=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||C},G=V(0,0,0,0);function U(e){return parseFloat(e)||0}function H(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+U(e[\"border-\"+n+\"-width\"])}),0)}var q=\"undefined\"!=typeof SVGGraphicsElement?function(e){return e instanceof A(e).SVGGraphicsElement}:function(e){return e instanceof A(e).SVGElement&&\"function\"==typeof e.getBBox};function K(e){return F?q(e)?function(e){var t=e.getBBox();return V(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return G;var i=A(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=[\"top\",\"right\",\"bottom\",\"left\"];n<i.length;n++){var r=i[n],a=e[\"padding-\"+r];t[r]=U(a)}return t}(i),a=r.left+r.right,s=r.top+r.bottom,o=U(i.width),l=U(i.height);if(\"border-box\"===i.boxSizing&&(Math.round(o+a)!==t&&(o-=H(i,\"left\",\"right\")+a),Math.round(l+s)!==n&&(l-=H(i,\"top\",\"bottom\")+s)),!function(e){return e===A(e).document.documentElement}(e)){var u=Math.round(o+a)-t,c=Math.round(l+s)-n;1!==Math.abs(u)&&(o-=u),1!==Math.abs(c)&&(l-=c)}return V(r.left,r.top,o,l)}(e):G}function V(e,t,n,i){return{x:e,y:t,width:n,height:i}}var X=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=V(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=K(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Y=function(e,t){var n,i,r,a,s,o,l,u=(i=(n=t).x,r=n.y,a=n.width,s=n.height,o=\"undefined\"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),B(l,{x:i,y:r,width:a,height:s,top:r,right:i+a,bottom:s+r,left:i}),l);B(this,{target:e,contentRect:u})},$=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new D,\"function\"!=typeof e)throw new TypeError(\"The callback provided as parameter 1 is not a function.\");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var t=this.observations_;t.has(e)||(t.set(e,new X(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),J=\"undefined\"!=typeof WeakMap?new WeakMap:new D,Q=function e(t){if(!(this instanceof e))throw new TypeError(\"Cannot call a class as a function.\");if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");var n=z.getInstance(),i=new $(t,n,this);J.set(this,i)};[\"observe\",\"unobserve\",\"disconnect\"].forEach((function(e){Q.prototype[e]=function(){var t;return(t=J.get(this))[e].apply(t,arguments)}}));const Z=void 0!==C.ResizeObserver?C.ResizeObserver:Q;var ee=i(37),te=i(697),ne=a().memo((function(e){var t=e.description,n=e.fullscreen,i=e.handleImageLoaded,r=e.isFullscreen,s=e.onImageError,o=e.original,l=e.originalAlt,u=e.originalHeight,c=e.originalWidth,h=e.originalTitle,d=e.sizes,f=e.srcSet,p=r&&n||o;return a().createElement(a().Fragment,null,a().createElement(\"img\",{className:\"image-gallery-image\",src:p,alt:l,srcSet:f,height:u,width:c,sizes:d,title:h,onLoad:function(e){return i(e,o)},onError:s}),t&&a().createElement(\"span\",{className:\"image-gallery-description\"},t))}));ne.displayName=\"Item\",ne.propTypes={description:te.string,fullscreen:te.string,handleImageLoaded:te.func.isRequired,isFullscreen:te.bool,onImageError:te.func.isRequired,original:te.string.isRequired,originalAlt:te.string,originalHeight:te.string,originalWidth:te.string,originalTitle:te.string,sizes:te.string,srcSet:te.string},ne.defaultProps={description:\"\",fullscreen:\"\",isFullscreen:!1,originalAlt:\"\",originalHeight:\"\",originalWidth:\"\",originalTitle:\"\",sizes:\"\",srcSet:\"\"};const ie=ne;var re={left:a().createElement(\"polyline\",{points:\"15 18 9 12 15 6\"}),right:a().createElement(\"polyline\",{points:\"9 18 15 12 9 6\"}),maximize:a().createElement(\"path\",{d:\"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3\"}),minimize:a().createElement(\"path\",{d:\"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"}),play:a().createElement(\"polygon\",{points:\"5 3 19 12 5 21 5 3\"}),pause:a().createElement(a().Fragment,null,a().createElement(\"rect\",{x:\"6\",y:\"4\",width:\"4\",height:\"16\"}),a().createElement(\"rect\",{x:\"14\",y:\"4\",width:\"4\",height:\"16\"}))},ae=function(e){var t=e.strokeWidth,n=e.viewBox,i=e.icon;return a().createElement(\"svg\",{className:\"image-gallery-svg\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:n,fill:\"none\",stroke:\"currentColor\",strokeWidth:t,strokeLinecap:\"round\",strokeLinejoin:\"round\"},re[i])};ae.propTypes={strokeWidth:te.number,viewBox:te.string,icon:(0,te.oneOf)([\"left\",\"right\",\"maximize\",\"minimize\",\"play\",\"pause\"]).isRequired},ae.defaultProps={strokeWidth:1,viewBox:\"0 0 24 24\"};const se=ae;var oe=a().memo((function(e){var t=e.isFullscreen,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-fullscreen-button\",onClick:n,\"aria-label\":\"Open Fullscreen\"},a().createElement(se,{strokeWidth:2,icon:t?\"minimize\":\"maximize\"}))}));oe.displayName=\"Fullscreen\",oe.propTypes={isFullscreen:te.bool.isRequired,onClick:te.func.isRequired};const le=oe;var ue=a().memo((function(e){var t=e.disabled,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-left-nav\",disabled:t,onClick:n,\"aria-label\":\"Previous Slide\"},a().createElement(se,{icon:\"left\",viewBox:\"6 0 12 24\"}))}));ue.displayName=\"LeftNav\",ue.propTypes={disabled:te.bool.isRequired,onClick:te.func.isRequired};const ce=ue;var he=a().memo((function(e){var t=e.disabled,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-right-nav\",disabled:t,onClick:n,\"aria-label\":\"Next Slide\"},a().createElement(se,{icon:\"right\",viewBox:\"6 0 12 24\"}))}));he.displayName=\"RightNav\",he.propTypes={disabled:te.bool.isRequired,onClick:te.func.isRequired};const de=he;var fe=a().memo((function(e){var t=e.isPlaying,n=e.onClick;return a().createElement(\"button\",{type:\"button\",className:\"image-gallery-icon image-gallery-play-button\",onClick:n,\"aria-label\":\"Play or Pause Slideshow\"},a().createElement(se,{strokeWidth:2,icon:t?\"pause\":\"play\"}))}));fe.displayName=\"PlayPause\",fe.propTypes={isPlaying:te.bool.isRequired,onClick:te.func.isRequired};const pe=fe;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ve=function(e){var t=e.children,n=e.className,i=e.delta,r=e.onSwiping,s=e.onSwiped,o=(0,ee.useSwipeable)({delta:i,onSwiping:r,onSwiped:s});return a().createElement(\"div\",me({},o,{className:n}),t)};ve.propTypes={children:te.node.isRequired,className:te.string,delta:te.number,onSwiped:te.func,onSwiping:te.func},ve.defaultProps={className:\"\",delta:0,onSwiping:function(){},onSwiped:function(){}};const ge=ve;function be(e){return(be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t){return!t||\"object\"!==be(t)&&\"function\"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=[\"fullscreenchange\",\"MSFullscreenChange\",\"mozfullscreenchange\",\"webkitfullscreenchange\"],_e=(0,te.arrayOf)((0,te.shape)({srcSet:te.string,media:te.string}));function Le(e){var t=parseInt(e.keyCode||e.which||0,10);return 66===t||62===t}var Pe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(l,e);var n,i,r,s,o=(r=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(r);if(s){var n=ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ee(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=o.call(this,e)).state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:\"all \".concat(e.slideDuration,\"ms ease-out\")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},t.loadedImages={},t.imageGallery=a().createRef(),t.thumbnailsWrapper=a().createRef(),t.thumbnails=a().createRef(),t.imageGallerySlideWrapper=a().createRef(),t.handleImageLoaded=t.handleImageLoaded.bind(Ie(t)),t.handleKeyDown=t.handleKeyDown.bind(Ie(t)),t.handleMouseDown=t.handleMouseDown.bind(Ie(t)),t.handleTouchMove=t.handleTouchMove.bind(Ie(t)),t.handleOnSwiped=t.handleOnSwiped.bind(Ie(t)),t.handleScreenChange=t.handleScreenChange.bind(Ie(t)),t.handleSwiping=t.handleSwiping.bind(Ie(t)),t.handleThumbnailSwiping=t.handleThumbnailSwiping.bind(Ie(t)),t.handleOnThumbnailSwiped=t.handleOnThumbnailSwiped.bind(Ie(t)),t.onThumbnailMouseLeave=t.onThumbnailMouseLeave.bind(Ie(t)),t.handleImageError=t.handleImageError.bind(Ie(t)),t.pauseOrPlay=t.pauseOrPlay.bind(Ie(t)),t.renderThumbInner=t.renderThumbInner.bind(Ie(t)),t.renderItem=t.renderItem.bind(Ie(t)),t.slideLeft=t.slideLeft.bind(Ie(t)),t.slideRight=t.slideRight.bind(Ie(t)),t.toggleFullScreen=t.toggleFullScreen.bind(Ie(t)),t.togglePlay=t.togglePlay.bind(Ie(t)),t.unthrottledSlideToIndex=t.slideToIndex,t.slideToIndex=P(t.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(t.lazyLoaded=[]),t}return n=l,(i=[{key:\"componentDidMount\",value:function(){var e=this.props,t=e.autoPlay,n=e.useWindowKeyDown;t&&this.play(),n?window.addEventListener(\"keydown\",this.handleKeyDown):this.imageGallery.current.addEventListener(\"keydown\",this.handleKeyDown),window.addEventListener(\"mousedown\",this.handleMouseDown),window.addEventListener(\"touchmove\",this.handleTouchMove,{passive:!1}),this.initResizeObserver(this.imageGallerySlideWrapper),this.addScreenChangeEvent()}},{key:\"componentDidUpdate\",value:function(e,t){var n=this.props,i=n.items,r=n.lazyLoad,a=n.slideDuration,s=n.slideInterval,o=n.startIndex,l=n.thumbnailPosition,u=n.showThumbnails,c=n.useWindowKeyDown,h=this.state.currentIndex,d=e.items.length!==i.length,f=!R()(e.items,i),p=e.startIndex!==o,m=e.thumbnailPosition!==l,v=e.showThumbnails!==u;s===e.slideInterval&&a===e.slideDuration||(this.pause(),this.play()),m&&(this.removeResizeObserver(),this.initResizeObserver(this.imageGallerySlideWrapper)),(d||v)&&this.handleResize(),t.currentIndex!==h&&this.slideThumbnailBar(),e.slideDuration!==a&&(this.slideToIndex=P(this.unthrottledSlideToIndex,a,{trailing:!1})),!r||e.lazyLoad&&!f||(this.lazyLoaded=[]),c!==e.useWindowKeyDown&&(c?(this.imageGallery.current.removeEventListener(\"keydown\",this.handleKeyDown),window.addEventListener(\"keydown\",this.handleKeyDown)):(window.removeEventListener(\"keydown\",this.handleKeyDown),this.imageGallery.current.addEventListener(\"keydown\",this.handleKeyDown))),(p||f)&&this.setState({currentIndex:o})}},{key:\"componentWillUnmount\",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener(\"mousedown\",this.handleMouseDown),window.removeEventListener(\"touchmove\",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener(\"keydown\",this.handleKeyDown):this.imageGallery.current.removeEventListener(\"keydown\",this.handleKeyDown)}},{key:\"onSliding\",value:function(){var e=this,t=this.state,n=t.currentIndex,i=t.isTransitioning,r=this.props,a=r.onSlide,s=r.slideDuration;this.transitionTimer=window.setTimeout((function(){i&&(e.setState({isTransitioning:!i,isSwipingThumbnail:!1}),a&&a(n))}),s+50)}},{key:\"onThumbnailClick\",value:function(e,t){var n=this.props.onThumbnailClick;e.target.parentNode.parentNode.blur(),this.slideToIndex(t,e),n&&n(e,t)}},{key:\"onThumbnailMouseOver\",value:function(e,t){var n=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){n.slideToIndex(t),n.pause()}),300)}},{key:\"onThumbnailMouseLeave\",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:\"setThumbsTranslate\",value:function(e){this.setState({thumbsTranslate:e})}},{key:\"setModalFullscreen\",value:function(e){var t=this.props.onScreenChange;this.setState({modalFullscreen:e}),t&&t(e)}},{key:\"getThumbsTranslate\",value:function(e){var t,n=this.props,i=n.disableThumbnailScroll,r=n.items,a=this.state,s=a.thumbnailsWrapperWidth,o=a.thumbnailsWrapperHeight,l=this.thumbnails&&this.thumbnails.current;if(i)return 0;if(l){if(this.isThumbnailVertical()){if(l.scrollHeight<=o)return 0;t=l.scrollHeight-o}else{if(l.scrollWidth<=s||s<=0)return 0;t=l.scrollWidth-s}return e*(t/(r.length-1))}return 0}},{key:\"getAlignmentClassName\",value:function(e){var t=this.state.currentIndex,n=this.props,i=n.infinite,r=n.items,a=\"\",s=\"left\",o=\"right\";switch(e){case t-1:a=\" \".concat(s);break;case t:a=\" \".concat(\"center\");break;case t+1:a=\" \".concat(o)}return r.length>=3&&i&&(0===e&&t===r.length-1?a=\" \".concat(o):e===r.length-1&&0===t&&(a=\" \".concat(s))),a}},{key:\"getTranslateXForTwoSlide\",value:function(e){var t=this.state,n=t.currentIndex,i=t.currentSlideOffset,r=t.previousIndex,a=n!==r,s=0===e&&0===r,o=1===e&&1===r,l=0===e&&1===n,u=1===e&&0===n,c=0===i,h=-100*n+100*e+i;return i>0?this.direction=\"left\":i<0&&(this.direction=\"right\"),u&&i>0&&(h=-100+i),l&&i<0&&(h=100+i),a?s&&c&&\"left\"===this.direction?h=100:o&&c&&\"right\"===this.direction&&(h=-100):(u&&c&&\"left\"===this.direction&&(h=-100),l&&c&&\"right\"===this.direction&&(h=100)),h}},{key:\"getThumbnailBarHeight\",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:\"getSlideStyle\",value:function(e){var t=this.state,n=t.currentIndex,i=t.currentSlideOffset,r=t.slideStyle,a=this.props,s=a.infinite,o=a.items,l=a.useTranslate3D,u=a.isRTL,c=-100*n,h=o.length-1,d=(c+100*e)*(u?-1:1)+i;s&&o.length>2&&(0===n&&e===h?d=-100*(u?-1:1)+i:n===h&&0===e&&(d=100*(u?-1:1)+i)),s&&2===o.length&&(d=this.getTranslateXForTwoSlide(e));var f=\"translate(\".concat(d,\"%, 0)\");return l&&(f=\"translate3d(\".concat(d,\"%, 0, 0)\")),we({display:this.isSlideVisible(e)?\"inherit\":\"none\",WebkitTransform:f,MozTransform:f,msTransform:f,OTransform:f,transform:f},r)}},{key:\"getCurrentIndex\",value:function(){return this.state.currentIndex}},{key:\"getThumbnailStyle\",value:function(){var e,t=this.props,n=t.useTranslate3D,i=t.isRTL,r=this.state,a=r.thumbsTranslate,s=r.thumbsStyle,o=i?-1*a:a;return this.isThumbnailVertical()?(e=\"translate(0, \".concat(a,\"px)\"),n&&(e=\"translate3d(0, \".concat(a,\"px, 0)\"))):(e=\"translate(\".concat(o,\"px, 0)\"),n&&(e=\"translate3d(\".concat(o,\"px, 0, 0)\"))),we({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},s)}},{key:\"getSlideItems\",value:function(){var e=this,n=this.state.currentIndex,i=this.props,r=i.items,s=i.slideOnThumbnailOver,o=i.onClick,l=i.lazyLoad,u=i.onTouchMove,c=i.onTouchEnd,h=i.onTouchStart,d=i.onMouseOver,f=i.onMouseLeave,p=i.renderItem,m=i.renderThumbInner,v=i.showThumbnails,g=i.showBullets,b=[],y=[],w=[];return r.forEach((function(i,r){var T=e.getAlignmentClassName(r),S=i.originalClass?\" \".concat(i.originalClass):\"\",O=i.thumbnailClass?\" \".concat(i.thumbnailClass):\"\",E=i.renderItem||p||e.renderItem,I=i.renderThumbInner||m||e.renderThumbInner,k=!l||T||e.lazyLoaded[r];k&&l&&!e.lazyLoaded[r]&&(e.lazyLoaded[r]=!0);var x=e.getSlideStyle(r),_=a().createElement(\"div\",{\"aria-label\":\"Go to Slide \".concat(r+1),key:\"slide-\".concat(r),tabIndex:\"-1\",className:\"image-gallery-slide \".concat(T,\" \").concat(S),style:x,onClick:o,onKeyUp:e.handleSlideKeyUp,onTouchMove:u,onTouchEnd:c,onTouchStart:h,onMouseOver:d,onFocus:d,onMouseLeave:f,role:\"button\"},k?E(i):a().createElement(\"div\",{style:{height:\"100%\"}}));if(b.push(_),v&&i.thumbnail){var L=t(\"image-gallery-thumbnail\",O,{active:n===r});y.push(a().createElement(\"button\",{key:\"thumbnail-\".concat(r),type:\"button\",tabIndex:\"0\",\"aria-pressed\":n===r?\"true\":\"false\",\"aria-label\":\"Go to Slide \".concat(r+1),className:L,onMouseLeave:s?e.onThumbnailMouseLeave:null,onMouseOver:function(t){return e.handleThumbnailMouseOver(t,r)},onFocus:function(t){return e.handleThumbnailMouseOver(t,r)},onKeyUp:function(t){return e.handleThumbnailKeyUp(t,r)},onClick:function(t){return e.onThumbnailClick(t,r)}},I(i)))}if(g){var P=t(\"image-gallery-bullet\",i.bulletClass,{active:n===r});w.push(a().createElement(\"button\",{type:\"button\",key:\"bullet-\".concat(r),className:P,onClick:function(t){return i.bulletOnClick&&i.bulletOnClick({item:i,itemIndex:r,currentIndex:n}),t.target.blur(),e.slideToIndex.call(e,r,t)},\"aria-pressed\":n===r?\"true\":\"false\",\"aria-label\":\"Go to Slide \".concat(r+1)}))}})),{slides:b,thumbnails:y,bullets:w}}},{key:\"ignoreIsTransitioning\",value:function(){var e=this.props.items,t=this.state,n=t.previousIndex,i=t.currentIndex,r=e.length-1;return Math.abs(n-i)>1&&!(0===n&&i===r)&&!(n===r&&0===i)}},{key:\"isFirstOrLastSlide\",value:function(e){return e===this.props.items.length-1||0===e}},{key:\"slideIsTransitioning\",value:function(e){var t=this.state,n=t.isTransitioning,i=t.previousIndex,r=t.currentIndex;return n&&!(e===i||e===r)}},{key:\"isSlideVisible\",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:\"slideThumbnailBar\",value:function(){var e=this.state,t=e.currentIndex,n=e.isSwipingThumbnail,i=-this.getThumbsTranslate(t);n||(0===t?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:i,thumbsSwipedTranslate:i}))}},{key:\"canSlide\",value:function(){return this.props.items.length>=2}},{key:\"canSlideLeft\",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlideNext():this.canSlidePrevious())}},{key:\"canSlideRight\",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlidePrevious():this.canSlideNext())}},{key:\"canSlidePrevious\",value:function(){return this.state.currentIndex>0}},{key:\"canSlideNext\",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:\"handleSwiping\",value:function(e){var t=e.event,n=e.absX,i=e.dir,r=this.props,a=r.disableSwipe,s=r.stopPropagation,o=this.state,l=o.galleryWidth,u=o.isTransitioning,c=o.swipingUpDown,h=o.swipingLeftRight;if(i!==ee.UP&&i!==ee.DOWN&&!c||h){if(i!==ee.LEFT&&i!==ee.RIGHT||h||this.setState({swipingLeftRight:!0}),!a){var d=this.props.swipingTransitionDuration;if(s&&t.preventDefault(),u)this.setState({currentSlideOffset:0});else{var f=i===ee.RIGHT?1:-1,p=n/l*100;Math.abs(p)>=100&&(p=100);var m={transition:\"transform \".concat(d,\"ms ease-out\")};this.setState({currentSlideOffset:f*p,slideStyle:m})}}}else c||this.setState({swipingUpDown:!0})}},{key:\"handleThumbnailSwiping\",value:function(e){var t=e.event,n=e.absX,i=e.absY,r=e.dir,a=this.props,s=a.stopPropagation,o=a.swipingThumbnailTransitionDuration,l=this.state,u=l.thumbsSwipedTranslate,c=l.thumbnailsWrapperHeight,h=l.thumbnailsWrapperWidth,d=l.swipingUpDown,f=l.swipingLeftRight;if(this.isThumbnailVertical()){if((r===ee.LEFT||r===ee.RIGHT||f)&&!d)return void(f||this.setState({swipingLeftRight:!0}));r!==ee.UP&&r!==ee.DOWN||d||this.setState({swipingUpDown:!0})}else{if((r===ee.UP||r===ee.DOWN||d)&&!f)return void(d||this.setState({swipingUpDown:!0}));r!==ee.LEFT&&r!==ee.RIGHT||f||this.setState({swipingLeftRight:!0})}var p,m,v,g,b,y=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(p=u+(r===ee.DOWN?i:-i),m=y.scrollHeight-c+20,v=Math.abs(p)>m,g=p>20,b=y.scrollHeight<=c):(p=u+(r===ee.RIGHT?n:-n),m=y.scrollWidth-h+20,v=Math.abs(p)>m,g=p>20,b=y.scrollWidth<=h),!b&&(r!==ee.LEFT&&r!==ee.UP||!v)&&(r!==ee.RIGHT&&r!==ee.DOWN||!g)){s&&t.stopPropagation();var w={transition:\"transform \".concat(o,\"ms ease-out\")};this.setState({thumbsTranslate:p,thumbsStyle:w})}}},{key:\"handleOnThumbnailSwiped\",value:function(){var e=this.state.thumbsTranslate,t=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:\"all \".concat(t,\"ms ease-out\")}})}},{key:\"sufficientSwipe\",value:function(){var e=this.state.currentSlideOffset,t=this.props.swipeThreshold;return Math.abs(e)>t}},{key:\"resetSwipingDirection\",value:function(){var e=this.state,t=e.swipingUpDown,n=e.swipingLeftRight;t&&this.setState({swipingUpDown:!1}),n&&this.setState({swipingLeftRight:!1})}},{key:\"handleOnSwiped\",value:function(e){var t=e.event,n=e.dir,i=e.velocity,r=this.props,a=r.disableSwipe,s=r.stopPropagation,o=r.flickThreshold;if(!a){var l=this.props.isRTL;s&&t.stopPropagation(),this.resetSwipingDirection();var u=(n===ee.LEFT?1:-1)*(l?-1:1),c=n===ee.UP||n===ee.DOWN,h=i>o&&!c;this.handleOnSwipedTo(u,h)}}},{key:\"handleOnSwipedTo\",value:function(e,t){var n=this.state,i=n.currentIndex,r=n.isTransitioning,a=i;!this.sufficientSwipe()&&!t||r||(a+=e),(-1===e&&!this.canSlideLeft()||1===e&&!this.canSlideRight())&&(a=i),this.unthrottledSlideToIndex(a)}},{key:\"handleTouchMove\",value:function(e){this.state.swipingLeftRight&&e.preventDefault()}},{key:\"handleMouseDown\",value:function(){this.imageGallery.current.classList.add(\"image-gallery-using-mouse\")}},{key:\"handleKeyDown\",value:function(e){var t=this.props,n=t.disableKeyDown,i=t.useBrowserFullscreen,r=this.state.isFullscreen;if(this.imageGallery.current.classList.remove(\"image-gallery-using-mouse\"),!n)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:r&&!i&&this.exitFullScreen()}}},{key:\"handleImageError\",value:function(e){var t=this.props.onErrorImageURL;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)}},{key:\"removeResizeObserver\",value:function(){this.resizeObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeObserver=null)}},{key:\"handleResize\",value:function(){var e=this.state.currentIndex;this.resizeObserver&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.isThumbnailVertical()?this.setState({thumbnailsWrapperHeight:this.thumbnailsWrapper.current.offsetHeight}):this.setState({thumbnailsWrapperWidth:this.thumbnailsWrapper.current.offsetWidth})),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:\"initResizeObserver\",value:function(e){var t=this;this.resizeObserver=new Z(L((function(e){e&&e.forEach((function(){t.handleResize()}))}),300)),this.resizeObserver.observe(e.current)}},{key:\"toggleFullScreen\",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:\"togglePlay\",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:\"handleScreenChange\",value:function(){var e=this.props,t=e.onScreenChange,n=e.useBrowserFullscreen,i=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,r=this.imageGallery.current===i;t&&t(r),n&&this.setState({isFullscreen:r})}},{key:\"slideToIndex\",value:function(e,t){var n=this.state,i=n.currentIndex,r=n.isTransitioning,a=this.props,s=a.items,o=a.slideDuration,l=a.onBeforeSlide;if(!r){t&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var u=s.length-1,c=e;e<0?c=u:e>u&&(c=0),l&&c!==i&&l(c),this.setState({previousIndex:i,currentIndex:c,isTransitioning:c!==i,currentSlideOffset:0,slideStyle:{transition:\"all \".concat(o,\"ms ease-out\")}},this.onSliding)}}},{key:\"slideLeft\",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?\"right\":\"left\")}},{key:\"slideRight\",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?\"left\":\"right\")}},{key:\"slideTo\",value:function(e,t){var n=this,i=this.state,r=i.currentIndex,a=i.currentSlideOffset,s=i.isTransitioning,o=this.props.items,l=r+(\"left\"===t?-1:1);s||(2===o.length?this.setState({currentSlideOffset:a+(\"left\"===t?.001:-.001),slideStyle:{transition:\"none\"}},(function(){window.setTimeout((function(){return n.slideToIndex(l,e)}),25)})):this.slideToIndex(l,e))}},{key:\"handleThumbnailMouseOver\",value:function(e,t){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,t)}},{key:\"handleThumbnailKeyUp\",value:function(e,t){Le(e)&&this.onThumbnailClick(e,t)}},{key:\"handleSlideKeyUp\",value:function(e){Le(e)&&(0,this.props.onClick)(e)}},{key:\"isThumbnailVertical\",value:function(){var e=this.props.thumbnailPosition;return\"left\"===e||\"right\"===e}},{key:\"addScreenChangeEvent\",value:function(){var e=this;xe.forEach((function(t){document.addEventListener(t,e.handleScreenChange)}))}},{key:\"removeScreenChangeEvent\",value:function(){var e=this;xe.forEach((function(t){document.removeEventListener(t,e.handleScreenChange)}))}},{key:\"fullScreen\",value:function(){var e=this.props.useBrowserFullscreen,t=this.imageGallery.current;e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:\"exitFullScreen\",value:function(){var e=this.state.isFullscreen,t=this.props.useBrowserFullscreen;e&&(t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:\"pauseOrPlay\",value:function(){var e=this.props.infinite,t=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(t+1):this.pause()}},{key:\"play\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.onPlay,i=t.slideInterval,r=t.slideDuration,a=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(i,r)),n&&e&&n(a))}},{key:\"pause\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onPause,n=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),t&&e&&t(n))}},{key:\"isImageLoaded\",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:\"handleImageLoaded\",value:function(e,t){var n=this.props.onImageLoad;!this.loadedImages[t]&&n&&(this.loadedImages[t]=!0,n(e))}},{key:\"renderItem\",value:function(e){var t=this.state.isFullscreen,n=this.props.onImageError||this.handleImageError;return a().createElement(ie,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:t,onImageError:n,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,srcSet:e.srcSet})}},{key:\"renderThumbInner\",value:function(e){var t=this.props.onThumbnailError||this.handleImageError;return a().createElement(\"span\",{className:\"image-gallery-thumbnail-inner\"},a().createElement(\"img\",{className:\"image-gallery-thumbnail-image\",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,onError:t}),e.thumbnailLabel&&a().createElement(\"div\",{className:\"image-gallery-thumbnail-label\"},e.thumbnailLabel))}},{key:\"render\",value:function(){var e=this.state,n=e.currentIndex,i=e.isFullscreen,r=e.modalFullscreen,s=e.isPlaying,o=this.props,l=o.additionalClass,u=o.disableThumbnailSwipe,c=o.indexSeparator,h=o.isRTL,d=o.items,f=o.thumbnailPosition,p=o.renderFullscreenButton,m=o.renderCustomControls,v=o.renderLeftNav,g=o.renderRightNav,b=o.showBullets,y=o.showFullscreenButton,w=o.showIndex,T=o.showThumbnails,S=o.showNav,O=o.showPlayButton,E=o.renderPlayPauseButton,I=this.getThumbnailStyle(),k=this.getSlideItems(),x=k.slides,_=k.thumbnails,L=k.bullets,P=t(\"image-gallery-slide-wrapper\",f,{\"image-gallery-rtl\":h}),M=a().createElement(\"div\",{ref:this.imageGallerySlideWrapper,className:P},m&&m(),this.canSlide()?a().createElement(a().Fragment,null,S&&a().createElement(a().Fragment,null,v(this.slideLeft,!this.canSlideLeft()),g(this.slideRight,!this.canSlideRight())),a().createElement(ge,{className:\"image-gallery-swipe\",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},a().createElement(\"div\",{className:\"image-gallery-slides\"},x))):a().createElement(\"div\",{className:\"image-gallery-slides\"},x),O&&E(this.togglePlay,s),b&&a().createElement(\"div\",{className:\"image-gallery-bullets\"},a().createElement(\"div\",{className:\"image-gallery-bullets-container\",role:\"navigation\",\"aria-label\":\"Bullet Navigation\"},L)),y&&p(this.toggleFullScreen,i),w&&a().createElement(\"div\",{className:\"image-gallery-index\"},a().createElement(\"span\",{className:\"image-gallery-index-current\"},n+1),a().createElement(\"span\",{className:\"image-gallery-index-separator\"},c),a().createElement(\"span\",{className:\"image-gallery-index-total\"},d.length))),R=t(\"image-gallery\",l,{\"fullscreen-modal\":r}),D=t(\"image-gallery-content\",f,{fullscreen:i}),F=t(\"image-gallery-thumbnails-wrapper\",f,{\"thumbnails-wrapper-rtl\":!this.isThumbnailVertical()&&h},{\"thumbnails-swipe-horizontal\":!this.isThumbnailVertical()&&!u},{\"thumbnails-swipe-vertical\":this.isThumbnailVertical()&&!u});return a().createElement(\"div\",{ref:this.imageGallery,className:R,\"aria-live\":\"polite\"},a().createElement(\"div\",{className:D},(\"bottom\"===f||\"right\"===f)&&M,T&&_.length>0?a().createElement(ge,{className:F,delta:0,onSwiping:!u&&this.handleThumbnailSwiping,onSwiped:!u&&this.handleOnThumbnailSwiped},a().createElement(\"div\",{className:\"image-gallery-thumbnails\",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},a().createElement(\"div\",{ref:this.thumbnails,className:\"image-gallery-thumbnails-container\",style:I,\"aria-label\":\"Thumbnail Navigation\"},_))):null,(\"top\"===f||\"left\"===f)&&M))}}])&&Se(n.prototype,i),l}(a().Component);Pe.propTypes={flickThreshold:te.number,items:(0,te.arrayOf)((0,te.shape)({bulletClass:te.string,bulletOnClick:te.func,description:te.string,original:te.string,originalHeight:te.number,originalWidth:te.number,thumbnailHeight:te.number,thumbnailWidth:te.number,fullscreen:te.string,originalAlt:te.string,originalTitle:te.string,thumbnail:te.string,thumbnailAlt:te.string,thumbnailLabel:te.string,thumbnailTitle:te.string,originalClass:te.string,thumbnailClass:te.string,renderItem:te.func,renderThumbInner:te.func,imageSet:_e,srcSet:te.string,sizes:te.string})).isRequired,showNav:te.bool,autoPlay:te.bool,lazyLoad:te.bool,infinite:te.bool,showIndex:te.bool,showBullets:te.bool,showThumbnails:te.bool,showPlayButton:te.bool,showFullscreenButton:te.bool,disableThumbnailScroll:te.bool,disableKeyDown:te.bool,disableSwipe:te.bool,disableThumbnailSwipe:te.bool,useBrowserFullscreen:te.bool,onErrorImageURL:te.string,indexSeparator:te.string,thumbnailPosition:(0,te.oneOf)([\"top\",\"bottom\",\"left\",\"right\"]),startIndex:te.number,slideDuration:te.number,slideInterval:te.number,slideOnThumbnailOver:te.bool,swipeThreshold:te.number,swipingTransitionDuration:te.number,swipingThumbnailTransitionDuration:te.number,onSlide:te.func,onBeforeSlide:te.func,onScreenChange:te.func,onPause:te.func,onPlay:te.func,onClick:te.func,onImageLoad:te.func,onImageError:te.func,onTouchMove:te.func,onTouchEnd:te.func,onTouchStart:te.func,onMouseOver:te.func,onMouseLeave:te.func,onThumbnailError:te.func,onThumbnailClick:te.func,renderCustomControls:te.func,renderLeftNav:te.func,renderRightNav:te.func,renderPlayPauseButton:te.func,renderFullscreenButton:te.func,renderItem:te.func,renderThumbInner:te.func,stopPropagation:te.bool,additionalClass:te.string,useTranslate3D:te.bool,isRTL:te.bool,useWindowKeyDown:te.bool},Pe.defaultProps={onErrorImageURL:\"\",additionalClass:\"\",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:\" / \",thumbnailPosition:\"bottom\",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(e,t){return a().createElement(ce,{onClick:e,disabled:t})},renderRightNav:function(e,t){return a().createElement(de,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return a().createElement(pe,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return a().createElement(le,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};const Me=Pe})(),r})()}));","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _eventlistener = require('eventlistener');\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.throttle');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _parentScroll = require('./utils/parentScroll');\n\nvar _parentScroll2 = _interopRequireDefault(_parentScroll);\n\nvar _inViewport = require('./utils/inViewport');\n\nvar _inViewport2 = _interopRequireDefault(_inViewport);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LazyLoad = function (_Component) {\n  _inherits(LazyLoad, _Component);\n\n  function LazyLoad(props) {\n    _classCallCheck(this, LazyLoad);\n\n    var _this = _possibleConstructorReturn(this, (LazyLoad.__proto__ || Object.getPrototypeOf(LazyLoad)).call(this, props));\n\n    _this.lazyLoadHandler = _this.lazyLoadHandler.bind(_this);\n\n    if (props.throttle > 0) {\n      if (props.debounce) {\n        _this.lazyLoadHandler = (0, _lodash2.default)(_this.lazyLoadHandler, props.throttle);\n      } else {\n        _this.lazyLoadHandler = (0, _lodash4.default)(_this.lazyLoadHandler, props.throttle);\n      }\n    }\n\n    _this.state = { visible: false };\n    return _this;\n  }\n\n  _createClass(LazyLoad, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._mounted = true;\n      var eventNode = this.getEventNode();\n\n      this.lazyLoadHandler();\n\n      if (this.lazyLoadHandler.flush) {\n        this.lazyLoadHandler.flush();\n      }\n\n      (0, _eventlistener.add)(window, 'resize', this.lazyLoadHandler);\n      (0, _eventlistener.add)(eventNode, 'scroll', this.lazyLoadHandler);\n\n      if (eventNode !== window) (0, _eventlistener.add)(window, 'scroll', this.lazyLoadHandler);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps() {\n      if (!this.state.visible) {\n        this.lazyLoadHandler();\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(_nextProps, nextState) {\n      return nextState.visible;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._mounted = false;\n      if (this.lazyLoadHandler.cancel) {\n        this.lazyLoadHandler.cancel();\n      }\n\n      this.detachListeners();\n    }\n  }, {\n    key: 'getEventNode',\n    value: function getEventNode() {\n      return (0, _parentScroll2.default)((0, _reactDom.findDOMNode)(this));\n    }\n  }, {\n    key: 'getOffset',\n    value: function getOffset() {\n      var _props = this.props,\n          offset = _props.offset,\n          offsetVertical = _props.offsetVertical,\n          offsetHorizontal = _props.offsetHorizontal,\n          offsetTop = _props.offsetTop,\n          offsetBottom = _props.offsetBottom,\n          offsetLeft = _props.offsetLeft,\n          offsetRight = _props.offsetRight,\n          threshold = _props.threshold;\n\n\n      var _offsetAll = threshold || offset;\n      var _offsetVertical = offsetVertical || _offsetAll;\n      var _offsetHorizontal = offsetHorizontal || _offsetAll;\n\n      return {\n        top: offsetTop || _offsetVertical,\n        bottom: offsetBottom || _offsetVertical,\n        left: offsetLeft || _offsetHorizontal,\n        right: offsetRight || _offsetHorizontal\n      };\n    }\n  }, {\n    key: 'lazyLoadHandler',\n    value: function lazyLoadHandler() {\n      if (!this._mounted) {\n        return;\n      }\n      var offset = this.getOffset();\n      var node = (0, _reactDom.findDOMNode)(this);\n      var eventNode = this.getEventNode();\n\n      if ((0, _inViewport2.default)(node, eventNode, offset)) {\n        var onContentVisible = this.props.onContentVisible;\n\n\n        this.setState({ visible: true }, function () {\n          if (onContentVisible) {\n            onContentVisible();\n          }\n        });\n        this.detachListeners();\n      }\n    }\n  }, {\n    key: 'detachListeners',\n    value: function detachListeners() {\n      var eventNode = this.getEventNode();\n\n      (0, _eventlistener.remove)(window, 'resize', this.lazyLoadHandler);\n      (0, _eventlistener.remove)(eventNode, 'scroll', this.lazyLoadHandler);\n\n      if (eventNode !== window) (0, _eventlistener.remove)(window, 'scroll', this.lazyLoadHandler);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          children = _props2.children,\n          className = _props2.className,\n          height = _props2.height,\n          width = _props2.width;\n      var visible = this.state.visible;\n\n\n      var elStyles = { height: height, width: width };\n      var elClasses = 'LazyLoad' + (visible ? ' is-visible' : '') + (className ? ' ' + className : '');\n\n      return _react2.default.createElement(this.props.elementType, {\n        className: elClasses,\n        style: elStyles\n      }, visible && _react.Children.only(children));\n    }\n  }]);\n\n  return LazyLoad;\n}(_react.Component);\n\nexports.default = LazyLoad;\n\n\nLazyLoad.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  className: _propTypes2.default.string,\n  debounce: _propTypes2.default.bool,\n  elementType: _propTypes2.default.string,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  offset: _propTypes2.default.number,\n  offsetBottom: _propTypes2.default.number,\n  offsetHorizontal: _propTypes2.default.number,\n  offsetLeft: _propTypes2.default.number,\n  offsetRight: _propTypes2.default.number,\n  offsetTop: _propTypes2.default.number,\n  offsetVertical: _propTypes2.default.number,\n  threshold: _propTypes2.default.number,\n  throttle: _propTypes2.default.number,\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  onContentVisible: _propTypes2.default.func\n};\n\nLazyLoad.defaultProps = {\n  elementType: 'div',\n  debounce: true,\n  offset: 0,\n  offsetBottom: 0,\n  offsetHorizontal: 0,\n  offsetLeft: 0,\n  offsetRight: 0,\n  offsetTop: 0,\n  offsetVertical: 0,\n  throttle: 250\n};","(function(root,factory){\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.eventListener = factory();\n  }\n}(this, function () {\n\tfunction wrap(standard, fallback) {\n\t\treturn function (el, evtName, listener, useCapture) {\n\t\t\tif (el[standard]) {\n\t\t\t\tel[standard](evtName, listener, useCapture);\n\t\t\t} else if (el[fallback]) {\n\t\t\t\tel[fallback]('on' + evtName, listener);\n\t\t\t}\n\t\t}\n\t}\n\n    return {\n\t\tadd: wrap('addEventListener', 'attachEvent'),\n\t\tremove: wrap('removeEventListener', 'detachEvent')\n\t};\n}));","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar style = function style(element, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(element, null).getPropertyValue(prop) : element.style[prop];\n};\n\nvar overflow = function overflow(element) {\n  return style(element, 'overflow') + style(element, 'overflow-y') + style(element, 'overflow-x');\n};\n\nvar scrollParent = function scrollParent(element) {\n  if (!(element instanceof HTMLElement)) {\n    return window;\n  }\n\n  var parent = element;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nexports.default = scrollParent;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inViewport;\n\nvar _getElementPosition = require('./getElementPosition');\n\nvar _getElementPosition2 = _interopRequireDefault(_getElementPosition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isHidden = function isHidden(element) {\n  return element.offsetParent === null;\n};\n\nfunction inViewport(element, container, customOffset) {\n  if (isHidden(element)) {\n    return false;\n  }\n\n  var top = void 0;\n  var bottom = void 0;\n  var left = void 0;\n  var right = void 0;\n\n  if (typeof container === 'undefined' || container === window) {\n    top = window.pageYOffset;\n    left = window.pageXOffset;\n    bottom = top + window.innerHeight;\n    right = left + window.innerWidth;\n  } else {\n    if (!inViewport(container, window, customOffset)) return false;\n\n    var containerPosition = (0, _getElementPosition2.default)(container);\n\n    top = containerPosition.top;\n    left = containerPosition.left;\n    bottom = top + container.offsetHeight;\n    right = left + container.offsetWidth;\n  }\n\n  var elementPosition = (0, _getElementPosition2.default)(element);\n\n  return top <= elementPosition.top + element.offsetHeight + customOffset.top && bottom >= elementPosition.top - customOffset.bottom && left <= elementPosition.left + element.offsetWidth + customOffset.left && right >= elementPosition.left - customOffset.right;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getElementPosition;\n/*\r\n* Finds element's position relative to the whole document,\r\n* rather than to the viewport as it is the case with .getBoundingClientRect().\r\n*/\nfunction getElementPosition(element) {\n  var rect = element.getBoundingClientRect();\n\n  return {\n    top: rect.top + window.pageYOffset,\n    left: rect.left + window.pageXOffset\n  };\n}","'use strict';\nvar $ = require('../internals/export');\nvar $groupBy = require('../internals/array-group-by');\nvar arraySpeciesConstructor = require('../internals/array-species-constructor');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.groupBy` method\n// https://github.com/tc39/proposal-array-grouping\n$({ target: 'Array', proto: true }, {\n  groupBy: function groupBy(callbackfn /* , thisArg */) {\n    var thisArg = arguments.length > 1 ? arguments[1] : undefined;\n    return $groupBy(this, callbackfn, thisArg, arraySpeciesConstructor);\n  }\n});\n\naddToUnscopables('groupBy');\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar objectCreate = require('../internals/object-create');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\n\nvar Array = global.Array;\nvar push = uncurryThis([].push);\n\nmodule.exports = function ($this, callbackfn, that, specificConstructor) {\n  var O = toObject($this);\n  var self = IndexedObject(O);\n  var boundFunction = bind(callbackfn, that);\n  var target = objectCreate(null);\n  var length = lengthOfArrayLike(self);\n  var index = 0;\n  var Constructor, key, value;\n  for (;length > index; index++) {\n    value = self[index];\n    key = toPropertyKey(boundFunction(value, index, O));\n    // in some IE10 builds, `hasOwnProperty` returns incorrect result on integer keys\n    // but since it's a `null` prototype object, we can safely use `in`\n    if (key in target) push(target[key], value);\n    else target[key] = [value];\n  }\n  if (specificConstructor) {\n    Constructor = specificConstructor(O);\n    if (Constructor !== Array) {\n      for (key in target) target[key] = arrayFromConstructorAndList(Constructor, target[key]);\n    }\n  } return target;\n};\n","module.exports = function (Constructor, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\nvar replace = uncurryThis(''.replace);\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + replace(toString(value), quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z\"\n}), 'Event');\n\nexports.default = _default;","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z\"\n}), 'Flag');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n}), 'Place');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'Timelapse');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z\"\n}), 'FiberNew');\n\nexports.default = _default;","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        continue;\n      }\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import { encode83 } from \"./base83\";\nimport { sRGBToLinear, signPow, linearTosRGB } from \"./utils\";\nimport { ValidationError } from \"./error\";\nconst bytesPerPixel = 4;\nconst multiplyBasisFunction = (pixels, width, height, basisFunction) => {\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    const bytesPerRow = width * bytesPerPixel;\n    for (let x = 0; x < width; x++) {\n        for (let y = 0; y < height; y++) {\n            const basis = basisFunction(x, y);\n            r +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 0 + y * bytesPerRow]);\n            g +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 1 + y * bytesPerRow]);\n            b +=\n                basis * sRGBToLinear(pixels[bytesPerPixel * x + 2 + y * bytesPerRow]);\n        }\n    }\n    let scale = 1 / (width * height);\n    return [r * scale, g * scale, b * scale];\n};\nconst encodeDC = (value) => {\n    const roundedR = linearTosRGB(value[0]);\n    const roundedG = linearTosRGB(value[1]);\n    const roundedB = linearTosRGB(value[2]);\n    return (roundedR << 16) + (roundedG << 8) + roundedB;\n};\nconst encodeAC = (value, maximumValue) => {\n    let quantR = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[0] / maximumValue, 0.5) * 9 + 9.5))));\n    let quantG = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[1] / maximumValue, 0.5) * 9 + 9.5))));\n    let quantB = Math.floor(Math.max(0, Math.min(18, Math.floor(signPow(value[2] / maximumValue, 0.5) * 9 + 9.5))));\n    return quantR * 19 * 19 + quantG * 19 + quantB;\n};\nconst encode = (pixels, width, height, componentX, componentY) => {\n    if (componentX < 1 || componentX > 9 || componentY < 1 || componentY > 9) {\n        throw new ValidationError(\"BlurHash must have between 1 and 9 components\");\n    }\n    if (width * height * 4 !== pixels.length) {\n        throw new ValidationError(\"Width and height must match the pixels array\");\n    }\n    let factors = [];\n    for (let y = 0; y < componentY; y++) {\n        for (let x = 0; x < componentX; x++) {\n            const normalisation = x == 0 && y == 0 ? 1 : 2;\n            const factor = multiplyBasisFunction(pixels, width, height, (i, j) => normalisation *\n                Math.cos((Math.PI * x * i) / width) *\n                Math.cos((Math.PI * y * j) / height));\n            factors.push(factor);\n        }\n    }\n    const dc = factors[0];\n    const ac = factors.slice(1);\n    let hash = \"\";\n    let sizeFlag = componentX - 1 + (componentY - 1) * 9;\n    hash += encode83(sizeFlag, 1);\n    let maximumValue;\n    if (ac.length > 0) {\n        let actualMaximumValue = Math.max(...ac.map(val => Math.max(...val)));\n        let quantisedMaximumValue = Math.floor(Math.max(0, Math.min(82, Math.floor(actualMaximumValue * 166 - 0.5))));\n        maximumValue = (quantisedMaximumValue + 1) / 166;\n        hash += encode83(quantisedMaximumValue, 1);\n    }\n    else {\n        maximumValue = 1;\n        hash += encode83(0, 1);\n    }\n    hash += encode83(encodeDC(dc), 4);\n    ac.forEach(factor => {\n        hash += encode83(encodeAC(factor, maximumValue), 2);\n    });\n    return hash;\n};\nexport default encode;\n//# sourceMappingURL=encode.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export var COMMON_MIME_TYPES = new Map([\n    ['avi', 'video/avi'],\n    ['gif', 'image/gif'],\n    ['ico', 'image/x-icon'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['mp4', 'video/mp4'],\n    ['pdf', 'application/pdf'],\n    ['png', 'image/png'],\n    ['zip', 'application/zip'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n]);\nexport function toFileWithPath(file, path) {\n    var f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        var webkitRelativePath = file.webkitRelativePath;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n    return f;\n}\nfunction withMimeType(file) {\n    var name = file.name;\n    var hasExtension = name && name.lastIndexOf('.') !== -1;\n    if (hasExtension && !file.type) {\n        var ext = name.split('.')\n            .pop().toLowerCase();\n        var type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n    return file;\n}\n//# sourceMappingURL=file.js.map","import * as tslib_1 from \"tslib\";\nimport { toFileWithPath } from './file';\nvar FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store',\n    'Thumbs.db' // Windows\n];\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n * @param evt\n */\nexport function fromEvent(evt) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, isDragEvt(evt) && evt.dataTransfer\n                    ? getDataTransferFiles(evt.dataTransfer, evt.type)\n                    : getInputFiles(evt)];\n        });\n    });\n}\nfunction isDragEvt(value) {\n    return !!value.dataTransfer;\n}\nfunction getInputFiles(evt) {\n    var files = isInput(evt.target)\n        ? evt.target.files\n            ? fromList(evt.target.files)\n            : []\n        : [];\n    return files.map(function (file) { return toFileWithPath(file); });\n}\nfunction isInput(value) {\n    return value !== null;\n}\nfunction getDataTransferFiles(dt, type) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var items, files;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!dt.items) return [3 /*break*/, 2];\n                    items = fromList(dt.items)\n                        .filter(function (item) { return item.kind === 'file'; });\n                    // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n                    // only 'dragstart' and 'drop' has access to the data (source node)\n                    if (type !== 'drop') {\n                        return [2 /*return*/, items];\n                    }\n                    return [4 /*yield*/, Promise.all(items.map(toFilePromises))];\n                case 1:\n                    files = _a.sent();\n                    return [2 /*return*/, noIgnoredFiles(flatten(files))];\n                case 2: return [2 /*return*/, noIgnoredFiles(fromList(dt.files)\n                        .map(function (file) { return toFileWithPath(file); }))];\n            }\n        });\n    });\n}\nfunction noIgnoredFiles(files) {\n    return files.filter(function (file) { return FILES_TO_IGNORE.indexOf(file.name) === -1; });\n}\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList(items) {\n    var files = [];\n    // tslint:disable: prefer-for-of\n    for (var i = 0; i < items.length; i++) {\n        var file = items[i];\n        files.push(file);\n    }\n    return files;\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n    var entry = item.webkitGetAsEntry();\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry);\n    }\n    return fromDataTransferItem(item);\n}\nfunction flatten(items) {\n    return items.reduce(function (acc, files) { return tslib_1.__spread(acc, (Array.isArray(files) ? flatten(files) : [files])); }, []);\n}\nfunction fromDataTransferItem(item) {\n    var file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(item + \" is not a File\");\n    }\n    var fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nfunction fromEntry(entry) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry)];\n        });\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry) {\n    var reader = entry.createReader();\n    return new Promise(function (resolve, reject) {\n        var entries = [];\n        function readEntries() {\n            var _this = this;\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(function (batch) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                var files, err_1, items;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!!batch.length) return [3 /*break*/, 5];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, Promise.all(entries)];\n                        case 2:\n                            files = _a.sent();\n                            resolve(files);\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _a.sent();\n                            reject(err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [3 /*break*/, 6];\n                        case 5:\n                            items = Promise.all(batch.map(fromEntry));\n                            entries.push(items);\n                            // Continue reading\n                            readEntries();\n                            _a.label = 6;\n                        case 6: return [2 /*return*/];\n                    }\n                });\n            }); }, function (err) {\n                reject(err);\n            });\n        }\n        readEntries();\n    });\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nfunction fromFileEntry(entry) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    entry.file(function (file) {\n                        var fwp = toFileWithPath(file, entry.fullPath);\n                        resolve(fwp);\n                    }, function (err) {\n                        reject(err);\n                    });\n                })];\n        });\n    });\n}\n//# sourceMappingURL=file-selector.js.map","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport accepts from 'attr-accept'; // Error codes\n\nexport var FILE_INVALID_TYPE = 'file-invalid-type';\nexport var FILE_TOO_LARGE = 'file-too-large';\nexport var FILE_TOO_SMALL = 'file-too-small';\nexport var TOO_MANY_FILES = 'too-many-files'; // File Errors\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(', ')) : accept;\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(messageSuffix)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: 'Too many files'\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === 'application/x-moz-file' || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple;\n\n  if (!multiple && files.length > 1) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    return accepted && sizeMatch;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === 'function') {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== 'undefined') {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === 'Files' || type === 'application/x-moz-file';\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === 'object' && item !== null && item.kind === 'file';\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { fromEvent } from 'file-selector';\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, isEvtWithFiles, isIeOrEdge, isPropagationStopped, onDocumentDragOver, TOO_MANY_FILES_REJECTION } from './utils/index';\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, [\"open\"]);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return React.createElement(Fragment, null, children(_objectSpread({}, props, {\n    open: open\n  })));\n});\nDropzone.displayName = 'Dropzone';\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.draggedFiles Files in active drag\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are droppped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state and some helper functions.\n *\n * @typedef {object} DropzoneState\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} draggedFiles Files in active drag\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  draggedFiles: [],\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {string|string[]} [props.accept] Set accepted file types.\n * See https://github.com/okonet/attr-accept for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all.\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n * If `multiple` is set to false and additional files are droppped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n *\n * @returns {DropzoneState}\n */\n\nexport function useDropzone() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      accept = _ref2.accept,\n      _ref2$disabled = _ref2.disabled,\n      disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n      _ref2$getFilesFromEve = _ref2.getFilesFromEvent,\n      getFilesFromEvent = _ref2$getFilesFromEve === void 0 ? fromEvent : _ref2$getFilesFromEve,\n      _ref2$maxSize = _ref2.maxSize,\n      maxSize = _ref2$maxSize === void 0 ? Infinity : _ref2$maxSize,\n      _ref2$minSize = _ref2.minSize,\n      minSize = _ref2$minSize === void 0 ? 0 : _ref2$minSize,\n      _ref2$multiple = _ref2.multiple,\n      multiple = _ref2$multiple === void 0 ? true : _ref2$multiple,\n      onDragEnter = _ref2.onDragEnter,\n      onDragLeave = _ref2.onDragLeave,\n      onDragOver = _ref2.onDragOver,\n      onDrop = _ref2.onDrop,\n      onDropAccepted = _ref2.onDropAccepted,\n      onDropRejected = _ref2.onDropRejected,\n      onFileDialogCancel = _ref2.onFileDialogCancel,\n      _ref2$preventDropOnDo = _ref2.preventDropOnDocument,\n      preventDropOnDocument = _ref2$preventDropOnDo === void 0 ? true : _ref2$preventDropOnDo,\n      _ref2$noClick = _ref2.noClick,\n      noClick = _ref2$noClick === void 0 ? false : _ref2$noClick,\n      _ref2$noKeyboard = _ref2.noKeyboard,\n      noKeyboard = _ref2$noKeyboard === void 0 ? false : _ref2$noKeyboard,\n      _ref2$noDrag = _ref2.noDrag,\n      noDrag = _ref2$noDrag === void 0 ? false : _ref2$noDrag,\n      _ref2$noDragEventsBub = _ref2.noDragEventsBubbling,\n      noDragEventsBubbling = _ref2$noDragEventsBub === void 0 ? false : _ref2$noDragEventsBub;\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive,\n      draggedFiles = state.draggedFiles; // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    if (inputRef.current) {\n      dispatch({\n        type: 'openDialog'\n      });\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch]); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: 'closeDialog'\n            });\n\n            if (typeof onFileDialogCancel === 'function') {\n              onFileDialogCancel();\n            }\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('focus', onWindowFocus, false);\n    return function () {\n      window.removeEventListener('focus', onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancel]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, inputRef]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: 'focus'\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: 'blur'\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [inputRef, noClick]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        dispatch({\n          draggedFiles: draggedFiles,\n          isDragActive: true,\n          type: 'setDraggedFiles'\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n\n    if (event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = 'copy';\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (isEvtWithFiles(event) && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      isDragActive: false,\n      type: 'setDraggedFiles',\n      draggedFiles: []\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var acceptedFiles = [];\n        var fileRejections = [];\n        files.forEach(function (file) {\n          var _fileAccepted = fileAccepted(file, accept),\n              _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n              accepted = _fileAccepted2[0],\n              acceptError = _fileAccepted2[1];\n\n          var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n              _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n              sizeMatch = _fileMatchSize2[0],\n              sizeError = _fileMatchSize2[1];\n\n          if (accepted && sizeMatch) {\n            acceptedFiles.push(file);\n          } else {\n            var errors = [acceptError, sizeError].filter(function (e) {\n              return e;\n            });\n            fileRejections.push({\n              file: file,\n              errors: errors\n            });\n          }\n        });\n\n        if (!multiple && acceptedFiles.length > 1) {\n          // Reject everything and empty accepted files\n          acceptedFiles.forEach(function (file) {\n            fileRejections.push({\n              file: file,\n              errors: [TOO_MANY_FILES_REJECTION]\n            });\n          });\n          acceptedFiles.splice(0);\n        }\n\n        dispatch({\n          acceptedFiles: acceptedFiles,\n          fileRejections: fileRejections,\n          type: 'setFiles'\n        });\n\n        if (onDrop) {\n          onDrop(acceptedFiles, fileRejections, event);\n        }\n\n        if (fileRejections.length > 0 && onDropRejected) {\n          onDropRejected(fileRejections, event);\n        }\n\n        if (acceptedFiles.length > 0 && onDropAccepted) {\n          onDropAccepted(acceptedFiles, event);\n        }\n      });\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n  }, [multiple, accept, minSize, maxSize, getFilesFromEvent, onDrop, onDropAccepted, onDropRejected, noDragEventsBubbling]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          onKeyDown = _ref3.onKeyDown,\n          onFocus = _ref3.onFocus,\n          onBlur = _ref3.onBlur,\n          onClick = _ref3.onClick,\n          onDragEnter = _ref3.onDragEnter,\n          onDragOver = _ref3.onDragOver,\n          onDragLeave = _ref3.onDragLeave,\n          onDrop = _ref3.onDrop,\n          rest = _objectWithoutProperties(_ref3, [\"refKey\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"]);\n\n      return _objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb))\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}, {}, rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          onChange = _ref4.onChange,\n          onClick = _ref4.onClick,\n          rest = _objectWithoutProperties(_ref4, [\"refKey\", \"onChange\", \"onClick\"]);\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        multiple: multiple,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread({}, inputProps, {}, rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  var fileCount = draggedFiles.length;\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\n    files: draggedFiles,\n    accept: accept,\n    minSize: minSize,\n    maxSize: maxSize,\n    multiple: multiple\n  });\n  var isDragReject = fileCount > 0 && !isDragAccept;\n  return _objectSpread({}, state, {\n    isDragAccept: isDragAccept,\n    isDragReject: isDragReject,\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case 'focus':\n      return _objectSpread({}, state, {\n        isFocused: true\n      });\n\n    case 'blur':\n      return _objectSpread({}, state, {\n        isFocused: false\n      });\n\n    case 'openDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: true\n      });\n\n    case 'closeDialog':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false\n      });\n\n    case 'setDraggedFiles':\n      /* eslint no-case-declarations: 0 */\n      var isDragActive = action.isDragActive,\n          draggedFiles = action.draggedFiles;\n      return _objectSpread({}, state, {\n        draggedFiles: draggedFiles,\n        isDragActive: isDragActive\n      });\n\n    case 'setFiles':\n      return _objectSpread({}, state, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections\n      });\n\n    case 'reset':\n      return _objectSpread({}, state, {\n        isFileDialogActive: false,\n        isDragActive: false,\n        draggedFiles: [],\n        acceptedFiles: [],\n        fileRejections: []\n      });\n\n    default:\n      return state;\n  }\n}","function degToRad(degree) {\n  const DEGREES_IN_CIRCLE = 360;\n  return (degree / DEGREES_IN_CIRCLE) * 2 * Math.PI;\n}\n\nfunction hexToRgba(hex, alpha) {\n  const match = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  const rgba = match\n    ? {\n        r: parseInt(match[1], 16),\n        g: parseInt(match[2], 16),\n        b: parseInt(match[3], 16),\n        a: alpha,\n      }\n    : { r: 0, g: 0, b: 0, a: 0 };\n  return `rgba(${rgba.r},${rgba.g},${rgba.b},${rgba.a})`;\n}\n\nconst backgroundColor = '#FFF';\nconst STRIPLES_ANGLE_DEG = 45;\nconst STRIPLES_WIDTH_PX = 20;\nconst STRIPLES_SHIFT_PX =\n  4 * STRIPLES_WIDTH_PX * Math.cos(degToRad(STRIPLES_ANGLE_DEG));\n\nfunction makeStriplesBackground(color, opacity = 0.4) {\n  const actualColor = hexToRgba(color, opacity);\n  return {\n    background: `repeating-linear-gradient(\n      ${STRIPLES_ANGLE_DEG}deg,\n      ${backgroundColor},\n      ${backgroundColor} ${STRIPLES_WIDTH_PX}px,\n      ${actualColor} ${STRIPLES_WIDTH_PX}px,\n      ${actualColor} ${2 * STRIPLES_WIDTH_PX}px\n    )`,\n    backgroundSize: `calc(100% + ${STRIPLES_SHIFT_PX}px)`,\n  };\n}\n\nexport default function resolveDropzoneStyles(theme) {\n  return {\n    dropzoneContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-around',\n      height: '100%',\n      minHeight: '144px',\n      padding: '0 12px',\n      margin: '12px 0',\n      cursor: 'pointer',\n    },\n    dropzoneStandby: {\n      '& $dropzoneContainer': {\n        border: `2px dashed ${theme.palette.primary.dark}`,\n        borderRadius: '4px',\n        ...makeStriplesBackground(theme.palette.primary.light, 0.2),\n      },\n      '& $dropzoneUpload': {\n        borderColor: theme.palette.disabled.dark,\n        ...makeStriplesBackground(theme.palette.disabled.main, 0.2),\n        animation: '$slide 2s infinite linear forwards',\n      },\n    },\n    dropzoneActive: {\n      border: `2px dashed ${theme.palette.secondary.dark}`,\n      animation: '$slide 2s infinite linear forwards',\n      ...makeStriplesBackground(theme.palette.secondary.light),\n      '&$dropzoneAccept': {\n        borderColor: theme.palette.secondary.dark,\n        ...makeStriplesBackground(theme.palette.secondary.main),\n        animation: '$slide 2s infinite linear forwards',\n      },\n      '&$dropzoneReject': {\n        borderColor: theme.palette.error.dark,\n        ...makeStriplesBackground(theme.palette.error.main),\n        animation: '$slide 2s infinite linear forwards',\n      },\n    },\n    dropzoneAccept: {},\n    dropzoneReject: {},\n    dropzoneUpload: {},\n    '@keyframes slide': {\n      '0%': {\n        backgroundPositionX: `-${STRIPLES_SHIFT_PX}px`,\n      },\n      '100%': {\n        backgroundPositionX: 0,\n      },\n    },\n  };\n}\n","import React, { useCallback, useState } from 'react';\nimport cls from 'classnames';\nimport { encode } from 'blurhash';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core/styles';\nimport resolveDropzoneStyles from '../../resolveDropzoneStyles';\n\nconst UPLOAD_IMAGE_MIN_SIZE = 50 * 1024;\nconst UPLOAD_IMAGE_MAX_SIZE = 5 * 1024 * 1024;\n\nconst useStyles = makeStyles(resolveDropzoneStyles);\n\nexport default function PhotosDropzone({\n  onUpload,\n  visit,\n}) {\n  const classes = useStyles();\n  const [progress, setProgress] = useState(null);\n  const [rejectedFiles, setRejectedFiles] = useState([]);\n  const isUploadInProgress = progress !== null;\n\n  const { visitId } = visit;\n\n  const handleSubmitPhotos = useCallback(\n    async (acceptedFiles, currentRejectedFiles) => {\n      if (currentRejectedFiles) {\n        setRejectedFiles(currentRejectedFiles);\n      }\n      setProgress(1);\n      return onUpload({\n        id: visitId,\n        data: acceptedFiles,\n        meta: await Promise.all(acceptedFiles.map(measureImage)),\n        isAsset: true,\n      }).finally(() => setProgress(null));\n    },\n    [onUpload],\n  );\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject,\n  } = useDropzone({\n    accept: 'image/jpeg, image/png',\n    disabled: isUploadInProgress,\n    onDrop: handleSubmitPhotos,\n    maxSize: UPLOAD_IMAGE_MAX_SIZE,\n    minSize: UPLOAD_IMAGE_MIN_SIZE,\n  });\n\n  return (\n    <div\n      {...getRootProps()}\n      className={cls({\n        [classes.dropzoneStandby]: !isDragActive,\n        [classes.dropzoneActive]: isDragActive,\n        [classes.dropzoneAccept]: isDragAccept,\n        [classes.dropzoneReject]: isDragReject,\n      })}\n    >\n      <div\n        className={cls(classes.dropzoneContainer, {\n          [classes.dropzoneUpload]: isUploadInProgress,\n        })}\n      >\n        <input {...getInputProps()} />\n        {renderDropzoneCaption({ isDragActive, isUploadInProgress })}\n        {rejectedFiles.length > 0 && (\n          <div>\n            Не удалось загрузить следующие файлы:\n            {rejectedFiles.map(rejectedFile => (\n              <div key={rejectedFile.path}>{renderFile(rejectedFile)}</div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction renderDropzoneCaption({ isDragActive, isUploadInProgress }) {\n  switch (true) {\n    case isUploadInProgress:\n      return 'Идет загрузка, пожалуйста не закрывайте браузер';\n    case isDragActive:\n      return 'Загрузить фотографии';\n    default:\n      return 'Перенесите сюда фотографии для загрузки или кликните, что-бы выбрать файлы';\n  }\n}\n\nfunction renderFile({ file, errors }) {\n  const errorsMessage = errors.map(({ message }) => message).join(', ');\n  return `${file.path} - ${file.size} bytes, reason: ${errorsMessage}`;\n}\n\nfunction getImageData(image) {\n  const canvas = document.createElement('canvas');\n  canvas.width = image.width;\n  canvas.height = image.height;\n  const context = canvas.getContext('2d');\n  context.drawImage(image, 0, 0);\n  return context.getImageData(0, 0, image.width, image.height);\n}\n\nfunction gcd(a, b) {\n  let v1 = Math.abs(a);\n  let v2 = Math.abs(b);\n  let temp = v1;\n\n  if (v2 > v1) {\n    temp = v1;\n    v1 = v2;\n    v2 = temp;\n  }\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (v2 === 0) {\n      return a;\n    }\n    v1 %= v2;\n    if (v1 === 0) {\n      return b;\n    }\n    v2 %= v1;\n  }\n}\n\nasync function measureImage(fileImage) {\n  return new Promise(resolve => {\n    const imageURL = URL.createObjectURL(fileImage);\n\n    const image = new Image();\n\n    image.onload = () => {\n      const nod = gcd(image.width, image.height);\n      const [w, h] = nod\n        ? [image.width / nod, image.height / nod]\n        : [image.width, image.height];\n      try {\n        const imageData = getImageData(image);\n        resolve({\n          aspect_ratio: `${w}:${h}`,\n          blurhash: encode(\n            imageData.data,\n            imageData.width,\n            imageData.height,\n            4,\n            4,\n          ),\n        });\n      } catch (e) {\n        resolve({\n          aspect_ratio: `${w}:${h}`,\n          blurhash: null,\n        });\n      }\n    };\n\n    image.src = imageURL;\n  });\n}\n","import React from 'react';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport { useAddVisitPhotoRequest, useVisit } from 'travel/dataSource';\nimport VisitInfo from 'travel/components/VisitInfo';\nimport PhotosDropzone from './components/PhotosDropzone';\nimport PhotosGallery from 'modules/components/PhotosGallery';\nimport { usePaths } from 'modules/packages';\n\nconst domain = 'travel.VisitPage';\nexport default function VisitPage({\n  match: {\n    params: { userAlias, strVisitId },\n  },\n}) {\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const { travel: travelPaths } = usePaths();\n\n  const visitId = parseInt(strVisitId, 10);\n  const { isError, isPending, visit, invalidate } = useVisit({\n    domain,\n    userAlias,\n    visitId,\n  });\n\n  const { submitVisitPhoto } = useAddVisitPhotoRequest({\n    domain,\n    userAlias,\n    visitId,\n  });\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <div>...Loading</div>;\n  }\n\n  if (!visit) {\n    return <div>...Не найдено посещение</div>;\n  }\n\n  const { photos, locationId } = visit;\n\n  return (\n    <>\n      <VisitInfo\n        visit={visit}\n        isLong={true}\n        locationUrl={travelPaths.location.toUrl({\n          strLocationId: String(locationId),\n          userAlias,\n        })}\n      />\n      {isEditable && (\n        <PhotosDropzone\n          visit={visit}\n          userAlias={userAlias}\n          onUpload={values => submitVisitPhoto(values).finally(invalidate)}\n        />\n      )}\n      <PhotosGallery photos={photos} />\n    </>\n  );\n}\n","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nexport default function BackdropLoader() {\n  const classes = useStyles();\n\n  return (\n    <Backdrop className={classes.backdrop} open={true}>\n      <CircularProgress color=\"inherit\" />\n    </Backdrop>\n  );\n}\n","import {\n  PLAIN_FILTERING,\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\n\n// GROUPPING\n\nexport const KEY_GROUP_VISITS_BY = 'group';\nexport const GROUP_VISITS_BY = {\n  LOCATIONS: 'loc',\n  COUNTRIES: 'c',\n  YEARS: 'yr',\n  YEARS_COUNTRIES: 'yr_c',\n  COUNTRIES_YEARS: 'c_yr',\n  TRIPS: 't',\n  TRIPS_COUNTRIES: 't_c',\n};\n\nexport const PLAIN_GROUPS_MAPPING = {\n  [GROUP_VISITS_BY.LOCATIONS]: PLAIN_GROUPS.LOCATIONS,\n  [GROUP_VISITS_BY.COUNTRIES]: PLAIN_GROUPS.COUNTRIES,\n  [GROUP_VISITS_BY.YEARS]: PLAIN_GROUPS.YEARS,\n  [GROUP_VISITS_BY.TRIPS]: PLAIN_GROUPS.TRIPS,\n};\n\n// SORTING\nexport const KEY_SORT_VISITS_BY = 'sort';\nexport const SORT_VISITS_BY = {\n  RATING_ALPHABET: 'r_a',\n  VISITS_ALPHABET: 'v_a',\n  FIRST_VISIT_ALPHABET: 'fv_a',\n  LAST_VISIT_ALPHABET: 'lv_a',\n  ALPHABET: 'a',\n};\nexport const SORT_VISITS_BY_DEFAULT = SORT_VISITS_BY.ALPHABET;\n\nexport const PLAIN_SORTING_MAPPING = {\n  a: PLAIN_SORTING.ALPHABET,\n  r: PLAIN_SORTING.RATING,\n  fv: PLAIN_SORTING.FIRST_VISIT,\n  lv: PLAIN_SORTING.LAST_VISIT,\n  v: PLAIN_SORTING.VISITS_COUNT,\n};\n\n// FILTERING\nexport const KEY_FILTER_VISITS_BY = 'filter';\nexport const FILTER_VISITS_BY = {\n  ANY: 'a',\n  FOREIGN: 'f',\n  DOMESTIC: 'd',\n};\nexport const FILTER_VISITS_BY_DEFAULT = FILTER_VISITS_BY.ANY;\n\nexport const PLAIN_FILTERING_MAPPING = {\n  [FILTER_VISITS_BY.ANY]: PLAIN_FILTERING.ANY,\n  [FILTER_VISITS_BY.FOREIGN]: PLAIN_FILTERING.FOREIGN,\n  [FILTER_VISITS_BY.DOMESTIC]: PLAIN_FILTERING.DOMESTIC,\n};\n","import { GROUP_VISITS_BY } from './sidebarConsts';\n\nexport const VISITS_SECTIONS = {\n  TRIPS: 'trips',\n  PLACES: 'places',\n};\nexport const VISITS_SECTION_DEFAULT = VISITS_SECTIONS.TRIPS;\nexport const VISITS_SECTIONS_GROUPS = {\n  [VISITS_SECTIONS.PLACES]: [\n    { key: GROUP_VISITS_BY.LOCATIONS, l10n: 'По городам' },\n    { key: GROUP_VISITS_BY.COUNTRIES, l10n: 'По странам' },\n    { key: GROUP_VISITS_BY.YEARS, l10n: 'По годам' },\n    { key: GROUP_VISITS_BY.YEARS_COUNTRIES, l10n: 'По годам и странам' },\n    { key: GROUP_VISITS_BY.COUNTRIES_YEARS, l10n: 'По странам и годам' },\n  ],\n  [VISITS_SECTIONS.TRIPS]: [\n    { key: GROUP_VISITS_BY.TRIPS, l10n: 'По поездкам' },\n    { key: GROUP_VISITS_BY.TRIPS_COUNTRIES, l10n: 'По поездкам и странам' },\n  ],\n};\n\nexport const GROUP_VISITS_BY_DEFAULTS = {\n  [VISITS_SECTIONS.PLACES]: GROUP_VISITS_BY.COUNTRIES,\n  [VISITS_SECTIONS.TRIPS]: GROUP_VISITS_BY.TRIPS,\n};\n\nexport const COMPARATORS = {\n  VISIT: { ARRIVAL_YEAR: 'ARRIVAL_YEAR' },\n  TRIP: {\n    DEPARTURE_TIME: 'TRIP_DEPARTURE_DATE',\n    ID: 'TRIP_ID',\n    PRESERVE_ORDER: 'PRESERVE_ORDER',\n  },\n  COUNTRY: {\n    VISITS: 'COUNTRY_VISITS',\n    RATING: 'COUNTRY_RATING',\n    NAME_ID: 'COUNTRY_NAME_ID',\n    FIRST_VISIT: 'COUNTRY_FIRST_VISIT',\n    LAST_VISIT: 'COUNTRY_LAST_VISIT',\n  },\n  LOCATION: {\n    VISITS: 'LOCATION_VISITS',\n    RATING: 'LOCATION_RATING',\n    NAME_ID: 'LOCATION_NAME_ID',\n    FIRST_VISIT: 'LOCATION_FIRST_VISIT',\n    LAST_VISIT: 'LOCATION_LAST_VISIT',\n  },\n};\n\nexport const NODE_TYPE = {\n  ARRIVAL_LOCATION: 'ARRIVAL_LOCATION',\n  COUNTRY: 'COUNTRY',\n  DEPARTURE_LOCATION: 'DEPARTURE_LOCATION',\n  LOCATION: 'LOCATION',\n  TRIP: 'TRIP',\n  YEAR: 'YEAR',\n};\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSidebar } from 'core/context/SidebarContext';\nimport {\n  VISITS_SECTION_DEFAULT,\n  VISITS_SECTIONS,\n  VISITS_SECTIONS_GROUPS,\n  GROUP_VISITS_BY_DEFAULTS,\n} from './consts';\nimport {\n  GROUP_VISITS_BY,\n  KEY_GROUP_VISITS_BY,\n  SORT_VISITS_BY,\n  KEY_SORT_VISITS_BY,\n  SORT_VISITS_BY_DEFAULT,\n  FILTER_VISITS_BY,\n  FILTER_VISITS_BY_DEFAULT,\n  KEY_FILTER_VISITS_BY,\n} from './sidebarConsts';\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function(setQueryFilter, queryFilter, section) {\n  const classes = useStyles();\n\n  const {\n    [KEY_GROUP_VISITS_BY]: groupByQuery,\n    [KEY_SORT_VISITS_BY]: sortByQuery,\n    [KEY_FILTER_VISITS_BY]: filterByQuery,\n  } = queryFilter || {};\n\n  const sortBy = resolveActualSortBy(sortByQuery);\n  const filterBy = resolveActualFilterBy(filterByQuery);\n  const [groupBy, visitsSectionGroups] = resolveActualGroupBy(\n    groupByQuery,\n    section,\n  );\n\n  useSidebar(\n    ({ closeSidebar }) => (\n      <List>\n        <ListItem>\n          <FormControl className={classes.formControl}>\n            <InputLabel shrink={true} id=\"select-groupBy-filter-label\">\n              Сгруппировать\n            </InputLabel>\n            <Select\n              labelId=\"select-groupBy-filter-label\"\n              autoWidth={true}\n              id=\"select-groupBy-filter\"\n              value={groupBy}\n              onChange={event => {\n                closeSidebar();\n                setQueryFilter({\n                  [KEY_GROUP_VISITS_BY]: event.target.value,\n                });\n              }}\n            >\n              {visitsSectionGroups.map(visitsSectionGroup => (\n                <MenuItem\n                  key={visitsSectionGroup.key}\n                  value={visitsSectionGroup.key}\n                >\n                  {visitsSectionGroup.l10n}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </ListItem>\n        {groupBy !== GROUP_VISITS_BY.TRIPS && (\n          <ListItem>\n            <FormControl className={classes.formControl}>\n              <InputLabel shrink={true} id=\"select-sortBy-filter-label\">\n                Сортировать\n              </InputLabel>\n              <Select\n                labelId=\"select-sortBy-filter-label\"\n                autoWidth={true}\n                id=\"select-sortBy-filter\"\n                value={sortBy}\n                onChange={event => {\n                  closeSidebar();\n                  setQueryFilter({\n                    [KEY_SORT_VISITS_BY]: event.target.value,\n                  });\n                }}\n              >\n                <MenuItem value={SORT_VISITS_BY.ALPHABET}>По алфавиту</MenuItem>\n                <MenuItem value={SORT_VISITS_BY.VISITS_ALPHABET}>\n                  По числу посещений\n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.FIRST_VISIT_ALPHABET}>\n                  По первому посещению\n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.LAST_VISIT_ALPHABET}>\n                  По последнему посещению\n                </MenuItem>\n                <MenuItem value={SORT_VISITS_BY.RATING_ALPHABET}>\n                  По рейтингу\n                </MenuItem>\n              </Select>\n            </FormControl>\n          </ListItem>\n        )}\n        <ListItem>\n          <FormControl className={classes.formControl}>\n            <InputLabel shrink={true} id=\"select-filterBy-filter-label\">\n              Фильтровать\n            </InputLabel>\n            <Select\n              labelId=\"select-filterBy-filter-label\"\n              autoWidth={true}\n              id=\"select-filterBy-filter\"\n              value={filterBy}\n              onChange={event => {\n                closeSidebar();\n                setQueryFilter({\n                  [KEY_FILTER_VISITS_BY]: event.target.value,\n                });\n              }}\n            >\n              <MenuItem value={FILTER_VISITS_BY.ANY}>Показать все</MenuItem>\n              <MenuItem value={FILTER_VISITS_BY.FOREIGN}>\n                Только зарубежные\n              </MenuItem>\n              <MenuItem value={FILTER_VISITS_BY.DOMESTIC}>\n                Только местные\n              </MenuItem>\n            </Select>\n          </FormControl>\n        </ListItem>\n      </List>\n    ),\n    [groupBy, sortBy, filterBy],\n  );\n\n  return { groupBy, sortBy, filterBy };\n}\n\nfunction resolveActualSortBy(sortByQuery) {\n  return Object.values(SORT_VISITS_BY).includes(sortByQuery)\n    ? sortByQuery\n    : SORT_VISITS_BY_DEFAULT;\n}\n\nfunction resolveActualFilterBy(filterByQuery) {\n  return Object.values(FILTER_VISITS_BY).includes(filterByQuery)\n    ? filterByQuery\n    : FILTER_VISITS_BY_DEFAULT;\n}\n\nfunction resolveActualGroupBy(groupByQuery, section) {\n  const actualSection = Object.values(VISITS_SECTIONS).includes(section)\n    ? section\n    : VISITS_SECTION_DEFAULT;\n  const visitsSectionGroups = VISITS_SECTIONS_GROUPS[actualSection] || [];\n  const groupBy = visitsSectionGroups.find(({ key }) => key === groupByQuery)\n    ? groupByQuery\n    : GROUP_VISITS_BY_DEFAULTS[actualSection];\n  return [groupBy, visitsSectionGroups];\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport MUILink from '@material-ui/core/Link';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport * as locators from '../../locators';\n\nexport default function renderTitle({\n  tripCreateUrl,\n  locationsUrl,\n  stats: {\n    locationsStats: { total: locationsCount },\n    countriesStats: { total: countriesCount },\n    // daysTravellingStats: { totalStay },\n  },\n}) {\n  return (\n    <Typography variant=\"h6\" paragraph={true}>\n      <span>Всего </span>\n      <MUILink to={locationsUrl} component={Link}>\n        {`${locationsCount} городов `}\n      </MUILink>\n      <span>из </span>\n      <span>{`${countriesCount} стран`}</span>\n      {/* <span>{`В путешествии ${totalStay} дней`}</span> */}\n      {tripCreateUrl ? (\n        <IconButton\n          href={tripCreateUrl}\n          data-locator={locators.ADD_TRIP_BUTTON}\n        >\n          <AddCircleIcon />\n        </IconButton>\n      ) : null}\n    </Typography>\n  );\n}\n","export const ADD_TRIP_BUTTON = 'ADD_TRIP_BUTTON';\n","import { PLAIN_GROUPS } from 'travel/components/VisitsArranger';\nimport { PLAIN_GROUPS_MAPPING } from './sidebarConsts';\n\nexport default function resolveGroupsOrder(groupBy) {\n  const groupingOrder = groupBy\n    .split('_')\n    .map(currentGroupBy => PLAIN_GROUPS_MAPPING[currentGroupBy]);\n\n  const shouldShowVisits = groupingOrder.includes(PLAIN_GROUPS.TRIPS);\n  const lastGroup = groupingOrder[groupingOrder.length - 1];\n\n  if (!shouldShowVisits && lastGroup !== PLAIN_GROUPS.LOCATIONS) {\n    groupingOrder.push(PLAIN_GROUPS.LOCATIONS);\n  }\n  if (shouldShowVisits) {\n    groupingOrder.push(PLAIN_GROUPS.JUST_VISITS);\n  }\n  return groupingOrder;\n}\n","import { PLAIN_SORTING_MAPPING } from './sidebarConsts';\n\nexport default function resolveSortingOrder(sortBy) {\n  return sortBy\n    .split('_')\n    .map(currentSortBy => PLAIN_SORTING_MAPPING[currentSortBy]);\n}\n","import { PLAIN_FILTERING_MAPPING } from './sidebarConsts';\n\nexport default function resolveFiltering(filterBy) {\n  return PLAIN_FILTERING_MAPPING[filterBy];\n}\n","import React from 'react';\nimport { useTripsStats } from 'travel/dataSource';\nimport BackdropLoader from 'modules/components/loaders/BackdropLoader';\nimport { useQueryFilter } from 'core/context/QueryFilterContext';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsGroupingSidebar from './useVisitsGroupingSidebar';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  calcStats,\n  PLAIN_SORTING,\n} from 'travel/components/VisitsArranger';\nimport VisitsTitle from './components/VisitsTitle';\nimport resolveGroupsOrder from './resolveGroupsOrder';\nimport resolveSortingOrder from './resolveSortingOrder';\nimport resolveFiltering from './resolveFiltering';\n\nexport default function VisitsPage({\n  match: {\n    params: { userAlias, section },\n  },\n}) {\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n  const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const { queryFilter, setQueryFilter } = useQueryFilter();\n  const { groupBy, sortBy, filterBy } = useVisitsGroupingSidebar(\n    setQueryFilter,\n    queryFilter,\n    section,\n  );\n\n  const provision = useTripsStats({ userAlias });\n  const { isPending, isError } = provision;\n\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <BackdropLoader />;\n  }\n\n  const { visitsIds, visitsDict } = provision;\n  const visitsList = visitsIds.map(visitId => visitsDict[visitId]);\n\n  const commonVisitsGroup = { visitsList, parent: null, field: null };\n  const totalStats = calcStats(commonVisitsGroup, provision);\n\n  return (\n    <>\n      <VisitsTitle\n        locationsUrl={urls.locationsUrl}\n        tripCreateUrl={urls.tripCreateUrl}\n        stats={totalStats}\n      />\n      <VisitsArranger\n        visitsList={visitsList}\n        provision={provision}\n        groupsOrder={resolveGroupsOrder(groupBy)}\n        sortingOrder={\n          section === 'trips'\n            ? [PLAIN_SORTING.LAST_VISIT]\n            : resolveSortingOrder(sortBy)\n        }\n        filteringOption={resolveFiltering(filterBy)}\n        isObscure={isObscure}\n        urls={urls}\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nconst RATING_LOCALIZATION = {\n  [LOCATION_RATING.PLACE_TO_LIVE]: 'Жил бы здесь',\n  [LOCATION_RATING.FEW_PER_YEAR]: 'Несколько раз в год',\n  [LOCATION_RATING.ONCE_PER_YEAR]: 'Раз в год',\n  [LOCATION_RATING.ONCE_PER_TWO_YEARS]: 'Раз в пару лет',\n  [LOCATION_RATING.ONCE_PER_FIVE_YEARS]: 'Раз в пять лет',\n  [LOCATION_RATING.ONCE_PER_DECADE]: 'Раз в десятилетие',\n  [LOCATION_RATING.TWICE_PER_LIVE]: 'Пару раз в жизни',\n  [LOCATION_RATING.ONCE_PER_LIVE]: 'Раз в жизни',\n  [LOCATION_RATING.NEVER]: 'Никогда',\n};\n\nconst useStyles = makeStyles({\n  formControl: {\n    margin: '24px 0',\n    width: '100%',\n  },\n});\n\nexport default function LocationRating({\n  locationId,\n  locationRating,\n  isEditable,\n  onSubmitLocationRating,\n}) {\n  const classes = useStyles();\n  if (!isEditable) {\n    return <div>{RATING_LOCALIZATION[locationRating]}</div>;\n  }\n  return (\n    <FormControl className={classes.formControl}>\n      <InputLabel shrink={true} id=\"select-location-rating-label\">\n        Я бы ездил сюда\n      </InputLabel>\n      <Select\n        labelId=\"select-location-rating-label\"\n        id=\"select-location-rating\"\n        value={locationRating}\n        onChange={event => {\n          onSubmitLocationRating(event, locationId, event.target.value);\n        }}\n      >\n        <MenuItem value={LOCATION_RATING.PLACE_TO_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.PLACE_TO_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.FEW_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.FEW_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_TWO_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_TWO_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_FIVE_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_FIVE_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_DECADE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_DECADE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.TWICE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.TWICE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.NEVER}>\n          {RATING_LOCALIZATION[LOCATION_RATING.NEVER]}\n        </MenuItem>\n      </Select>\n    </FormControl>\n  );\n}\n\nLocationRating.propTypes = {\n  locationRating: PropTypes.number,\n  locationId: PropTypes.number.isRequired,\n  isEditable: PropTypes.bool.isRequired,\n  onSubmitLocationRating: PropTypes.func.isRequired,\n};\n\nLocationRating.defaultProps = { locationRating: null };\n","import useLocation from 'travel/dataSource/useLocation';\nimport { useTripsStats } from 'travel/dataSource/useTrips';\nimport { useLocationRatingRequest } from 'travel/dataSource/useLocations';\n\nexport default function useLocationWithTripStats({\n  domain,\n  userAlias,\n  locationId,\n}) {\n  const tripsStatsProvision = useTripsStats({\n    userAlias,\n  });\n\n  const {\n    isError: isTripsError,\n    isPending: isTripsPending,\n    isReady: isTripsReady,\n    locationsIds,\n    visitsDict,\n    visitsIds,\n    locationsRating,\n  } = tripsStatsProvision;\n\n  const {\n    location,\n    provision: { isError, isPending, isReady, ...restProvision },\n  } = useLocation({ domain, locationId });\n\n  const { submitLocationRating } = useLocationRatingRequest({ domain });\n\n  const isVisited = locationsIds.includes(locationId);\n\n  return {\n    provision: {\n      isError: isError || isTripsError,\n      isPending: isPending || isTripsPending,\n      isReady: isReady || isTripsReady,\n      ...restProvision,\n    },\n    location,\n    isVisited,\n    visitsList: isVisited\n      ? visitsIds\n          .map(visitId => visitsDict[visitId])\n          .filter(\n            ({ locationId: visitLocationId }) => visitLocationId === locationId,\n          )\n      : [],\n    locationRating: (isVisited && locationsRating[locationId]) || null,\n    submitLocationRating,\n    tripsStatsProvision,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, selectItem } from 'core/connection';\n\nexport default function useLocation({ domain, locationId }) {\n  const location = useSelector(\n    state => selectItem(state, 'locations', locationId) || {},\n  );\n\n  const provision = useProvision({\n    domain,\n    isProvision: true,\n    modelName: 'locations',\n    observe: locationId,\n    condition: Boolean(locationId),\n    query: {\n      id: locationId,\n    },\n  });\n\n  return {\n    location,\n    provision,\n  };\n}\n","import React, { useCallback } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n  PLAIN_FILTERING,\n} from 'travel/components/VisitsArranger';\nimport LocationRating from './blocks/LocationRating';\nimport useLocationWithTripStats from './useLocationWithTripStats';\n\nconst domain = 'travel.LocationPage';\nexport default function LocationPage({\n  match: {\n    params: { userAlias, strLocationId, section },\n  },\n}) {\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const urls = useVisitsUrls({ editable, userAlias, section });\n\n  const locationId = parseInt(strLocationId, 10);\n\n  const {\n    location,\n    provision: { isError, isPending, isReady },\n    isVisited,\n    visitsList,\n    tripsStatsProvision,\n    tripsStatsProvision: { userProvision },\n    locationRating,\n    submitLocationRating,\n  } = useLocationWithTripStats({ domain, userAlias, locationId });\n\n  const handleSubmitLocationRating = useCallback(\n    (event, locationIdToSubmit, value) => {\n      submitLocationRating({\n        query: { rating: value, id: String(locationIdToSubmit) },\n        condition: Boolean(locationIdToSubmit),\n      }).finally(userProvision.invalidate); // todo: still need to imporeve invalidation ux\n    },\n  );\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  if (!location) {\n    return null;\n  }\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n\n  if (!isVisited) {\n    return (\n      <Typography variant=\"h2\" component=\"span\">\n        {location.locationName}\n      </Typography>\n    );\n  }\n  return (\n    <VisitsArranger\n      visitsList={visitsList}\n      provision={tripsStatsProvision}\n      groupsOrder={[\n        PLAIN_GROUPS.LOCATIONS,\n        PLAIN_GROUPS.YEARS,\n        PLAIN_GROUPS.JUST_VISITS,\n      ]}\n      photosSectionLevel={1}\n      mapSectionLevel={0}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={isObscure}\n      urls={urls}\n      config={{\n        LocationVisitsGroup: {\n          hyperlinks: { location: false },\n        },\n        StatsPanel: {\n          appearance: { CountriesStats: false },\n        },\n      }}\n    >\n      {({ level, index }) =>\n        level === 0 &&\n        index === 0 && (\n          <LocationRating\n            locationId={locationId}\n            locationRating={locationRating}\n            isEditable={isEditable}\n            onSubmitLocationRating={handleSubmitLocationRating}\n          />\n        )\n      }\n    </VisitsArranger>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nconst RATING_LOCALIZATION = {\n  [LOCATION_RATING.PLACE_TO_LIVE]: 'Жил бы здесь',\n  [LOCATION_RATING.FEW_PER_YEAR]: 'Несколько раз в год',\n  [LOCATION_RATING.ONCE_PER_YEAR]: 'Раз в год',\n  [LOCATION_RATING.ONCE_PER_TWO_YEARS]: 'Раз в пару лет',\n  [LOCATION_RATING.ONCE_PER_FIVE_YEARS]: 'Раз в пять лет',\n  [LOCATION_RATING.ONCE_PER_DECADE]: 'Раз в десятилетие',\n  [LOCATION_RATING.TWICE_PER_LIVE]: 'Пару раз в жизни',\n  [LOCATION_RATING.ONCE_PER_LIVE]: 'Раз в жизни',\n  [LOCATION_RATING.NEVER]: 'Никогда',\n};\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function LocationRating({\n  locationId,\n  locationRating,\n  isEditable,\n  onSubmitLocationRating,\n}) {\n  const classes = useStyles();\n  if (!isEditable) {\n    return <div>{RATING_LOCALIZATION[locationRating]}</div>;\n  }\n  return (\n    <FormControl className={classes.formControl}>\n      <InputLabel shrink={true} id=\"select-location-rating-label\">\n        Я бы ездил сюда\n      </InputLabel>\n      <Select\n        labelId=\"select-location-rating-label\"\n        id=\"select-location-rating\"\n        value={locationRating}\n        onChange={event => {\n          onSubmitLocationRating(event, locationId, event.target.value);\n        }}\n      >\n        <MenuItem value={LOCATION_RATING.PLACE_TO_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.PLACE_TO_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.FEW_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.FEW_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_YEAR}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_YEAR]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_TWO_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_TWO_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_FIVE_YEARS}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_FIVE_YEARS]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_DECADE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_DECADE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.TWICE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.TWICE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.ONCE_PER_LIVE}>\n          {RATING_LOCALIZATION[LOCATION_RATING.ONCE_PER_LIVE]}\n        </MenuItem>\n        <MenuItem value={LOCATION_RATING.NEVER}>\n          {RATING_LOCALIZATION[LOCATION_RATING.NEVER]}\n        </MenuItem>\n      </Select>\n    </FormControl>\n  );\n}\n\nLocationRating.propTypes = {\n  locationRating: PropTypes.number,\n  locationId: PropTypes.number.isRequired,\n  isEditable: PropTypes.bool.isRequired,\n  onSubmitLocationRating: PropTypes.func.isRequired,\n};\n\nLocationRating.defaultProps = { locationRating: null };\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport LocationsMap from 'travel/components/LocationsMap';\nimport LocationRating from './blocks/LocationRating';\nimport useUserLocations from './useUserLocations';\n\nconst useStyles = makeStyles({\n  container: { fontSize: '16px', lineHeight: '1.5' },\n  visitContainer: { margin: '20px 0' },\n  location: { fontWeight: 'bold', fontSize: '21px' },\n  googleMapContainer: {\n    margin: '12px 0',\n    width: '800px',\n    maxWidth: '100%',\n    height: '400px',\n    maxHeight: '100%',\n  },\n});\n\nconst domain = 'travel.LocationsPage';\nexport default function LocationsPage({\n  match: {\n    params: { userAlias, strLocationId },\n  },\n}) {\n  const classes = useStyles();\n\n  const {\n    isAuthenticated,\n    userAlias: authenticatedUserAlias,\n  } = useAuthContext();\n\n  const {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds,\n    locationsRating,\n    submitLocationRating,\n  } = useUserLocations({ domain, userAlias });\n\n  const locationId = parseInt(strLocationId, 10);\n  const actualLocationsIds = locationId ? [locationId] : locationsIds;\n\n  const handleSubmitLocationRating = useCallback(\n    (event, locationIdToSubmit, value) => {\n      submitLocationRating({\n        query: { rating: value, id: String(locationIdToSubmit) },\n        condition: Boolean(locationIdToSubmit),\n      });\n    },\n  );\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending) {\n    return <div>...Loading</div>;\n  }\n  if (locationId && !locationsIds.includes(locationId)) {\n    return (\n      <div>{`Путешественик ${userAlias} еще не посетил данную локацию`}</div>\n    );\n  }\n\n  const isEditable = isAuthenticated && authenticatedUserAlias === userAlias;\n  return (\n    <div className={classes.container}>\n      {actualLocationsIds.map(locationsIdToRender => {\n        const location = locationsDict[locationsIdToRender];\n        if (!location) {\n          return null;\n        }\n        const { locationName } = location;\n        return (\n          <React.Fragment key={locationsIdToRender}>\n            <h1 className={classes.location}>{locationName}</h1>\n            <LocationRating\n              locationId={locationsIdToRender}\n              locationRating={locationsRating[locationsIdToRender]}\n              isEditable={isEditable}\n              onSubmitLocationRating={handleSubmitLocationRating}\n            />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n}\n\nLocationsPage.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      userAlias: PropTypes.string.isRequired,\n      strLocationId: PropTypes.string,\n    }).isRequired,\n  }).isRequired,\n};\n","import useUser from 'travel/dataSource/useUser';\nimport { useTripsStats } from 'travel/dataSource/useTrips';\nimport { useLocationRatingRequest } from 'travel/dataSource/useLocations';\n\nexport default function useUserLocations({ domain, userAlias }) {\n  const {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds = [],\n    locationsRating,\n  } = useTripsStats({\n    userAlias,\n  });\n  const { submitLocationRating } = useLocationRatingRequest({ domain });\n\n  return {\n    isError,\n    isPending,\n    locationsDict,\n    locationsIds,\n    locationsRating,\n    submitLocationRating,\n  };\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { useAuthContext } from 'core/context/AuthContext';\nimport useVisitsUrls from 'travel/utils/useVisitsUrls';\nimport VisitsArranger, {\n  PLAIN_GROUPS,\n  PLAIN_SORTING,\n  PLAIN_FILTERING,\n} from 'travel/components/VisitsArranger';\nimport useCountryWithTripStats from './useCountryWithTripStats';\n\nexport default function CountryPage({\n  match: {\n    params: { userAlias, strCountryId, section },\n  },\n}) {\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n\n  const urls = useVisitsUrls({ editable: false, userAlias, section });\n\n  // const editable = userAlias === authenticatedUserAlias;\n  const isObscure = userAlias !== authenticatedUserAlias;\n\n  const countryId = parseInt(strCountryId, 10);\n\n  const {\n    country,\n    provision,\n    provision: { isError, isPending, isReady },\n    isVisited,\n    visitsList,\n  } = useCountryWithTripStats({ userAlias, countryId });\n\n  if (isError) {\n    return <div>...Error</div>;\n  }\n  if (isPending || !isReady) {\n    return <div>...Loading</div>;\n  }\n\n  if (!country) {\n    return null;\n  }\n\n  if (!isVisited) {\n    return (\n      <Typography variant=\"h2\" component=\"span\">\n        {country.countryName}\n      </Typography>\n    );\n  }\n\n  return (\n    <VisitsArranger\n      visitsList={visitsList}\n      provision={provision}\n      groupsOrder={[\n        PLAIN_GROUPS.COUNTRIES,\n        PLAIN_GROUPS.YEARS,\n        PLAIN_GROUPS.LOCATIONS,\n      ]}\n      sortingOrder={[PLAIN_SORTING.LAST_VISIT]}\n      filteringOption={PLAIN_FILTERING.ANY}\n      isObscure={isObscure}\n      urls={urls}\n      config={{ CountryVisitsGroup: { hyperlinks: { country: false } } }}\n    />\n  );\n}\n","import { useTripsStats } from 'travel/dataSource/useTrips';\n\nexport default function useCountryWithTripStats({ userAlias, countryId }) {\n  const tripsProvision = useTripsStats({\n    userAlias,\n  });\n\n  const { countriesIds, countriesDict, visitsDict, visitsIds } = tripsProvision;\n\n  const isVisited = countriesIds.includes(countryId);\n\n  return {\n    provision: tripsProvision,\n    country: countriesDict[countryId],\n    isVisited,\n    visitsList: isVisited\n      ? visitsIds\n          .map(visitId => visitsDict[visitId])\n          .filter(\n            ({ countryId: visitCountryId }) => visitCountryId === countryId,\n          )\n      : [],\n  };\n}\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport max from 'lodash/max';\nimport min from 'lodash/min';\nimport { useProvision, selectDict } from 'core/connection';\nimport { selectResult } from 'core/connection/request/controllerRedux';\nimport mergeProvisionsState from 'core/connection/request/utils/mergeProvisionsState';\nimport useUser from './useUser';\nimport useCountries from './useCountries';\nimport useLocations from './useLocations';\n\nexport default function useTrips({ userAlias, tripsIds: requiredTripsIds }) {\n  const { tripsDict } = useSelector(state => ({\n    tripsDict: selectDict(state, 'trips') || {},\n  }));\n\n  const shouldRequireAllTrips = !requiredTripsIds;\n  const missingTripsIds =\n    !shouldRequireAllTrips &&\n    requiredTripsIds.filter(tripId => !tripsDict[tripId]);\n\n  return useProvision({\n    domain: `travel.trips-${userAlias}`,\n    isProvision: true,\n    modelName: 'trips',\n    observe: userAlias,\n    query: {\n      userAlias,\n      navigation: { isDisabled: true },\n      filter: shouldRequireAllTrips\n        ? {}\n        : { id: { comparator: 'in', value: missingTripsIds } },\n    },\n  });\n}\n\nexport function useTripsStats({ userAlias, tripsIds: requiredTripsIds }) {\n  const tripsProvision = useTrips({ userAlias, tripsIds: requiredTripsIds });\n  const { user: { locationsRating = {} } = {}, ...userProvision } = useUser({\n    domain: `travel.trips-${userAlias}.user`,\n    userAlias,\n  });\n\n  const { data: tripsIds = [] } = selectResult(tripsProvision) || {};\n\n  const {\n    tripsDict,\n    visitsDict,\n    ridesDict,\n    countriesDict,\n    locationsDict,\n  } = useSelector(state => ({\n    tripsDict: selectDict(state, 'trips') || {},\n    visitsDict: selectDict(state, 'visits') || {},\n    ridesDict: selectDict(state, 'rides') || {},\n    countriesDict: selectDict(state, 'countries') || {},\n    locationsDict: selectDict(state, 'locations') || {},\n  }));\n\n  const visitsIds = useUniqField(tripsIds, tripsDict, 'visits');\n  const ridesIds = useUniqField(tripsIds, tripsDict, 'rides');\n  const countriesIds = useUniqField(visitsIds, visitsDict, 'countryId');\n  const locationsIds = useUniqField(visitsIds, visitsDict, 'locationId');\n\n  const countriesProvision = useCountries();\n  const locationsProvision = useLocations({\n    domain: `travel.locations-${userAlias}`,\n    locationsIds,\n  });\n\n  const commonProvisionState = mergeProvisionsState(\n    tripsProvision,\n    userProvision,\n    countriesProvision,\n    locationsProvision,\n  );\n\n  const { isError, isValid, isReady, isPending } = commonProvisionState;\n\n  return {\n    userProvision,\n    tripsProvision,\n    countriesProvision,\n    locationsProvision,\n\n    isError,\n    isValid,\n    isReady,\n    isPending,\n\n    tripsIds,\n    tripsDict,\n    visitsIds,\n    visitsDict,\n    ridesIds,\n    ridesDict,\n    ridesStats: calcRidesStats(ridesIds, ridesDict),\n    locationsIds,\n    locationsDict,\n    locationsRating,\n    countriesIds,\n    countriesDict,\n  };\n}\n\nfunction calcRidesStats(ridesIds, ridesDict) {\n  return {\n    earliestDeparture: new Date(\n      min(\n        ridesIds.map(rideId => ridesDict[rideId]?.departureDateTime.getTime()),\n      ),\n    ),\n    latestArrival: new Date(\n      max(ridesIds.map(rideId => ridesDict[rideId]?.arrivalDateTime.getTime())),\n    ),\n  };\n}\n\nfunction useUniqField(entitiesIds, entitiesDict, fieldName) {\n  return useMemo(\n    () =>\n      Array.from(\n        new Set(\n          entitiesIds.flatMap(\n            entityId => entitiesDict[entityId]?.[fieldName] || [],\n          ),\n        ),\n      ),\n    [entitiesIds, entitiesDict, fieldName],\n  );\n}\n","import sum from 'lodash/sum';\nimport {\n  selectError,\n  selectIsError,\n  selectIsPending,\n  selectIsReady,\n  selectIsValid,\n  selectUpdatesCounter,\n} from '../controllerRedux';\n\nexport default function mergeProvisionsState(...provisions) {\n  return {\n    updatesCounter: sum(provisions.map(selectUpdatesCounter)),\n    isReady: provisions.every(selectIsReady),\n    isPending: provisions.some(selectIsPending),\n    isValid: provisions.every(selectIsValid),\n    error: provisions.find(selectIsError),\n    errors: provisions.map(selectError).filter(Boolean),\n    invalidate: () => provisions.forEach(({ invalidate }) => invalidate()),\n  };\n}\n","import isSameDay from 'date-fns/isSameDay';\nimport isSameMonth from 'date-fns/isSameMonth';\nimport isSameYear from 'date-fns/isSameYear';\nimport ru from 'date-fns/locale/ru';\nimport dateFormat from 'modules/utilities/dateTime/safeDateFormat';\n\nconst DATE_FORMATS = {\n  FULL: 'd MMMM yyyy',\n  MONTH_YEAR: 'LLLL yyyy',\n  MONTH_ONLY: 'LLLL',\n  DAY_MONTH: 'd MMMM',\n  DAY_ONLY: 'd',\n};\n\nexport function dateTimePeriodToString(periodStart, periodEnd, isObscure) {\n  const fullFormat = isObscure ? DATE_FORMATS.MONTH_YEAR : DATE_FORMATS.FULL;\n  const periodEndString = dateFormat(periodEnd, fullFormat, {\n    locale: ru,\n  });\n\n  if (isSameDay(periodStart, periodEnd)) {\n    return periodEndString;\n  }\n\n  let periodStartString = '';\n  if (isSameMonth(periodStart, periodEnd)) {\n    if (!isObscure) {\n      periodStartString = dateFormat(periodStart, DATE_FORMATS.DAY_ONLY, {\n        locale: ru,\n      });\n    }\n  } else if (isSameYear(periodStart, periodEnd)) {\n    const shortFormat = isObscure\n      ? DATE_FORMATS.MONTH_ONLY\n      : DATE_FORMATS.DAY_MONTH;\n    periodStartString = dateFormat(periodStart, shortFormat, { locale: ru });\n  } else {\n    periodStartString = dateFormat(periodStart, fullFormat, { locale: ru });\n  }\n\n  return `${periodStartString}—${periodEndString}`;\n}\n\nexport function rideDateTimePeriodToString(\n  { departureDateTime, arrivalDateTime },\n  isObscure,\n) {\n  return dateTimePeriodToString(departureDateTime, arrivalDateTime, isObscure);\n}\n\nexport function visitDateTimePeriodToString(\n  { departureDateTime, arrivalDateTime },\n  isObscure,\n) {\n  return dateTimePeriodToString(arrivalDateTime, departureDateTime, isObscure);\n}\n\nexport function dateTimeOpenPeriodToString({\n  periodStart,\n  periodEnd,\n  isObscure,\n  placeholder,\n}) {\n  if (!periodEnd) {\n    const format = isObscure ? DATE_FORMATS.MONTH_YEAR : DATE_FORMATS.FULL;\n    const startDateStr = dateFormat(periodStart, format, { locale: ru });\n    return `${startDateStr}—${placeholder}`;\n  }\n  return dateTimePeriodToString(periodStart, periodEnd, isObscure);\n}\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport MUILink from '@material-ui/core/Link';\n\nexport default function ConnectedLink({\n  optional,\n  children,\n  ...forwardingProps\n}) {\n  const linkable = Boolean(\n    !optional ||\n      forwardingProps.href ||\n      forwardingProps.to ||\n      forwardingProps.onClick,\n  );\n\n  if (!linkable) {\n    return children;\n  }\n\n  return (\n    <MUILink {...forwardingProps} component={RouterLink}>\n      {children}\n    </MUILink>\n  );\n}\n\nConnectedLink.defaultProps = {\n  optional: false,\n};\n","import { useProvision } from 'core/connection';\n\nexport default function useCountries() {\n  return useProvision({\n    domain: `travel.countries`,\n    isProvision: true,\n    modelName: 'countries',\n    query: { navigation: { isDisabled: true } },\n  });\n}\n","import dateFormat from 'date-fns/format';\nimport isValidDate from './isValidDate';\n\nexport default function safeDateFormat(date, ...args) {\n  if (!isValidDate(date)) {\n    return '?';\n  }\n  return dateFormat(date, ...args);\n}\n","export default function isValidDate(date) {\n  return date instanceof Date && !Number.isNaN(date.getTime());\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, useRequest, selectDict } from 'core/connection';\n\nexport default function useLocations({\n  domain,\n  locationsIds: requiredLocationIds,\n}) {\n  const locationsDict = useSelector(\n    state => selectDict(state, 'locations') || {},\n  );\n\n  const missingLocationsIds = requiredLocationIds.filter(\n    locationId => !locationsDict[locationId],\n  );\n\n  return useProvision({\n    domain,\n    isProvision: true,\n    modelName: 'locations',\n    observe: requiredLocationIds,\n    condition: Boolean(missingLocationsIds.length),\n    query: {\n      filter: { id: { comparator: 'in', value: missingLocationsIds } },\n      navigation: { isDisabled: true },\n    },\n  });\n}\n\nexport function useLocationRatingRequest({ domain }) {\n  const [submitLocationRating, provision] = useRequest({\n    domain,\n    modelName: 'locations',\n    method: 'POST',\n  });\n\n  return {\n    ...provision,\n    submitLocationRating,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, selectItem } from 'core/connection';\n\nexport default function useUser({ domain, userAlias }) {\n  const user = useSelector(state => selectItem(state, 'users', userAlias));\n  const provision = useProvision({\n    domain,\n    applicableSchemaName: 'item',\n    isProvision: true,\n    modelName: 'users',\n    observe: userAlias,\n    condition: Boolean(userAlias),\n    query: {\n      id: userAlias,\n    },\n  });\n  return { ...provision, user };\n}\n","import { useSelector } from 'react-redux';\nimport { useProvision, useRequest, selectDict } from 'core/connection';\n\nexport default function useVisit({ userAlias, visitId: requiredVisitId }) {\n  const { visitsDict } = useSelector(state => ({\n    visitsDict: selectDict(state, 'visits') || {},\n  }));\n  const visit = visitsDict[requiredVisitId];\n\n  return {\n    visit,\n    ...useProvision({\n      domain: `travel.visit${requiredVisitId}-${userAlias}`,\n      isProvision: true,\n      modelName: 'visits',\n      observe: requiredVisitId,\n      condition: !visit,\n      query: {\n        userAlias,\n        filter: { visit_id: { comparator: '=', value: requiredVisitId } },\n        navigation: { isDisabled: true },\n      },\n    }),\n  };\n}\n\nexport function useAddVisitPhotoRequest({ domain }) {\n  const [submitVisitPhoto, provision] = useRequest({\n    domain,\n    modelName: 'visits', // todo: actually this is assets model, not visits. Moreover this is photos model\n    method: 'POST',\n    contentType: 'multipart/form-data',\n  });\n\n  return {\n    ...provision,\n    submitVisitPhoto,\n  };\n}\n","import { useEffect, useRef } from 'react';\nvar isPrimitive = function (val) { return val !== Object(val); };\nvar useCustomCompareEffect = function (effect, deps, depsEqual) {\n    if (process.env.NODE_ENV !== 'production') {\n        if (!(deps instanceof Array) || !deps.length) {\n            console.warn('`useCustomCompareEffect` should not be used with no dependencies. Use React.useEffect instead.');\n        }\n        if (deps.every(isPrimitive)) {\n            console.warn('`useCustomCompareEffect` should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n        }\n        if (typeof depsEqual !== 'function') {\n            console.warn('`useCustomCompareEffect` should be used with depsEqual callback for comparing deps list');\n        }\n    }\n    var ref = useRef(undefined);\n    if (!ref.current || !depsEqual(deps, ref.current)) {\n        ref.current = deps;\n    }\n    useEffect(effect, ref.current);\n};\nexport default useCustomCompareEffect;\n","import isDeepEqualReact from 'fast-deep-equal/react';\nexport default isDeepEqualReact;\n","import useCustomCompareEffect from './useCustomCompareEffect';\nimport isDeepEqual from './misc/isDeepEqual';\nvar isPrimitive = function (val) { return val !== Object(val); };\nvar useDeepCompareEffect = function (effect, deps) {\n    if (process.env.NODE_ENV !== 'production') {\n        if (!(deps instanceof Array) || !deps.length) {\n            console.warn('`useDeepCompareEffect` should not be used with no dependencies. Use React.useEffect instead.');\n        }\n        if (deps.every(isPrimitive)) {\n            console.warn('`useDeepCompareEffect` should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n        }\n    }\n    useCustomCompareEffect(effect, deps, isDeepEqual);\n};\nexport default useDeepCompareEffect;\n","export const PLAIN_FILTERING = {\n  ANY: 'ANY',\n  FOREIGN: 'FOREIGN',\n  DOMESTIC: 'DOMESTIC',\n};\n","import { PLAIN_FILTERING } from './consts';\n\nexport default function switchFilteringFn(provision, filteringOption) {\n  switch (filteringOption) {\n    case PLAIN_FILTERING.FOREIGN:\n    case PLAIN_FILTERING.DOMESTIC:\n      return createFilterBasedOnOrigin(provision, filteringOption);\n    case PLAIN_FILTERING.ANY:\n    default:\n      return isVisitExist;\n  }\n}\n\nfunction createFilterBasedOnOrigin(\n  { tripsDict, locationsDict },\n  filteringOption,\n) {\n  const isForeign = filteringOption === PLAIN_FILTERING.FOREIGN;\n  if (!isForeign && filteringOption !== PLAIN_FILTERING.DOMESTIC) {\n    return isVisitExist; // filter nothing\n  }\n  return function filterOnlyForeign(visit) {\n    if (!visit) {\n      return false;\n    }\n    const { countryId, tripId } = visit;\n    if (!countryId) {\n      return true;\n    }\n    const trip = tripsDict[tripId];\n    if (!trip) {\n      return true;\n    }\n    const { originLocationId } = trip;\n    const originLocation = locationsDict[originLocationId];\n    if (!originLocation) {\n      return true;\n    }\n    const { countryId: originCountryId } = originLocation;\n    if (!originCountryId) {\n      return true;\n    }\n    return isForeign\n      ? countryId !== originCountryId\n      : countryId === originCountryId;\n  };\n}\n\nfunction isVisitExist(visit) {\n  return Boolean(visit);\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\n\nexport default function CountryVisitsGroup({\n  children,\n  visitsGroup: {\n    field: { value: countryId },\n  },\n  classes,\n  provision: { countriesDict },\n  urls,\n  config: {\n    CountryVisitsGroup: {\n      hyperlinks: { country: countryHyperlink = true } = {},\n    } = {},\n  },\n}) {\n  return (\n    <CountryInfo\n      country={countriesDict[countryId]}\n      className={classes.container}\n      classes={classes}\n      countryUrl={\n        countryHyperlink ? urls?.resolveCountryUrl({ countryId }) : null\n      }\n    >\n      {children}\n    </CountryInfo>\n  );\n}\n\nfunction CountryInfo({\n  variant,\n  country: { countryName },\n  children,\n  className,\n  classes,\n  countryUrl,\n}) {\n  return (\n    <div className={className}>\n      <ConnectedLink to={countryUrl} optional={true}>\n        <Typography\n          display=\"inline\"\n          variant={variant}\n          className={classes.header}\n        >\n          {countryName}\n        </Typography>\n      </ConnectedLink>\n      {children}\n    </div>\n  );\n}\n\nCountryVisitsGroup.defaultProps = {\n  config: {},\n};\n","export function findClosestGroupValue(visitsGroup, plainGroup) {\n  return findClosestGroup(visitsGroup, plainGroup)?.field?.value;\n}\n\nexport function findClosestGroup(visitsGroup, plainGroup) {\n  let currentVisitsGroup = visitsGroup;\n  while (currentVisitsGroup) {\n    if (plainGroup === currentVisitsGroup.plainGroup) {\n      return currentVisitsGroup;\n    }\n    currentVisitsGroup = currentVisitsGroup.parent;\n  }\n  return null;\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport { findClosestGroupValue } from '../../utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../consts';\n\nexport default function LocationVisitsGroup({\n  children,\n  visitsGroup,\n  visitsGroup: {\n    field: { value: locationIdStr },\n  },\n  classes,\n  provision,\n  provision: { locationsDict },\n  urls,\n  config: {\n    LocationVisitsGroup: {\n      appearance,\n      hyperlinks: {\n        location: locationHyperlink = true,\n        country: countryHyperlink = true,\n      } = {},\n    } = {},\n  },\n}) {\n  const location = locationsDict[locationIdStr];\n  const groupCountryId = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n  const { locationId, countryId } = location ?? {};\n\n  const locationUrl = locationHyperlink\n    ? urls?.resolveLocationUrl({ locationId })\n    : null;\n  const countryUrl = countryHyperlink\n    ? urls?.resolveCountryUrl({ countryId })\n    : null;\n\n  return (\n    <LocationInfo\n      className={classes.container}\n      classes={classes}\n      location={location}\n      provision={provision}\n      showCountry={!groupCountryId}\n      locationUrl={locationUrl}\n      countryUrl={countryUrl}\n      appearance={appearance}\n    >\n      {children}\n    </LocationInfo>\n  );\n}\n\nLocationVisitsGroup.defaultProps = {\n  config: {},\n};\n\nexport function LocationInfo({\n  children,\n  variant,\n  className,\n  classes = {},\n  location: { locationName, countryId } = {},\n  provision: { countriesDict },\n  showCountry,\n  locationUrl,\n  countryUrl,\n  appearance: { country: countryAppearance = true },\n}) {\n  const countryName = countriesDict[countryId]?.countryName;\n  const countryNode =\n    countryAppearance && countryName && showCountry ? (\n      <ConnectedLink to={countryUrl} optional={true}>\n        <Typography display=\"inline\" variant=\"body1\">\n          {countriesDict[countryId]?.countryName}\n        </Typography>\n      </ConnectedLink>\n    ) : null;\n\n  const locationNode = (\n    <ConnectedLink to={locationUrl} optional={true}>\n      <Typography display=\"inline\" variant={variant} className={classes.header}>\n        {locationName}\n        {countryNode ? ',' : ''}\n      </Typography>\n    </ConnectedLink>\n  );\n\n  return (\n    <div className={className}>\n      <div>\n        {locationNode}\n        {countryNode ? ' ' : null}\n        {countryNode}\n      </div>\n      {children}\n    </div>\n  );\n}\n\nLocationInfo.defaultProps = {\n  appearance: {},\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  container: {},\n});\n\nexport default function YearVisitsGroup({\n  children,\n  visitsGroup: {\n    field: { value: year },\n  },\n  classes,\n}) {\n  const ownClasses = useStyles();\n\n  return (\n    <YearInfo\n      className={cls(classes.container, ownClasses.container)}\n      classes={classes}\n      year={year}\n    >\n      {children}\n    </YearInfo>\n  );\n}\n\nfunction YearInfo({ children, variant, className, classes, year }) {\n  return (\n    <div className={className}>\n      <Typography display=\"inline\" variant={variant} className={classes.header}>\n        {year || 'Без указания даты'}\n      </Typography>\n      {children}\n    </div>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default function makeVisibleOnHoverStyles({\n  containerClassName = 'hoverTrigger',\n  contentClassName = 'visibleOnHover',\n} = {}) {\n  return makeStyles({\n    [containerClassName]: {\n      [`&:hover $${contentClassName}`]: {\n        visibility: 'visible',\n      },\n    },\n    [contentClassName]: {\n      visibility: 'hidden',\n    },\n  });\n}\n\nexport const useVisibleOnHoverStyles = makeVisibleOnHoverStyles();\n","import React from 'react';\nimport cls from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { resolveTripCaption } from 'travel/models/trips/utils';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useVisibleOnHoverStyles } from 'modules/utilities/hooks/makeVisibleOnlyOnHoverStyles';\n\nexport default function TripInfo({\n  trip,\n  visitsDict,\n  countriesDict,\n  locationsDict,\n  children,\n  className,\n  variant,\n  urls,\n}) {\n  const { hoverTrigger, visibleOnHover } = useVisibleOnHoverStyles();\n  const tripEditUrl = urls?.resolveTripEditUrl({ tripId: trip.tripId });\n\n  return (\n    <Typography\n      variant={variant ?? undefined}\n      className={cls(className, hoverTrigger)}\n      paragraph={true}\n    >\n      <span>\n        {resolveTripCaption(trip, visitsDict, countriesDict, locationsDict)}\n      </span>\n      {children}\n      {tripEditUrl && (\n        <IconButton className={visibleOnHover} href={tripEditUrl}>\n          <EditIcon />\n        </IconButton>\n      )}\n    </Typography>\n  );\n}\n\nTripInfo.defaultProps = { variant: 'h4' };\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  autoMargin: { marginLeft: 'auto' },\n});\n\nexport default function AutoMargin({ children, className }) {\n  const classes = useStyles();\n  const childrenArray = React.Children.toArray(children);\n  if (childrenArray.length <= 1) {\n    return <Typography className={className}>{children}</Typography>;\n  }\n\n  const lastChildren = childrenArray.slice(-1);\n  const restChildren = childrenArray.slice(0, -1);\n  return (\n    <Grid\n      className={className}\n      container={true}\n      justify=\"space-between\"\n      alignItems=\"center\"\n    >\n      <Grid item={true}>{restChildren}</Grid>\n      <Grid item={true} classes={{ item: classes.autoMargin }}>\n        {lastChildren}\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RideInfo from 'travel/components/RideInfo';\nimport AutoMargin from 'modules/components/AutoMargin';\nimport { LocationInfo } from '../../../LocationVisitsGroup/LocationVisitsGroup';\n\nconst useStyles = makeStyles({\n  halfDown: { position: 'relative', top: 12 },\n});\n\nexport default function LocationWithRideInfo({\n  locationId,\n  rideId,\n  provision,\n  provision: { ridesDict, locationsDict },\n  groupCountryId,\n  children,\n  locationInfoChildren,\n  className,\n  classes,\n  urls,\n}) {\n  const ownClasses = useStyles();\n  const location = locationsDict[locationId];\n\n  return (\n    <AutoMargin className={className}>\n      <LocationInfo\n        className={classes.locationContainer}\n        provision={provision}\n        location={location}\n        showCountry={!groupCountryId}\n        locationUrl={urls?.resolveLocationUrl({ locationId })}\n        countryUrl={urls?.resolveCountryUrl({ countryId: location?.countryId })}\n      >\n        {locationInfoChildren}\n      </LocationInfo>\n      {groupCountryId ? (\n        children\n      ) : (\n        <Grid container={true}>\n          <Grid item={true}>{children}</Grid>\n          <Grid item={true}>\n            <RideInfo\n              ride={ridesDict[rideId]}\n              className={ownClasses.halfDown}\n            />\n          </Grid>\n        </Grid>\n      )}\n    </AutoMargin>\n  );\n}\n\nLocationWithRideInfo.defaultProps = {\n  classes: {},\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport EventIcon from '@material-ui/icons/Event';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport LocationWithRideInfo from '../LocationWithRideInfo';\nimport { useVisibleOnHoverStyles } from 'modules/utilities/hooks/makeVisibleOnlyOnHoverStyles';\n\nconst useStyles = makeStyles({\n  locationContainer: {\n    position: 'relative',\n  },\n  detail: {\n    color: 'gray',\n    fontSize: 12,\n  },\n  editButton: {\n    position: 'absolute',\n    top: '-50%',\n    left: '100%',\n  },\n});\n\nexport default function VisitInfo({\n  visit: { visitId, locationId, departureRideId },\n  provision,\n  provision: { visitsDict },\n  urls,\n  isObscure,\n  groupCountryId,\n  className,\n}) {\n  const classes = useStyles();\n  const { hoverTrigger, visibleOnHover } = useVisibleOnHoverStyles();\n\n  const visitUrl = urls?.resolveVisitUrl({ visitId });\n  return (\n    <LocationWithRideInfo\n      className={cls(className, hoverTrigger)}\n      classes={{ locationContainer: classes.locationContainer }}\n      locationId={locationId}\n      rideId={departureRideId}\n      provision={provision}\n      groupCountryId={groupCountryId}\n      urls={urls}\n      locationInfoChildren={\n        visitUrl && (\n          <IconButton\n            className={cls(classes.editButton, visibleOnHover)}\n            component={Link}\n            to={visitUrl}\n          >\n            <EventIcon />\n          </IconButton>\n        )\n      }\n    >\n      <Typography className={classes.detail}>\n        {visitDateTimePeriodToString(visitsDict[visitId], isObscure)}\n      </Typography>\n    </LocationWithRideInfo>\n  );\n}\n","import CountryVisitsGroup from './components/CountryVisitsGroup';\nimport LocationVisitsGroup from './components/LocationVisitsGroup';\nimport YearVisitsGroup from './components/YearVisitsGroup';\nimport TripVisitsGroup from './components/TripVisitsGroup';\nimport VisitsItselfGroup from './components/VisitsItselfGroup';\n\nexport const PLAIN_GROUPS = {\n  // ALL: 'ALL',\n  LOCATIONS: 'LOCATIONS',\n  COUNTRIES: 'COUNTRIES',\n  YEARS: 'YEARS',\n  TRIPS: 'TRIPS',\n  JUST_VISITS: 'JUST_VISITS',\n};\n\nexport const PLAIN_GROUPS_CONFIG = {\n  [PLAIN_GROUPS.TRIPS]: {\n    groupFieldName: 'tripId',\n    component: TripVisitsGroup,\n    adapter: Number, // Will be applied to value of \"groupFieldName\" field\n  },\n  [PLAIN_GROUPS.YEARS]: {\n    groupFieldName: function getArrivalYear({ arrivalDateTime }) {\n      return arrivalDateTime.getFullYear();\n    },\n    component: YearVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.COUNTRIES]: {\n    groupFieldName: 'countryId',\n    component: CountryVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.LOCATIONS]: {\n    groupFieldName: 'locationId',\n    component: LocationVisitsGroup,\n    adapter: Number,\n  },\n  [PLAIN_GROUPS.JUST_VISITS]: {\n    groupFieldName: 'visitId',\n    component: VisitsItselfGroup,\n    adapter: Number,\n  },\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport TripInfo from './TripInfo';\n\nexport default function TripVisitsGroup({\n  classes,\n  children,\n  visitsGroup: {\n    field: { value: tripId },\n  },\n  provision: { tripsDict, visitsDict, countriesDict, locationsDict },\n  urls,\n}) {\n  return (\n    <TripInfo\n      key={`t${tripId}`}\n      className={cls(classes.container, classes.header)}\n      classes={classes}\n      trip={tripsDict[tripId]}\n      visitsDict={visitsDict}\n      countriesDict={countriesDict}\n      locationsDict={locationsDict}\n      variant={null}\n      urls={urls}\n    >\n      {children}\n    </TripInfo>\n  );\n}\n","import React, { useMemo } from 'react';\nimport uniqBy from 'lodash/uniqBy';\nimport Typography from '@material-ui/core/Typography';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport { findClosestGroupValue } from '../../utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../consts';\nimport { LocationInfo } from '../LocationVisitsGroup';\nimport VisitInfo from './components/VisitInfo';\nimport LocationWithRideInfo from './components/LocationWithRideInfo';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\n\nexport default function VisitsItselfGroup({\n  visitsGroup,\n  visitsGroup: { visitsList },\n  provision,\n  provision: { tripsDict, locationsDict },\n  classes,\n  urls,\n}) {\n  const groupTripId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.TRIPS);\n\n  const groupCountryId = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n\n  // currently remains only first visit, and only dates for this visit is shown to user\n  // todo: solve the issue, show all periods, or show no dates, whatever\n  const actualVisitsList = useMemo(\n    () => (groupCountryId ? uniqBy(visitsList, 'locationId') : visitsList),\n    [groupCountryId, visitsList],\n  );\n\n  if (!groupTripId) {\n    return (\n      <>\n        {visitsList.map(visit => (\n          <ConnectedLink\n            to={urls.resolveVisitUrl({ visitId: visit.visitId })}\n            optional={true}\n          >\n            <Typography className={classes.level}>\n              {visitDateTimePeriodToString(visit, false)}\n            </Typography>\n          </ConnectedLink>\n        ))}\n      </>\n    );\n  }\n\n  const { originLocationId, departureRideId } = tripsDict[groupTripId] ?? {};\n  const originLocation = locationsDict[originLocationId];\n\n  return (\n    <div className={classes.level}>\n      {!groupCountryId && (\n        <LocationWithRideInfo\n          locationId={originLocationId}\n          rideId={departureRideId}\n          provision={provision}\n          groupCountryId={groupCountryId}\n          className={classes.header}\n          urls={urls}\n        />\n      )}\n      {actualVisitsList.map(visit => (\n        <VisitInfo\n          className={classes.header}\n          key={`v${visit.visitId}`}\n          visit={visit}\n          provision={provision}\n          isObscure={false}\n          groupCountryId={groupCountryId}\n          urls={urls}\n        />\n      ))}\n      {/* todo: Don't show for relocation trip */}\n      {!groupCountryId && (\n        <LocationInfo\n          className={classes.header}\n          provision={provision}\n          location={originLocation}\n          showCountry={!groupCountryId}\n          locationUrl={urls?.resolveLocationUrl({\n            locationId: originLocationId,\n          })}\n          countryUrl={urls?.resolveCountryUrl({\n            countryId: originLocation?.countryId,\n          })}\n        />\n      )}\n    </div>\n  );\n}\n","import groupByFn from 'lodash/groupBy';\nimport isFunction from 'lodash/isFunction';\nimport { PLAIN_GROUPS, PLAIN_GROUPS_CONFIG } from '../consts';\n\nexport default function groupVisitsBy(visitsList, plainGroup) {\n  const { groupFieldName, adapter } = PLAIN_GROUPS_CONFIG[plainGroup];\n  return plainGroup === PLAIN_GROUPS.JUST_VISITS\n    ? [{ field: { name: groupFieldName, value: null }, visitsList }]\n    : groupVisitsByValue(visitsList, groupFieldName, adapter);\n}\n\nfunction groupVisitsByValue(visitsList, groupFieldName, adapter) {\n  return Object.entries(groupByFn(visitsList, groupFieldName)).map(\n    ([groupFieldValue, groupVisitsList]) => ({\n      field: {\n        name: isFunction(groupFieldName) ? groupFieldName.name : groupFieldName,\n        value: adapter ? adapter(groupFieldValue) : groupFieldValue,\n      },\n      visitsList: groupVisitsList,\n    }),\n  );\n}\n","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import memoizeOne from 'memoize-one';\nimport memoize from 'lodash/memoize';\n\nexport default function createCalcByYearUtils(lookupKey) {\n  const memoizedCalcOldies = memoizeOne(visitsDict =>\n    memoize(year => calcOldies(year, visitsDict)),\n  );\n\n  return {\n    calcTotal,\n    calcByYear,\n  };\n\n  function calcTotal(visitsList) {\n    return {\n      total: new Set(visitsList.map(({ [lookupKey]: entityId }) => entityId))\n        .size,\n    };\n  }\n\n  function calcByYear(visitsDict, visitsList, year) {\n    const oldies = memoizedCalcOldies(visitsDict)(year);\n\n    const freshies = visitsList.reduce(\n      (acc, { arrivalYear, [lookupKey]: entityId }) => {\n        if (arrivalYear === year) {\n          acc.add(entityId);\n        }\n        return acc;\n      },\n      new Set(),\n    );\n\n    const newbies = freshies.difference(oldies);\n    return {\n      totalAtYear: freshies.size,\n      newAtYear: newbies.size,\n      newbies,\n    };\n  }\n\n  function calcOldies(year, visitsDict) {\n    return Object.values(visitsDict).reduce(\n      (acc, { [lookupKey]: entityId, arrivalYear }) => {\n        if (arrivalYear < year) {\n          acc.add(entityId);\n        }\n        return acc;\n      },\n      new Set(),\n    );\n  }\n}\n","import differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\nimport createPeriods from 'modules/utilities/dateTime/periods';\n\nexport default function calcDaysTravellingStats(\n  visitsList,\n  { visitsDict, ridesDict },\n  { considerRides },\n) {\n  const visitToPeriodMapper = considerRides\n    ? createMapperWithRides(visitsDict, ridesDict, considerRides)\n    : simpleMapper;\n  const visitsPeriods = visitsList.map(visitToPeriodMapper);\n  const detailedStats = createPeriods([...visitsPeriods])\n    .toArray()\n    .reduce(\n      (\n        acc,\n        {\n          startDate: arrivalDateTime,\n          endDate: departureDateTime,\n          stack: visitsIds,\n        },\n      ) => {\n        const stay =\n          differenceInCalendarDays(departureDateTime, arrivalDateTime) + 1;\n        if (stay > 0) {\n          acc.push({ stay, visitsIds, departureDateTime, arrivalDateTime });\n        }\n        return acc;\n      },\n      [],\n    );\n  return {\n    detailedStats,\n    totalStay: detailedStats.reduce((total, { stay }) => total + stay, 0),\n  };\n}\n\nfunction simpleMapper({ arrivalDateTime, departureDateTime }) {\n  return {\n    startDate: arrivalDateTime,\n    endDate: departureDateTime,\n  };\n}\n\nfunction createMapperWithRides(visitsDict, ridesDict, considerRides) {\n  return function mapperWithRides({\n    visitId,\n    countryId,\n    arrivalRideId,\n    arrivalDateTime,\n    departureRideId,\n    departureDateTime,\n  }) {\n    let startDate;\n    const arrivalRide = ridesDict[arrivalRideId];\n    if (!arrivalRide) {\n      startDate = arrivalDateTime;\n    } else {\n      const {\n        departureVisitId: prevVisitId,\n        departureDateTime: rideStartDate,\n      } = arrivalRide;\n      if (\n        considerRides !== 'country' ||\n        (countryId && countryId === visitsDict[prevVisitId]?.countryId)\n      ) {\n        startDate = rideStartDate;\n      }\n    }\n\n    let endDate;\n    const departureRide = ridesDict[departureRideId];\n    if (!departureRide) {\n      endDate = departureDateTime;\n    } else {\n      const {\n        arrivalVisitId: nextVisitId,\n        arrivalDateTime: rideEndDate,\n      } = departureRide;\n      if (\n        considerRides !== 'country' ||\n        (countryId && countryId === visitsDict[nextVisitId]?.countryId)\n      ) {\n        endDate = rideEndDate;\n      }\n    }\n    return { startDate, endDate, stack: new Set([visitId]) };\n  };\n}\n","import minBy from 'lodash/minBy';\nimport maxBy from 'lodash/maxBy';\nimport { PLAIN_GROUPS } from '../../arrangement/groupping/consts';\nimport { findClosestGroupValue } from '../../arrangement/groupping/utils/resolveGroupingUtils';\nimport createCalcByYearUtils from './createCalcByYearUtils';\nimport calcDaysTravellingStats from './calcDaysTravellingStats';\n\nexport default function calcStats(visitsGroup, provision) {\n  const locationId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS);\n  const countryId = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES);\n  const year = findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS);\n  const { plainGroup, visitsList } = visitsGroup;\n\n  return {\n    visitsStats: calcVisitsStats(visitsList, provision),\n    countriesStats: countryId\n      ? null\n      : calcCountriesStats(visitsList, provision, { year }),\n    locationsStats: locationId\n      ? null\n      : calcLocationsStats(visitsList, provision, { year }),\n    daysTravellingStats: calcDaysTravellingStats(visitsList, provision, {\n      // Consider rides time, when count travelling days in groups, like country\n      // or year. So when you move across country, you still in trip,\n      // even if you sleep in train.\n      considerRides: [PLAIN_GROUPS.COUNTRIES, PLAIN_GROUPS.YEARS].includes(\n        plainGroup,\n      )\n        ? plainGroup\n        : false,\n    }),\n  };\n}\n\nconst {\n  calcTotal: calcCountriesTotal,\n  calcByYear: calcCountriesByYear,\n} = createCalcByYearUtils('countryId');\n\nfunction calcCountriesStats(visitsList, { visitsDict }, { year }) {\n  const { newAtYear, totalAtYear, total, newbies } = year\n    ? calcCountriesByYear(visitsDict, visitsList, year)\n    : calcCountriesTotal(visitsList);\n  return { year, newAtYear, totalAtYear, total, newbies };\n}\n\nconst {\n  calcTotal: calcLocationsTotal,\n  calcByYear: calcLocationsByYear,\n} = createCalcByYearUtils('locationId');\n\nfunction calcVisitsStats(visitsList) {\n  return {\n    visitsCount: visitsList.length,\n    firstVisit: minBy(visitsList, 'arrivalDateTime'),\n    lastVisit: maxBy(visitsList, 'departureDateTime'),\n  };\n}\n\nfunction calcLocationsStats(visitsList, { visitsDict }, { year }) {\n  const { newAtYear, totalAtYear, total, newbies } = year\n    ? calcLocationsByYear(visitsDict, visitsList, year)\n    : calcLocationsTotal(visitsList);\n  return {\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n    newbies,\n  };\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  statsIndicator: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    marginRLeft: '2px',\n    marginRight: '4px',\n  },\n});\n\nexport default function StatsIndicator({ className, icon, children, hint }) {\n  const classes = useStyles();\n\n  const contentNode = (\n    <Typography\n      variant=\"subtitle1\"\n      className={cls(className, classes.statsIndicator)}\n    >\n      {React.cloneElement(icon, { fontSize: 'inherit' })}\n      {children}\n    </Typography>\n  );\n\n  if (!hint) {\n    return contentNode;\n  }\n  return <Tooltip title={hint}>{contentNode}</Tooltip>;\n}\n","import React from 'react';\nimport FlagIcon from '@material-ui/icons/Flag';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function CountriesStats({\n  countriesStats: { year, newAtYear, totalAtYear, total },\n}) {\n  const showByYear = Boolean(year);\n  const hintNode = renderHint({\n    showByYear,\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  const detailsNode = renderDetails({\n    showByYear,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  return (\n    <StatsIndicator hint={hintNode} icon={<FlagIcon />}>\n      {detailsNode}\n    </StatsIndicator>\n  );\n}\n\nexport function renderDetails({ showByYear, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return String(total);\n  }\n  if (!newAtYear) {\n    return String(totalAtYear);\n  }\n  if (totalAtYear === newAtYear) {\n    return `+${newAtYear}`;\n  }\n  return `${totalAtYear} (+${newAtYear})`;\n}\n\nfunction renderHint({ showByYear, year, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return <div>{`Посещено ${total} стран`}</div>;\n  }\n  return (\n    <div>\n      <div>{`За ${year} год посещено ${totalAtYear} стран`}</div>\n      <div>\n        {newAtYear\n          ? `Из них впервые ${newAtYear} стран`\n          : 'Новых стран в этом году не было'}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport { renderDetails } from '../CountriesStats';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function LocationStats({\n  locationsStats: { year, newAtYear, totalAtYear, total },\n}) {\n  const showByYear = Boolean(year);\n  const hintNode = renderHint({\n    showByYear,\n    year,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  const detailsNode = renderDetails({\n    showByYear,\n    newAtYear,\n    totalAtYear,\n    total,\n  });\n\n  return (\n    <StatsIndicator hint={hintNode} icon={<PlaceIcon />}>\n      {detailsNode}\n    </StatsIndicator>\n  );\n}\n\nfunction renderHint({ showByYear, year, newAtYear, totalAtYear, total }) {\n  if (!showByYear) {\n    return <div>{`Посещено ${total} мест`}</div>;\n  }\n  return (\n    <div>\n      <div>{`За ${year} год посещено ${totalAtYear} мест`}</div>\n      <div>\n        {newAtYear\n          ? `Из них впервые ${newAtYear} мест`\n          : 'Новых мест в этом году не было'}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport TimelapseIcon from '@material-ui/icons/Timelapse';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport StatsIndicator from '../StatsIndicator';\n\nexport default function DaysTravellingStats({\n  className,\n  daysTravellingStats: { detailedStats, totalStay },\n  provision: { visitsDict },\n}) {\n  if (!totalStay) {\n    return null;\n  }\n\n  return (\n    <StatsIndicator\n      className={className}\n      hint={renderHint(detailedStats, totalStay, visitsDict)}\n      icon={<TimelapseIcon />}\n    >\n      {totalStay}\n    </StatsIndicator>\n  );\n}\n\nfunction renderHint(detailedStats, totalStay, visitsDict) {\n  const totalStr = `Всего ${totalStay} дней в этом месте`;\n\n  if (detailedStats.length === 1) {\n    const { visitsIds, departureDateTime, arrivalDateTime } = detailedStats[0];\n    const periodStr = visitDateTimePeriodToString({\n      departureDateTime,\n      arrivalDateTime,\n    });\n    const locationsStr = renderLocations(visitsIds, visitsDict);\n    return <div>{`${totalStr} ${periodStr}. ${locationsStr}`}</div>;\n  }\n\n  return (\n    <div>\n      <div>{totalStr}</div>\n      {detailedStats.map(\n        ({ stay, visitsIds, departureDateTime, arrivalDateTime }, index) => {\n          const periodStr = visitDateTimePeriodToString({\n            departureDateTime,\n            arrivalDateTime,\n          });\n          const locationsStr = renderLocations(visitsIds, visitsDict);\n          // No good alternative 4 array index key\n          /* eslint-disable react/no-array-index-key */\n          return (\n            <div\n              key={`v${index}`}\n            >{`${stay} дней, ${periodStr}. ${locationsStr}`}</div>\n          );\n          /* eslint-enable react/no-array-index-key */\n        },\n      )}\n    </div>\n  );\n}\n\nfunction renderLocations(visitsIds, visitsDict) {\n  return (\n    visitsIds\n      ?.map(visitId => visitsDict[visitId]?.locationName ?? '')\n      ?.join(', ') ?? ''\n  );\n}\n","import { PLAIN_GROUPS } from '../../../../arrangement/groupping/consts';\nimport { findClosestGroupValue } from '../../../../arrangement/groupping/utils/resolveGroupingUtils';\n\nexport default function isNewbie(visitsGroup) {\n  const {\n    plainGroup,\n    field: { value: entityId },\n  } = visitsGroup;\n\n  switch (plainGroup) {\n    case PLAIN_GROUPS.COUNTRIES:\n      return isNewbieCountry(visitsGroup, entityId);\n    case PLAIN_GROUPS.LOCATIONS:\n      return isNewbieLocation(visitsGroup, entityId);\n    default:\n      return false;\n  }\n}\n\nfunction isNewbieCountry(visitsGroup, countryId) {\n  return findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.YEARS,\n  )?.stats?.countriesStats?.newbies?.has(countryId);\n}\n\nfunction isNewbieLocation(visitsGroup, locationId) {\n  const yearVisitsGroup = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.YEARS,\n  );\n  const countriesVisitsGroup = findClosestGroupValue(\n    visitsGroup,\n    PLAIN_GROUPS.COUNTRIES,\n  );\n\n  const countryLocationStats = countriesVisitsGroup?.stats?.locationsStats;\n  const allLocationsIsNew =\n    !countryLocationStats ||\n    !countryLocationStats.newAtYear ||\n    !countryLocationStats.totalAtYear ||\n    countryLocationStats.newAtYear === countryLocationStats.totalAtYear;\n\n  return (\n    !allLocationsIsNew &&\n    yearVisitsGroup?.stats?.locationsStats?.newbies?.has(locationId)\n  );\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport FiberNewIcon from '@material-ui/icons/FiberNew';\nimport { findClosestGroupValue } from '../../../arrangement/groupping/utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../../arrangement/groupping/consts';\nimport CountriesStats from './components/CountriesStats';\nimport LocationStats from './components/LocationStats';\nimport DaysTravellingStats from './components/DaysTravellingStats';\nimport isNewbie from './utils/isNewbie';\n\nconst useStyles = makeStyles({\n  container: {\n    color: 'gray',\n    display: 'inline-flex',\n    alignItems: 'center',\n    marginLeft: '4px',\n  },\n});\n\nexport default function StatsPanel({\n  provision,\n  visitsGroup,\n  visitsGroup: {\n    stats: { countriesStats, locationsStats, daysTravellingStats },\n  },\n  config: {\n    StatsPanel: {\n      appearance: {\n        CountriesStats: countriesStatsAppearance = true,\n        LocationsStats: locationStatsAppearance = true,\n        DaysTravellingStats: daysTravellingStatsAppearance = true,\n      } = {},\n    } = {},\n  },\n  isObscure,\n}) {\n  const classes = useStyles();\n\n  const isLocationGroup = visitsGroup.plainGroup === PLAIN_GROUPS.LOCATIONS;\n  const hasCountryGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES),\n  );\n  const hasLocationGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS),\n  );\n  const hasYearGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS),\n  );\n\n  const daysTravellingStatsNode =\n    daysTravellingStatsAppearance && daysTravellingStats && !isObscure ? (\n      <DaysTravellingStats\n        className={cls({\n          [classes.visibleOnlyOnHover]: isLocationGroup,\n        })}\n        daysTravellingStats={daysTravellingStats}\n        provision={provision}\n      />\n    ) : null;\n\n  return (\n    <Typography variant=\"body1\" className={classes.container}>\n      {hasYearGroup && isNewbie(visitsGroup) && <FiberNewIcon />}\n      {countriesStatsAppearance &&\n        !hasCountryGroup && <CountriesStats countriesStats={countriesStats} />}\n      {locationStatsAppearance &&\n        !hasLocationGroup && <LocationStats locationsStats={locationsStats} />}\n      {daysTravellingStatsNode}\n    </Typography>\n  );\n}\n\nStatsPanel.defaultProps = {\n  config: {},\n};\n","export const PLAIN_SORTING = {\n  ALPHABET: 'ALPHABET',\n  RATING: 'RATING',\n  FIRST_VISIT: 'FIRST_VISIT',\n  LAST_VISIT: 'LAST_VISIT',\n  VISITS_COUNT: 'VISITS_COUNT',\n};\n","import sortBy from 'lodash/sortBy';\nimport orderBy from 'lodash/orderBy';\nimport iterateeFn from 'lodash/iteratee';\nimport property from 'lodash/property';\nimport { PLAIN_GROUPS } from '../../groupping/consts';\nimport { PLAIN_SORTING } from '../consts';\n\nexport default function sortVisitsBy(\n  visitsGroups,\n  sortingOrder,\n  plainGroup,\n  provision,\n) {\n  const comparators = sortingOrder.flatMap(switchComparator);\n  const hasOrder = comparators.some(property('order'));\n\n  return hasOrder\n    ? orderBy(visitsGroups, ...withOrder(comparators))\n    : sortBy(visitsGroups, comparators);\n\n  function switchComparator(plainSorting) {\n    switch (plainSorting) {\n      case PLAIN_SORTING.FIRST_VISIT:\n        return dates('stats.visitsStats.firstVisit.arrivalDateTime');\n      case PLAIN_SORTING.LAST_VISIT:\n        return {\n          iteratee: nullsLast(\n            dates('stats.visitsStats.lastVisit.departureDateTime'),\n          ),\n          order: 'desc',\n        };\n      case PLAIN_SORTING.RATING:\n        return createRatingComparator(plainGroup, provision);\n      case PLAIN_SORTING.VISITS_COUNT:\n        return {\n          iteratee: 'stats.locationsStats.total',\n          order: 'desc',\n        };\n      case PLAIN_SORTING.ALPHABET:\n      default:\n        return createAlphabetComparator(plainGroup, provision);\n    }\n  }\n}\n\nfunction withOrder(comparators) {\n  return Object.values(\n    comparators.reduce(\n      (acc, current) => {\n        const { iteratee = [], order = 'asc' } = current.order\n          ? current\n          : { iteratee: current };\n        acc.iteratee.push(iteratee);\n        acc.order.push(order);\n        return acc;\n      },\n      {\n        iteratee: [],\n        order: [],\n      },\n    ),\n  );\n}\n\nfunction createRatingComparator(plainGroup, provision) {\n  switch (plainGroup) {\n    // case PLAIN_GROUPS.COUNTRIES:\n    //   return createCountryRatingComparator(provision);\n    case PLAIN_GROUPS.LOCATIONS:\n      return createLocationRatingComparator(provision);\n    default:\n      return () => 0;\n  }\n}\n\nfunction createAlphabetComparator(plainGroup, provision) {\n  switch (plainGroup) {\n    case PLAIN_GROUPS.YEARS:\n      return [\n        {\n          iteratee: nullsLast('stats.visitsStats.firstVisit.arrivalYear'),\n          order: 'desc',\n        },\n      ];\n    case PLAIN_GROUPS.COUNTRIES:\n      return createCountryNameComparator(provision);\n    case PLAIN_GROUPS.LOCATIONS:\n      return createLocationNameComparator(provision);\n    default:\n      return () => 0;\n  }\n}\n\nfunction createCountryNameComparator({ countriesDict }) {\n  return ({ field: { value: countryId } }) => {\n    const { countryName } = countriesDict[countryId] ?? {};\n    return countryName;\n  };\n}\n\nfunction createLocationNameComparator({ locationsDict }) {\n  return ({ field: { value: locationId } }) => {\n    const { locationName } = locationsDict[locationId] ?? {};\n    return locationName;\n  };\n}\n\nconst DEFAULT_RATING = 10;\nfunction createLocationRatingComparator({ locationsRating }) {\n  return ({ field: { value: locationId } }) =>\n    locationsRating[locationId] ?? DEFAULT_RATING;\n}\n\nfunction nullsLast(iteratee) {\n  const resolve = iterateeFn(iteratee);\n  return value => resolve(value) || '';\n}\n\nfunction dates(iteratee) {\n  const resolve = iterateeFn(iteratee);\n  return value => (resolve(value) || '').valueOf();\n}\n","import React from 'react';\nimport PhotosGallery from 'modules/components/PhotosGallery';\nimport { findClosestGroupValue } from '../../arrangement/groupping/utils/resolveGroupingUtils';\nimport { PLAIN_GROUPS } from '../../arrangement/groupping/consts';\n\nexport default function VisitsPhotosGallery({\n  className,\n  visitsGroup,\n  provision,\n}) {\n  const visitPhotos = visitsGroup.visitsList.flatMap(visit =>\n    visit.photos.map(photo => ({\n      ...photo,\n      description: renderDescription(visit, visitsGroup, provision),\n    })),\n  );\n\n  return <PhotosGallery className={className} photos={visitPhotos} />;\n}\n\nfunction renderDescription(visit, visitsGroup, { countriesDict }) {\n  const { locationName, countryId, arrivalYear } = visit;\n\n  let result = '';\n\n  const hasLocationGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.LOCATIONS),\n  );\n  const hasCountryGroup =\n    hasLocationGroup ||\n    Boolean(findClosestGroupValue(visitsGroup, PLAIN_GROUPS.COUNTRIES));\n  const hasYearGroup = Boolean(\n    findClosestGroupValue(visitsGroup, PLAIN_GROUPS.YEARS),\n  );\n\n  if (!hasLocationGroup) {\n    result += locationName;\n  }\n  if (!hasCountryGroup) {\n    const { countryName } = countriesDict[countryId] ?? {};\n    if (countryName) {\n      result += `, ${countryName}`;\n    }\n  }\n  if (!hasYearGroup) {\n    result += `/${arrivalYear}`;\n  }\n\n  return result;\n}\n","import React, { useState } from 'react';\nimport uniq from 'lodash/uniq';\nimport MUILink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocationsMap, { MARKERS_SCALES } from 'travel/components/LocationsMap';\n\nconst useStyles = makeStyles({\n  container: { fontSize: '16px', lineHeight: '1.5' },\n  visitContainer: { margin: '20px 0' },\n  mapVisibilityToggle: { marginLeft: '8px', cursor: 'pointer' },\n  googleMapContainer: {\n    margin: '12px 0',\n    width: '800px',\n    maxWidth: '100%',\n    height: '400px',\n    maxHeight: '100%',\n  },\n});\n\nexport default function VisitsLocationsMap({\n  className,\n  visitsGroup,\n  provision: { visitsDict, locationsDict, locationsRating },\n}) {\n  const classes = useStyles();\n  const [mapVisible, setMapVisible] = useState(false);\n\n  const locationsIds = uniq(\n    visitsGroup.visitsList.map(({ locationId }) => locationId),\n  );\n\n  return (\n    <div className={className}>\n      <div>\n        <MUILink\n          variant=\"body2\"\n          onClick={() => setMapVisible(prevMapVisible => !prevMapVisible)}\n        >\n          {mapVisible ? 'скрыть карту' : 'на карте'}\n        </MUILink>\n      </div>\n      {mapVisible && (\n        <LocationsMap\n          className={classes.mapContainer}\n          locationsDict={locationsDict}\n          visitsDict={visitsDict}\n          locationsRating={locationsRating}\n          locationsIds={locationsIds}\n          minHeight={300}\n          scaleBy={MARKERS_SCALES.BY_LAST_VISIT}\n          ratingLevel={null}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { Fragment } from 'react';\nimport cls from 'classnames';\nimport MUILink from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport clamp from 'lodash/clamp';\nimport {\n  groupVisitsBy,\n  PLAIN_GROUPS,\n  PLAIN_GROUPS_CONFIG,\n} from './arrangement/groupping';\nimport { calcStats, StatsPanel } from './statistics';\nimport { sortVisitsBy } from './arrangement/sorting';\nimport VisitsPhotosGallery from './components/VisitsPhotosGallery';\nimport VisitsLocationsMap from './components/VisitsLocationsMap';\n\nconst COLLAPSED_GROUP_ITEMS = 10;\nconst COLLAPSED_GROUP_THRESHOLD = 2;\n\nexport default function renderRecursive({\n  classes,\n  children,\n  provision,\n  urls,\n  config,\n  visitsList,\n  groupsOrder,\n  sortingOrder,\n  isObscure,\n  mapSectionLevel,\n  photosSectionLevel,\n  forwardingProps,\n  expandedGroups,\n  toggleExpandedGroups,\n}) {\n  return renderRecursiveInternal(\n    { visitsList, parent: null, field: null },\n    groupsOrder,\n  );\n\n  function renderRecursiveInternal(parentVisitsGroup, groupsOrderInternal) {\n    const [plainGroup, ...restGroupsOrder] = groupsOrderInternal;\n    if (!plainGroup) {\n      return null;\n    }\n    const { component: VisitsGroupComponent } = PLAIN_GROUPS_CONFIG[plainGroup];\n    const { visitsList: visitsListInternal } = parentVisitsGroup;\n\n    const nestingLevel = lookupLevel(parentVisitsGroup);\n    const expectedMaxLevel = nestingLevel + groupsOrderInternal.length;\n    const sectionLevel = resolveSectionLevel(nestingLevel, expectedMaxLevel);\n\n    const visitsGroups = groupVisitsBy(visitsListInternal, plainGroup).map(\n      visitsGroup => {\n        const enhancedVisitsGroup = {\n          ...visitsGroup,\n          plainGroup,\n          parent: parentVisitsGroup,\n        };\n        enhancedVisitsGroup.stats = calcStats(enhancedVisitsGroup, provision);\n        return enhancedVisitsGroup;\n      },\n    );\n\n    const sortedVisitsGroups = sortVisitsBy(\n      visitsGroups,\n      sortingOrder,\n      plainGroup,\n      provision,\n    );\n\n    const collapsible =\n      plainGroup === PLAIN_GROUPS.LOCATIONS &&\n      sortedVisitsGroups.length >\n        COLLAPSED_GROUP_ITEMS + COLLAPSED_GROUP_THRESHOLD &&\n      !expandedGroups['*'];\n    const expanded = collapsible\n      ? expandedGroups[toFieldSignature(parentVisitsGroup.field)]\n      : true;\n\n    const actualVisitsGroups = expanded\n      ? sortedVisitsGroups\n      : sortedVisitsGroups.slice(0, COLLAPSED_GROUP_ITEMS);\n\n    return (\n      <>\n        {actualVisitsGroups.map((visitsGroup, index) => (\n          <Fragment key={visitsGroup.field.value}>\n            <VisitsGroupComponent\n              visitsGroup={visitsGroup}\n              classes={resolveVisitsGroupClasses(classes, {\n                nestingLevel,\n                sectionLevel,\n              })}\n              provision={provision}\n              urls={urls}\n              config={config}\n              {...forwardingProps}\n            >\n              <StatsPanel\n                visitsGroup={visitsGroup}\n                provision={provision}\n                isObscure={isObscure}\n                config={config}\n              />\n            </VisitsGroupComponent>\n            {children?.({ level: nestingLevel, index, visitsGroup })}\n            {renderRecursiveInternal(visitsGroup, restGroupsOrder)}\n            {sectionLevel === photosSectionLevel && (\n              <VisitsPhotosGallery\n                className={classes[`level${nestingLevel + 1}`]}\n                visitsGroup={visitsGroup}\n                provision={provision}\n              />\n            )}\n            {sectionLevel === mapSectionLevel && (\n              <VisitsLocationsMap\n                className={classes[`level${nestingLevel + 1}`]}\n                visitsGroup={visitsGroup}\n                provision={provision}\n              />\n            )}\n          </Fragment>\n        ))}\n        {!expanded && (\n          <Typography\n            className={cls(classes.link, classes[`level${nestingLevel}`])}\n            variant=\"body2\"\n          >\n            <MUILink\n              onClick={() =>\n                toggleExpandedGroups(toFieldSignature(parentVisitsGroup.field))\n              }\n            >\n              {`показать еще ${sortedVisitsGroups.length -\n                actualVisitsGroups.length}`}\n            </MUILink>\n            {', '}\n            <MUILink onClick={() => toggleExpandedGroups('*')}>\n              раскрыть все\n            </MUILink>\n          </Typography>\n        )}\n      </>\n    );\n  }\n}\n\nfunction resolveVisitsGroupClasses(classes, { nestingLevel, sectionLevel }) {\n  return {\n    level: classes[`level${nestingLevel}`],\n    container: cls(\n      classes[`level${nestingLevel}`],\n      classes[`container${sectionLevel}`],\n    ),\n    header: classes[`header${sectionLevel}`],\n  };\n}\n\nfunction lookupLevel(visitsGroup) {\n  let currentVisitsGroup = visitsGroup;\n  let level = 0;\n  while (currentVisitsGroup) {\n    level += 1;\n    currentVisitsGroup = currentVisitsGroup.parent;\n  }\n  return Math.max(0, level - 1);\n}\n\nconst MAX_LEVEL = 3;\nfunction resolveSectionLevel(nestingLevel, expectedMaxLevel) {\n  return clamp(MAX_LEVEL - expectedMaxLevel + nestingLevel, 0, MAX_LEVEL - 1);\n}\n\nfunction toFieldSignature(field) {\n  const { name, value } = field ?? {};\n  return `${name}:${value}`;\n}\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { useDeepCompareEffect } from 'react-use';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { switchFilteringFn } from './arrangement/filtering';\nimport renderGroupsRecursive from './renderGroupsRecursive';\n\nconst useStyles = makeStyles(theme => ({\n  link: {\n    cursor: 'pointer',\n  },\n  header0: {\n    ...theme.typography.h2,\n    wordBreak: 'break-word',\n  },\n  container0: {\n    display: 'flex',\n    alignItems: 'self-start',\n    '&:not(:first-child)': {\n      marginTop: '64px',\n    },\n  },\n  level0: {},\n\n  header1: {\n    ...theme.typography.h4,\n    wordBreak: 'break-word',\n  },\n  container1: {\n    display: 'flex',\n    alignItems: 'self-start',\n    marginTop: '18px',\n    marginBottom: '6px',\n  },\n  level1: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: '32px',\n    },\n  },\n\n  header2: {\n    ...theme.typography.body1,\n    wordBreak: 'break-word',\n  },\n  container2: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  level2: {\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: '96px',\n    },\n  },\n}));\n\nexport default function VisitsArranger({\n  visitsList,\n  groupsOrder,\n  sortingOrder,\n  filteringOption,\n  provision,\n  urls,\n  config,\n  mapSectionLevel,\n  photosSectionLevel,\n  children,\n  ...forwardingProps\n}) {\n  const classes = useStyles();\n\n  const [expandedGroups, setExpandedGroups] = useState({});\n  const toggleExpandedGroups = useCallback(fieldSignature => {\n    setExpandedGroups(prevExpandedGroups => ({\n      ...prevExpandedGroups,\n      [fieldSignature]: !prevExpandedGroups[fieldSignature],\n    }));\n  }, []);\n  useDeepCompareEffect(\n    () => {\n      setExpandedGroups({});\n    },\n    [groupsOrder, sortingOrder, filteringOption],\n  );\n\n  const actualVisitsList = visitsList.filter(\n    switchFilteringFn(provision, filteringOption),\n  );\n\n  return renderGroupsRecursive({\n    classes,\n    children,\n    provision,\n    urls,\n    config,\n    visitsList: actualVisitsList,\n    groupsOrder,\n    sortingOrder,\n    mapSectionLevel,\n    photosSectionLevel,\n    expandedGroups,\n    toggleExpandedGroups,\n    forwardingProps,\n  });\n}\n\nVisitsArranger.defaultProps = {\n  mapSectionLevel: 1,\n  photosSectionLevel: 1,\n};\n","import VisitsArranger from './VisitsArranger';\nexport * from './arrangement/groupping';\nexport * from './arrangement/sorting';\nexport * from './arrangement/filtering';\nexport * from './statistics';\n\nexport default VisitsArranger;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport ConnectedLink from 'modules/components/muiExtended/ConnectedLink';\nimport VisitIcon from '../VisitIcon';\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'inline-block',\n    marginRight: '4px',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n  period: {\n    display: 'inline',\n    color: 'gray',\n    fontSize: 12,\n  },\n});\n\nconst VisitInfo = ({ visit, isLong, locationUrl }) => {\n  const classes = useStyles();\n  if (!visit) {\n    return 'Не указано';\n  }\n  const { locationName } = visit;\n  return (\n    <div className={classes.container}>\n      <VisitIcon visit={visit} className={classes.icon} />\n      <ConnectedLink to={locationUrl} optional={true}>\n        {locationName}\n      </ConnectedLink>\n      {isLong ? ', ' : ''}\n      <div className={classes.period}>\n        {isLong && visitDateTimePeriodToString(visit)}\n      </div>\n    </div>\n  );\n};\n\nVisitInfo.defaultProps = {\n  visit: {},\n};\n\nexport default VisitInfo;\n","import React from 'react';\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\nimport TransferWithinAStationIcon from '@material-ui/icons/TransferWithinAStation';\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\nimport DomainIcon from '@material-ui/icons/Domain';\nimport { VISIT_TYPES } from 'travel/models/visits/consts';\n\nexport default function VisitIcon({ visit: { visitType }, className }) {\n  const IconComponent = resolveRideIconComponent(visitType);\n  return <IconComponent className={className} />;\n}\n\nfunction resolveRideIconComponent(visitType) {\n  switch (visitType) {\n    case VISIT_TYPES.TRANSIT:\n      return TransferWithinAStationIcon;\n    case VISIT_TYPES.BASE_CAMP:\n      return DomainIcon;\n    case VISIT_TYPES.RELOCATION:\n      return LocalShippingIcon;\n    case VISIT_TYPES.REGULAR:\n    default:\n      return LocationCityIcon;\n  }\n}\n","import React from 'react';\nimport BikeIcon from '@material-ui/icons/DirectionsBike';\nimport BoatIcon from '@material-ui/icons/DirectionsBoat';\nimport BusIcon from '@material-ui/icons/DirectionsBus';\nimport CarIcon from '@material-ui/icons/DirectionsCar';\nimport CustomTransportIcon from '@material-ui/icons/Commute';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\nimport TerrainIcon from '@material-ui/icons/Terrain';\nimport TrainIcon from '@material-ui/icons/Train';\nimport TruckIcon from '@material-ui/icons/LocalShipping';\nimport VanIcon from '@material-ui/icons/AirportShuttle';\nimport WalkIcon from '@material-ui/icons/DirectionsWalk';\nimport TramIcon from '@material-ui/icons/Tram';\nimport LocalTaxiIcon from '@material-ui/icons/LocalTaxi';\nimport SubwayIcon from '@material-ui/icons/Subway';\nimport SeatIcon from '@material-ui/icons/AirlineSeatReclineNormal';\nimport UnknownRideIcon from '@material-ui/icons/NotListedLocation';\nimport { VEHICLE_TYPES } from 'travel/models/rides/consts';\n\nexport default function RideIcon({ ride: { vehicleType }, className }) {\n  const IconComponent = resolveRideIconComponent(vehicleType);\n  return <IconComponent className={className} />;\n}\n\nfunction resolveRideIconComponent(vehicleType) {\n  switch (vehicleType) {\n    case VEHICLE_TYPES.CAR:\n      return CarIcon;\n    case VEHICLE_TYPES.TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.AIRCRAFT:\n      return FlightIcon;\n    case VEHICLE_TYPES.BUS:\n    case VEHICLE_TYPES.TROLLEY:\n    case VEHICLE_TYPES.CITY_BUS:\n      return BusIcon;\n    case VEHICLE_TYPES.MOTORHOME:\n    case VEHICLE_TYPES.JITNEY:\n      return VanIcon;\n    case VEHICLE_TYPES.LOCAL_TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.FERRY:\n      return BoatIcon;\n    case VEHICLE_TYPES.BIKE:\n      return BikeIcon;\n    case VEHICLE_TYPES.BY_FEET:\n      return WalkIcon;\n    case VEHICLE_TYPES.MOTORBIKE:\n      return MotorcycleIcon;\n    case VEHICLE_TYPES.TRUCK:\n      return TruckIcon;\n    case VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:\n      return TerrainIcon;\n    case VEHICLE_TYPES.TRAM:\n      return TramIcon;\n    case VEHICLE_TYPES.TAXI:\n      return LocalTaxiIcon;\n    case VEHICLE_TYPES.SUBWAY:\n      return SubwayIcon;\n    case VEHICLE_TYPES.PUBLIC_TRANSPORT:\n      return SeatIcon;\n    case VEHICLE_TYPES.ROPEWAY:\n    case VEHICLE_TYPES.FUNICULAR:\n      return CustomTransportIcon;\n    default:\n      return UnknownRideIcon;\n  }\n}\n","import resolveLocationFirstAndLastVisitDateTime from './resolveLocationFirstAndLastVisitDateTime';\n\nexport default function adaptMarkerData({\n  locationsIds,\n  locationsDict,\n  visitsDict,\n  locationsRating,\n}) {\n  return locationsIds.map(locationId => {\n    const location = locationsDict[locationId];\n    if (!location) {\n      return null;\n    }\n    const { lon, lat, locationName, visitsIds } = location;\n    const {\n      firstVisitDateTime,\n      lastVisitDateTime,\n    } = resolveLocationFirstAndLastVisitDateTime(visitsIds ?? [], visitsDict);\n\n    return {\n      locationName,\n      lat,\n      lon,\n      firstVisitDateTime,\n      lastVisitDateTime,\n      locationRating: locationsRating[locationId],\n      visitsCount: location.visitsIds?.length,\n    };\n  });\n}\n","import min from 'lodash/min';\nimport max from 'lodash/max';\n\nexport default function resolveLocationFirstAndLastVisitDateTime(\n  visitsIds,\n  visitsDict,\n) {\n  return visitsIds.reduce(\n    (accumulator, visitId) => {\n      const visit = visitsDict[visitId];\n      if (visit) {\n        const { arrivalDateTime, departureDateTime } = visit;\n        accumulator.firstVisitDateTime = min([\n          accumulator.firstVisitDateTime,\n          arrivalDateTime,\n        ]);\n        accumulator.lastVisitDateTime = max([\n          accumulator.lastVisitDateTime,\n          departureDateTime,\n        ]);\n      }\n      return accumulator;\n    },\n    { firstVisitDateTime: null, lastVisitDateTime: null },\n  );\n}\n","export const KEY_MARKERS_SCALE_BY = 'scale';\n\nexport const MARKERS_SCALES = {\n  BY_FIRST_VISIT: 'fv',\n  BY_LAST_VISIT: 'lv',\n  BY_VISITS_COUNT: 'vc',\n  BY_RATING: 'r',\n};\n\nexport const MARKERS_SCALE_DEFAULT = MARKERS_SCALES.BY_LAST_VISIT;\n\nexport const MARKERS_SCALE_IMAGES_BASE_PATH =\n  'https://res.cloudinary.com/dc2eke0gj/image/upload/markers/';\n\nexport const MARKERS_SCALE_BY_TIME_FILENAMES = [\n  'step_by_time_1_zjtrlw.png',\n  'step_by_time_2_tvotvg.png',\n  'step_by_time_3_ylj1vi.png',\n  'step_by_time_4_uovfrs.png',\n  'step_by_time_5_s4jq0u.png',\n  'step_by_time_6_lmihnf.png',\n];\n\nexport const MARKERS_SCALE_BY_RATING_FILENAMES = [\n  'step_by_rating_1_id2qgb.png',\n  'step_by_rating_2_iiqvik.png',\n  'step_by_rating_3_x2gzsd.png',\n  'step_by_rating_4_cbqdcn.png',\n  'step_by_rating_5_viyhls.png',\n  'step_by_rating_6_zzfgki.png',\n  'step_by_rating_7_pjjhhq.png',\n  'step_by_rating_8_vgetsd.png',\n  'step_by_rating_9_t6tenz.png',\n  'step_by_rating_10_yjywr0.png',\n];\n\nexport const MARKERS_SCALE_BY_VISITS_FILENAMES = [\n  'step_by_visits_1_zv3tba.png',\n  'step_by_visits_2_qthjqa.png',\n  'step_by_visits_3_xcjyla.png',\n  'step_by_visits_4_kwdwka.png',\n  'step_by_visits_5_xnnipa.png',\n];\n\nexport const MARKERS_SCALE_BY_SOURCES = {\n  [MARKERS_SCALES.BY_FIRST_VISIT]: MARKERS_SCALE_BY_TIME_FILENAMES,\n  [MARKERS_SCALES.BY_LAST_VISIT]: MARKERS_SCALE_BY_TIME_FILENAMES,\n  [MARKERS_SCALES.BY_VISITS_COUNT]: MARKERS_SCALE_BY_VISITS_FILENAMES,\n  [MARKERS_SCALES.BY_RATING]: MARKERS_SCALE_BY_RATING_FILENAMES,\n};\n\nexport const MARKERS_RATING_LEVELS = {\n  ALL: 'all',\n  WANT_COME_BACK: 'good',\n  LOVE_THIS_PLACE: 'best',\n};\n\nexport const KEY_MARKERS_RATING_LEVEL = 'rating';\n\nexport const MARKERS_RATING_LEVEL_DEFAULT = MARKERS_RATING_LEVELS.ALL;\n","import min from 'lodash/min';\nimport max from 'lodash/max';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\nimport { MARKERS_SCALES } from '../consts';\n\nexport default function makeScaleUtils(scaleBy) {\n  switch (scaleBy) {\n    case MARKERS_SCALES.BY_VISITS_COUNT:\n      return {\n        resolveStep: stepByVisitsCount,\n      };\n    case MARKERS_SCALES.BY_RATING:\n      return {\n        resolveStep: stepByRating,\n      };\n    case MARKERS_SCALES.BY_LAST_VISIT:\n      return makeScaleByDateTimeUtils('lastVisitDateTime');\n    case MARKERS_SCALES.BY_FIRST_VISIT:\n      return makeScaleByDateTimeUtils('firstVisitDateTime');\n    default:\n      return {\n        resolveStep: () => 1,\n      };\n  }\n}\n\nfunction stepByVisitsCount({ visitsCount }) {\n  switch (true) {\n    case visitsCount > 10:\n      return 5;\n    case visitsCount > 5:\n      return 4;\n    case visitsCount > 2:\n      return 3;\n    case visitsCount > 1:\n      return 2;\n    default:\n      return 1;\n  }\n}\n\nfunction stepByRating({ locationRating }) {\n  switch (locationRating) {\n    case LOCATION_RATING.PLACE_TO_LIVE:\n      return 1;\n    case LOCATION_RATING.FEW_PER_YEAR:\n    case LOCATION_RATING.ONCE_PER_YEAR:\n      return 3;\n    case LOCATION_RATING.ONCE_PER_TWO_YEARS:\n    case LOCATION_RATING.ONCE_PER_FIVE_YEARS:\n      return 4;\n    case LOCATION_RATING.ONCE_PER_DECADE:\n    case LOCATION_RATING.TWICE_PER_LIVE:\n      return 7;\n    case LOCATION_RATING.ONCE_PER_LIVE:\n      return 9;\n    case LOCATION_RATING.NEVER:\n      return 10;\n    default:\n      return 6;\n  }\n}\n\nconst stepsByDateTimeCount = 6;\nfunction makeScaleByDateTimeUtils(field) {\n  return {\n    resolveStep: function stepByDateTime(\n      { [field]: dateTime },\n      { minTime, diff },\n    ) {\n      const step = ((dateTime - minTime) / diff) * stepsByDateTimeCount;\n      return Math.min(Math.max(Math.floor(step), 0), stepsByDateTimeCount);\n    },\n    resolveOptions: function resolveOptionsForStepByDateTime(markersDataList) {\n      const times = markersDataList\n        .map(markerData => markerData[field] && markerData[field].getTime())\n        .filter(Boolean);\n\n      const minTime = min(times);\n      const maxTime = max(times) + 1;\n      const diff = maxTime - minTime;\n      return { minTime, diff };\n    },\n  };\n}\n","import ru from 'date-fns/locale/ru';\nimport dateFormat from './safeDateFormat';\n\nexport default function formatDate(date, format = 'eeeeee, d MMMM yyyy') {\n  return dateFormat(date, format, { locale: ru });\n}\n","import formatDate from 'modules/utilities/dateTime/formatDate';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nexport default function renderTitle({\n  locationName,\n  locationRating,\n  visitsCount,\n  firstVisitDateTime,\n  lastVisitDateTime,\n}) {\n  return [\n    locationName,\n    `Посещено ${visitsCount} раз`,\n    `Впервые ${formatDate(firstVisitDateTime)}`,\n    visitsCount > 1 && `Прошлое посешение ${formatDate(lastVisitDateTime)}`,\n    `Рейтинг: ${renderRating(locationRating)}`,\n  ]\n    .filter(Boolean)\n    .join('\\n');\n}\n\nfunction renderRating(locationRating) {\n  switch (locationRating) {\n    case LOCATION_RATING.PLACE_TO_LIVE:\n      return 'Жил бы здесь';\n    case LOCATION_RATING.FEW_PER_YEAR:\n    case LOCATION_RATING.ONCE_PER_YEAR:\n      return 'Готов ездить сюда постоянно';\n    case LOCATION_RATING.ONCE_PER_TWO_YEARS:\n    case LOCATION_RATING.ONCE_PER_FIVE_YEARS:\n      return 'Приезжал бы иногда';\n    case LOCATION_RATING.ONCE_PER_DECADE:\n    case LOCATION_RATING.TWICE_PER_LIVE:\n      return 'Заглянул бы еще разок';\n    case LOCATION_RATING.ONCE_PER_LIVE:\n      return 'Одного посещения достаточно';\n    case LOCATION_RATING.NEVER:\n      return 'Тут нечего делать';\n    default:\n      return '?';\n  }\n}\n","import {\n  MARKERS_SCALE_BY_SOURCES,\n  MARKERS_SCALE_BY_TIME_FILENAMES,\n  MARKERS_SCALE_IMAGES_BASE_PATH,\n} from '../consts';\n\nexport default function resolveMarkerUrl(step, scaleBy) {\n  if (!scaleBy) {\n    return `${MARKERS_SCALE_IMAGES_BASE_PATH}${\n      MARKERS_SCALE_BY_TIME_FILENAMES[0]\n    }`;\n  }\n  const markerSources = MARKERS_SCALE_BY_SOURCES[scaleBy];\n  const subPath = markerSources[step - 1] || markerSources[0];\n  return `${MARKERS_SCALE_IMAGES_BASE_PATH}${subPath}`;\n}\n","import { useState, useEffect, useRef } from 'react';\n\nexport default markersData => {\n  const [googleMapsApi, setGoogleMapsApi] = useState(null);\n\n  const isFirsRenderRef = useRef(true);\n\n  useEffect(\n    () => {\n      if (!googleMapsApi) {\n        return undefined;\n      }\n      const { map, maps } = googleMapsApi;\n      const bounds = new maps.LatLngBounds();\n      const markers = markersData.map(\n        ({ lat, lon, iconUrl, title, zIndex }) => {\n          const marker = new maps.Marker({\n            map,\n            position: { lat, lng: lon },\n            icon: {\n              url: iconUrl,\n              scaledSize: new maps.Size(24, 24),\n            },\n            scale: 0.5,\n            title,\n            zIndex,\n          });\n          bounds.extend(marker.position);\n          return marker;\n        },\n      );\n      if (isFirsRenderRef.current) {\n        map.setOptions({ maxZoom: 11, minZoom: 2 });\n        map.fitBounds(bounds);\n        map.setOptions({ maxZoom: null, minZoom: null });\n        isFirsRenderRef.current = false;\n      }\n      return () => {\n        markers.forEach(marker => {\n          marker.setMap(null);\n          marker.setVisible(false);\n        });\n        markers.length = 0;\n      };\n    },\n    [googleMapsApi, markersData],\n  );\n  return { handleGoogleApiLoaded: api => setGoogleMapsApi(api) };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {\n  MARKERS_SCALES,\n  KEY_MARKERS_SCALE_BY,\n  KEY_MARKERS_RATING_LEVEL,\n} from '../../consts';\n\nexport default function MarkersScaleSelect({\n  classes,\n  scaleBy,\n  onClose,\n  onChange,\n}) {\n  return (\n    <List>\n      <ListItem>\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink={true} id=\"select-scaleBy-filter-label\">\n            Раскрасить маркеры\n          </InputLabel>\n          <Select\n            labelId=\"select-scaleBy-filter-label\"\n            autoWidth={true}\n            id=\"select-scaleBy-filter\"\n            value={scaleBy}\n            onChange={event => {\n              onClose();\n              const nextScaleBy = event.target.value;\n              const updates = { [KEY_MARKERS_SCALE_BY]: nextScaleBy };\n              if (nextScaleBy !== MARKERS_SCALES.BY_RATING) {\n                updates[KEY_MARKERS_RATING_LEVEL] = undefined;\n              }\n              onChange(updates);\n            }}\n          >\n            <MenuItem\n              key={MARKERS_SCALES.BY_FIRST_VISIT}\n              value={MARKERS_SCALES.BY_FIRST_VISIT}\n            >\n              По первому посещению\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_LAST_VISIT}\n              value={MARKERS_SCALES.BY_LAST_VISIT}\n            >\n              По последнему посещению\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_VISITS_COUNT}\n              value={MARKERS_SCALES.BY_VISITS_COUNT}\n            >\n              По числу посещений\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_SCALES.BY_RATING}\n              value={MARKERS_SCALES.BY_RATING}\n            >\n              По рейтингу\n            </MenuItem>\n          </Select>\n        </FormControl>\n      </ListItem>\n    </List>\n  );\n}\n\nMarkersScaleSelect.propTypes = {\n  classes: PropTypes.shape({ formControl: PropTypes.string.isRequired })\n    .isRequired,\n  scaleBy: PropTypes.oneOf(Object.values(MARKERS_SCALES)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { MARKERS_RATING_LEVELS, KEY_MARKERS_RATING_LEVEL } from '../../consts';\n\nexport default function MarkersRatingLevelSelect({\n  classes,\n  ratingLevel,\n  onClose,\n  onChange,\n}) {\n  return (\n    <List>\n      <ListItem>\n        <FormControl className={classes.formControl}>\n          <InputLabel shrink={true} id=\"select-ratingLevel-filter-label\">\n            Фильтр по рейтингу\n          </InputLabel>\n          <Select\n            labelId=\"select-ratingLevel-filter-label\"\n            autoWidth={true}\n            id=\"select-ratingLevel-filter\"\n            value={ratingLevel}\n            onChange={event => {\n              onClose();\n              onChange({\n                [KEY_MARKERS_RATING_LEVEL]: event.target.value,\n              });\n            }}\n          >\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.ALL}\n              value={MARKERS_RATING_LEVELS.ALL}\n            >\n              Все\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.WANT_COME_BACK}\n              value={MARKERS_RATING_LEVELS.WANT_COME_BACK}\n            >\n              Куда бы вернулся\n            </MenuItem>\n            <MenuItem\n              key={MARKERS_RATING_LEVELS.LOVE_THIS_PLACE}\n              value={MARKERS_RATING_LEVELS.LOVE_THIS_PLACE}\n            >\n              Лучшие места\n            </MenuItem>\n          </Select>\n        </FormControl>\n      </ListItem>\n    </List>\n  );\n}\n\nMarkersRatingLevelSelect.propTypes = {\n  classes: PropTypes.shape({ formControl: PropTypes.string.isRequired })\n    .isRequired,\n  ratingLevel: PropTypes.oneOf(Object.values(MARKERS_RATING_LEVELS)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSidebar } from 'core/context/SidebarContext';\nimport MarkersScaleSelect from './blocks/MarkersScaleSelect';\nimport MarkersRatingLevelSelect from './blocks/MarkersRatingLevelSelect';\nimport {\n  MARKERS_SCALES,\n  KEY_MARKERS_SCALE_BY,\n  MARKERS_SCALE_DEFAULT,\n  MARKERS_RATING_LEVELS,\n  KEY_MARKERS_RATING_LEVEL,\n  MARKERS_RATING_LEVEL_DEFAULT,\n} from './consts';\n\nconst useStyles = makeStyles({\n  formControl: {\n    width: '100%',\n  },\n});\n\nexport default function(setQueryFilter, queryFilter) {\n  const classes = useStyles();\n  const {\n    [KEY_MARKERS_SCALE_BY]: scaleByQuery,\n    [KEY_MARKERS_RATING_LEVEL]: ratingLevelQuery,\n  } = queryFilter || {};\n  const scaleBy = resolveActualScaleBy(scaleByQuery);\n  const ratingLevel = resolveActualRatingLevel(ratingLevelQuery);\n  useSidebar(\n    ({ closeSidebar }) => (\n      <>\n        <MarkersScaleSelect\n          classes={classes}\n          onClose={closeSidebar}\n          scaleBy={scaleBy}\n          onChange={setQueryFilter}\n        />\n        {scaleBy === MARKERS_SCALES.BY_RATING && (\n          <MarkersRatingLevelSelect\n            classes={classes}\n            onClose={closeSidebar}\n            ratingLevel={ratingLevel}\n            onChange={setQueryFilter}\n          />\n        )}\n      </>\n    ),\n    [scaleBy, ratingLevel],\n  );\n\n  return { scaleBy, ratingLevel };\n}\n\nfunction resolveActualScaleBy(scaleByQuery) {\n  return Object.values(MARKERS_SCALES).includes(scaleByQuery)\n    ? scaleByQuery\n    : MARKERS_SCALE_DEFAULT;\n}\nfunction resolveActualRatingLevel(ratingLevelQuery) {\n  return Object.values(MARKERS_RATING_LEVELS).includes(ratingLevelQuery)\n    ? ratingLevelQuery\n    : MARKERS_RATING_LEVEL_DEFAULT;\n}\n","/* globals __GOOGLE_MAP_API_KEY__ */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport GoogleMapReact from 'google-map-react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport locationPropTypes from 'travel/models/locations/propTypes';\nimport visitsPropTypes from 'travel/models/visits/propTypes';\nimport adaptMarkerData from './utils/adaptMarkerData';\nimport filterMarkerData from './utils/filterMarkerData';\nimport makeScaleUtils from './utils/makeScaleUtils';\nimport renderTitle from './utils/renderTitle';\nimport resolveMarkerUrl from './utils/resolveMarkerUrl';\nimport { MARKERS_SCALES, MARKERS_RATING_LEVELS } from './consts';\nimport useMarkers from './useMarkers';\n\nexport { MARKERS_SCALES, MARKERS_RATING_LEVELS };\nexport useMarkersScaleSidebar from './useMarkersScaleSidebar';\n\nconst useStyles = makeStyles({\n  googleMapContainer: {\n    margin: '12px 0',\n    maxWidth: '100%',\n    flexGrow: 1,\n    minHeight: ({ minHeight }) => minHeight,\n    position: 'relative',\n  },\n  googleMapPosition: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n  },\n});\n\nexport default function LocationsMap({\n  className,\n  locationsDict,\n  visitsDict,\n  locationsRating,\n  locationsIds,\n  minHeight,\n  scaleBy,\n  ratingLevel,\n}) {\n  const classes = useStyles({ minHeight });\n  const markersData = useMemo(\n    () => {\n      const adaptedMarkersData = adaptMarkerData({\n        locationsDict,\n        visitsDict,\n        locationsRating,\n        locationsIds,\n      });\n      const actualMarkersData = filterMarkerData(adaptedMarkersData, {\n        ratingLevel,\n      });\n      const { resolveStep, resolveOptions } = makeScaleUtils(scaleBy);\n      const options = resolveOptions && resolveOptions(actualMarkersData);\n      return actualMarkersData.map(markerData => {\n        const step = resolveStep(markerData, options);\n        return {\n          ...markerData,\n          zIndex: [\n            MARKERS_SCALES.BY_RATING,\n            MARKERS_SCALES.BY_FIRST_VISIT,\n          ].includes(scaleBy)\n            ? 10 - step\n            : step,\n          iconUrl: resolveMarkerUrl(step, scaleBy),\n          title: renderTitle(markerData),\n        };\n      });\n    },\n    [\n      locationsDict,\n      visitsDict,\n      locationsRating,\n      locationsIds,\n      scaleBy,\n      ratingLevel,\n    ],\n  );\n  const { handleGoogleApiLoaded } = useMarkers(markersData);\n\n  return (\n    <div className={cls(className, classes.googleMapContainer)}>\n      <div className={classes.googleMapPosition}>\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: __GOOGLE_MAP_API_KEY__ }}\n          center={{ lat: 0, lng: 0 }}\n          zoom={11}\n          onGoogleApiLoaded={handleGoogleApiLoaded}\n        />\n      </div>\n    </div>\n  );\n}\n\nLocationsMap.propTypes = {\n  className: PropTypes.string,\n  visitsDict: PropTypes.objectOf(PropTypes.shape(visitsPropTypes)).isRequired,\n  locationsDict: PropTypes.objectOf(PropTypes.shape(locationPropTypes))\n    .isRequired,\n  locationsIds: PropTypes.arrayOf(PropTypes.number).isRequired,\n  locationsRating: PropTypes.objectOf(PropTypes.number).isRequired,\n  minHeight: PropTypes.number,\n  scaleBy: PropTypes.oneOf(Object.values(MARKERS_SCALES)).isRequired,\n  ratingLevel: PropTypes.oneOf(Object.values(MARKERS_RATING_LEVELS)).isRequired,\n};\n\nLocationsMap.defaultProps = {\n  className: undefined,\n  minHeight: '400px',\n};\n","import { MARKERS_RATING_LEVELS } from '../consts';\nimport { LOCATION_RATING } from 'travel/models/users/consts';\n\nexport default function filterMarkerData(adaptedMarkersData, { ratingLevel }) {\n  const validMarkersData = adaptedMarkersData.filter(Boolean);\n  if (\n    !Object.values(MARKERS_RATING_LEVELS).includes(ratingLevel) ||\n    ratingLevel === MARKERS_RATING_LEVELS.ALL\n  ) {\n    return validMarkersData;\n  }\n  return validMarkersData.filter(({ locationRating, visitsCount }) => {\n    switch (ratingLevel) {\n      case MARKERS_RATING_LEVELS.WANT_COME_BACK:\n        if (visitsCount < 2) {\n          return locationRating <= LOCATION_RATING.TWICE_PER_LIVE;\n        }\n        return locationRating <= LOCATION_RATING.ONCE_PER_DECADE;\n      case MARKERS_RATING_LEVELS.LOVE_THIS_PLACE:\n        return locationRating <= LOCATION_RATING.ONCE_PER_YEAR;\n      default:\n        return true;\n    }\n  });\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HichHikingIcon from '@material-ui/icons/ThumbUp';\nimport { rideDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\nimport { RIDE_TYPES } from 'travel/models/rides/consts';\nimport RideIcon from 'travel/components/RideIcon';\n\nconst useStyles = makeStyles({\n  icon: { color: 'gray', fontSize: 16, height: 16 },\n  absoluteIcon: {\n    // todo fast decision, need refactor\n    color: 'gray',\n    fontSize: 16,\n    height: 16,\n    position: 'absolute',\n  },\n  detail: { color: 'gray', fontSize: 12 },\n});\n\nexport default function RideInfo({\n  ride,\n  ride: { rideType } = {},\n  className,\n  isLong,\n}) {\n  const classes = useStyles();\n\n  if (!ride) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <RideIcon ride={ride} className={classes.icon} />\n      {rideType === RIDE_TYPES.HITCH_HIKING && (\n        <HichHikingIcon className={classes.absoluteIcon} />\n      )}\n      {isLong && rideDateTimePeriodToString(ride)}\n    </div>\n  );\n}\n","import { useMemo } from 'react';\nimport { usePaths } from 'modules/packages';\n\nexport default function useVisitsUrls({ editable, userAlias, section }) {\n  const { travel: travelPaths } = usePaths();\n\n  return useMemo(\n    () => ({\n      hyperlinks: () => {},\n      locationsUrl: travelPaths.locations.toUrl({ userAlias, section }),\n      tripCreateUrl: editable\n        ? travelPaths.tripCreate.toUrl({ userAlias })\n        : null,\n      resolveLocationUrl: ({ locationId }) =>\n        travelPaths.location.toUrl({\n          userAlias,\n          section,\n          strLocationId: String(locationId),\n        }),\n      resolveCountryUrl: ({ countryId }) =>\n        travelPaths.country.toUrl({\n          userAlias,\n          section,\n          strCountryId: String(countryId),\n        }),\n      resolveTripEditUrl: ({ tripId }) =>\n        editable\n          ? travelPaths.tripEdit.toUrl({\n              strTripId: String(tripId),\n              userAlias,\n            })\n          : null,\n      resolveVisitUrl: ({ visitId }) =>\n        editable\n          ? travelPaths.visit.toUrl({\n              userAlias,\n              section,\n              strVisitId: String(visitId),\n            })\n          : null,\n    }),\n    [editable, travelPaths],\n  );\n}\n","import uniq from 'lodash/uniq';\n\nexport default (array, { maxLength, separator = ', ' }) => {\n  const uniqArray = uniq(array);\n  const result = uniqArray.slice(0, maxLength).join(separator);\n  if (uniqArray.length > maxLength) {\n    return `${result}...`;\n  }\n  return result;\n};\n","import dateMin from 'date-fns/min';\nimport dateMax from 'date-fns/max';\nimport groupBy from 'lodash/groupBy';\nimport uniqTrimAndJoin from 'modules/utilities/text/uniqTrimAndJoin';\nimport { VISIT_TYPES } from 'travel/models/visits/consts';\nimport { visitDateTimePeriodToString } from 'modules/utilities/dateTime/dateTimePeriodToString';\n\nconst FALLBACK = 'Без названия';\nexport default function resolveTripCaption(\n  trip,\n  visitsDict,\n  countriesDict,\n  locationsDict,\n) {\n  const {\n    visits: visitsIds,\n    originLocationId,\n    tripName,\n    hasAutogeneratedTripName,\n  } = trip || {};\n\n  const originCountryId = locationsDict[originLocationId]?.countryId;\n\n  if (!hasAutogeneratedTripName) {\n    return tripName || FALLBACK;\n  }\n  if (!visitsIds.length) {\n    return FALLBACK;\n  }\n\n  const periodStr = visitDateTimePeriodToString({\n    arrivalDateTime: dateMin(\n      visitsIds.map(visitsId => visitsDict[visitsId]?.arrivalDateTime),\n    ),\n    departureDateTime: dateMax(\n      visitsIds.map(visitsId => visitsDict[visitsId]?.departureDateTime),\n    ),\n  });\n\n  const visitsByCountries = Object.keys(\n    groupBy(\n      visitsIds.filter(\n        visitId => visitsDict[visitId]?.visitType !== VISIT_TYPES.TRANSIT,\n      ),\n      'countryId',\n    ),\n  );\n\n  if (visitsByCountries.length === 1) {\n    const locationsNames = uniqTrimAndJoin(\n      visitsIds.map(visitId => visitsDict[visitId]?.locationName),\n      { maxLength: 4 },\n    );\n    return `${locationsNames || FALLBACK}, ${periodStr}`;\n  }\n\n  const countriesNames = uniqTrimAndJoin(\n    visitsByCountries\n      .map(\n        countryId =>\n          Number(countryId) !== originCountryId &&\n          countriesDict[countryId] &&\n          countriesDict[countryId].countryName,\n      )\n      .filter(Boolean),\n    { maxLength: 4 },\n  );\n  return `${countriesNames || FALLBACK}, ${periodStr}`;\n}\n"],"sourceRoot":""}