"use strict";(self.webpackChunkmine=self.webpackChunkmine||[]).push([[111],{26972:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A}),r(35666),r(74916),r(4723),r(41539),r(88674),r(69070),r(47941),r(82526),r(57327),r(88449),r(2490),r(59849),r(38880),r(89554),r(15581),r(34514),r(54747),r(49337),r(33321);var n=r(67294),a=r(5977),i=r(84090),o=r(73135),l=(r(15306),r(79753),r(41817),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(77601),r(41120)),c=r(41749),u=r(282),s=r(9570),m=r(13258),f=r(64436),p=r(30553),d=r(38799),g=r(43700),v=r(22318),b=r(53273),h=(r(69600),r(21249),r(57640),r(9924),{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"e",ж:"j",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"shch",ь:"",ы:"y",Ъ:"",э:"e",ю:"u",я:"ya"});function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=(0,l.Z)({articleBody:{marginTop:"12px"}});function Z(e){var t=e.initialArticle,r=e.onSubmit,a=e.isSubmitting,i=S(),o=y((0,n.useState)(!1),2),l=o[0],h=o[1],E=(0,n.useCallback)((function(){return h((function(e){return!e}))}),[]),Z=!t,w=t||{},j=w.title,k=void 0===j?"Новая статья":j,C=w.isDraft,x=void 0===C||C,A=w.body,P=y((0,n.useState)({}),2),D=P[0],T=D.slug,I=D.hasSlug,B=P[1],z=y((0,n.useState)(k),2),F=z[0],M=z[1],N=y((0,n.useState)(x),2),R=N[0],U=N[1],_=(0,b.sZ)(A),q=_.editorState,L=_.setEditorState;return n.createElement(c.Z,{container:!0,spacing:3,alignItems:"center"},n.createElement(c.Z,{item:!0,xs:4},n.createElement(f.Z,null,n.createElement(g.Z,{htmlFor:"component-simple"},"Название статьи"),n.createElement(d.Z,{id:"component-simple",value:F,onChange:function(e){M(e.currentTarget.value),I||B({slug:O(e.currentTarget.value),hasSlug:!1})}}))),Z&&n.createElement(c.Z,{item:!0,xs:4},n.createElement(f.Z,{fullWidth:!0},n.createElement(g.Z,{htmlFor:"component-simple",shrink:Boolean(T)},"Slug"),n.createElement(d.Z,{id:"component-simple",value:T,onChange:function(e){return B({slug:O(e.currentTarget.value),hasSlug:!0})}}))),n.createElement(c.Z,{item:!0,xs:4},n.createElement(p.Z,{control:n.createElement(m.Z,{checked:R,onChange:function(e){return U(e.target.checked)}}),label:"Черновик"})),n.createElement(c.Z,{item:!0,xs:4},a?n.createElement(v.Z,{variant:"caption"},"Идет сохранение..."):n.createElement(u.Z,{disabled:Z&&!T,onClick:function(){return r({title:F,isDraft:R,body:(0,b.kk)(q),slug:Z?T:void 0})}},"Сохранить")),n.createElement(c.Z,{item:!0,xs:12},n.createElement(p.Z,{className:i.toggleContainer,control:n.createElement(s.Z,{name:"viewMode",checked:l,onChange:E}),label:"Режим просмотра"})),n.createElement(c.Z,{item:!0,xs:12},n.createElement("div",{className:i.articleBody},n.createElement(v.Z,{variant:"caption"},"Текст статьи"),l?n.createElement(b.xp,{data:q.getCurrentContent()}):n.createElement(b.ZP,{editorState:q,setEditorState:L}))))}function O(e){return function(e){return Array.from(e).map((function(e){var t;return null!==(t=h[e])&&void 0!==t?t:e})).join("")}(e.toLowerCase().replace(/\s/g,"_").replace(/[^a-zа-я0-9]/g,""))}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var x="ArticleEditor";function A(e){var t=e.match.params.slug,r=(0,a.k6)(),l=(0,i._l)(),c=l.literature,u=l.code,s=c||u,m=(0,o.ug)({slug:t,domain:x}).article,f=(0,o.jA)({domain:x}),p=f.submitArticle,d=f.isSubmitting;if(t&&!m)return null;var g=!m;return n.createElement(Z,{initialArticle:m,isSubmitting:d,onSubmit:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({query:{id:null==m?void 0:m.id,body:j(j({},m),t)}});case 2:g&&r.push(s.articles.toUrl({slug:null==t?void 0:t.slug}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){C(i,n,a,o,l,"next",e)}function l(e){C(i,n,a,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()})}}}]);
//# sourceMappingURL=literature-Articles-b13fb60bf4eb786b2a0b.js.map