{"version":3,"sources":["webpack:///./src/modules/components/loaders/ProvisionLoader.jsx","webpack:///./src/core/connection/withProvision.jsx","webpack:///./src/packages/literature/pages/Blog/blocks/Post.jsx","webpack:///./src/packages/literature/pages/Blog/blocks/Posts.jsx","webpack:///./src/packages/literature/pages/Blog/Blog.jsx"],"names":["withLoader","Component","props","_props$provision","provision","_props$provision$isCo","isComplete","_props$provision$isPe","isPending","react_default","a","createElement","PlainLoader","__webpack_exports__","_len2","arguments","length","provisionParams","Array","_key2","ExtendableComponent","_len","funcsArray","_key","arg","reduceRight","composed","func","compose","provide","apply","Post","React","PureComponent","_this$props$source","this","source","content","date","header","concat","format","locale","ru","react_markdown_default","assembleContent","PropTypes","shape","string","isRequired","id","number","sortByDateDesc","_ref","_ref2","dateA","dateB","Posts","sort","map","article","blocks_Post","key","arrayOf","articlePropTypes","contentsPropTypes","articles","Blog","_this$props$articles","_this$props$articles$","data","articlesList","blocks_Posts","withProvision","require","modelName","meta","domain"],"mappings":"uHAKaA,EAAa,SAAAC,GAAS,OAAI,SAAAC,GAAS,IAAAC,EACuBD,EAA7DE,UADsCC,GAAAF,OAAA,IAAAA,EACgB,GADhBA,GACzBG,kBADyB,IAAAD,KAAAE,EAAAJ,EACLK,UACzC,OAAKF,SAFyC,IAAAC,MAGrCE,EAAAC,EAAAC,cAACC,EAAA,EAAD,MAEFH,EAAAC,EAAAC,cAACV,EAAcC,cCJTW,EAAA,qBAAAC,EAAAC,UAAAC,OAAIC,EAAJ,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAIF,EAAJE,GAAAJ,UAAAI,GAAA,OAAwB,SAAAC,GAAmB,OAH1C,mBAAAC,EAAAN,UAAAC,OAAIM,EAAJ,IAAAJ,MAAAG,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAID,EAAJC,GAAAR,UAAAQ,GAAA,OAAmB,SAAAC,GAAG,OACpCF,EAAWG,YAAY,SAACC,EAAUC,GAAX,OAAoBA,EAAKD,IAAWF,IAG3DI,CACEC,IAAOC,WAAP,EAAWb,GACXjB,EAFF4B,CAGER,k8BCJEW,gaAAaC,IAAMC,+DASL,IAAAC,EAGZC,KAAKjC,MADPkC,OAAUC,EAFIH,EAEJG,QAASC,EAFLJ,EAEKI,KAAMC,EAFXL,EAEWK,OAG3B,aAAAC,OAAcD,EAAd,OAAAC,OAA0BC,IAAOH,EAAM,cAAe,CACpDI,OAAQC,MADV,UAAAH,OAEWH,oCAIX,OACE5B,EAAAC,EAAAC,cAAA,eACEF,EAAAC,EAAAC,cAACiC,EAAAlC,EAAD,CAAe0B,OAAQD,KAAKU,4DAtB9Bd,kBACe,CACjBK,OAAQU,IAAUC,MAAM,CACtBT,KAAMQ,IAAUE,OAAOC,WACvBZ,QAASS,IAAUE,OAAOC,WAC1BC,GAAIJ,IAAUK,OAAOF,aACpBA,yGAsBQlB,+yBC9Bf,IAAMqB,EAAiB,SAAAC,EAAAC,GAAsC,IAA7BC,EAA6BF,EAAnCf,KAAuBkB,EAAYF,EAAlBhB,KACzC,OAAIiB,EAAQC,GACF,EAEND,EAAQC,EACH,EAEF,GAGHC,gaAAczB,IAAMC,sDAWf,IACCG,EAAWD,KAAKjC,MAAhBkC,OAER,OACE3B,EAAAC,EAAAC,cAAA,eACGyB,EAAOsB,KAAKN,GAAgBO,IAAI,SAAAC,GAAO,OACtCnD,EAAAC,EAAAC,cAACkD,EAAD,CAAMC,IAAG,UAAAtB,OAAYoB,EAAQV,IAAMd,OAAQwB,2JAjB/CH,cACe,CACjBrB,OAAQU,IAAUiB,QAChBjB,IAAUC,MAAM,CACdT,KAAMQ,IAAUE,OAAOC,WACvBZ,QAASS,IAAUE,OAAOC,WAC1BC,GAAIJ,IAAUK,OAAOF,cAEvBA,aAgBSQ,+yBCjCf,IAAMO,EAAmB,CACvB1B,KAAMQ,IAAUE,OAAOC,WACvBZ,QAASS,IAAUE,OAAOC,WAC1BC,GAAIJ,IAAUK,OAAOF,YAGjBgB,EAAoB,CACxBC,SAAUpB,IAAUiB,QAAQjB,IAAUC,MAAMiB,KAGxCG,gaAAanC,IAAMC,sDAKd,IAAAmC,EACgDjC,KAAKjC,MAApDgE,SADDG,GAAAD,OAAA,IAAAA,EACyC,GADzCA,GACaE,KAAMC,OADnB,IAAAF,EACkC,GADlCA,EAGP,OAAO5D,EAAAC,EAAAC,cAAC6D,EAAD,CAAOpC,OAAQmC,wJARpBJ,cACe,CACjB/D,UAAW0C,IAAUC,MAAMkB,GAAmBhB,aAiBnCwB,sBAPgB,iBAAO,CACpCC,QAAS,CAAER,SAAU,CAAES,UAAW,aAClCC,KAAM,CACJC,OAAQ,UAIGJ,CAAsCN","file":"literature-Blog-67421db15b42b9bcbb32.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport React from 'react';\nimport PlainLoader from 'modules/components/loaders/PlainLoader';\n\n// todo implement logic, which loader to show for each request, etc.\nexport const withLoader = Component => props => {\n  const { provision: { isComplete = false, isPending = true } = {} } = props;\n  if (!isComplete || isPending) {\n    return <PlainLoader />;\n  }\n  return <Component {...props} />;\n};\n","import { withLoader } from 'modules/components/loaders/ProvisionLoader';\nimport { provide } from 'core/connection';\n\nconst compose = (...funcsArray) => arg =>\n  funcsArray.reduceRight((composed, func) => func(composed), arg);\n\nexport default (...provisionParams) => ExtendableComponent =>\n  compose(\n    provide(...provisionParams),\n    withLoader,\n  )(ExtendableComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactMarkdown from 'react-markdown';\nimport format from 'date-fns/format';\nimport ru from 'date-fns/locale/ru';\n\nclass Post extends React.PureComponent {\n  static propTypes = {\n    source: PropTypes.shape({\n      date: PropTypes.string.isRequired,\n      content: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  assembleContent() {\n    const {\n      source: { content, date, header },\n    } = this.props;\n\n    return `### ${header} (*${format(date, 'D MMMM YYYY', {\n      locale: ru,\n    })}*)\\n\\n${content}`;\n  }\n\n  render() {\n    return (\n      <article>\n        <ReactMarkdown source={this.assembleContent()} />\n      </article>\n    );\n  }\n}\n\nexport default Post;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Post from './Post';\n\nconst sortByDateDesc = ({ date: dateA }, { date: dateB }) => {\n  if (dateA > dateB) {\n    return -1;\n  }\n  if (dateA < dateB) {\n    return 1;\n  }\n  return 0;\n};\n\nclass Posts extends React.PureComponent {\n  static propTypes = {\n    source: PropTypes.arrayOf(\n      PropTypes.shape({\n        date: PropTypes.string.isRequired,\n        content: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired,\n      }),\n    ).isRequired,\n  };\n\n  render() {\n    const { source } = this.props;\n\n    return (\n      <section>\n        {source.sort(sortByDateDesc).map(article => (\n          <Post key={`article${article.id}`} source={article} />\n        ))}\n      </section>\n    );\n  }\n}\n\nexport default Posts;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withProvision from 'core/connection/withProvision';\nimport Posts from './blocks/Posts';\n\nconst articlePropTypes = {\n  date: PropTypes.string.isRequired,\n  content: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n};\n\nconst contentsPropTypes = {\n  articles: PropTypes.arrayOf(PropTypes.shape(articlePropTypes)),\n};\n\nclass Blog extends React.PureComponent {\n  static propTypes = {\n    provision: PropTypes.shape(contentsPropTypes).isRequired,\n  };\n\n  render() {\n    const { articles: { data: articlesList = [] } = {} } = this.props;\n\n    return <Posts source={articlesList} />;\n  }\n}\n\nconst mapStateToRequirements = () => ({\n  require: { articles: { modelName: 'articles' } },\n  meta: {\n    domain: 'blog',\n  },\n});\n\nexport default withProvision(mapStateToRequirements)(Blog);\n"],"sourceRoot":""}