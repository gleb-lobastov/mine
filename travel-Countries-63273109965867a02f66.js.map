{"version":3,"sources":["webpack:///./node_modules/lodash/sum.js","webpack:///./node_modules/lodash/_baseSum.js","webpack:///./node_modules/lodash/max.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/packages/travel/pages/VisitsPage/VisitsPage.jsx","webpack:///./src/packages/travel/pages/RidesPage/RidesPage.jsx","webpack:///./node_modules/memoize-one/dist/memoize-one.esm.js","webpack:///./src/packages/travel/pages/YearCountryCityPage/utils.js","webpack:///./node_modules/date-fns/esm/differenceInCalendarDays/index.js","webpack:///./src/packages/travel/pages/YearCountryCityPage/blocks/VisitsByLocation.jsx","webpack:///./src/packages/travel/pages/YearCountryCityPage/blocks/LocationsByCountries.jsx","webpack:///./src/packages/travel/pages/YearCountryCityPage/blocks/CountriesByYear.jsx","webpack:///./src/packages/travel/pages/YearCountryCityPage/YearCountryCityPage.jsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/modules/components/loaders/ProvisionLoader.jsx","webpack:///./src/core/connection/withProvision.jsx","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/uniq.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/lodash/_baseAggregator.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./src/packages/travel/components/common/WelcomeScreen/WelcomeScreen.jsx","webpack:///./node_modules/lodash/mapValues.js","webpack:///./src/packages/travel/components/common/withTripsData/withTripsData.jsx","webpack:///./src/packages/travel/components/common/withTripsData/selectors.js","webpack:///./node_modules/lodash/fp/mapValues.js","webpack:///./node_modules/lodash/flow.js","webpack:///./node_modules/lodash/fp/groupBy.js","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/localization.js","webpack:///./node_modules/lodash/fp/flow.js","webpack:///./node_modules/lodash/fp/reverse.js","webpack:///./node_modules/lodash/reverse.js","webpack:///./node_modules/lodash/fp/uniqBy.js","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/lodash/fp/sortBy.js","webpack:///./node_modules/lodash/sortBy.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_isIterateeCall.js"],"names":["baseSum","__webpack_require__","identity","module","exports","array","length","iteratee","result","index","current","undefined","baseExtremum","baseGt","isSymbol","comparator","value","computed","other","byCountriesVisitsCount","_ref","_ref2","_ref$countryName","countryName","countryNameA","_ref$visitsCount","visitsCount","visitsCountA","_ref$locations","locations","locationsA","_ref2$countryName","countryNameB","_ref2$visitsCount","visitsCountB","_ref2$locations","localeCompare","byLocationsVisitsCount","_ref3","_ref4","_ref3$locationName","locationName","locationNameA","_ref3$visitsCount","_ref4$locationName","locationNameB","_ref4$visitsCount","VisitsPage","_ref5","countriesDict","isVisitsComplete","_ref5$userVisits","userVisits","_ref5$userVisits$data","data","visitsList","locationPath","namedPaths","travel","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","travel_components_common_WelcomeScreen__WEBPACK_IMPORTED_MODULE_10__","visitsWithCounter","useMemo","Object","values","groupBy","property","map","countryVisits","countryId","uniq","locationVisits","_locationVisits$","locationId","sort","_ref7","countryIndex","countryVisitsCount","key","concat","_ref8","locationIndex","locationVisitsCount","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","to","toUrl","strLocationId","String","propTypes","PropTypes","shape","countriesPropTypes","bool","isRequired","visits","arrayOf","visitPropTypes","defaultProps","compose","withPaths","withTripsData","domain","mapStateToProps","state","selectDict","selectIsReady","requirementsConfig","_requirementsConfig","_defineProperty","DATA_CHUNKS","COMMON","COUNTRIES","USER","TRIPS","VISITS","byRidesCount","ridesA","_slicedToArray","RidesPage","isRidesComplete","_ref5$userRides","userRides","_ref5$userRides$data","ridesList","travel_components_common_WelcomeScreen__WEBPACK_IMPORTED_MODULE_5__","ridesByType","entries","_ref6","text","counter","vehicleType","rides","VEHICLE_NAMES","ridesPropTypes","RIDES","areInputsEqual","newInputs","lastInputs","i","memoize_one_esm","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","_i","arguments","this","apply","fpEnhanceVisitsWithDates","ridesDict","visit","arrivalRideId","ride","arrivalDateTime","departureDateTime","_objectSpread","year","getFullYear","uniqByLocations","fpUniqBy","uniqByCountries","groupByYears","fpGroupBy","orderByYears","fpSortBy","enhanceVisitsWithCounters","countriesCount","locationsCount","Number","plural","one","few","many","part","MILLISECONDS_IN_DAY","differenceInCalendarDays","dirtyDateLeft","dirtyDateRight","TypeError","startOfDayLeft","startOfDay","startOfDayRight","timestampLeft","getTime","getTimezoneOffsetInMilliseconds","timestampRight","Math","round","VisitsByLocation","totalDays","sum","max","react_default","LocationsByCountries","groupByLocations","enhancedVisitsList","flow","fpMapValues","_ref3$","visitsListByLocation","style","display","marginRight","lineHeight","react_router_dom","blocks_VisitsByLocation","CountriesByYear","classes","groupByCountries","visitsListByCountry","tripsCount","tripId","className","countryContainer","fontSize","fontWeight","blocks_LocationsByCountries","withStyles","marginTop","enhanceVisits","memoizeOne","fpReverse","YearCountryCityPage","_ref$userVisits","_ref$userVisits$data","WelcomeScreen","visitsByYears","visitsListByYear","blocks_CountriesByYear","match","params","YearCountryCityPage_defineProperty","baseAssignValue","createAggregator","hasOwnProperty","prototype","call","push","withLoader","Component","props","_props$provision","provision","_props$provision$isPe","isPending","hasFallback","PlainLoader","__webpack_exports__","_len2","provisionParams","Array","_key2","ExtendableComponent","_len","funcsArray","_key","arg","reduceRight","composed","func","provide","baseFor","keys","object","baseUniq","baseForOwn","baseEach","createBaseEach","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","includes","isCommon","seen","set","outer","seenIndex","arrayAggregator","baseAggregator","baseIteratee","isArray","setter","initializer","collection","accumulator","createBaseFor","fromRight","keysFunc","iterable","isArrayLike","eachFunc","Set","noop","react__WEBPACK_IMPORTED_MODULE_0__","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","lodash_fp_compose__WEBPACK_IMPORTED_MODULE_3__","lodash_fp_compose__WEBPACK_IMPORTED_MODULE_3___default","modules_utilities_routing_Path__WEBPACK_IMPORTED_MODULE_4__","core_context_AppContext__WEBPACK_IMPORTED_MODULE_5__","core_context_AuthContext__WEBPACK_IMPORTED_MODULE_6__","children","visitedUserAlias","userAlias","_ref$namedPaths","_ref$namedPaths$trave","tripsPath","trips","authenticatedUserAlias","useAuthContext","Message","useCallback","path","component","node","string","instanceOf","Path","withRouter","d","LOCATIONS","mapStateToRequirementsConfig","ProvisionedComponent","withProvision","userTripsIds","selectPlaceholder","selectUserTripsIds","isFunction","request","countries","modelName","condition","query","navigation","isDisabled","userTrips","observe","_selectLocationsIds","tripsDict","locationsDict","requiredLocationsIds","reduce","memo","trip","originLocationId","missingLocationsIds","filter","requiredLocationId","selectLocationsIds","userLocations","id","actualYear","parseInt","test","trip_id","departure_date_time","arrival_date_time","convert","placeholder","createFlow","RIDE_CLASSES_NAMES","_RIDE_CLASSES_NAMES","RIDE_CLASSES","ECONOMY","COMFORT","BUSINESS","FIRST","PRIVATE","RIDE_OCCUPATION_NAMES","_RIDE_OCCUPATION_NAME","RIDE_OCCUPATION","PASSENGER","STUFF","DRIVER","RIDE_TYPES_NAMES","_RIDE_TYPES_NAMES","RIDE_TYPES","SELF_DRIVE","SCHEDULED","CHARTER","TOUR","CARPOOL","HITCH_HIKING","DROP_OFF","_VEHICLE_NAMES","VEHICLE_TYPES","CAR","TRAIN","AIRCRAFT","BUS","MOTORHOME","LOCAL_TRAIN","FERRY","BIKE","BY_FEET","ROPEWAY","FUNICULAR","MOTORBIKE","TRUCK","ALL_TERRAIN_VEHICLE","TRAM","TROLLEY","TAXI","CITY_BUS","JITNEY","SUBWAY","PUBLIC_TRANSPORT","nativeReverse","reverse","baseFlatten","baseOrderBy","baseRest","isIterateeCall","sortBy","iteratees","arrayMap","baseMap","baseSortBy","baseUnary","compareMultiple","orders","criteria","comparer","compareAscending","objCriteria","othCriteria","ordersLength","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","overRest","setToString","start","eq","isIndex","isObject","type"],"mappings":"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","file":"travel-Countries-63273109965867a02f66.js","sourcesContent":["var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport groupBy from 'lodash/groupBy';\nimport uniq from 'lodash/uniq';\nimport property from 'lodash/property';\nimport compose from 'lodash/fp/compose';\nimport { withPaths } from 'core/context/AppContext';\nimport withTripsData, {\n  DATA_CHUNKS,\n} from 'travel/components/common/withTripsData/withTripsData';\nimport { selectDict, selectIsReady } from 'core/connection';\nimport WelcomeScreen from 'travel/components/common/WelcomeScreen';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\n\nconst byCountriesVisitsCount = (\n  {\n    countryName: countryNameA = '',\n    visitsCount: visitsCountA = 0,\n    locations: locationsA = [],\n  },\n  {\n    countryName: countryNameB = '',\n    visitsCount: visitsCountB = 0,\n    locations: locationsB = [],\n  },\n) =>\n  visitsCountB - visitsCountA ||\n  locationsB.length - locationsA.length ||\n  countryNameA.localeCompare(countryNameB);\n\nconst byLocationsVisitsCount = (\n  { locationName: locationNameA = '', visitsCount: visitsCountA = 0 },\n  { locationName: locationNameB = '', visitsCount: visitsCountB = 0 },\n) => visitsCountB - visitsCountA || locationNameA.localeCompare(locationNameB);\n\nconst VisitsPage = ({\n  countriesDict,\n  isVisitsComplete,\n  userVisits: { data: visitsList = [] } = {},\n  namedPaths: {\n    travel: { locationPath },\n  },\n}) => {\n  if (isVisitsComplete && !visitsList.length) {\n    return <WelcomeScreen />;\n  }\n\n  /**\n  visitsWithCounter structure example:\n   \n  [{\n    countryId: 1,    \n    countryName: 'Russia',\n    visitsCount: 30,\n    locations: [\n      { locationId: 1, locationName: 'Moscow', visitsCount: 25 },\n      { locationId: 2, locationName: 'Saint-Petersburg', visitsCount: 7 },\n    ],\n  }];\n  */\n  const visitsWithCounter = useMemo(\n    () =>\n      Object.values(groupBy(visitsList, property('countryId')))\n        .map(countryVisits => {\n          const { countryId } = countryVisits[0];\n          const { countryName } = countriesDict[countryId] || {};\n          return {\n            countryId,\n            countryName,\n            visitsCount: uniq(countryVisits.map(property('tripId'))).length,\n            locations: Object.values(\n              groupBy(countryVisits, property('locationId')),\n            )\n              .map(locationVisits => {\n                const { locationId, locationName } = locationVisits[0];\n                return {\n                  locationId,\n                  locationName,\n                  visitsCount: uniq(locationVisits.map(property('tripId')))\n                    .length,\n                };\n              })\n              .sort(byLocationsVisitsCount),\n          };\n        })\n        .sort(byCountriesVisitsCount),\n    [visitsList, countriesDict],\n  );\n\n  return (\n    <div>\n      {visitsWithCounter.map(\n        (\n          {\n            countryId,\n            countryName,\n            locations,\n            visitsCount: countryVisitsCount,\n          },\n          countryIndex,\n        ) => (\n          <div key={`id${countryId}`}>\n            <h2>\n              <span>{`${countryIndex + 1}. `}</span>\n              <span>{countryName}</span>\n              {countryVisitsCount > 1 && (\n                <span>{` x${countryVisitsCount}`}</span>\n              )}\n            </h2>\n            <div>\n              {locations.map(\n                (\n                  {\n                    locationId,\n                    locationName,\n                    visitsCount: locationVisitsCount,\n                  },\n                  locationIndex,\n                ) => (\n                  <div key={`id${locationId}`}>\n                    <span>{`${locationIndex + 1}. `}</span>\n                    <Link\n                      to={locationPath.toUrl({\n                        strLocationId: String(locationId),\n                      })}\n                    >\n                      {locationName}\n                    </Link>\n                    {locationVisitsCount > 1 && (\n                      <span>{` x${locationVisitsCount}`}</span>\n                    )}\n                  </div>\n                ),\n              )}\n            </div>\n          </div>\n        ),\n      )}\n    </div>\n  );\n};\nVisitsPage.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  isVisitsComplete: PropTypes.bool.isRequired,\n  visits: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  }),\n};\nVisitsPage.defaultProps = {\n  countriesDict: {},\n  visits: { data: [] },\n};\n\nconst mapStateToProps = state => ({\n  countriesDict: selectDict(state, 'countries'),\n  isVisitsComplete: selectIsReady(state, 'visitsPage.visits'),\n});\n\nexport default compose(\n  withPaths,\n  withTripsData({\n    domain: 'visitsPage',\n    mapStateToProps,\n    requirementsConfig: {\n      [DATA_CHUNKS.COMMON.COUNTRIES]: true,\n      [DATA_CHUNKS.USER.TRIPS]: true,\n      [DATA_CHUNKS.USER.VISITS]: true,\n    },\n  }),\n)(VisitsPage);\n","import React from 'react';\nimport groupBy from 'lodash/groupBy';\nimport PropTypes from 'prop-types';\nimport withTripsData, {\n  DATA_CHUNKS,\n} from 'travel/components/common/withTripsData/withTripsData';\nimport { selectIsReady } from 'core/connection';\nimport WelcomeScreen from 'travel/components/common/WelcomeScreen';\nimport ridesPropTypes from 'travel/models/rides/propTypes';\nimport { VEHICLE_NAMES } from 'travel/components/models/rides/RideEditDialog/localization';\n\nconst withCounter = (text, counter) => {\n  if (!counter || counter === 1) {\n    return text;\n  }\n  return `${text} x${counter}`;\n};\n\nconst byRidesCount = ([, ridesA], [, ridesB]) => ridesB.length - ridesA.length;\n\nconst RidesPage = ({\n  isRidesComplete,\n  userRides: { data: ridesList = [] } = {},\n}) => {\n  if (isRidesComplete && !ridesList.length) {\n    return <WelcomeScreen />;\n  }\n\n  const ridesByType = Object.entries(groupBy(ridesList, 'vehicleType')).sort(\n    byRidesCount,\n  );\n\n  return (\n    <div>\n      {ridesByType.map(([vehicleType, rides]) => (\n        <div key={`id${vehicleType}`}>\n          <span>{withCounter(VEHICLE_NAMES[vehicleType], rides.length)}</span>\n        </div>\n      ))}\n    </div>\n  );\n};\nRidesPage.propTypes = {\n  isRidesComplete: PropTypes.bool.isRequired,\n  rides: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(ridesPropTypes)),\n  }),\n};\nRidesPage.defaultProps = {\n  rides: { data: [] },\n};\n\nconst mapStateToProps = state => ({\n  isRidesComplete: selectIsReady(state, 'ridesPage.rides'),\n});\n\nexport default withTripsData({\n  domain: 'ridesPage',\n  mapStateToProps,\n  requirementsConfig: {\n    [DATA_CHUNKS.USER.TRIPS]: true,\n    [DATA_CHUNKS.USER.RIDES]: true,\n  },\n})(RidesPage);\n","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import fpUniqBy from 'lodash/fp/uniqBy';\nimport fpGroupBy from 'lodash/fp/groupBy';\nimport fpSortBy from 'lodash/fp/sortBy';\n\nconst NO_YEAR = 0;\n\nexport const fpEnhanceVisitsWithDates = ({ ridesDict }) => visitsList =>\n  visitsList.map(visit => {\n    const { arrivalRideId } = visit;\n    const ride = (arrivalRideId && ridesDict[arrivalRideId]) || {};\n    const { arrivalDateTime, departureDateTime } = ride;\n    return {\n      ...visit,\n      arrivalDateTime,\n      departureDateTime,\n      year:\n        (departureDateTime && departureDateTime.getFullYear()) ||\n        (arrivalDateTime && arrivalDateTime.getFullYear()) ||\n        NO_YEAR,\n    };\n  });\n\nexport const uniqByLocations = fpUniqBy('locationId');\nexport const uniqByCountries = fpUniqBy('countryId');\nexport const groupByYears = fpGroupBy('year');\nexport const orderByYears = fpSortBy('year');\n\nexport const enhanceVisitsWithCounters = visitsList => {\n  return {\n    visitsList,\n    countriesCount: uniqByCountries(visitsList).length,\n    locationsCount: uniqByLocations(visitsList).length,\n    year: Number(visitsList[0].year),\n  };\n};\n\nexport const plural = (value, { one, few, many }) => {\n  if (value >= 5 && value <= 20) {\n    return many;\n  }\n  const part = value % 10;\n  if (part === 1) {\n    return one;\n  }\n  if (part >= 2 && part <= 4) {\n    return few;\n  }\n  return many;\n};\n","import getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js'\nimport startOfDay from '../startOfDay/index.js'\n\nvar MILLISECONDS_IN_DAY = 86400000\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * var result = differenceInCalendarDays(\n *   new Date(2011, 6, 2, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport default function differenceInCalendarDays(\n  dirtyDateLeft,\n  dirtyDateRight\n) {\n  if (arguments.length < 2) {\n    throw new TypeError(\n      '2 arguments required, but only ' + arguments.length + ' present'\n    )\n  }\n\n  var startOfDayLeft = startOfDay(dirtyDateLeft)\n  var startOfDayRight = startOfDay(dirtyDateRight)\n\n  var timestampLeft =\n    startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft)\n  var timestampRight =\n    startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight)\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY)\n}\n","import React from 'react';\nimport differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\nimport sum from 'lodash/sum';\nimport max from 'lodash/max';\nimport PropTypes from 'prop-types';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport { plural } from '../utils';\n\nconst VisitsByLocation = ({ visitsList }) => {\n  const totalDays = sum(\n    visitsList.map(({ arrivalDateTime, departureDateTime }) =>\n      max([1, differenceInCalendarDays(arrivalDateTime, departureDateTime)]),\n    ),\n  );\n  return (\n    <span>\n      {visitsList.length > 1 && (\n        <span>\n          {`${visitsList.length} `}\n          {plural(totalDays, {\n            one: 'визит',\n            few: 'визита',\n            many: 'визитов',\n          })}\n          {totalDays > 1 ? ', ' : ''}\n        </span>\n      )}\n      {totalDays > 1 && (\n        <span>\n          {`${totalDays} `}\n          {plural(totalDays, { one: 'день', few: 'дня', many: 'дней' })}\n        </span>\n      )}\n    </span>\n  );\n};\nVisitsByLocation.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  visits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\nVisitsByLocation.defaultProps = {\n  countriesDict: {},\n  visits: [],\n};\n\nexport default VisitsByLocation;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport fpGroupBy from 'lodash/fp/groupBy';\nimport flow from 'lodash/flow';\nimport fpMapValues from 'lodash/fp/mapValues';\nimport PropTypes from 'prop-types';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport VisitsByLocation from './VisitsByLocation';\n\nconst LocationsByCountries = ({ visitsList, locationPath }) => {\n  const groupByLocations = fpGroupBy('locationId');\n\n  const enhanceWithCounters = visitsList => ({\n    visitsList,\n    locationName: visitsList[0] && visitsList[0].locationName,\n  });\n  const enhancedVisitsList = flow(\n    groupByLocations,\n    fpMapValues(enhanceWithCounters),\n    Object.entries,\n  )(visitsList);\n  return (\n    <div>\n      {enhancedVisitsList.map(\n        ([\n          strLocationId,\n          { locationName, visitsList: visitsListByLocation },\n        ]) => (\n          <div>\n            <div\n              style={{\n                display: 'inline',\n                marginRight: '4px',\n                lineHeight: '20px',\n              }}\n            >\n              <Link to={locationPath.toUrl({ strLocationId })}>\n                {locationName}\n              </Link>\n            </div>\n            <VisitsByLocation visitsList={visitsListByLocation} />\n          </div>\n        ),\n      )}\n    </div>\n  );\n};\nLocationsByCountries.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  visits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\nLocationsByCountries.defaultProps = {\n  countriesDict: {},\n  visits: [],\n};\n\nexport default LocationsByCountries;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport fpGroupBy from 'lodash/fp/groupBy';\nimport flow from 'lodash/flow';\nimport uniq from 'lodash/uniq';\nimport fpMapValues from 'lodash/fp/mapValues';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport LocationsByCountries from './LocationsByCountries';\nimport { uniqByLocations, plural } from '../utils';\n\nconst CountriesByYear = ({\n  countriesDict,\n  visitsList,\n  locationPath,\n  classes,\n}) => {\n  const groupByCountries = fpGroupBy('countryId');\n\n  const enhanceWithCounters = visitsList => ({\n    visitsList,\n    locationsCount: uniqByLocations(visitsList).length,\n    countryId: visitsList[0] && visitsList[0].countryId,\n  });\n  const enhancedVisitsList = flow(\n    groupByCountries,\n    fpMapValues(enhanceWithCounters),\n    Object.values,\n  )(visitsList);\n  return (\n    <div>\n      {enhancedVisitsList.map(\n        (\n          { countryId, visitsList: visitsListByCountry, locationsCount },\n          countryIndex,\n        ) => {\n          const tripsCount = uniq(\n            visitsListByCountry.map(({ tripId }) => tripId),\n          ).length;\n          return (\n            <div className={classes.countryContainer}>\n              <div\n                style={{\n                  display: 'inline',\n                  marginRight: '4px',\n                  fontSize: '24px',\n                  fontWeight: 'bold',\n                  lineHeight: '30px',\n                }}\n              >\n                {`${countryIndex + 1}. `}\n                {countriesDict[countryId] &&\n                  countriesDict[countryId].countryName}\n                {'. '}\n              </div>\n              <span>\n                {tripsCount > 1 && (\n                  <span>\n                    {`${tripsCount} `}\n                    {plural(tripsCount, {\n                      one: 'поездка',\n                      few: 'поездки',\n                      many: 'поездок',\n                    })}\n                  </span>\n                )}\n                {locationsCount > 1 && tripsCount > 1 && ', '}\n                {locationsCount > 1 && (\n                  <span>\n                    {locationsCount}{' '}\n                    {plural(locationsCount, {\n                      one: 'город',\n                      few: 'города',\n                      many: 'городов',\n                    })}\n                  </span>\n                )}\n              </span>\n              <LocationsByCountries\n                visitsList={visitsListByCountry}\n                locationPath={locationPath}\n              />\n            </div>\n          );\n        },\n      )}\n    </div>\n  );\n};\nCountriesByYear.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  visits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\nCountriesByYear.defaultProps = {\n  countriesDict: {},\n  visits: [],\n};\n\nconst styles = {\n  countryContainer: {\n    marginTop: '16px',\n  },\n};\n\nexport default withStyles(styles)(CountriesByYear);\n","import React from 'react';\nimport memoizeOne from 'memoize-one';\nimport compose from 'lodash/fp/compose';\nimport fpMapValues from 'lodash/fp/mapValues';\nimport flow from 'lodash/fp/flow';\nimport fpReverse from 'lodash/fp/reverse';\nimport PropTypes from 'prop-types';\nimport { selectDict, selectIsReady } from 'core/connection';\nimport { withPaths } from 'core/context/AppContext';\nimport WelcomeScreen from 'travel/components/common/WelcomeScreen';\nimport withTripsData, {\n  DATA_CHUNKS,\n} from 'travel/components/common/withTripsData/withTripsData';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport {\n  groupByYears,\n  enhanceVisitsWithCounters,\n  fpEnhanceVisitsWithDates,\n  orderByYears,\n  plural,\n} from './utils';\nimport CountriesByYear from './blocks/CountriesByYear';\n\nconst enhanceVisits = memoizeOne((ridesDict, visitsList) =>\n  flow(\n    fpEnhanceVisitsWithDates({ ridesDict }),\n    groupByYears,\n    fpMapValues(enhanceVisitsWithCounters),\n    Object.values,\n    orderByYears,\n    fpReverse,\n  )(visitsList),\n);\n\nconst YearCountryCityPage = ({\n  countriesDict,\n  ridesDict,\n  isVisitsComplete,\n  isRidesComplete,\n  userVisits: { data: visitsList = [] } = {},\n  namedPaths: {\n    travel: { locationPath },\n  },\n}) => {\n  if (isVisitsComplete && isRidesComplete && !visitsList.length) {\n    return <WelcomeScreen />;\n  }\n\n  const visitsByYears = enhanceVisits(ridesDict, visitsList);\n  return (\n    <div>\n      {visitsByYears.map(\n        ({\n          year,\n          visitsList: visitsListByYear,\n          countriesCount,\n          locationsCount,\n        }) => (\n          <div key={`y${year}`}>\n            <h1>\n              {year || 'Год не указан'}, {countriesCount}{' '}\n              {plural(countriesCount, {\n                one: 'страна',\n                few: 'страны',\n                many: 'стран',\n              })}{' '}\n              и {locationsCount}{' '}\n              {plural(locationsCount, {\n                one: 'город',\n                few: 'города',\n                many: 'городов',\n              })}\n            </h1>\n            <CountriesByYear\n              visitsList={visitsListByYear}\n              countriesDict={countriesDict}\n              locationPath={locationPath}\n            />\n          </div>\n        ),\n      )}\n    </div>\n  );\n};\nYearCountryCityPage.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  isVisitsComplete: PropTypes.bool.isRequired,\n  visits: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  }),\n};\nYearCountryCityPage.defaultProps = {\n  countriesDict: {},\n  visits: { data: [] },\n};\n\nconst mapStateToProps = state => ({\n  countriesDict: selectDict(state, 'countries'),\n  ridesDict: selectDict(state, 'rides'),\n  isVisitsComplete: selectIsReady(state, 'yearCountryCity.visits'),\n  isRidesComplete: selectIsReady(state, 'yearCountryCity.rides'),\n});\n\nexport default compose(\n  withPaths,\n  withTripsData({\n    domain: 'yearCountryCity',\n    mapStateToProps,\n    requirementsConfig: (\n      state,\n      {\n        match: {\n          params: { year },\n        },\n      },\n    ) => ({\n      [DATA_CHUNKS.COMMON.COUNTRIES]: true,\n      [DATA_CHUNKS.USER.TRIPS]: true,\n      [DATA_CHUNKS.USER.VISITS]: { year },\n      [DATA_CHUNKS.USER.RIDES]: true,\n    }),\n  }),\n)(YearCountryCityPage);\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/* eslint-disable import/prefer-default-export */\nimport React from 'react';\nimport PlainLoader from 'modules/components/loaders/PlainLoader';\n\n// todo implement logic, which loader to show for each request, etc.\nexport const withLoader = Component => props => {\n  const { provision: { isPending = true, hasFallback } = {} } = props;\n  if (isPending && !hasFallback) {\n    return <PlainLoader />;\n  }\n  return <Component {...props} />;\n};\n","import { withLoader } from 'modules/components/loaders/ProvisionLoader';\nimport { provide } from 'core/connection';\n\nconst compose = (...funcsArray) => arg =>\n  funcsArray.reduceRight((composed, func) => func(composed), arg);\n\nexport default (...provisionParams) => ExtendableComponent =>\n  compose(\n    provide(...provisionParams),\n    withLoader,\n  )(ExtendableComponent);\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport compose from 'lodash/fp/compose';\nimport Path from 'modules/utilities/routing/Path';\nimport { withPaths } from 'core/context/AppContext';\nimport { useAuthContext } from 'core/context/AuthContext';\n\nconst WelcomeScreen = ({\n  children,\n  match: {\n    params: { userAlias: visitedUserAlias },\n  },\n  namedPaths: { travel: { trips: tripsPath } = {} } = {},\n}) => {\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n  if (visitedUserAlias !== authenticatedUserAlias) {\n    return (\n      <span>Пользователь пока еще не внес информацию о своих поездках</span>\n    );\n  }\n  const Message = useCallback(\n    () => (\n      <div>\n        <span>\n          Нам пока ничего не известно о ваших путешествиях. Но очень интересно\n          узнать. Создайте вашу первую поездку, а мы подготовим по ней отчет\n        </span>\n        {children}\n      </div>\n    ),\n    [children],\n  );\n  return (\n    <Switch>\n      <Route\n        path={tripsPath.toUrl({ userAlias: authenticatedUserAlias })}\n        component={Message}\n      />\n      <Redirect to={tripsPath.toUrl({ userAlias: authenticatedUserAlias })} />\n    </Switch>\n  );\n};\n\nWelcomeScreen.propTypes = {\n  children: PropTypes.node,\n  match: PropTypes.shape({\n    params: PropTypes.shape({ userAlias: PropTypes.string }),\n  }).isRequired,\n  namedPaths: PropTypes.shape({\n    travel: PropTypes.shape({ trips: PropTypes.instanceOf(Path) }),\n  }).isRequired,\n};\n\nWelcomeScreen.defaultProps = {\n  children: null,\n};\n\nexport default compose(\n  withRouter,\n  withPaths,\n)(WelcomeScreen);\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport isFunction from 'lodash/isFunction';\nimport compose from 'lodash/fp/compose';\nimport withProvision from 'core/connection/withProvision';\nimport { selectUserTripsIds, selectLocationsIds } from './selectors';\n\nexport const DATA_CHUNKS = {\n  COMMON: {\n    COUNTRIES: 'COMMON.COUNTRIES',\n  },\n  USER: {\n    TRIPS: 'USER.TRIPS',\n    LOCATIONS: 'USER.LOCATIONS',\n    VISITS: 'USER.VISITS',\n    RIDES: 'USER.RIDES',\n  },\n};\n\nexport default ({\n  domain,\n  mapStateToProps,\n  requirementsConfig: mapStateToRequirementsConfig,\n}) => Component => {\n  const mapStateToRequirements = (state, props) => {\n    const {\n      countriesDict,\n      match: {\n        params: { userAlias },\n      },\n    } = props;\n    const userTripsIds = selectUserTripsIds(state, domain);\n\n    const requirementsConfig = isFunction(mapStateToRequirementsConfig)\n      ? mapStateToRequirementsConfig(state, props)\n      : mapStateToRequirementsConfig;\n\n    const request = {};\n    if (requirementsConfig[DATA_CHUNKS.COMMON.COUNTRIES]) {\n      request.countries = {\n        modelName: 'countries',\n        condition: !countriesDict || !Object.keys(countriesDict).length,\n        query: { navigation: { isDisabled: true } },\n      };\n    }\n    if (requirementsConfig[DATA_CHUNKS.USER.TRIPS]) {\n      request.userTrips = {\n        modelName: 'trips',\n        observe: userAlias,\n        query: { userAlias, navigation: { isDisabled: true } },\n      };\n    }\n    if (requirementsConfig[DATA_CHUNKS.USER.LOCATIONS]) {\n      const { requiredLocationsIds, missingLocationsIds } = selectLocationsIds(\n        state,\n        userTripsIds,\n      );\n\n      request.userLocations = {\n        modelName: 'locations',\n        observe: requiredLocationsIds,\n        condition: missingLocationsIds.length,\n        query: {\n          filter: { id: { comparator: 'in', value: missingLocationsIds } },\n          navigation: { isDisabled: true },\n        },\n      };\n    }\n    if (requirementsConfig[DATA_CHUNKS.USER.VISITS]) {\n      const { year } = requirementsConfig[DATA_CHUNKS.USER.VISITS];\n      const actualYear = parseInt(\n        /^\\d{4}$/.test(String(year)) ? year : undefined,\n        10,\n      );\n      request.userVisits = {\n        modelName: 'visits',\n        observe: { userTripsIds, year },\n        condition: userTripsIds && userTripsIds.length,\n        query: {\n          filter: {\n            trip_id: { comparator: 'in', value: userTripsIds },\n            departure_date_time: actualYear\n              ? { comparator: '>=', value: `${actualYear}-01-01` }\n              : undefined,\n            arrival_date_time: actualYear\n              ? { comparator: '<', value: `${actualYear + 1}-01-01` }\n              : undefined,\n          },\n          navigation: { isDisabled: true },\n        },\n      };\n    }\n    if (requirementsConfig[DATA_CHUNKS.USER.RIDES]) {\n      request.userRides = {\n        modelName: 'rides',\n        observe: userTripsIds,\n        condition: userTripsIds && userTripsIds.length,\n        query: {\n          filter: { trip_id: { comparator: 'in', value: userTripsIds } },\n          navigation: { isDisabled: true },\n        },\n      };\n    }\n\n    return {\n      domain,\n      request,\n    };\n  };\n\n  const ProvisionedComponent = compose(\n    withRouter,\n    withProvision(mapStateToRequirements, mapStateToProps),\n  )(Component);\n\n  return props => <ProvisionedComponent {...props} />;\n};\n","import uniq from 'lodash/uniq';\nimport { selectDict, selectPlaceholder } from 'core/connection';\n\nexport const selectUserTripsIds = (state, domain) => {\n  const { data: userTripsIds } =\n    selectPlaceholder(state, `${domain}.userTrips`) || {};\n  return userTripsIds;\n};\n\nexport const selectLocationsIds = (state, userTripsIds) => {\n  const tripsDict = selectDict(state, 'trips');\n  const locationsDict = selectDict(state, 'locations');\n\n  const requiredLocationsIds = userTripsIds\n    ? uniq(\n        userTripsIds.reduce((memo, tripId) => {\n          const trip = tripsDict[tripId];\n          if (trip) {\n            const { originLocationId } = trip;\n            if (originLocationId) {\n              memo.push(originLocationId);\n            }\n          }\n          return memo;\n        }, []),\n      )\n    : [];\n  const missingLocationsIds = requiredLocationsIds.filter(\n    requiredLocationId => !locationsDict[requiredLocationId],\n  );\n  return { requiredLocationsIds, missingLocationsIds };\n};\n","var convert = require('./convert'),\n    func = convert('mapValues', require('../mapValues'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var convert = require('./convert'),\n    func = convert('groupBy', require('../groupBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","// todo use localization library\nimport {\n  RIDE_CLASSES,\n  RIDE_OCCUPATION,\n  RIDE_TYPES,\n  VEHICLE_TYPES,\n} from 'travel/models/rides/consts';\n\nexport const RIDE_CLASSES_NAMES = {\n  [RIDE_CLASSES.ECONOMY]: 'Эконом',\n  [RIDE_CLASSES.COMFORT]: 'Комфорт',\n  [RIDE_CLASSES.BUSINESS]: 'Бизнес',\n  [RIDE_CLASSES.FIRST]: 'Первый',\n  [RIDE_CLASSES.PRIVATE]: 'Частный',\n};\n\nexport const RIDE_OCCUPATION_NAMES = {\n  [RIDE_OCCUPATION.PASSENGER]: 'Пассажир',\n  [RIDE_OCCUPATION.STUFF]: 'Персонал', // todo кроме персонального транспорта\n  [RIDE_OCCUPATION.DRIVER]: 'Водитель', // todo только для персонального транспорта\n};\n\nexport const RIDE_TYPES_NAMES = {\n  [RIDE_TYPES.SELF_DRIVE]: 'Самостоятельная поездка',\n  [RIDE_TYPES.SCHEDULED]: 'Регулярный рейс',\n  [RIDE_TYPES.CHARTER]: 'Чартерный рейс', // todo only for aircrafts\n  [RIDE_TYPES.TOUR]: 'Тур', // todo except aircrafts\n  [RIDE_TYPES.CARPOOL]: 'Попутный автомобиль',\n  [RIDE_TYPES.HITCH_HIKING]: 'Автостоп',\n  [RIDE_TYPES.DROP_OFF]: 'Подбросили до места',\n};\n\nexport const VEHICLE_NAMES = {\n  [VEHICLE_TYPES.CAR]: 'Автомобиль',\n  [VEHICLE_TYPES.TRAIN]: 'Поезд',\n  [VEHICLE_TYPES.AIRCRAFT]: 'Самолет',\n  [VEHICLE_TYPES.BUS]: 'Автобус',\n  [VEHICLE_TYPES.MOTORHOME]: 'Дом на колесах',\n  [VEHICLE_TYPES.LOCAL_TRAIN]: 'Электричка',\n  [VEHICLE_TYPES.FERRY]: 'Паром',\n  [VEHICLE_TYPES.BIKE]: 'Велосипед',\n  [VEHICLE_TYPES.BY_FEET]: 'Пешком',\n  [VEHICLE_TYPES.ROPEWAY]: 'Канатная дорога',\n  [VEHICLE_TYPES.FUNICULAR]: 'Фуникулер',\n  [VEHICLE_TYPES.MOTORBIKE]: 'Мотоцикл',\n  [VEHICLE_TYPES.TRUCK]: 'Грузовик',\n  [VEHICLE_TYPES.ALL_TERRAIN_VEHICLE]: 'Вездеход',\n  [VEHICLE_TYPES.TRAM]: 'Трамвай',\n  [VEHICLE_TYPES.TROLLEY]: 'Троллейбус',\n  [VEHICLE_TYPES.TAXI]: 'Такси',\n  [VEHICLE_TYPES.CITY_BUS]: 'Муниципальный автобус',\n  [VEHICLE_TYPES.JITNEY]: 'Маршрутное такси',\n  [VEHICLE_TYPES.SUBWAY]: 'Метро',\n  [VEHICLE_TYPES.PUBLIC_TRANSPORT]: 'Общественный транспорт',\n};\n","var convert = require('./convert'),\n    func = convert('flow', require('../flow'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('reverse', require('../reverse'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeReverse = arrayProto.reverse;\n\n/**\n * Reverses `array` so that the first element becomes the last, the second\n * element becomes the second to last, and so on.\n *\n * **Note:** This method mutates `array` and is based on\n * [`Array#reverse`](https://mdn.io/Array/reverse).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = [1, 2, 3];\n *\n * _.reverse(array);\n * // => [3, 2, 1]\n *\n * console.log(array);\n * // => [3, 2, 1]\n */\nfunction reverse(array) {\n  return array == null ? array : nativeReverse.call(array);\n}\n\nmodule.exports = reverse;\n","var convert = require('./convert'),\n    func = convert('uniqBy', require('../uniqBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var convert = require('./convert'),\n    func = convert('sortBy', require('../sortBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n"],"sourceRoot":""}