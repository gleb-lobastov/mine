{"version":3,"sources":["webpack:///./src/modules/components/loaders/ProvisionLoader.jsx","webpack:///./src/core/connection/withProvision.jsx","webpack:///./src/packages/travel/components/common/WelcomeScreen/WelcomeScreen.jsx","webpack:///./src/packages/travel/models/trips/utils.js","webpack:///./src/modules/components/muiExtended/OptionsSelect/OptionsSelect.jsx","webpack:///./src/modules/components/muiExtended/Suggest/components/DefaultSuggestionsResolver.jsx","webpack:///./src/modules/components/muiExtended/Suggest/components/DefaultInputRender.jsx","webpack:///./src/modules/components/muiExtended/Suggest/components/DefaultSuggestionRender.jsx","webpack:///./src/modules/components/muiExtended/Suggest/Suggest.jsx","webpack:///./src/modules/components/muiExtended/Suggest/modifications/ProvisionedSuggest.jsx","webpack:///./src/packages/travel/components/models/trips/TripEditDialog/localization.js","webpack:///./src/packages/travel/components/models/trips/TripEditDialog/blocks/TripEditCard.jsx","webpack:///./src/packages/travel/components/models/trips/TripEditDialog/TripEditDialog.jsx","webpack:///./src/modules/utilities/dom/checkIsNodeNotSortable.js","webpack:///./src/modules/utilities/types/array.js","webpack:///./src/packages/travel/utils/checkIsVisitsConnectedByRide.js","webpack:///./src/packages/travel/components/models/locations/Location.jsx","webpack:///./src/packages/travel/components/models/visits/VisitEditDialog/localization.js","webpack:///./src/packages/travel/components/models/visits/VisitEditDialog/blocks/VisitEditCard.jsx","webpack:///./src/packages/travel/components/models/visits/VisitEditDialog/VisitEditDialog.jsx","webpack:///./src/packages/travel/components/models/visits/Visit.jsx","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/localization.js","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/blocks/RideEditCard.jsx","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/RideEditDialog.jsx","webpack:///./src/packages/travel/pages/Trips/blocks/Ride.jsx","webpack:///./src/modules/utilities/dateTime/arrivalDepartureDateTimeToString.js","webpack:///./src/packages/travel/pages/Trips/blocks/DragHandler.jsx","webpack:///./src/packages/travel/pages/Trips/blocks/VisitWithRides.jsx","webpack:///./src/packages/travel/pages/Trips/blocks/VisitCreator.jsx","webpack:///./src/packages/travel/models/visits/initialize.js","webpack:///./src/packages/travel/pages/Trips/blocks/Trip.jsx","webpack:///./src/packages/travel/pages/Trips/actionCreators.js","webpack:///./src/modules/utilities/algorithms/createOrderCalculator.js","webpack:///./src/packages/travel/pages/Trips/Trips.jsx","webpack:///./src/packages/travel/models/trips/initialize.js"],"names":["withLoader","Component","props","_props$provision","provision","_props$provision$isCo","isComplete","_props$provision$isPe","isPending","react_default","a","createElement","PlainLoader","__webpack_exports__","_len2","arguments","length","provisionParams","Array","_key2","ExtendableComponent","_len","funcsArray","_key","arg","reduceRight","composed","func","compose","provide","apply","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","lodash_fp_compose__WEBPACK_IMPORTED_MODULE_4__","lodash_fp_compose__WEBPACK_IMPORTED_MODULE_4___default","modules_utilities_routing_Path__WEBPACK_IMPORTED_MODULE_5__","core_context_AppContext__WEBPACK_IMPORTED_MODULE_6__","WelcomeScreen","_ref","children","userAlias","match","params","_ref$namedPaths","namedPaths","_ref$namedPaths$trave","travel","tripsPath","trips","shouldShowLinkToTrips","to","toUrl","propTypes","PropTypes","node","shape","string","isRequired","instanceOf","Path","bool","defaultProps","withRouter","withPaths","d","sortVisitsByTrips","groupAndSortVisitsByTrips","lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__","lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default","lodash_mapValues__WEBPACK_IMPORTED_MODULE_1__","lodash_mapValues__WEBPACK_IMPORTED_MODULE_1___default","visitsList","sort","_ref2","orderInTrip","mapValues","groupBy","OptionsSelect","caption","classes","hasNullOption","inputId","handleChange","onChange","optionRender","options","value","className","container","InputLabel","component","shrink","htmlFor","Select","displayEmpty","input","Input","id","selectRoot","MenuItem","key","option","index","map","valuePropTypes","oneOfType","number","arrayOf","undefined","withStyles","display","flexGrow","flexBasis","DefaultSuggestionResolver","inputValue","_ref$sourceProps","sourceProps","_ref$sourceProps$sugg","suggestions","renderProp","lowerCaseInputValue","toLowerCase","Fragment","filter","label","includes","array","DefaultInputRender","inputProps","ref","other","_objectWithoutProperties","TextField","_extends","InputProps","_objectSpread","inputRef","root","inputRoot","inputInput","DefaultSuggestionRender","itemProps","isHighlighted","isSelected","DefaultSuggestionRender_extends","selected","style","fontWeight","object","useStyles","makeStyles","theme","paper","position","zIndex","marginTop","spacing","left","right","defaultItemToString","item","createSuggestComponent","_ref2$SuggestionsReso","SuggestionsResolver","DefaultSuggestionsResolver","_ref2$SuggestionItemC","SuggestionItemComponent","_ref2$InputComponent","InputComponent","_ref3","inputFieldProps","downshiftProps","Suggest_objectWithoutProperties","downshift_esm","Suggest_extends","itemToString","_ref4","getInputProps","getItemProps","getMenuProps","highlightedIndex","isOpen","selectedItem","fullWidth","Paper","square","resolvedSuggestions","suggestion","Boolean","withProvision","state","_ref2$sourceProps","modelName","domain","filterField","numberOfItemsToRequest","identity","require","entities","query","ProvisionedSuggest_defineProperty","comparator","concat","navigation","pageSize","meta","debounceRequest","_ref$sourceProps$conv","convertEntityToSuggestion","entity","ProvisionedSuggest_objectSpread","_ref$entities","_ref$entities$data","data","entitiesList","TRIP_TYPE_NAMES","localization_defineProperty","_TRIP_TYPE_NAMES","TRIP_TYPES","LEISURE","BUSINESS","MIXED","OTHER","renderTripType","tripType","useTripState","initialTripName","tripName","initialTripType","initialOriginLocationId","originLocationId","_useState2","_slicedToArray","useState","tripState","setTripState","tripStateUpdate","TripEditCard_objectSpread","TripEditCard","locationsDict","_ref3$tripState","setTripName","useCallback","nextTripName","target","setTripType","_ref5","nextTripType","setOriginLocation","_ref6","nextOriginLocationId","locationId","locationName","optionGroup","ProvisionedSuggest","textFieldProps","initialInputValue","placeholder","muiExtended_OptionsSelect_OptionsSelect","Object","values","connect","selectDict","TripEditDialog","initialState","handleSubmit","onSubmit","_useTripState","_React$useState2","TripEditDialog_slicedToArray","React","setOpen","handleClose","IconButton","data-sort-handler","size","variant","color","onClick","Dialog","transitionDuration","open","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","blocks_TripEditCard","DialogActions","Button","ridePropTypes","checkIsNodeNotSortable","event","element","dataset","sortHandler","parentNode","checkIsVisitsConnectedByRide","prevVisit","nextVisit","departureRideId","arrivalRideId","Location","_ref$location$locatio","location","Icon","icon","objectOf","locationPropTypes","reactComponentPropType","marginRight","verticalAlign","VISIT_TYPE_NAMES","VisitEditDialog_localization_defineProperty","_VISIT_TYPE_NAMES","VISIT_TYPES","TRANSIT","REGULAR","BASE_CAMP","RELOCATION","renderVisitType","visitType","useVisitState","initialVisitType","initialVisitComment","visitComment","initialLocationId","VisitEditCard_slicedToArray","visitState","setVisitState","visitStateUpdate","VisitEditCard_objectSpread","VisitEditCard","_ref3$visitState","setVisitType","nextVisitType","setLocation","nextLocationId","setVisitComment","nextVisitComment","multiline","rows","rowsMax","VisitEditDialog","_useVisitState","VisitEditDialog_slicedToArray","blocks_VisitEditCard","Visit","visit","handleVisitUpdate","onVisitUpdate","isEditable","TransferWithinAStationIcon","DomainIcon","LocalShippingIcon","LocationCityIcon","resolveVisitIconComponent","visits_VisitEditDialog_VisitEditDialog","updatedVisit","Visit_objectSpread","Edit_default","editIcon","visitPropTypes","RIDE_CLASSES_NAMES","RideEditDialog_localization_defineProperty","_RIDE_CLASSES_NAMES","RIDE_CLASSES","ECONOMY","COMFORT","FIRST","PRIVATE","RIDE_OCCUPATION_NAMES","_RIDE_OCCUPATION_NAME","RIDE_OCCUPATION","PASSENGER","STUFF","DRIVER","RIDE_TYPES_NAMES","_RIDE_TYPES_NAMES","RIDE_TYPES","SELF_DRIVE","SCHEDULED","CHARTER","TOUR","CARPOOL","HITCH_HIKING","DROP_OFF","VEHICLE_NAMES","_VEHICLE_NAMES","VEHICLE_TYPES","CAR","TRAIN","AIRCRAFT","BUS","MOTORHOME","LOCAL_TRAIN","FERRY","BIKE","BY_FEET","ROPEWAY","FUNICULAR","MOTORBIKE","TRUCK","ALL_TERRAIN_VEHICLE","TRAM","TROLLEY","TAXI","CITY_BUS","JITNEY","SUBWAY","PUBLIC_TRANSPORT","ORIGIN_OF_TRIP","renderVehicleType","vehicleType","renderRideType","rideType","renderRideClass","rideClass","renderRideOccupation","rideOccupation","useRideState","initialArrivalVisitId","departureVisitId","initialDepartureVisitId","arrivalVisitId","initialVehicleType","initialRideType","initialRideComment","rideComment","initialRideClass","initialRideOccupation","initialDepartureDateTime","departureDateTime","initialArrivalDateTime","arrivalDateTime","RideEditCard_slicedToArray","rideState","setRideState","rideStateUpdate","RideEditCard_objectSpread","RideEditCard","availableVisits","originLocation","_ref6$rideState","setDepartureVisitId","_ref7","nextDepartureVisitId","setArrivalVisitId","_ref8","nextArrivalVisitId","setVehicleType","_ref9","nextVehicleType","setRideType","_ref10","nextRideType","setRideClass","_ref11","nextRideClass","setRideOccupation","_ref12","nextRideOccupation","setArrivalDateTime","nextArrivalDateTime","setDepartureDateTime","nextDepartureDateTime","setRideComment","_ref13","nextRideComment","availableVisitsIds","_ref14","visitId","visitsDict","fromEntries","renderVisit","_ref15","RideEditCard_toConsumableArray","material_ui_pickers_esm","autoOk","ampm","RideEditDialog","_useRideState","RideEditDialog_slicedToArray","blocks_RideEditCard","locationsPropTypes","Ride","defaultArrivalVisitId","defaultDepartureVisitId","handleRideUpdate","onRideUpdate","ride","_ref$ride","rideId","showDetails","rideInitialState","initializeRide","CarIcon","TrainIcon","FlightIcon","BusIcon","VanIcon","BoatIcon","BikeIcon","WalkIcon","MotorcycleIcon","TruckIcon","TerrainIcon","TramIcon","LocalTaxiIcon","SubwayIcon","SeatIcon","CustomTransportIcon","resolveRideIconComponent","UnknownRideIcon","iconNode","rideNode","rides_RideEditDialog_RideEditDialog","editDialogTrigger","updatedRide","Ride_objectSpread","cls","ThumbUp_default","details","arrivalDateTimeString","toLocaleDateString","departureDateTimeString","arrivalDepartureDateTimeToString","DragHandler","DragHandle_default","dragHandler","cursor","marginLeft","top","transform","VisitWithRides","_cls","_cls2","_ref$visit","ridesDict","prevVisitId","nextVisitId","tripVisitsList","isSortable","isSorting","isArrivalRideMatch","isDepartureRideMatch","shouldWarnForArrivalRide","shouldWarnForDepartureRide","blocks_Ride","VisitWithRides_defineProperty","alwaysVisible","warning","visits_Visit","visibleOnlyOnHover","blocks_DragHandler","&:hover $editDialogTrigger","visibility","&:hover $visibleOnlyOnHover","VisitCreator","draggableContainer","SortableTrip","SortableContainer","SortableVisitWithRides","SortableElement","replaceWithNode","Trip_objectWithoutProperties","blocks_VisitWithRides","Trip_extends","Trip","handleVisitsOrderUpdate","onVisitsOrderUpdate","trip","_ref3$trip","tripId","tripIndex","handleTripUpdate","onTripUpdate","storyUrl","Trip_slicedToArray","setIsSorting","_useState4","addVisitControlIndex","setAddVisitControlIndex","VisitWithRidesComponent","visitsNodes","_toConsumableArray","slice","withItem","isItVisitCreatorControl","indexOfVisit","blocks_VisitCreator","newVisit","indexInCollection","collection","_resolveVisitsWindow2","overstepIndex","prevVisitIndex","nextVisitIndex","resolveVisitsWindow","wrappedVisitsNodes","onSortEnd","oldIndex","newIndex","shouldCancelStart","updateBeforeSortStart","lockAxis","lockToContainerEdges","originLocationNode","locations_Location","IconHome","tripEditControlsNode","trips_TripEditDialog_TripEditDialog","updatedTrip","Trip_objectSpread","lastVisit","lastButOneVisit","rideToOriginId","recentVisitId","rideToOriginNode","hasStory","some","departureRideComment","react_router_dom","tripPropTypes","resolveOrder","calcOrder","orderResolver","prevOrder","nextOrder","Math","random","memoizedGroupAndSortVisitsByTrips","memoizeByLastArgs","Trips","_ref$trips","_ref$trips$data","tripsList","_ref$visits","visits","_ref$visits$data","request","useAuthContext","isAuthenticated","body","submitOrderInTrip","submitRide","submitTrip","actionCreators_objectSpread","submitVisit","addTripNode","visitsGroupedByTrips","blocks_Trip","tripStory","strTripId","String","pathsPropTypes","authContextPropTypes","ridesPropTypes","_ref4$locationsDict","prevUserAlias","selectProvisionStatus","isUserTripsFetchComplete","_ref7$data","fallback","userTripsIds","tripsDict","missingLocationsIds","uniq","reduce","memo","push","requiredLocationId","isUserChanged","locations","isMissingIf","isDisabled","rides","trip_id"],"mappings":"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","file":"travel-Trips-4dd089b5d5662c4aaa63.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport React from 'react';\nimport PlainLoader from 'modules/components/loaders/PlainLoader';\n\n// todo implement logic, which loader to show for each request, etc.\nexport const withLoader = Component => props => {\n  const { provision: { isComplete = false, isPending = true } = {} } = props;\n  if (!isComplete || isPending) {\n    return <PlainLoader />;\n  }\n  return <Component {...props} />;\n};\n","import { withLoader } from 'modules/components/loaders/ProvisionLoader';\nimport { provide } from 'core/connection';\n\nconst compose = (...funcsArray) => arg =>\n  funcsArray.reduceRight((composed, func) => func(composed), arg);\n\nexport default (...provisionParams) => ExtendableComponent =>\n  compose(\n    provide(...provisionParams),\n    withLoader,\n  )(ExtendableComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport compose from 'lodash/fp/compose';\nimport Path from 'modules/utilities/routing/Path';\nimport { withPaths } from 'core/context/AppContext';\n\nconst WelcomeScreen = ({\n  children,\n  match: {\n    params: { userAlias },\n  },\n  namedPaths: { travel: { trips: tripsPath } = {} } = {},\n  shouldShowLinkToTrips,\n}) => (\n  <div>\n    <span>\n      Нам пока ничего не известно о ваших путешествиях. Но очень интересно\n      узнать.\n    </span>\n    &nbsp;\n    {shouldShowLinkToTrips ? (\n      <Link to={tripsPath.toUrl({ userAlias })}>Создайте</Link>\n    ) : (\n      <span>Создайте</span>\n    )}\n    &nbsp;\n    <span>вашу первую поездку, а мы подготовим по ней отчет</span>\n    {children}\n  </div>\n);\n\nWelcomeScreen.propTypes = {\n  children: PropTypes.node,\n  match: PropTypes.shape({\n    params: PropTypes.shape({ userAlias: PropTypes.string }),\n  }).isRequired,\n  namedPaths: PropTypes.shape({\n    travel: PropTypes.shape({ trips: PropTypes.instanceOf(Path) }),\n  }).isRequired,\n  shouldShowLinkToTrips: PropTypes.bool,\n};\n\nWelcomeScreen.defaultProps = {\n  children: null,\n  shouldShowLinkToTrips: true,\n};\n\nexport default compose(\n  withRouter,\n  withPaths,\n)(WelcomeScreen);\n","import groupBy from 'lodash/groupBy';\nimport mapValues from 'lodash/mapValues';\n\nexport const sortVisitsByTrips = visitsList =>\n  visitsList.sort(\n    ({ orderInTrip: orderInTripA }, { orderInTrip: orderInTripB }) =>\n      orderInTripA - orderInTripB,\n  );\n\nexport const groupAndSortVisitsByTrips = visitsList =>\n  mapValues(groupBy(visitsList, 'tripId'), sortVisitsByTrips);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nconst styles = {\n  container: {\n    display: 'inline-block',\n    flexGrow: '1',\n    flexBasis: '0',\n  },\n  selectRoot: {\n    display: 'block',\n  },\n};\n\nconst OptionsSelect = ({\n  caption,\n  classes,\n  hasNullOption,\n  inputId,\n  onChange: handleChange,\n  optionRender,\n  options,\n  value,\n}) => (\n  <div className={classes.container}>\n    <InputLabel component=\"label\" shrink={true} htmlFor={inputId}>\n      {caption}\n    </InputLabel>\n    <Select\n      value={value}\n      displayEmpty={true}\n      onChange={handleChange}\n      input={<Input id={inputId} />}\n      className={classes.selectRoot}\n    >\n      {hasNullOption && (\n        <MenuItem key={null} value={null}>\n          {optionRender({ option: null, index: -1, options })}\n        </MenuItem>\n      )}\n      {options.map((option, index) => (\n        <MenuItem key={option} value={option}>\n          {optionRender({ option, index, options })}\n        </MenuItem>\n      ))}\n    </Select>\n  </div>\n);\n\nconst valuePropTypes = PropTypes.oneOfType([\n  PropTypes.number,\n  PropTypes.string,\n]);\nOptionsSelect.propTypes = {\n  caption: PropTypes.string.isRequired,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  hasNullOption: PropTypes.bool,\n  inputId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  optionRender: PropTypes.func,\n  options: PropTypes.arrayOf(valuePropTypes),\n  value: valuePropTypes,\n};\n\nOptionsSelect.defaultProps = {\n  hasNullOption: true,\n  optionRender: ({ option }) => option || '',\n  options: [],\n  value: undefined,\n};\n\nexport default withStyles(styles)(OptionsSelect);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst DefaultSuggestionResolver = ({\n  inputValue,\n  sourceProps: { suggestions = [] } = {},\n  children: renderProp,\n}) => {\n  const lowerCaseInputValue = inputValue.toLowerCase();\n  return (\n    <React.Fragment>\n      {renderProp(\n        suggestions.filter(({ label }) =>\n          label.toLowerCase().includes(lowerCaseInputValue),\n        ),\n      )}\n    </React.Fragment>\n  );\n};\n\nDefaultSuggestionResolver.propTypes = {\n  inputValue: PropTypes.string.isRequired,\n  sourceProps: PropTypes.shape({\n    // eslint-disable-next-line react/forbid-prop-types\n    suggestions: PropTypes.array,\n  }).isRequired,\n  children: PropTypes.func.isRequired,\n};\n\nexport default DefaultSuggestionResolver;\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nexport default ({ inputProps, classes, ref, ...other }) => (\n  <TextField\n    InputProps={{\n      inputRef: ref,\n      classes: {\n        root: classes.inputRoot,\n        input: classes.inputInput,\n      },\n      ...inputProps,\n    }}\n    {...other}\n  />\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nconst DefaultSuggestionRender = ({\n  itemProps,\n  isHighlighted,\n  isSelected,\n  children,\n}) => (\n  <MenuItem\n    {...itemProps}\n    selected={isHighlighted}\n    component=\"div\"\n    style={{\n      fontWeight: isSelected ? 500 : 400,\n    }}\n  >\n    {children}\n  </MenuItem>\n);\n\nDefaultSuggestionRender.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  itemProps: PropTypes.object,\n  isHighlighted: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  children: PropTypes.func.isRequired,\n};\n\nDefaultSuggestionRender.defaultProps = {\n  itemProps: undefined,\n  isHighlighted: false,\n  isSelected: false,\n};\n\nexport default DefaultSuggestionRender;\n","import React from 'react';\nimport Downshift from 'downshift';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport DefaultSuggestionsResolver from './components/DefaultSuggestionsResolver';\nimport DefaultInputRender from './components/DefaultInputRender';\nimport DefaultSuggestionRender from './components/DefaultSuggestionRender';\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  container: {},\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(1),\n    left: 0,\n    right: 0,\n  },\n  inputRoot: {},\n  inputInput: {},\n}));\n\nconst defaultItemToString = item => {\n  const { label } = item || {};\n  return label;\n};\n\nexport const createSuggestComponent = ({\n  SuggestionsResolver = DefaultSuggestionsResolver,\n  SuggestionItemComponent = DefaultSuggestionRender,\n  InputComponent = DefaultInputRender,\n} = {}) => ({\n  sourceProps,\n  inputProps,\n  inputFieldProps,\n  ...downshiftProps\n}) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Downshift itemToString={defaultItemToString} {...downshiftProps}>\n        {({\n          getInputProps,\n          getItemProps,\n          getMenuProps,\n          highlightedIndex,\n          inputValue,\n          isOpen,\n          selectedItem,\n        }) => (\n          <div className={classes.container}>\n            <InputComponent\n              fullWidth={true}\n              classes={classes}\n              inputProps={getInputProps(inputProps)}\n              {...inputFieldProps}\n            />\n            <div {...getMenuProps()}>\n              {isOpen && (\n                <Paper className={classes.paper} square={true}>\n                  <SuggestionsResolver\n                    inputValue={inputValue}\n                    sourceProps={sourceProps}\n                  >\n                    {resolvedSuggestions =>\n                      resolvedSuggestions.map((suggestion, index) => (\n                        <SuggestionItemComponent\n                          key={suggestion.label}\n                          itemProps={getItemProps({\n                            item: suggestion,\n                          })}\n                          isHighlighted={highlightedIndex === index}\n                          isSelected={\n                            Boolean(selectedItem) &&\n                            selectedItem.label === suggestion.label\n                          }\n                        >\n                          {suggestion.label}\n                        </SuggestionItemComponent>\n                      ))\n                    }\n                  </SuggestionsResolver>\n                </Paper>\n              )}\n            </div>\n          </div>\n        )}\n      </Downshift>\n    </div>\n  );\n};\n\nexport default createSuggestComponent();\n/*\nconst x = (\n  <FetchContacts\n    searchValue={inputValue}\n    omitContacts={selectedContacts}\n    onLoaded={({ contacts }) => {\n      clearItems();\n      if (contacts) {\n        setHighlightedIndex(contacts.length ? 0 : null);\n        setItemCount(contacts.length);\n      }\n    }}\n  >\n    {({ loading, contacts, error }) => (\n      <div\n        {...css({\n          position: 'absolute',\n          backgroundColor: 'white',\n          width: 300,\n          maxHeight: 280,\n          overflow: 'scroll',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n          border: '1px solid rgba(0,0,0,.2)',\n        })}\n      >\n        {loading ? (\n          <div {...css({ padding: 10 })}>loading...</div>\n        ) : error ? (\n          <div {...css({ padding: 10 })}>error...</div>\n        ) : contacts.length ? (\n          <ContactList\n            highlightedIndex={highlightedIndex}\n            getItemProps={getItemProps}\n            contacts={contacts}\n          />\n        ) : (\n          <div {...css({ padding: 10 })}>no results...</div>\n        )}\n      </div>\n    )}\n  </FetchContacts>\n);\n\nclass FetchContacts extends React.Component {\n  static initialState = { loading: false, error: null, contacts: [] };\n  requestId = 0;\n  state = FetchContacts.initialState;\n  mounted = false;\n  reset(overrides) {\n    this.setState({ ...FetchContacts.initialState, ...overrides });\n  }\n  fetch = debounce(\n    () => {\n      if (!this.mounted) {\n        return;\n      }\n      const { omitContacts, limit } = this.props;\n      this.requestId++;\n      fetchContacts(this.props.searchValue, {\n        omitContacts,\n        limit,\n        requestId: this.requestId,\n      }).then(\n        ({ response: { data: contacts, requestId } }) => {\n          if (this.mounted && requestId === this.requestId) {\n            this.props.onLoaded({ contacts });\n            this.setState({ loading: false, contacts });\n          }\n        },\n        ({ response: { error, requestId } }) => {\n          if (this.mounted && requestId === this.requestId) {\n            this.props.onLoaded({ error });\n            this.setState({ loading: false, error });\n          }\n        },\n      );\n    },\n    { wait: 300 },\n  );\n  prepareFetch() {\n    this.reset({ loading: true });\n  }\n  componentDidMount() {\n    this.mounted = true;\n    this.prepareFetch();\n    this.fetch();\n  }\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.searchValue !== this.props.searchValue ||\n      prevProps.omitContacts !== this.props.omitContacts\n    ) {\n      this.prepareFetch();\n      this.fetch();\n    }\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n  render() {\n    return this.props.children(this.state);\n  }\n}\n*/\n","import withProvision from 'core/connection/withProvision';\nimport { createSuggestComponent } from '../Suggest';\n\nconst Resolver = ({\n  sourceProps: {\n    filterField,\n    convertEntityToSuggestion = entity => ({\n      ...entity,\n      label: entity[filterField],\n    }),\n  } = {},\n  entities: { data: entitiesList = [] } = {},\n  children: renderProp,\n}) => renderProp((entitiesList || []).map(convertEntityToSuggestion));\n\nexport default createSuggestComponent({\n  SuggestionsResolver: withProvision(\n    (\n      state,\n      {\n        inputValue,\n        sourceProps: { modelName, domain, filterField, numberOfItemsToRequest },\n      },\n    ) => ({\n      identity: inputValue,\n      require: {\n        entities: {\n          modelName,\n          query: {\n            filter: {\n              [filterField]: { comparator: '~', value: `%${inputValue}%` },\n            },\n            navigation: { pageSize: numberOfItemsToRequest },\n          },\n        },\n      },\n      meta: {\n        domain,\n      },\n      debounceRequest: 500,\n    }),\n  )(Resolver),\n});\n","/* eslint-disable import/prefer-default-export */\n// todo use localization library\nimport { TRIP_TYPES } from 'travel/models/trips/consts';\n\nexport const TRIP_TYPE_NAMES = {\n  [TRIP_TYPES.LEISURE]: 'Отдых',\n  [TRIP_TYPES.BUSINESS]: 'Работа',\n  [TRIP_TYPES.MIXED]: 'Смешанный',\n  [TRIP_TYPES.OTHER]: 'Другой',\n};\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport compose from 'lodash/fp/compose';\nimport OptionsSelect from 'modules/components/muiExtended/OptionsSelect';\nimport ProvisionedSuggest from 'modules/components/muiExtended/Suggest/modifications/ProvisionedSuggest';\nimport { selectDict } from 'core/connection';\nimport { TRIP_TYPES } from 'travel/models/trips/consts';\nimport { TRIP_TYPE_NAMES } from '../localization';\n\nconst renderTripType = ({ option: tripType }) =>\n  tripType ? TRIP_TYPE_NAMES[tripType] : 'Не указан';\n\nexport const useTripState = ({\n  tripName: initialTripName,\n  tripType: initialTripType,\n  originLocationId: initialOriginLocationId,\n}) => {\n  const [tripState, setTripState] = useState({\n    tripName: initialTripName,\n    tripType: initialTripType,\n    originLocationId: initialOriginLocationId,\n  });\n\n  return {\n    tripState,\n    setTripState: tripStateUpdate =>\n      setTripState({ ...tripState, ...tripStateUpdate }),\n  };\n};\n\nconst styles = {\n  optionGroup: {\n    display: 'block',\n  },\n};\n\nconst TripEditCard = ({\n  classes,\n  locationsDict,\n  tripState: { tripType, tripName, originLocationId },\n  setTripState,\n}) => {\n  const setTripName = useCallback(\n    ({ target: { value: nextTripName } }) =>\n      setTripState({ tripName: nextTripName }),\n    [setTripState],\n  );\n  const setTripType = useCallback(\n    ({ target: { value: nextTripType } }) =>\n      setTripState({ tripType: nextTripType }),\n    [setTripState],\n  );\n  const setOriginLocation = useCallback(\n    ({ locationId: nextOriginLocationId }) =>\n      setTripState({ originLocationId: nextOriginLocationId }),\n    [setTripState],\n  );\n\n  const originLocation = locationsDict[originLocationId];\n  const { locationName } = originLocation || {};\n  return (\n    <>\n      <div className={classes.optionGroup}>\n        <TextField\n          label=\"Название поездки\"\n          value={tripName}\n          onChange={setTripName}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <ProvisionedSuggest\n          textFieldProps={{\n            label: 'Старт из',\n          }}\n          initialInputValue={locationName}\n          inputProps={{ placeholder: 'Населенный пункт...' }}\n          onChange={setOriginLocation}\n          sourceProps={{\n            filterField: 'locationName',\n            modelName: 'locations',\n            domain: 'tripEditCard.location',\n          }}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Тип поездки\"\n          inputId=\"TripEditCard-TripTypeOptions\"\n          onChange={setTripType}\n          optionRender={renderTripType}\n          options={Object.values(TRIP_TYPES)}\n          hasNullOption={true}\n          value={tripType}\n        />\n      </div>\n    </>\n  );\n};\n\nTripEditCard.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\nTripEditCard.defaultProps = {\n  className: undefined,\n};\n\nconst mapStateToProps = state => ({\n  locationsDict: selectDict(state, 'locations'),\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  withStyles(styles),\n)(TripEditCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport TripEditCard, { useTripState } from './blocks/TripEditCard';\n\nconst TripEditDialog = ({ initialState, children, onSubmit: handleSubmit }) => {\n  const { tripState, setTripState } = useTripState(initialState);\n  const [isOpen, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const handleSubmitInternal = () => {\n    handleSubmit(tripState);\n    handleClose(false);\n  };\n\n  return (\n    <>\n      <IconButton\n        data-sort-handler=\"disabled\"\n        size=\"small\"\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleClickOpen}\n      >\n        {children}\n      </IconButton>\n      {isOpen && (\n        <Dialog\n          transitionDuration={500}\n          open={isOpen}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Поездка</DialogTitle>\n          <DialogContent>\n            <DialogContentText>Редактирование поездки</DialogContentText>\n            <TripEditCard tripState={tripState} setTripState={setTripState} />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              Отмена\n            </Button>\n            <Button onClick={handleSubmitInternal} color=\"primary\">\n              Сохранить\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </>\n  );\n};\n\nTripEditDialog.propTypes = {\n  initialState: PropTypes.shape(ridePropTypes).isRequired,\n  children: PropTypes.node.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\nTripEditDialog.defaultProps = {};\n\nexport default TripEditDialog;\n","// helper for react-sortable-hoc\nexport default event => {\n  let element = event.target;\n  while (element) {\n    if (element.dataset && element.dataset.sortHandler === 'enabled') {\n      return false;\n    }\n    element = element.parentNode;\n  }\n  return true;\n};\n","export const withItem = (array, item, index = array.length) => [\n  ...array.slice(0, index),\n  item,\n  ...array.slice(index),\n];\n\nexport const withoutItem = (array, index) => [\n  ...array.slice(0, index),\n  ...array.slice(index + 1),\n];\n\nexport const replaceItem = (array, index, item) => [\n  ...array.slice(0, index),\n  item,\n  ...array.slice(index + 1),\n];\n","export default (prevVisit, nextVisit) => {\n  if (!prevVisit || !nextVisit) {\n    return true;\n  }\n  const { departureRideId: prevVisitDepartureRideId } = prevVisit;\n  const { arrivalRideId: nextVisitArrivalRideId } = nextVisit;\n  return prevVisitDepartureRideId === nextVisitArrivalRideId;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport reactComponentPropType from 'modules/customPropTypes/reactComponentPropType';\nimport locationPropTypes from 'travel/models/locations/propTypes';\n\nexport const styles = {\n  container: {\n    display: 'inline-block',\n    marginRight: '4px',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n};\n\nconst Location = ({\n  location: { locationName = 'unknown' },\n  Icon,\n  classes,\n}) => (\n  <div className={classes.container}>\n    {Icon && <Icon className={classes.icon} />}\n    {locationName}\n  </div>\n);\n\nLocation.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  location: PropTypes.shape(locationPropTypes),\n  Icon: reactComponentPropType,\n};\n\nLocation.defaultProps = {\n  location: {},\n  Icon: undefined,\n};\n\nexport default withStyles(styles)(Location);\n","/* eslint-disable import/prefer-default-export */\n// todo use localization library\nimport { VISIT_TYPES } from 'travel/models/visits/consts';\n\nexport const VISIT_TYPE_NAMES = {\n  [VISIT_TYPES.TRANSIT]: 'Транзит',\n  [VISIT_TYPES.REGULAR]: 'Посещение',\n  [VISIT_TYPES.BASE_CAMP]: 'Базовый лагерь',\n  [VISIT_TYPES.RELOCATION]: 'Переезд',\n};\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport compose from 'lodash/fp/compose';\nimport OptionsSelect from 'modules/components/muiExtended/OptionsSelect';\nimport ProvisionedSuggest from 'modules/components/muiExtended/Suggest/modifications/ProvisionedSuggest';\nimport { selectDict } from 'core/connection';\nimport { VISIT_TYPES } from 'travel/models/visits/consts';\nimport { VISIT_TYPE_NAMES } from '../localization';\n\nconst renderVisitType = ({ option: visitType }) =>\n  visitType ? VISIT_TYPE_NAMES[visitType] : 'Не указан';\n\nexport const useVisitState = ({\n  visitType: initialVisitType,\n  visitComment: initialVisitComment,\n  locationId: initialLocationId,\n}) => {\n  const [visitState, setVisitState] = useState({\n    visitComment: initialVisitComment,\n    visitType: initialVisitType,\n    locationId: initialLocationId,\n  });\n\n  return {\n    visitState,\n    setVisitState: visitStateUpdate =>\n      setVisitState({ ...visitState, ...visitStateUpdate }),\n  };\n};\n\nconst styles = {\n  optionGroup: {\n    display: 'block',\n  },\n};\n\nconst VisitEditCard = ({\n  classes,\n  locationsDict,\n  visitState: { visitType, visitComment, locationId },\n  setVisitState,\n}) => {\n  const setVisitType = useCallback(\n    ({ target: { value: nextVisitType } }) =>\n      setVisitState({ visitType: nextVisitType }),\n    [setVisitState],\n  );\n  const setLocation = useCallback(\n    ({ locationId: nextLocationId }) =>\n      setVisitState({ locationId: nextLocationId }),\n    [setVisitState],\n  );\n  const setVisitComment = useCallback(\n    ({ target: { value: nextVisitComment } }) =>\n      setVisitState({ visitComment: nextVisitComment }),\n    [setVisitState],\n  );\n\n  const location = locationsDict[locationId];\n  const { locationName } = location || {};\n  return (\n    <>\n      <div className={classes.optionGroup}>\n        <ProvisionedSuggest\n          textFieldProps={{\n            label: 'Место посещения',\n          }}\n          initialInputValue={locationName}\n          inputProps={{ placeholder: 'Населенный пункт...' }}\n          onChange={setLocation}\n          sourceProps={{\n            filterField: 'locationName',\n            modelName: 'locations',\n            domain: 'visitEditCard.location',\n          }}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Тип посещения\"\n          inputId=\"VisitEditCard-VisitTypeOptions\"\n          onChange={setVisitType}\n          optionRender={renderVisitType}\n          options={Object.values(VISIT_TYPES)}\n          hasNullOption={true}\n          value={visitType}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <TextField\n          label=\"Комментарий\"\n          value={visitComment}\n          onChange={setVisitComment}\n          multiline={true}\n          rows={1}\n          rowsMax={12}\n        />\n      </div>\n    </>\n  );\n};\n\nVisitEditCard.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\nVisitEditCard.defaultProps = {\n  className: undefined,\n};\n\nconst mapStateToProps = state => ({\n  locationsDict: selectDict(state, 'locations'),\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  withStyles(styles),\n)(VisitEditCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport VisitEditCard, { useVisitState } from './blocks/VisitEditCard';\n\nconst VisitEditDialog = ({ initialState, children, onSubmit: handleSubmit }) => {\n  const { visitState, setVisitState } = useVisitState(initialState);\n  const [isOpen, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const handleSubmitInternal = () => {\n    handleSubmit(visitState);\n    handleClose(false);\n  };\n\n  return (\n    <>\n      <IconButton\n        data-sort-handler=\"disabled\"\n        size=\"small\"\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleClickOpen}\n      >\n        {children}\n      </IconButton>\n      {isOpen && (\n        <Dialog\n          transitionDuration={500}\n          open={isOpen}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Посещение</DialogTitle>\n          <DialogContent>\n            <DialogContentText>Редактирование посещения</DialogContentText>\n            <VisitEditCard visitState={visitState} setVisitState={setVisitState} />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              Отмена\n            </Button>\n            <Button onClick={handleSubmitInternal} color=\"primary\">\n              Сохранить\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </>\n  );\n};\n\nVisitEditDialog.propTypes = {\n  initialState: PropTypes.shape(ridePropTypes).isRequired,\n  children: PropTypes.node.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\nVisitEditDialog.defaultProps = {};\n\nexport default VisitEditDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\nimport TransferWithinAStationIcon from '@material-ui/icons/TransferWithinAStation';\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\nimport DomainIcon from '@material-ui/icons/Domain';\nimport EditIcon from '@material-ui/icons/Edit';\nimport VisitEditDialog from 'travel/components/models/visits/VisitEditDialog';\nimport visitPropTypes from 'travel/models/visits/propTypes';\n\nconst resolveVisitIconComponent = visitType => {\n  switch (visitType) {\n    case 'Transit':\n      return TransferWithinAStationIcon;\n    case 'BaseCamp':\n      return DomainIcon;\n    case 'Relocation':\n      return LocalShippingIcon;\n    case 'Regular':\n    default:\n      return LocationCityIcon;\n  }\n};\n\nconst Visit = ({\n  visit,\n  onVisitUpdate: handleVisitUpdate,\n  classes,\n  isEditable,\n}) => {\n  if (!visit) {\n    return 'Не указано';\n  }\n  const { locationName, visitType } = visit;\n  const Icon = resolveVisitIconComponent(visitType);\n  return (\n    <div className={classes.container}>\n      {Icon && <Icon className={classes.icon} />}\n      {locationName}\n      {isEditable && (\n        <VisitEditDialog\n          initialState={visit}\n          onSubmit={updatedVisit =>\n            handleVisitUpdate({ ...visit, ...updatedVisit })\n          }\n        >\n          <EditIcon className={classes.editIcon} />\n        </VisitEditDialog>\n      )}\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    display: 'inline-block',\n    marginRight: '4px',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n  editIcon: {},\n};\n\nVisit.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  isEditable: PropTypes.bool,\n  onVisitUpdate: PropTypes.func.isRequired,\n  visit: PropTypes.shape(visitPropTypes)\n};\n\nVisit.defaultProps = {\n  isEditable: false,\n  visit: {},\n};\n\nexport default withStyles(styles)(Visit);\n","// todo use localization library\nimport {\n  RIDE_CLASSES,\n  RIDE_OCCUPATION,\n  RIDE_TYPES,\n  VEHICLE_TYPES,\n} from 'travel/models/rides/consts';\n\nexport const RIDE_CLASSES_NAMES = {\n  [RIDE_CLASSES.ECONOMY]: 'Эконом',\n  [RIDE_CLASSES.COMFORT]: 'Комфорт',\n  [RIDE_CLASSES.BUSINESS]: 'Бизнес',\n  [RIDE_CLASSES.FIRST]: 'Первый',\n  [RIDE_CLASSES.PRIVATE]: 'Частный',\n};\n\nexport const RIDE_OCCUPATION_NAMES = {\n  [RIDE_OCCUPATION.PASSENGER]: 'Пассажир',\n  [RIDE_OCCUPATION.STUFF]: 'Персонал', // todo кроме персонального транспорта\n  [RIDE_OCCUPATION.DRIVER]: 'Водитель', // todo только для персонального транспорта\n};\n\nexport const RIDE_TYPES_NAMES = {\n  [RIDE_TYPES.SELF_DRIVE]: 'Самостоятельная поездка',\n  [RIDE_TYPES.SCHEDULED]: 'Регулярный рейс',\n  [RIDE_TYPES.CHARTER]: 'Чартерный рейс', // todo only for aircrafts\n  [RIDE_TYPES.TOUR]: 'Тур', // todo except aircrafts\n  [RIDE_TYPES.CARPOOL]: 'Попутный автомобиль',\n  [RIDE_TYPES.HITCH_HIKING]: 'Автостоп',\n  [RIDE_TYPES.DROP_OFF]: 'Подбросили до места',\n};\n\nexport const VEHICLE_NAMES = {\n  [VEHICLE_TYPES.CAR]: 'Автомобиль',\n  [VEHICLE_TYPES.TRAIN]: 'Поезд',\n  [VEHICLE_TYPES.AIRCRAFT]: 'Самолет',\n  [VEHICLE_TYPES.BUS]: 'Автобус',\n  [VEHICLE_TYPES.MOTORHOME]: 'Дом на колесах',\n  [VEHICLE_TYPES.LOCAL_TRAIN]: 'Электричка',\n  [VEHICLE_TYPES.FERRY]: 'Паром',\n  [VEHICLE_TYPES.BIKE]: 'Велосипед',\n  [VEHICLE_TYPES.BY_FEET]: 'Пешком',\n  [VEHICLE_TYPES.ROPEWAY]: 'Канатная дорога',\n  [VEHICLE_TYPES.FUNICULAR]: 'Фуникулер',\n  [VEHICLE_TYPES.MOTORBIKE]: 'Мотоцикл',\n  [VEHICLE_TYPES.TRUCK]: 'Грузовик',\n  [VEHICLE_TYPES.ALL_TERRAIN_VEHICLE]: 'Вездеход',\n  [VEHICLE_TYPES.TRAM]: 'Трамвай',\n  [VEHICLE_TYPES.TROLLEY]: 'Троллейбус',\n  [VEHICLE_TYPES.TAXI]: 'Такси',\n  [VEHICLE_TYPES.CITY_BUS]: 'Муниципальный автобус',\n  [VEHICLE_TYPES.JITNEY]: 'Маршрутное такси',\n  [VEHICLE_TYPES.SUBWAY]: 'Метро',\n  [VEHICLE_TYPES.PUBLIC_TRANSPORT]: 'Общественный транспорт',\n};\n","import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { DatePicker, TimePicker } from '@material-ui/pickers';\nimport OptionsSelect from 'modules/components/muiExtended/OptionsSelect/OptionsSelect';\nimport {\n  RIDE_CLASSES,\n  RIDE_OCCUPATION,\n  RIDE_TYPES,\n  VEHICLE_TYPES,\n} from 'travel/models/rides/consts';\nimport {\n  VEHICLE_NAMES,\n  RIDE_CLASSES_NAMES,\n  RIDE_TYPES_NAMES,\n  RIDE_OCCUPATION_NAMES,\n} from '../localization';\n\n// if ride was started/ended in origin, then it has no corresponding\n// related visit. Relation is null. So this is not a magic, but real value\nconst ORIGIN_OF_TRIP = null;\n\nconst renderVehicleType = ({ option: vehicleType }) =>\n  vehicleType ? VEHICLE_NAMES[vehicleType] : 'Не указан';\nconst renderRideType = ({ option: rideType }) =>\n  rideType ? RIDE_TYPES_NAMES[rideType] : 'Не указан';\nconst renderRideClass = ({ option: rideClass }) =>\n  rideClass ? RIDE_CLASSES_NAMES[rideClass] : 'Не указан';\nconst renderRideOccupation = ({ option: rideOccupation }) =>\n  rideOccupation ? RIDE_OCCUPATION_NAMES[rideOccupation] : 'Не указан';\n\nexport const useRideState = ({\n  departureVisitId: initialArrivalVisitId,\n  arrivalVisitId: initialDepartureVisitId,\n  vehicleType: initialVehicleType,\n  rideType: initialRideType,\n  rideComment: initialRideComment,\n  rideClass: initialRideClass,\n  rideOccupation: initialRideOccupation,\n  departureDateTime: initialDepartureDateTime,\n  arrivalDateTime: initialArrivalDateTime,\n}) => {\n  const [rideState, setRideState] = useState({\n    departureVisitId: initialArrivalVisitId,\n    arrivalVisitId: initialDepartureVisitId,\n    vehicleType: initialVehicleType,\n    rideType: initialRideType,\n    rideComment: initialRideComment,\n    rideClass: initialRideClass,\n    rideOccupation: initialRideOccupation,\n    departureDateTime: initialDepartureDateTime,\n    arrivalDateTime: initialArrivalDateTime,\n  });\n\n  return {\n    rideState,\n    setRideState: rideStateUpdate =>\n      setRideState({ ...rideState, ...rideStateUpdate }),\n  };\n};\n\nconst styles = {\n  optionGroup: {\n    display: 'flex',\n  },\n  option: {\n    flexGrow: '1',\n  },\n};\n\nconst RideEditCard = ({\n  classes,\n  availableVisits,\n  originLocation,\n  rideState: {\n    departureVisitId,\n    arrivalVisitId,\n    vehicleType,\n    rideType,\n    rideComment,\n    rideClass,\n    rideOccupation,\n    departureDateTime,\n    arrivalDateTime,\n  },\n  setRideState,\n}) => {\n  const setDepartureVisitId = useCallback(\n    ({ target: { value: nextDepartureVisitId } }) =>\n      setRideState({ departureVisitId: nextDepartureVisitId }),\n    [setRideState],\n  );\n  const setArrivalVisitId = useCallback(\n    ({ target: { value: nextArrivalVisitId } }) =>\n      setRideState({ arrivalVisitId: nextArrivalVisitId }),\n    [setRideState],\n  );\n  const setVehicleType = useCallback(\n    ({ target: { value: nextVehicleType } }) =>\n      setRideState({ vehicleType: nextVehicleType }),\n    [setRideState],\n  );\n  const setRideType = useCallback(\n    ({ target: { value: nextRideType } }) =>\n      setRideState({ rideType: nextRideType }),\n    [setRideState],\n  );\n  const setRideClass = useCallback(\n    ({ target: { value: nextRideClass } }) =>\n      setRideState({ rideClass: nextRideClass }),\n    [setRideState],\n  );\n  const setRideOccupation = useCallback(\n    ({ target: { value: nextRideOccupation } }) =>\n      setRideState({ rideOccupation: nextRideOccupation }),\n    [setRideState],\n  );\n  const setArrivalDateTime = useCallback(\n    nextArrivalDateTime =>\n      setRideState({ arrivalDateTime: nextArrivalDateTime }),\n    [setRideState],\n  );\n  const setDepartureDateTime = useCallback(\n    nextDepartureDateTime =>\n      setRideState({ departureDateTime: nextDepartureDateTime }),\n    [setRideState],\n  );\n  const setRideComment = useCallback(\n    ({ target: { value: nextRideComment } }) =>\n      setRideState({ rideComment: nextRideComment }),\n    [setRideState],\n  );\n  const availableVisitsIds = availableVisits.map(({ visitId }) => visitId);\n  const visitsDict = Object.fromEntries(\n    availableVisits.map(visit => {\n      const { visitId } = visit;\n      return [visitId, visit];\n    }),\n  );\n  const renderVisit = useCallback(\n    ({ option: visitId }) => {\n      if (visitId === ORIGIN_OF_TRIP) {\n        const { locationName } = originLocation;\n        return locationName;\n      }\n      const visit = visitsDict[visitId];\n      if (!visit) {\n        return 'Не указано';\n      }\n      const { locationName } = visit;\n      return locationName;\n    },\n    [visitsDict],\n  );\n  return (\n    <>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Отправление из\"\n          inputId=\"RideEditCard-departureVisitId\"\n          onChange={setDepartureVisitId}\n          optionRender={renderVisit}\n          hasNullOption={false}\n          options={[ORIGIN_OF_TRIP, ...availableVisitsIds]}\n          value={departureVisitId}\n        />\n        <OptionsSelect\n          caption=\"Прибытие в\"\n          inputId=\"RideEditCard-arrivalVisitId\"\n          onChange={setArrivalVisitId}\n          hasNullOption={false}\n          optionRender={renderVisit}\n          options={[...availableVisitsIds, ORIGIN_OF_TRIP]}\n          value={arrivalVisitId}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Транспорт\"\n          inputId=\"RideEditCard-VehicleTypeOptions\"\n          onChange={setVehicleType}\n          optionRender={renderVehicleType}\n          options={Object.values(VEHICLE_TYPES)}\n          value={vehicleType}\n        />\n        <OptionsSelect\n          caption=\"Тип поездки\"\n          inputId=\"RideEditCard-RideTypeOptions\"\n          onChange={setRideType}\n          optionRender={renderRideType}\n          options={Object.values(RIDE_TYPES)}\n          value={rideType}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <OptionsSelect\n          caption=\"Класс поездки\"\n          inputId=\"RideEditCard-RideClassOptions\"\n          onChange={setRideClass}\n          optionRender={renderRideClass}\n          options={Object.values(RIDE_CLASSES)}\n          value={rideClass}\n        />\n        <OptionsSelect\n          caption=\"Роль\"\n          inputId=\"RideEditCard-RideOccupationOptions\"\n          onChange={setRideOccupation}\n          optionRender={renderRideOccupation}\n          options={Object.values(RIDE_OCCUPATION)}\n          value={rideOccupation}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <DatePicker\n          autoOk={true}\n          className={classes.option}\n          label=\"Дата отправления\"\n          onChange={setDepartureDateTime}\n          value={departureDateTime}\n        />\n        <TimePicker\n          ampm={false}\n          autoOk={true}\n          className={classes.option}\n          label=\"Время отправления\"\n          onChange={setDepartureDateTime}\n          value={departureDateTime}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <DatePicker\n          autoOk={true}\n          className={classes.option}\n          label=\"Дата прибытия\"\n          onChange={setArrivalDateTime}\n          value={arrivalDateTime}\n        />\n        <TimePicker\n          ampm={false}\n          autoOk={true}\n          className={classes.option}\n          label=\"Время прибытия\"\n          onChange={setArrivalDateTime}\n          value={arrivalDateTime}\n        />\n      </div>\n      <div className={classes.optionGroup}>\n        <TextField\n          className={classes.option}\n          label=\"Комментарий\"\n          multiline={true}\n          onChange={setRideComment}\n          rows={1}\n          rowsMax={12}\n          value={rideComment}\n        />\n      </div>\n    </>\n  );\n};\n\nRideEditCard.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\nRideEditCard.defaultProps = {\n  className: undefined,\n};\n\nexport default withStyles(styles)(RideEditCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport RideEditCard, { useRideState } from './blocks/RideEditCard';\n\nconst RideEditDialog = ({\n  availableVisits,\n  initialState,\n  children,\n  className,\n  onSubmit: handleSubmit,\n  originLocation,\n}) => {\n  const { rideState, setRideState } = useRideState(initialState);\n  const [isOpen, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const handleSubmitInternal = () => {\n    handleSubmit(rideState);\n    handleClose(false);\n  };\n\n  return (\n    <div className={className}>\n      <IconButton\n        data-sort-handler=\"disabled\"\n        size=\"small\"\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={handleClickOpen}\n      >\n        {children}\n      </IconButton>\n      {isOpen && (\n        <Dialog\n          transitionDuration={500}\n          open={true}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Транспорт</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Как вы добрались в место назначения и как уехали из него?\n            </DialogContentText>\n            <RideEditCard\n              availableVisits={availableVisits}\n              rideState={rideState}\n              setRideState={setRideState}\n              originLocation={originLocation}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              Отмена\n            </Button>\n            <Button onClick={handleSubmitInternal} color=\"primary\">\n              Сохранить\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </div>\n  );\n};\n\nRideEditDialog.propTypes = {\n  availableVisits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  initialState: PropTypes.shape(ridePropTypes).isRequired,\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  onSubmit: PropTypes.func.isRequired,\n  originLocation: PropTypes.shape(locationsPropTypes).isRequired,\n};\nRideEditDialog.defaultProps = {\n  className: undefined,\n  availableVisits: [],\n};\n\nexport default RideEditDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport BikeIcon from '@material-ui/icons/DirectionsBike';\nimport BoatIcon from '@material-ui/icons/DirectionsBoat';\nimport BusIcon from '@material-ui/icons/DirectionsBus';\nimport CarIcon from '@material-ui/icons/DirectionsCar';\nimport CustomTransportIcon from '@material-ui/icons/Commute';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport MotorcycleIcon from '@material-ui/icons/Motorcycle';\nimport TerrainIcon from '@material-ui/icons/Terrain';\nimport TrainIcon from '@material-ui/icons/Train';\nimport TruckIcon from '@material-ui/icons/LocalShipping';\nimport VanIcon from '@material-ui/icons/AirportShuttle';\nimport WalkIcon from '@material-ui/icons/DirectionsWalk';\nimport TramIcon from '@material-ui/icons/Tram';\nimport LocalTaxiIcon from '@material-ui/icons/LocalTaxi';\nimport SubwayIcon from '@material-ui/icons/Subway';\nimport SeatIcon from '@material-ui/icons/AirlineSeatReclineNormal';\nimport HichHikingIcon from '@material-ui/icons/ThumbUp';\nimport UnknownRideIcon from '@material-ui/icons/NotListedLocation';\nimport arrivalDepartureDateTimeToString from 'modules/utilities/dateTime/arrivalDepartureDateTimeToString';\nimport { VEHICLE_TYPES, RIDE_TYPES } from 'travel/models/rides/consts';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport initializeRide from 'travel/models/rides/initialize';\nimport RideEditDialog from 'travel/components/models/rides/RideEditDialog';\n\nconst resolveRideIconComponent = vehicleType => {\n  switch (vehicleType) {\n    case VEHICLE_TYPES.CAR:\n      return CarIcon;\n    case VEHICLE_TYPES.TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.AIRCRAFT:\n      return FlightIcon;\n    case VEHICLE_TYPES.BUS:\n    case VEHICLE_TYPES.TROLLEY:\n    case VEHICLE_TYPES.CITY_BUS:\n      return BusIcon;\n    case VEHICLE_TYPES.MOTORHOME:\n    case VEHICLE_TYPES.JITNEY:\n      return VanIcon;\n    case VEHICLE_TYPES.LOCAL_TRAIN:\n      return TrainIcon;\n    case VEHICLE_TYPES.FERRY:\n      return BoatIcon;\n    case VEHICLE_TYPES.BIKE:\n      return BikeIcon;\n    case VEHICLE_TYPES.BY_FEET:\n      return WalkIcon;\n    case VEHICLE_TYPES.MOTORBIKE:\n      return MotorcycleIcon;\n    case VEHICLE_TYPES.TRUCK:\n      return TruckIcon;\n    case VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:\n      return TerrainIcon;\n    case VEHICLE_TYPES.TRAM:\n      return TramIcon;\n    case VEHICLE_TYPES.TAXI:\n      return LocalTaxiIcon;\n    case VEHICLE_TYPES.SUBWAY:\n      return SubwayIcon;\n    case VEHICLE_TYPES.PUBLIC_TRANSPORT:\n      return SeatIcon;\n    case VEHICLE_TYPES.ROPEWAY:\n    case VEHICLE_TYPES.FUNICULAR:\n    default:\n      return CustomTransportIcon;\n  }\n};\n\nexport const styles = {\n  container: {\n    display: 'inline-block',\n  },\n  icon: {\n    marginRight: '4px',\n    display: 'inline-block',\n    verticalAlign: 'text-bottom',\n  },\n  details: {\n    marginRight: '4px',\n  },\n  editDialogTrigger: {\n    display: 'inline-block',\n  },\n};\n\nconst Ride = ({\n  availableVisits,\n  originLocation,\n  classes,\n  className,\n  defaultArrivalVisitId,\n  defaultDepartureVisitId,\n  isEditable,\n  onRideUpdate: handleRideUpdate,\n  ride,\n  ride: { rideId, vehicleType, rideType, arrivalDateTime, departureDateTime },\n  showDetails,\n}) => {\n  const rideInitialState = rideId\n    ? ride\n    : initializeRide({\n        defaultDepartureVisitId,\n        defaultArrivalVisitId,\n      });\n\n  const Icon = rideId ? resolveRideIconComponent(vehicleType) : UnknownRideIcon;\n\n  const iconNode = <Icon className={classes.icon} />;\n  const rideNode = isEditable ? (\n    <RideEditDialog\n      className={classes.editDialogTrigger}\n      initialState={rideInitialState}\n      availableVisits={availableVisits}\n      onSubmit={updatedRide => handleRideUpdate({ ...ride, ...updatedRide })}\n      originLocation={originLocation}\n    >\n      {iconNode}\n    </RideEditDialog>\n  ) : (\n    iconNode\n  );\n\n  return (\n    <div className={cls(className, classes.container)}>\n      {rideType === RIDE_TYPES.HITCH_HIKING && (\n        <HichHikingIcon className={classes.icon} />\n      )}\n      {rideNode}\n      {Boolean(rideId && showDetails) && (\n        <span className={classes.details}>\n          {arrivalDepartureDateTimeToString(departureDateTime, arrivalDateTime)}\n        </span>\n      )}\n    </div>\n  );\n};\n\nRide.propTypes = {\n  availableVisits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  className: PropTypes.string,\n  defaultArrivalVisitId: PropTypes.number,\n  defaultDepartureVisitId: PropTypes.number,\n  isEditable: PropTypes.bool,\n  onRideUpdate: PropTypes.func.isRequired,\n  originLocation: PropTypes.shape(locationsPropTypes).isRequired,\n  ride: PropTypes.shape(ridePropTypes),\n  showDetails: PropTypes.bool,\n};\n\nRide.defaultProps = {\n  availableVisits: [],\n  className: undefined,\n  defaultArrivalVisitId: undefined,\n  defaultDepartureVisitId: undefined,\n  isEditable: false,\n  ride: {},\n  showDetails: false,\n};\n\nexport default withStyles(styles)(Ride);\n","export default (departureDateTime, arrivalDateTime) => {\n  const arrivalDateTimeString =\n    Boolean(arrivalDateTime) && arrivalDateTime.toLocaleDateString();\n  const departureDateTimeString =\n    Boolean(departureDateTime) && departureDateTime.toLocaleDateString();\n  if (arrivalDateTimeString === departureDateTimeString) {\n    return arrivalDateTimeString;\n  }\n  return `${departureDateTimeString}—${arrivalDateTimeString}`;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconDragHandle from '@material-ui/icons/DragHandle';\n\nconst styles = {\n  dragHandler: {\n    cursor: 'grab',\n    marginLeft: '4px',\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    display: 'inline-block',\n  },\n};\n\nconst DragHandler = ({ className, classes }) => (\n  <IconDragHandle\n    className={cls(className, classes.dragHandler)}\n    data-sort-handler=\"enabled\"\n  />\n);\n\nDragHandler.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nDragHandler.defaultProps = { className: undefined };\n\nexport default withStyles(styles)(DragHandler);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport Visit from 'travel/components/models/visits/Visit';\nimport Ride from './Ride';\nimport DragHandler from './DragHandler';\n\nconst styles = {\n  alwaysVisible: {},\n  container: {\n    position: 'relative',\n    '&:hover $editDialogTrigger': {\n      visibility: 'visible',\n    },\n    '&:hover $visibleOnlyOnHover': {\n      visibility: 'visible',\n    },\n    // '&:hover $ride, $alwaysVisible': {\n    //   display: 'inline-block',\n    // },\n  },\n  editDialogTrigger: {\n    marginLeft: '4px',\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    display: 'inline-block',\n    visibility: 'hidden',\n  },\n  visibleOnlyOnHover: {\n    visibility: 'hidden',\n  },\n  ride: {\n    // display: 'none',\n  },\n  warning: {\n    color: 'red',\n  },\n};\n\nconst VisitWithRides = ({\n  visit,\n  visit: { visitId, arrivalRideId, departureRideId } = {},\n  ridesDict,\n  classes,\n  prevVisitId,\n  nextVisitId,\n  tripVisitsList,\n  isEditable,\n  isSortable,\n  isSorting,\n  isArrivalRideMatch,\n  isDepartureRideMatch,\n  onRideUpdate: handleRideUpdate,\n  onVisitUpdate: handleVisitUpdate,\n  originLocation,\n}) => {\n  const shouldWarnForArrivalRide = isEditable && !isArrivalRideMatch;\n  const shouldWarnForDepartureRide = isEditable && !isDepartureRideMatch;\n\n  return (\n    <div className={classes.container}>\n      <Ride\n        availableVisits={tripVisitsList}\n        defaultDepartureVisitId={prevVisitId}\n        defaultArrivalVisitId={visitId}\n        visitId={visitId}\n        isEditable={isEditable}\n        className={cls(classes.ride, {\n          [classes.alwaysVisible]: isSorting || !isDepartureRideMatch,\n          [classes.warning]: shouldWarnForArrivalRide,\n        })}\n        ride={ridesDict[arrivalRideId]}\n        showDetails={isSorting || shouldWarnForArrivalRide}\n        onRideUpdate={handleRideUpdate}\n        originLocation={originLocation}\n      />\n      <Visit\n        classes={{ editIcon: classes.visibleOnlyOnHover }}\n        isEditable={isEditable}\n        onVisitUpdate={handleVisitUpdate}\n        visit={visit}\n      />\n      {(!isDepartureRideMatch || isSorting) && (\n        <Ride\n          className={cls(classes.ride, {\n            [classes.alwaysVisible]: isSorting || !isDepartureRideMatch,\n            [classes.warning]: shouldWarnForDepartureRide,\n          })}\n          ride={ridesDict[departureRideId]}\n          availableVisits={tripVisitsList}\n          defaultDepartureVisitId={visitId}\n          defaultArrivalVisitId={nextVisitId}\n          isEditable={isEditable && !isDepartureRideMatch}\n          showDetails={isSorting || shouldWarnForDepartureRide}\n          onRideUpdate={handleRideUpdate}\n          originLocation={originLocation}\n        />\n      )}\n      {isSortable &&\n        !isSorting && <DragHandler className={classes.visibleOnlyOnHover} />}\n    </div>\n  );\n};\n\nVisitWithRides.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n  isArrivalRideMatch: PropTypes.bool,\n  isDepartureRideMatch: PropTypes.bool,\n  isEditable: PropTypes.bool,\n  isSortable: PropTypes.bool,\n  isSorting: PropTypes.bool,\n  nextVisitId: PropTypes.number,\n  onRideUpdate: PropTypes.func.isRequired,\n  onVisitUpdate: PropTypes.func.isRequired,\n  originLocation: PropTypes.shape(locationsPropTypes).isRequired,\n  prevVisitId: PropTypes.number,\n  ridesDict: PropTypes.objectOf(PropTypes.shape(ridePropTypes)).isRequired,\n  tripVisitsList: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  visit: PropTypes.shape(visitPropTypes).isRequired,\n};\n\nVisitWithRides.defaultProps = {\n  isArrivalRideMatch: true,\n  isDepartureRideMatch: true,\n  isEditable: false,\n  isSortable: false,\n  isSorting: false,\n  nextVisitId: null,\n  prevVisitId: null,\n  tripVisitsList: [],\n};\n\nexport default withStyles(styles)(VisitWithRides);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport EditIcon from '@material-ui/icons/Edit';\nimport initializeVisit from 'travel/models/visits/initialize';\nimport VisitEditDialog from 'travel/components/models/visits/VisitEditDialog';\nimport DragHandler from './DragHandler';\n\nconst styles = {\n  visibleOnlyOnHover: {\n    visibility: 'hidden',\n  },\n  draggableContainer: {\n    position: 'relative',\n    '&:hover $visibleOnlyOnHover': {\n      visibility: 'visible',\n    },\n  },\n};\n\nconst VisitCreator = ({\n  classes,\n  isSorting,\n  onVisitUpdate: handleVisitUpdate,\n}) => (\n  <div className={cls({ [classes.draggableContainer]: !isSorting })}>\n    <span>Добавить поездку</span>\n    <VisitEditDialog\n      initialState={initializeVisit()}\n      onSubmit={handleVisitUpdate}\n    >\n      <EditIcon className={classes.visibleOnlyOnHover} />\n    </VisitEditDialog>\n    <DragHandler className={classes.visibleOnlyOnHover} />\n  </div>\n);\n\nVisitCreator.propTypes = {\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  isSorting: PropTypes.bool,\n  onVisitUpdate: PropTypes.func.isRequired,\n};\n\nVisitCreator.defaultProps = {\n  isSorting: false,\n};\n\nexport default withStyles(styles)(VisitCreator);\n","export default () => ({\n  visitType: null,\n  visitComment: '',\n});\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport IconHome from '@material-ui/icons/Home';\nimport EditIcon from '@material-ui/icons/Edit';\nimport checkIsNodeNotSortable from 'modules/utilities/dom/checkIsNodeNotSortable';\nimport { withItem } from 'modules/utilities/types/array';\nimport checkIsVisitsConnectedByRide from 'travel/utils/checkIsVisitsConnectedByRide';\nimport locationPropTypes from 'travel/models/locations/propTypes';\nimport ridePropTypes from 'travel/models/rides/propTypes';\nimport tripPropTypes from 'travel/models/trips/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport Location from 'travel/components/models/locations/Location';\nimport TripEditDialog from 'travel/components/models/trips/TripEditDialog';\nimport VisitWithRides from './VisitWithRides';\nimport Ride from './Ride';\nimport VisitCreator from './VisitCreator';\n\nconst SortableTrip = SortableContainer(({ children }) => <div>{children}</div>);\nconst SortableVisitWithRides = SortableElement(\n  ({ replaceWithNode, onVisitUpdate: handleVisitUpdate, ...props }) =>\n    replaceWithNode || (\n      <VisitWithRides onVisitUpdate={handleVisitUpdate} {...props} />\n    ),\n);\n\nconst resolveVisitsWindow = (tripVisitsList, indexOfVisit, overstepIndex) => {\n  const prevVisitIndex =\n    indexOfVisit - 1 - (indexOfVisit > overstepIndex ? 1 : 0);\n  const nextVisitIndex =\n    indexOfVisit + 1 - (indexOfVisit + 1 > overstepIndex ? 1 : 0);\n  const prevVisit = prevVisitIndex >= 0 ? tripVisitsList[prevVisitIndex] : null;\n  const nextVisit =\n    nextVisitIndex < tripVisitsList.length\n      ? tripVisitsList[nextVisitIndex]\n      : null;\n  return [prevVisit, nextVisit];\n};\n\nconst Trip = ({\n  isEditable,\n  locationsDict,\n  onRideUpdate: handleRideUpdate,\n  onVisitsOrderUpdate: handleVisitsOrderUpdate,\n  ridesDict,\n  trip,\n  trip: { tripId, originLocationId, tripName },\n  tripIndex,\n  tripVisitsList,\n  onTripUpdate: handleTripUpdate,\n  onVisitUpdate: handleVisitUpdate,\n  storyUrl,\n}) => {\n  const isSortable = isEditable;\n  const [isSorting, setIsSorting] = useState(false);\n  const [addVisitControlIndex, setAddVisitControlIndex] = useState(\n    tripVisitsList.length,\n  );\n  const handleSortEnd = (data, event) => {\n    setIsSorting(false);\n    const { oldIndex, newIndex } = data;\n    if (oldIndex === addVisitControlIndex) {\n      setAddVisitControlIndex(newIndex);\n    } else {\n      handleVisitsOrderUpdate(event, {\n        oldIndex: oldIndex > addVisitControlIndex ? oldIndex - 1 : oldIndex,\n        newIndex: newIndex > addVisitControlIndex ? newIndex - 1 : newIndex,\n        collection: tripVisitsList,\n      });\n    }\n  };\n\n  const VisitWithRidesComponent = isSortable\n    ? SortableVisitWithRides\n    : VisitWithRides;\n\n  const actualTripVisitsList = !isEditable\n    ? tripVisitsList\n    : withItem(\n        tripVisitsList,\n        { isItVisitCreatorControl: true },\n        addVisitControlIndex,\n      );\n  const visitsNodes = actualTripVisitsList.map((visit, indexOfVisit) => {\n    const { isItVisitCreatorControl, visitId } = visit;\n    if (isItVisitCreatorControl) {\n      return (\n        <SortableVisitWithRides\n          key=\"visitCreator\"\n          index={indexOfVisit}\n          replaceWithNode={\n            <VisitCreator\n              isSorting={isSorting}\n              onVisitUpdate={newVisit =>\n                handleVisitUpdate(newVisit, {\n                  indexInCollection: addVisitControlIndex,\n                  collection: tripVisitsList,\n                  tripId,\n                })\n              }\n            />\n          }\n        />\n      );\n    }\n    const [prevVisit, nextVisit] = resolveVisitsWindow(\n      tripVisitsList,\n      indexOfVisit,\n      addVisitControlIndex,\n    );\n    const { visitId: prevVisitId } = prevVisit || {};\n    const { visitId: nextVisitId } = nextVisit || {};\n    return (\n      <VisitWithRidesComponent\n        index={indexOfVisit /* for SortableVisitWithRides */}\n        isArrivalRideMatch={checkIsVisitsConnectedByRide(prevVisit, visit)}\n        isDepartureRideMatch={checkIsVisitsConnectedByRide(visit, nextVisit)}\n        isEditable={isEditable}\n        isSortable={isSortable}\n        isSorting={isSorting}\n        key={visitId}\n        nextVisitId={nextVisitId}\n        onRideUpdate={handleRideUpdate}\n        onVisitUpdate={handleVisitUpdate}\n        originLocation={locationsDict[originLocationId]}\n        prevVisitId={prevVisitId}\n        ridesDict={ridesDict}\n        tripVisitsList={tripVisitsList}\n        visit={visit}\n      />\n    );\n  });\n\n  const wrappedVisitsNodes = isSortable ? (\n    <SortableTrip\n      onSortEnd={handleSortEnd}\n      shouldCancelStart={checkIsNodeNotSortable}\n      updateBeforeSortStart={() => setIsSorting(true)}\n      lockAxis=\"y\"\n      lockToContainerEdges={true}\n    >\n      {visitsNodes}\n    </SortableTrip>\n  ) : (\n    <div>{visitsNodes}</div>\n  );\n\n  const originLocationNode = (\n    <Location location={locationsDict[originLocationId]} Icon={IconHome} />\n  );\n\n  const tripEditControlsNode = (\n    <TripEditDialog\n      initialState={trip}\n      onSubmit={updatedTrip => handleTripUpdate({ ...trip, ...updatedTrip })}\n    >\n      <EditIcon />\n    </TripEditDialog>\n  );\n\n  const lastVisit = tripVisitsList[tripVisitsList.length - 1];\n  const lastButOneVisit = tripVisitsList[tripVisitsList.length - 2];\n  const { departureRideId: rideToOriginId, visitId: recentVisitId } =\n    lastVisit || {};\n  const rideToOriginNode = (\n    <Ride\n      availableVisits={tripVisitsList}\n      defaultDepartureVisitId={recentVisitId}\n      isEditable={isEditable}\n      onRideUpdate={handleRideUpdate}\n      originLocation={locationsDict[originLocationId]}\n      ride={ridesDict[rideToOriginId]}\n      showDetails={\n        isSorting || checkIsVisitsConnectedByRide(lastButOneVisit, lastVisit)\n      }\n    />\n  );\n\n  const hasStory = tripVisitsList.some(\n    ({ visitComment, arrivalRideId, departureRideId }) => {\n      if (visitComment) {\n        return true;\n      }\n      const { rideComment: arrivalRideComment } =\n        ridesDict[arrivalRideId] || {};\n      if (arrivalRideComment) {\n        return true;\n      }\n      const { rideComment: departureRideComment } =\n        ridesDict[departureRideId] || {};\n      return Boolean(departureRideComment);\n    },\n  );\n  return (\n    <>\n      <h1>\n        {`${tripIndex + 1}. ${tripName}`}\n        {isEditable && tripEditControlsNode}\n      </h1>\n      {originLocationNode}\n      {wrappedVisitsNodes}\n\n      {rideToOriginNode}\n      {originLocationNode}\n      {hasStory && (\n        <div>\n          <Link to={storyUrl}>Заметки</Link>\n        </div>\n      )}\n    </>\n  );\n};\nTrip.propTypes = {\n  tripIndex: PropTypes.number.isRequired,\n  isEditable: PropTypes.bool,\n  locationsDict: PropTypes.objectOf(PropTypes.shape(locationPropTypes))\n    .isRequired,\n  onRideUpdate: PropTypes.func.isRequired,\n  onTripUpdate: PropTypes.func.isRequired,\n  onVisitsOrderUpdate: PropTypes.func.isRequired,\n  ridesDict: PropTypes.objectOf(PropTypes.shape(ridePropTypes)).isRequired,\n  trip: PropTypes.shape(tripPropTypes).isRequired,\n  tripVisitsList: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\n\nTrip.defaultProps = {\n  isSortable: false,\n  tripVisitsList: [],\n};\n\nexport default Trip;\n","import createOrderCalculator from 'modules/utilities/algorithms/createOrderCalculator';\n\nconst calcOrder = createOrderCalculator({\n  orderResolver: ({ orderInTrip }) => orderInTrip,\n});\n\nexport const submitOrderInTrip = ({ oldIndex, newIndex, collection }) => ({\n  modelName: 'visits',\n  query: {\n    id: collection[oldIndex].visitId,\n    body: {\n      orderInTrip: calcOrder({ index: newIndex, collection }),\n    },\n  },\n  meta: {\n    domain: 'trips.visits.sort',\n  },\n});\n\nexport const submitRide = ({ ride, ride: { rideId } }) => ({\n  modelName: 'rides',\n  query: {\n    id: rideId,\n    body: ride,\n  },\n  meta: {\n    domain: 'trips.visits.rides',\n  },\n});\n\nexport const submitTrip = ({ trip, trip: { tripId } }) => ({\n  modelName: 'trips',\n  query: {\n    id: tripId,\n    body: trip,\n  },\n  meta: {\n    domain: 'trips.visits.trips',\n  },\n});\n\nexport const submitVisit = ({\n  visit,\n  visit: { visitId },\n  tripId,\n  indexInCollection,\n  collection,\n}) => ({\n  modelName: 'visits',\n  query: {\n    id: visitId,\n    body: {\n      ...visit,\n      tripId,\n      orderInTrip:\n        indexInCollection || indexInCollection === 0\n          ? calcOrder({ index: indexInCollection, collection })\n          : undefined,\n    },\n  },\n  meta: {\n    domain: 'trips.visits.visit',\n  },\n});\n","const INITIAL_ORDER = 100;\nexport default ({ orderResolver: resolveOrder }) => ({ index, collection }) => {\n  if (!collection.length) {\n    return INITIAL_ORDER;\n  }\n  if (index <= 0) {\n    return resolveOrder(collection[0]) - 1;\n  }\n  if (index >= collection.length - 1) {\n    return resolveOrder(collection[collection.length - 1]) + 1;\n  }\n  const prevOrder = resolveOrder(collection[index - 1]);\n  const nextOrder = resolveOrder(collection[index]);\n  const randomness = ((Math.random() - 0.5) * (nextOrder - prevOrder)) / 2;\n  return (prevOrder + nextOrder) / 2 + randomness;\n};\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport compose from 'lodash/fp/compose';\nimport uniq from 'lodash/uniq';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { memoizeByLastArgs } from 'modules/utilities/memo';\nimport { selectDict, selectProvisionStatus } from 'core/connection';\nimport withProvision from 'core/connection/withProvision';\nimport { withPaths, pathsPropTypes } from 'core/context/AppContext';\nimport { authContextPropTypes, useAuthContext } from 'core/context/AuthContext';\nimport WelcomeScreen from 'travel/components/common/WelcomeScreen';\nimport TripEditDialog from 'travel/components/models/trips/TripEditDialog';\nimport locationsPropTypes from 'travel/models/locations/propTypes';\nimport ridesPropTypes from 'travel/models/rides/propTypes';\nimport initializeTrip from 'travel/models/trips/initialize';\nimport { groupAndSortVisitsByTrips } from 'travel/models/trips/utils';\nimport tripPropTypes from 'travel/models/trips/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport Trip from './blocks/Trip';\nimport {\n  submitRide,\n  submitOrderInTrip,\n  submitTrip,\n  submitVisit,\n} from './actionCreators';\n\nconst memoizedGroupAndSortVisitsByTrips = memoizeByLastArgs(\n  groupAndSortVisitsByTrips,\n);\n\nconst Trips = ({\n  trips: { data: tripsList = [] } = {},\n  visits: { data: visitsList = [] } = {},\n  locationsDict,\n  namedPaths,\n  ridesDict,\n  request,\n}) => {\n  const { isAuthenticated: isEditable } = useAuthContext();\n\n  const handleVisitsOrderUpdate = useCallback(\n    (event, { oldIndex, newIndex, collection }) => {\n      if (oldIndex !== newIndex) {\n        request(submitOrderInTrip({ oldIndex, newIndex, collection }));\n      }\n    },\n    [request],\n  );\n\n  const handleRideUpdate = useCallback(\n    ride =>\n      request(\n        submitRide({\n          ride,\n        }),\n      ),\n    [request],\n  );\n\n  const handleTripUpdate = useCallback(\n    trip =>\n      request(\n        submitTrip({\n          trip,\n        }),\n      ),\n    [request],\n  );\n\n  const handleVisitUpdate = useCallback(\n    (visit, { indexInCollection, collection, tripId } = {}) =>\n      request(\n        submitVisit({\n          visit,\n          tripId,\n          indexInCollection,\n          collection,\n        }),\n      ),\n    [request],\n  );\n\n  const addTripNode = (\n    <TripEditDialog initialState={initializeTrip()} onSubmit={handleTripUpdate}>\n      <EditIcon />\n    </TripEditDialog>\n  );\n  if (!tripsList.length) {\n    return (\n      <WelcomeScreen shouldShowLinkToTrips={false}>{addTripNode}</WelcomeScreen>\n    );\n  }\n\n  const visitsGroupedByTrips = memoizedGroupAndSortVisitsByTrips(visitsList);\n  return (\n    <>\n      {isEditable && addTripNode}\n      {tripsList.map((trip, tripIndex) => {\n        const { tripId } = trip;\n        return (\n          <div key={tripId}>\n            <Trip\n              locationsDict={locationsDict}\n              onRideUpdate={handleRideUpdate}\n              onTripUpdate={handleTripUpdate}\n              onVisitUpdate={handleVisitUpdate}\n              onVisitsOrderUpdate={handleVisitsOrderUpdate}\n              ridesDict={ridesDict}\n              trip={trip}\n              tripIndex={tripIndex}\n              tripVisitsList={visitsGroupedByTrips[tripId]}\n              isEditable={isEditable}\n              storyUrl={namedPaths.travel.tripStory.toUrl({\n                strTripId: String(tripId),\n              })}\n            />\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nTrips.propTypes = {\n  namedPaths: pathsPropTypes.namedPaths.isRequired,\n  isAuthenticated: authContextPropTypes.isAuthenticated.isRequired,\n  request: PropTypes.func.isRequired,\n  trips: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(tripPropTypes)),\n  }).isRequired,\n  visits: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  }).isRequired,\n  ridesDict: PropTypes.objectOf(PropTypes.shape(ridesPropTypes)).isRequired,\n  locationsDict: PropTypes.objectOf(PropTypes.shape(locationsPropTypes))\n    .isRequired,\n};\n\nconst mapStateToRequirements = (\n  state,\n  {\n    locationsDict = {},\n    match: {\n      params: { userAlias },\n    },\n  },\n  { userAlias: prevUserAlias } = {},\n) => {\n  const { isComplete: isUserTripsFetchComplete, fallback } =\n    selectProvisionStatus(state, 'trips.trips') || {};\n  const { data: userTripsIds = [] } = fallback[0] || {};\n  const tripsDict = selectDict(state, 'trips');\n  const requiredLocationsIds = uniq(\n    userTripsIds.reduce((memo, tripId) => {\n      const trip = tripsDict[tripId];\n      if (trip) {\n        const { originLocationId } = trip;\n        if (originLocationId) {\n          memo.push(originLocationId);\n        }\n      }\n      return memo;\n    }, []),\n  );\n  const missingLocationsIds = requiredLocationsIds.filter(\n    requiredLocationId => !locationsDict[requiredLocationId],\n  );\n  const isUserChanged = prevUserAlias !== userAlias;\n  return {\n    identity: {\n      userAlias,\n      userTripsIds,\n      missingLocationsIds,\n    },\n    require: {\n      locations: {\n        modelName: 'locations',\n        isMissingIf: missingLocationsIds.length,\n        query: {\n          filter: {\n            id: { comparator: 'in', value: missingLocationsIds },\n          },\n          navigation: { isDisabled: true },\n        },\n      },\n      trips: {\n        modelName: 'trips',\n        isMissingIf: isUserChanged,\n        query: { userAlias, navigation: { isDisabled: true } },\n      },\n      rides: {\n        modelName: 'rides',\n        isMissingIf: isUserTripsFetchComplete && userTripsIds.length,\n        query: {\n          filter: { trip_id: { comparator: 'in', value: userTripsIds } },\n          navigation: { isDisabled: true },\n        },\n      },\n      visits: {\n        modelName: 'visits',\n        isMissingIf: isUserTripsFetchComplete && userTripsIds.length,\n        query: {\n          filter: { trip_id: { comparator: 'in', value: userTripsIds } },\n          navigation: { isDisabled: true },\n        },\n      },\n    },\n    meta: { domain: 'trips' },\n  };\n};\n\nconst mapStateToProps = state => ({\n  locationsDict: selectDict(state, 'locations'),\n  ridesDict: selectDict(state, 'rides'),\n});\n\nexport default compose(\n  withRouter,\n  withPaths,\n  withProvision(mapStateToRequirements, mapStateToProps),\n)(Trips);\n","export default () => ({\n  tripType: null,\n});\n"],"sourceRoot":""}