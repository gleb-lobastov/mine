(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1001:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));const r=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},i=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.round(12.92*t*255+.5):Math.round(255*(1.055*Math.pow(t,1/2.4)-.055)+.5)},a=(e,t)=>(e<0?-1:1)*Math.pow(Math.abs(e),t)},1002:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}}},1003:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],i=e=>{let t=0;for(let n=0;n<e.length;n++){const i=e[n];t=83*t+r.indexOf(i)}return t},a=(e,t)=>{var n="";for(let i=1;i<=t;i++){let a=Math.floor(e)/Math.pow(83,t-i)%83;n+=r[Math.floor(a)]}return n}},1025:function(e,t,n){"use strict";var r=n(7),i=n(223),a=n(109),o=n(65),l=n(31),s=n(530),c=n(38),u=l("toStringTag"),f=function(){i(this,s)};f.prototype=s,o(s,u)||a(s,u,"AsyncIterator"),!c&&o(s,"constructor")&&s.constructor!==Object||a(s,"constructor",f),r({global:!0,forced:c},{AsyncIterator:f})},1026:function(e,t,n){"use strict";var r=n(7),i=n(288).toArray;r({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this,void 0,[])}})},1027:function(e,t,n){"use strict";var r=n(7),i=n(52),a=n(13),o=[].push;r({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return i(a(this),o,{that:e,IS_ITERATOR:!0}),e}})},1030:function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));n(64),n(71),n(72),n(73),n(14),n(29),n(46),n(12),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(37),n(23),n(35),n(26),n(27),n(22),n(28),n(50),n(36),n(43),n(44),n(45),n(51),n(49);var r=n(0),i=n.n(r),a=n(826),o=n(115),l=n.n(o),s=n(1182),c=n.n(s),u=n(811),f=(n(89),n(105),n(1183)),d=n.n(f),p=["placeholder","children"];function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e){var t=e.placeholder,n=e.children,a=b(e,p),o=v(Object(r.useState)(!1),2),l=o[0],s=o[1],c=Object(r.useCallback)((function(){return s(!0)}),[]);return i.a.createElement(i.a.Fragment,null,!l&&t,i.a.createElement(d.a,h({},a,{onContentVisible:c}),n))}var y=n(1003),O=n(1001),E=n(1002);const T=e=>{if(!e||e.length<6)throw new E.a("The blurhash string must be at least 6 characters");const t=Object(y.a)(e[0]),n=Math.floor(t/9)+1,r=t%9+1;if(e.length!==4+2*r*n)throw new E.a(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*r*n}`)},I=e=>{const t=e>>16,n=e>>8&255,r=255&e;return[Object(O.b)(t),Object(O.b)(n),Object(O.b)(r)]},w=(e,t)=>{const n=Math.floor(e/361),r=Math.floor(e/19)%19,i=e%19;return[Object(O.c)((n-9)/9,2)*t,Object(O.c)((r-9)/9,2)*t,Object(O.c)((i-9)/9,2)*t]};var S,_=(e,t,n,r)=>{T(e),r|=1;const i=Object(y.a)(e[0]),a=Math.floor(i/9)+1,o=i%9+1,l=(Object(y.a)(e[1])+1)/166,s=new Array(o*a);for(let t=0;t<s.length;t++)if(0===t){const n=Object(y.a)(e.substring(2,6));s[t]=I(n)}else{const n=Object(y.a)(e.substring(4+2*t,6+2*t));s[t]=w(n,l*r)}const c=4*t,u=new Uint8ClampedArray(c*n);for(let e=0;e<n;e++)for(let r=0;r<t;r++){let i=0,l=0,f=0;for(let c=0;c<a;c++)for(let a=0;a<o;a++){const u=Math.cos(Math.PI*r*a/t)*Math.cos(Math.PI*e*c/n);let d=s[a+c*o];i+=d[0]*u,l+=d[1]*u,f+=d[2]*u}let d=Object(O.a)(i),p=Object(O.a)(l),h=Object(O.a)(f);u[4*r+0+e*c]=d,u[4*r+1+e*c]=p,u[4*r+2+e*c]=h,u[4*r+3+e*c]=255}return u},A=(S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.handleRef=function(e){t.canvas=e,t.draw()},t.draw=function(){var e=t.props,n=e.hash,r=e.height,i=e.punch,a=e.width;if(t.canvas){var o=_(n,a,r,i),l=t.canvas.getContext("2d"),s=l.createImageData(a,r);s.data.set(o),l.putImageData(s,0,0)}},t}return A(t,e),t.prototype.componentDidUpdate=function(){this.draw()},t.prototype.render=function(){var e=this.props,t=(e.hash,e.height),n=e.width,i=R(e,["hash","height","width"]);return r.createElement("canvas",j({},i,{height:t,width:n,ref:this.handleRef}))},t.defaultProps={height:128,width:128},t}(r.PureComponent),P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},D={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.componentDidUpdate=function(){if(this.props.resolutionX<=0)throw new Error("resolutionX must be larger than zero");if(this.props.resolutionY<=0)throw new Error("resolutionY must be larger than zero")},t.prototype.render=function(){var e=this.props,t=e.hash,n=e.height,i=e.width,a=e.punch,o=e.resolutionX,l=e.resolutionY,s=e.style,c=L(e,["hash","height","width","punch","resolutionX","resolutionY","style"]);return r.createElement("div",C({},c,{style:C(C({display:"inline-block",height:n,width:i},s),{position:"relative"})}),r.createElement(N,{hash:t,height:l,width:o,punch:a,style:D}))},t.defaultProps={height:128,width:128,resolutionX:32,resolutionY:32},t}(r.PureComponent),k=n(850),M=n.n(k),V=["aspectRatio","className","require","tag","src","alt","blurhash","constraints","height","width","onLoad","children"];function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var z="IDLE",U="LOADING",H="SUCCESS",W="ERROR",q=z;function K(e){var t,n=e.aspectRatio,a=e.className,o=e.require,l=e.tag,s=e.src,c=e.alt,u=e.blurhash,f=e.constraints,d=e.height,p=e.width,h=e.onLoad,v=e.children,m=Y(e,V),b=B(Object(r.useState)(q),2),g=b[0],y=b[1],O=Object(r.useCallback)((function(){y(W)}),[]),E=Object(r.useRef)(),T=Object(r.useCallback)((function(){y(H),h&&h({aspectRatio:E.current.naturalWidth/E.current.naturalHeight})}),[]);Object(r.useEffect)((function(){o&&g===z&&y(U)}),[o,g]);var I=g===H||g===W,w=function(e,t){var n=e.aspectRatio,r=e.height,i=e.width;if(!t)return{imageHeight:r||i/n,imageWidth:i||r*n};var a=M()([t.height,r]),o=M()([t.width,i]),l=B(a*n<o?[a*n,a]:[o,o/n],2),s=l[0];return{imageHeight:l[1],imageWidth:s}}({height:d,width:p,aspectRatio:n},f),S=w.imageWidth,_=w.imageHeight,A=B(Object(r.useState)(S),2),j=A[0],R=A[1];return Object(r.useLayoutEffect)((function(){R(E.current.getBoundingClientRect().width)}),[S]),i.a.createElement(i.a.Fragment,null,!I&&i.a.createElement(x,{hash:u,width:j,height:null!==(t=j/n)&&void 0!==t?t:_,resolutionX:32,resolutionY:32,punch:1}),g!==W?i.a.createElement("img",F({key:"ok","data-tag":l,ref:E,className:a,alt:c,src:$(s,g),style:{width:S,height:I?_:0,maxWidth:"100%"},onLoad:T,onError:O,loading:void 0},m)):i.a.createElement("img",{key:"error",alt:"error",className:a,src:"https://res.cloudinary.com/dc2eke0gj/image/upload/minetravel/common/img_placeholder.png",style:{width:S,height:_,maxWidth:"100%"}}),v)}function $(e,t){switch(t){case z:return null;default:return e}}var X=n(489),J=n(491),Z=n.n(J),Q=n(3),ee=n(5),te=n(8),ne=(n(2),n(56)),re=n(10),ie=r.forwardRef((function(e,t){var n=e.animation,i=void 0===n?"pulse":n,a=e.classes,o=e.className,l=e.component,s=void 0===l?"span":l,c=e.height,u=e.variant,f=void 0===u?"text":u,d=e.width,p=Object(ee.a)(e,["animation","classes","className","component","height","variant","width"]),h=Boolean(p.children);return r.createElement(s,Object(Q.a)({ref:t,className:Object(te.a)(a.root,a[f],o,h&&[a.withChildren,!d&&a.fitContent,!c&&a.heightAuto],!1!==i&&a[i])},p,{style:Object(Q.a)({width:d,height:c},p.style)}))})),ae=Object(re.a)((function(e){return{root:{display:"block",backgroundColor:Object(ne.c)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(ie),oe=Object(u.a)({container:{display:"flex"},imageSkeleton:{flexGrow:"1"},thumbsContainer:{overflow:"hidden"},thumbSkeleton:{margin:"0 5px 10px 5px"}});function le(e){var t=e.height,n=oe(),r=Math.ceil(t/40);return i.a.createElement("div",{className:n.container},i.a.createElement(ae,{variant:"rect",height:t,className:n.imageSkeleton}),i.a.createElement("div",{className:n.thumbsContainer,style:{height:t}},Z()(r).map((function(){return i.a.createElement(ae,{variant:"rect",height:60,width:100,className:n.thumbSkeleton})}))))}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pe=Object(u.a)({photoContainer:{minHeight:"200px",margin:"24px 0","& .image-gallery-thumbnails":{overflowY:"auto","-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},photo:{display:"block",width:"100%"}});function he(e){var t=e.className,n=e.photos,o=Object(r.useMemo)((function(){return Object(a.a)()}),[]),s=pe(),u=Object(X.b)(),f=u.vw,d=u.vh,p=fe(Object(r.useState)(!1),2),h=p[0],v=p[1],m=fe(Object(r.useState)({}),2),b=m[0],y=m[1],O=fe(Object(r.useState)(0),2),E=O[0],T=O[1],I=Object(r.useMemo)((function(){return function(e,t){var n=t.vh,r=t.vw,i=e?ve.FULLSCREEN:ve.DEFAULT,a=i.HEIGHT,o=i.WIDTH;return{height:l(a,n),width:l(o,r)};function l(e,t){return Math.min(e.PERCENT*t,e.MAX_PX)}}(h,{vh:d,vw:f})}),[h,d,f]);Object(r.useEffect)((function(){var e,t=null===(e=window.document.querySelector('[data-tag="photos-gallery-thumb-'.concat(o,"-").concat(E,'"]')))||void 0===e?void 0:e.closest(".image-gallery-thumbnail");t&&t.scrollIntoView({block:"nearest",behavior:"smooth"})}),[E]);var w=n.map((function(e,t){var n=e.fullSizePhotoUrl,r=e.thumbnailUrl,i=e.previewUrl,a=e.blurhash,o=e.aspectRatio,l=e.description;return{original:i,originalClass:s.photo,thumbnail:r,fullscreen:n,description:l,blurhash:a,aspectRatio:o,index:t}}));return w.length?i.a.createElement("div",{className:l()(t,s.photoContainer),style:{height:I.height}},i.a.createElement(g,{offset:1e3,placeholder:i.a.createElement(le,{height:I.height})},i.a.createElement(c.a,{startIndex:0,showIndex:!0,items:w,thumbnailPosition:"right",onScreenChange:function(e){return v(e)},onBeforeSlide:function(e){return T(e)},disableKeyDown:!0,disableThumbnailScroll:!0,renderItem:function(e){var t;return(i.a.createElement(K,{className:"image-gallery-image",aspectRatio:b[e.index]||(null===(t=e.aspectRatio)||void 0===t?void 0:t.ratio)||1,description:e.description,src:h?e.fullscreen:e.original,alt:e.originalAlt,constraints:I,title:e.originalTitle,blurhash:e.blurhash,require:Math.abs(E-e.index)<=1},e.description&&i.a.createElement("span",{className:"image-gallery-description"},e.description)))},renderThumbInner:function(e){return i.a.createElement("span",{className:"image-gallery-thumbnail-inner"},i.a.createElement(K,{tag:"photos-gallery-thumb-".concat(o,"-").concat(e.index),className:"image-gallery-thumbnail-image",aspectRatio:b[e.index]||e.aspectRatio||1,src:e.thumbnail,width:92,alt:e.thumbnailAlt,title:e.thumbnailTitle,blurhash:e.blurhash,require:!0,onLoad:function(t){var n=t.aspectRatio;return y((function(t){return ce(ce({},t),{},ue({},e.index,n))}))}}))}}))):null}var ve={FULLSCREEN:{HEIGHT:{PERCENT:100,MAX_PX:1/0},WIDTH:{PERCENT:100,MAX_PX:1/0}},DEFAULT:{HEIGHT:{PERCENT:50,MAX_PX:1024},WIDTH:{PERCENT:100,MAX_PX:1024}}}},1178:function(e,t,n){e.exports=n(1179)()},1179:function(e,t,n){"use strict";var r=n(1180);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},1180:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1181:function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}}])},1182:function(e,t,n){(function(t){var r;e.exports=(r=n(0),(()=>{var e={703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var l,s,c,u;if(Array.isArray(e)){if((l=e.length)!=o.length)return!1;for(s=l;0!=s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(s=u.next()).done;)if(!o.has(s.value[0]))return!1;for(u=e.entries();!(s=u.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(s=u.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((l=e.length)!=o.length)return!1;for(s=l;0!=s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((l=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(o,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=l;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],o[c[s]]))return!1;return!0}return e!=e&&o!=o}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},37:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r="Left",i="Right",a="Down",o={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},l={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},s="mousemove",c="mouseup";function u(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function f(e,t){var o=function(t){t&&"touches"in t&&t.touches.length>1||e((function(e,r){r.trackMouse&&(document.addEventListener(s,f),document.addEventListener(c,p));var i="touches"in t?t.touches[0]:t,a=u([i.clientX,i.clientY],r.rotationAngle);return n({},e,l,{initial:[].concat(a),xy:a,start:t.timeStamp||0})}))},f=function(t){e((function(e,o){if("touches"in t&&t.touches.length>1)return e;var l="touches"in t?t.touches[0]:t,s=u([l.clientX,l.clientY],o.rotationAngle),c=s[0],f=s[1],d=c-e.xy[0],p=f-e.xy[1],h=Math.abs(d),v=Math.abs(p),m=(t.timeStamp||0)-e.start,b=Math.sqrt(h*h+v*v)/(m||1),g=[d/(m||1),p/(m||1)];if(h<o.delta&&v<o.delta&&!e.swiping)return e;var y=function(e,t,n,o){return e>t?n>0?i:r:o>0?a:"Up"}(h,v,d,p),O={absX:h,absY:v,deltaX:d,deltaY:p,dir:y,event:t,first:e.first,initial:e.initial,velocity:b,vxvy:g};o.onSwiping&&o.onSwiping(O);var E=!1;return(o.onSwiping||o.onSwiped||"onSwiped"+y in o)&&(E=!0),E&&o.preventDefaultTouchmoveEvent&&o.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:O,swiping:!0})}))},d=function(t){e((function(e,r){var i;if(e.swiping&&e.eventData){i=n({},e.eventData,{event:t}),r.onSwiped&&r.onSwiped(i);var a="onSwiped"+i.dir;a in r&&r[a](i)}else r.onTap&&r.onTap({event:t});return n({},e,l,{eventData:i})}))},p=function(e){document.removeEventListener(s,f),document.removeEventListener(c,p),d(e)},h=function(e,t){var n=function(){};if(e&&e.addEventListener){var r=[["touchstart",o],["touchmove",f],["touchend",d]];r.forEach((function(n){var r=n[0],i=n[1];return e.addEventListener(r,i,{passive:t})})),n=function(){return r.forEach((function(t){var n=t[0],r=t[1];return e.removeEventListener(n,r)}))}}return n},v={ref:function(t){null!==t&&e((function(e,r){if(e.el===t)return e;var i={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),i.cleanUpTouch=void 0),r.trackTouch&&t&&(i.cleanUpTouch=h(t,!r.preventDefaultTouchmoveEvent)),n({},e,{el:t},i)}))}};return t.trackMouse&&(v.onMouseDown=o),[v,h]}e.DOWN=a,e.LEFT=r,e.RIGHT=i,e.UP="Up",e.useSwipeable=function(e){var r=e.trackMouse,i=t.useRef(n({},l)),a=t.useRef(n({},o));a.current=n({},o,e);var s=t.useMemo((function(){return f((function(e){return i.current=e(i.current,a.current)}),{trackMouse:r})}),[r]),c=s[0],u=s[1];return i.current=function(e,t,r){var i={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),i.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(i.cleanUpTouch=r(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,i)}(i.current,a.current,u),c}}(t,n(888))},888:e=>{"use strict";e.exports=r}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function n(){for(var t,n,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(n=e(t))&&(i&&(i+=" "),i+=n);return i}i.r(a),i.d(a,{default:()=>je});var r=i(888),o=i.n(r);const l=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},s="object"==typeof t&&t&&t.Object===Object&&t;var c="object"==typeof self&&self&&self.Object===Object&&self;const u=s||c||Function("return this")(),f=function(){return u.Date.now()};var d=/\s/,p=/^\s+/;const h=u.Symbol;var v=Object.prototype,m=v.hasOwnProperty,b=v.toString,g=h?h.toStringTag:void 0,y=Object.prototype.toString,O=h?h.toStringTag:void 0,E=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,I=/^0o[0-7]+$/i,w=parseInt;const S=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?function(e){var t=m.call(e,g),n=e[g];try{e[g]=void 0;var r=!0}catch(e){}var i=b.call(e);return r&&(t?e[g]=n:delete e[g]),i}(e):function(e){return y.call(e)}(e)}(e)}(e))return NaN;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&d.test(e.charAt(t)););return t}(e)+1).replace(p,""):e}(e);var n=T.test(e);return n||I.test(e)?w(e.slice(2),n?2:8):E.test(e)?NaN:+e};var _=Math.max,A=Math.min;const j=function(e,t,n){var r,i,a,o,s,c,u=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function m(e){return u=e,s=setTimeout(g,t),d?v(e):o}function b(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=a}function g(){var e=f();if(b(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-c);return p?A(n,a-(e-u)):n}(e))}function y(e){return s=void 0,h&&r?v(e):(r=i=void 0,o)}function O(){var e=f(),n=b(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return m(c);if(p)return clearTimeout(s),s=setTimeout(g,t),v(c)}return void 0===s&&(s=setTimeout(g,t)),o}return t=S(t)||0,l(n)&&(d=!!n.leading,a=(p="maxWait"in n)?_(S(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),O.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},O.flush=function(){return void 0===s?o:y(f())},O},R=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return l(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),j(e,t,{leading:r,maxWait:t,trailing:i})};var N=i(590),P=i.n(N),C=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),L="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,D=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),x="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(D):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},k=["top","right","bottom","left","width","height","size","weight"],M="undefined"!=typeof MutationObserver,V=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function o(){x(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,20);i=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){L&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),M?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){L&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;k.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),F=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},B=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||D},G=H(0,0,0,0);function Y(e){return parseFloat(e)||0}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Y(e["border-"+n+"-width"])}),0)}var U="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof B(e).SVGGraphicsElement}:function(e){return e instanceof B(e).SVGElement&&"function"==typeof e.getBBox};function H(e,t,n,r){return{x:e,y:t,width:n,height:r}}var W=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){return L?U(e)?function(e){var t=e.getBBox();return H(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return G;var r=B(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Y(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,l=Y(r.width),s=Y(r.height);if("border-box"===r.boxSizing&&(Math.round(l+a)!==t&&(l-=z(r,"left","right")+a),Math.round(s+o)!==n&&(s-=z(r,"top","bottom")+o)),!function(e){return e===B(e).document.documentElement}(e)){var c=Math.round(l+a)-t,u=Math.round(s+o)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(s-=u)}return H(i.left,i.top,l,s)}(e):G}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),q=function(e,t){var n,r,i,a,o,l,s,c=(r=(n=t).x,i=n.y,a=n.width,o=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(l.prototype),F(s,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),s);F(this,{target:e,contentRect:c})},K=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new C,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof B(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new W(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof B(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new q(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$="undefined"!=typeof WeakMap?new WeakMap:new C,X=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=V.getInstance(),r=new K(t,n,this);$.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){X.prototype[e]=function(){var t;return(t=$.get(this))[e].apply(t,arguments)}}));const J=void 0!==D.ResizeObserver?D.ResizeObserver:X;var Z=i(37),Q=i(697),ee=o().memo((function(e){var t=e.description,n=e.fullscreen,r=e.handleImageLoaded,i=e.isFullscreen,a=e.onImageError,l=e.original,s=e.originalAlt,c=e.originalHeight,u=e.originalWidth,f=e.originalTitle,d=e.sizes,p=e.srcSet,h=i&&n||l;return o().createElement(o().Fragment,null,o().createElement("img",{className:"image-gallery-image",src:h,alt:s,srcSet:p,height:c,width:u,sizes:d,title:f,onLoad:function(e){return r(e,l)},onError:a}),t&&o().createElement("span",{className:"image-gallery-description"},t))}));ee.displayName="Item",ee.propTypes={description:Q.string,fullscreen:Q.string,handleImageLoaded:Q.func.isRequired,isFullscreen:Q.bool,onImageError:Q.func.isRequired,original:Q.string.isRequired,originalAlt:Q.string,originalHeight:Q.string,originalWidth:Q.string,originalTitle:Q.string,sizes:Q.string,srcSet:Q.string},ee.defaultProps={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:""};const te=ee;var ne={left:o().createElement("polyline",{points:"15 18 9 12 15 6"}),right:o().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:o().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:o().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:o().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:o().createElement(o().Fragment,null,o().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),o().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},re=function(e){var t=e.strokeWidth,n=e.viewBox,r=e.icon;return o().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:n,fill:"none",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"},ne[r])};re.propTypes={strokeWidth:Q.number,viewBox:Q.string,icon:(0,Q.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired},re.defaultProps={strokeWidth:1,viewBox:"0 0 24 24"};const ie=re;var ae=o().memo((function(e){var t=e.isFullscreen,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:n,"aria-label":"Open Fullscreen"},o().createElement(ie,{strokeWidth:2,icon:t?"minimize":"maximize"}))}));ae.displayName="Fullscreen",ae.propTypes={isFullscreen:Q.bool.isRequired,onClick:Q.func.isRequired};const oe=ae;var le=o().memo((function(e){var t=e.disabled,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:t,onClick:n,"aria-label":"Previous Slide"},o().createElement(ie,{icon:"left",viewBox:"6 0 12 24"}))}));le.displayName="LeftNav",le.propTypes={disabled:Q.bool.isRequired,onClick:Q.func.isRequired};const se=le;var ce=o().memo((function(e){var t=e.disabled,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:t,onClick:n,"aria-label":"Next Slide"},o().createElement(ie,{icon:"right",viewBox:"6 0 12 24"}))}));ce.displayName="RightNav",ce.propTypes={disabled:Q.bool.isRequired,onClick:Q.func.isRequired};const ue=ce;var fe=o().memo((function(e){var t=e.isPlaying,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:n,"aria-label":"Play or Pause Slideshow"},o().createElement(ie,{strokeWidth:2,icon:t?"pause":"play"}))}));fe.displayName="PlayPause",fe.propTypes={isPlaying:Q.bool.isRequired,onClick:Q.func.isRequired};const de=fe;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var he=function(e){var t=e.children,n=e.className,r=e.delta,i=e.onSwiping,a=e.onSwiped,l=(0,Z.useSwipeable)({delta:r,onSwiping:i,onSwiped:a});return o().createElement("div",pe({},l,{className:n}),t)};he.propTypes={children:Q.node.isRequired,className:Q.string,delta:Q.number,onSwiped:Q.func,onSwiping:Q.func},he.defaultProps={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}};const ve=he;function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],Se=(0,Q.arrayOf)((0,Q.shape)({srcSet:Q.string,media:Q.string}));function _e(e){var t=parseInt(e.keyCode||e.which||0,10);return 66===t||62===t}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(l,e);var t,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ie(r);if(i){var n=Ie(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ee(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(e.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},t.loadedImages={},t.imageGallery=o().createRef(),t.thumbnailsWrapper=o().createRef(),t.thumbnails=o().createRef(),t.imageGallerySlideWrapper=o().createRef(),t.handleImageLoaded=t.handleImageLoaded.bind(Te(t)),t.handleKeyDown=t.handleKeyDown.bind(Te(t)),t.handleMouseDown=t.handleMouseDown.bind(Te(t)),t.handleTouchMove=t.handleTouchMove.bind(Te(t)),t.handleOnSwiped=t.handleOnSwiped.bind(Te(t)),t.handleScreenChange=t.handleScreenChange.bind(Te(t)),t.handleSwiping=t.handleSwiping.bind(Te(t)),t.handleThumbnailSwiping=t.handleThumbnailSwiping.bind(Te(t)),t.handleOnThumbnailSwiped=t.handleOnThumbnailSwiped.bind(Te(t)),t.onThumbnailMouseLeave=t.onThumbnailMouseLeave.bind(Te(t)),t.handleImageError=t.handleImageError.bind(Te(t)),t.pauseOrPlay=t.pauseOrPlay.bind(Te(t)),t.renderThumbInner=t.renderThumbInner.bind(Te(t)),t.renderItem=t.renderItem.bind(Te(t)),t.slideLeft=t.slideLeft.bind(Te(t)),t.slideRight=t.slideRight.bind(Te(t)),t.toggleFullScreen=t.toggleFullScreen.bind(Te(t)),t.togglePlay=t.togglePlay.bind(Te(t)),t.unthrottledSlideToIndex=t.slideToIndex,t.slideToIndex=R(t.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(t.lazyLoaded=[]),t}return(t=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoPlay,n=e.useWindowKeyDown;t&&this.play(),n?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initResizeObserver(this.imageGallerySlideWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.items,i=n.lazyLoad,a=n.slideDuration,o=n.slideInterval,l=n.startIndex,s=n.thumbnailPosition,c=n.showThumbnails,u=n.useWindowKeyDown,f=this.state.currentIndex,d=e.items.length!==r.length,p=!P()(e.items,r),h=e.startIndex!==l,v=e.thumbnailPosition!==s,m=e.showThumbnails!==c;o===e.slideInterval&&a===e.slideDuration||(this.pause(),this.play()),v&&(this.removeResizeObserver(),this.initResizeObserver(this.imageGallerySlideWrapper)),(d||m)&&this.handleResize(),t.currentIndex!==f&&this.slideThumbnailBar(),e.slideDuration!==a&&(this.slideToIndex=R(this.unthrottledSlideToIndex,a,{trailing:!1})),!i||e.lazyLoad&&!p||(this.lazyLoaded=[]),u!==e.useWindowKeyDown&&(u?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(h||p)&&this.setState({currentIndex:l})}},{key:"componentWillUnmount",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var e=this,t=this.state,n=t.currentIndex,r=t.isTransitioning,i=this.props,a=i.onSlide,o=i.slideDuration;this.transitionTimer=window.setTimeout((function(){r&&(e.setState({isTransitioning:!r,isSwipingThumbnail:!1}),a&&a(n))}),o+50)}},{key:"onThumbnailClick",value:function(e,t){var n=this.props.onThumbnailClick;e.target.parentNode.parentNode.blur(),this.slideToIndex(t,e),n&&n(e,t)}},{key:"onThumbnailMouseOver",value:function(e,t){var n=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){n.slideToIndex(t),n.pause()}),300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:"setThumbsTranslate",value:function(e){this.setState({thumbsTranslate:e})}},{key:"setModalFullscreen",value:function(e){var t=this.props.onScreenChange;this.setState({modalFullscreen:e}),t&&t(e)}},{key:"getThumbsTranslate",value:function(e){var t,n=this.props,r=n.disableThumbnailScroll,i=n.items,a=this.state,o=a.thumbnailsWrapperWidth,l=a.thumbnailsWrapperHeight,s=this.thumbnails&&this.thumbnails.current;if(r)return 0;if(s){if(this.isThumbnailVertical()){if(s.scrollHeight<=l)return 0;t=s.scrollHeight-l}else{if(s.scrollWidth<=o||o<=0)return 0;t=s.scrollWidth-o}return e*(t/(i.length-1))}return 0}},{key:"getAlignmentClassName",value:function(e){var t=this.state.currentIndex,n=this.props,r=n.infinite,i=n.items,a="",o="left",l="right";switch(e){case t-1:a=" ".concat(o);break;case t:a=" ".concat("center");break;case t+1:a=" ".concat(l)}return i.length>=3&&r&&(0===e&&t===i.length-1?a=" ".concat(l):e===i.length-1&&0===t&&(a=" ".concat(o))),a}},{key:"getTranslateXForTwoSlide",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,i=t.previousIndex,a=n!==i,o=0===e&&0===i,l=1===e&&1===i,s=0===e&&1===n,c=1===e&&0===n,u=0===r,f=-100*n+100*e+r;return r>0?this.direction="left":r<0&&(this.direction="right"),c&&r>0&&(f=-100+r),s&&r<0&&(f=100+r),a?o&&u&&"left"===this.direction?f=100:l&&u&&"right"===this.direction&&(f=-100):(c&&u&&"left"===this.direction&&(f=-100),s&&u&&"right"===this.direction&&(f=100)),f}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,i=t.slideStyle,a=this.props,o=a.infinite,l=a.items,s=a.useTranslate3D,c=a.isRTL,u=-100*n,f=l.length-1,d=(u+100*e)*(c?-1:1)+r;o&&l.length>2&&(0===n&&e===f?d=-100*(c?-1:1)+r:n===f&&0===e&&(d=100*(c?-1:1)+r)),o&&2===l.length&&(d=this.getTranslateXForTwoSlide(e));var p="translate(".concat(d,"%, 0)");return s&&(p="translate3d(".concat(d,"%, 0, 0)")),ge({display:this.isSlideVisible(e)?"inherit":"none",WebkitTransform:p,MozTransform:p,msTransform:p,OTransform:p,transform:p},i)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var e,t=this.props,n=t.useTranslate3D,r=t.isRTL,i=this.state,a=i.thumbsTranslate,o=i.thumbsStyle,l=r?-1*a:a;return this.isThumbnailVertical()?(e="translate(0, ".concat(a,"px)"),n&&(e="translate3d(0, ".concat(a,"px, 0)"))):(e="translate(".concat(l,"px, 0)"),n&&(e="translate3d(".concat(l,"px, 0, 0)"))),ge({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},o)}},{key:"getSlideItems",value:function(){var e=this,t=this.state.currentIndex,r=this.props,i=r.items,a=r.slideOnThumbnailOver,l=r.onClick,s=r.lazyLoad,c=r.onTouchMove,u=r.onTouchEnd,f=r.onTouchStart,d=r.onMouseOver,p=r.onMouseLeave,h=r.renderItem,v=r.renderThumbInner,m=r.showThumbnails,b=r.showBullets,g=[],y=[],O=[];return i.forEach((function(r,i){var E=e.getAlignmentClassName(i),T=r.originalClass?" ".concat(r.originalClass):"",I=r.thumbnailClass?" ".concat(r.thumbnailClass):"",w=r.renderItem||h||e.renderItem,S=r.renderThumbInner||v||e.renderThumbInner,_=!s||E||e.lazyLoaded[i];_&&s&&!e.lazyLoaded[i]&&(e.lazyLoaded[i]=!0);var A=e.getSlideStyle(i),j=o().createElement("div",{"aria-label":"Go to Slide ".concat(i+1),key:"slide-".concat(i),tabIndex:"-1",className:"image-gallery-slide ".concat(E," ").concat(T),style:A,onClick:l,onKeyUp:e.handleSlideKeyUp,onTouchMove:c,onTouchEnd:u,onTouchStart:f,onMouseOver:d,onFocus:d,onMouseLeave:p,role:"button"},_?w(r):o().createElement("div",{style:{height:"100%"}}));if(g.push(j),m&&r.thumbnail){var R=n("image-gallery-thumbnail",I,{active:t===i});y.push(o().createElement("button",{key:"thumbnail-".concat(i),type:"button",tabIndex:"0","aria-pressed":t===i?"true":"false","aria-label":"Go to Slide ".concat(i+1),className:R,onMouseLeave:a?e.onThumbnailMouseLeave:null,onMouseOver:function(t){return e.handleThumbnailMouseOver(t,i)},onFocus:function(t){return e.handleThumbnailMouseOver(t,i)},onKeyUp:function(t){return e.handleThumbnailKeyUp(t,i)},onClick:function(t){return e.onThumbnailClick(t,i)}},S(r)))}if(b){var N=n("image-gallery-bullet",r.bulletClass,{active:t===i});O.push(o().createElement("button",{type:"button",key:"bullet-".concat(i),className:N,onClick:function(n){return r.bulletOnClick&&r.bulletOnClick({item:r,itemIndex:i,currentIndex:t}),n.target.blur(),e.slideToIndex.call(e,i,n)},"aria-pressed":t===i?"true":"false","aria-label":"Go to Slide ".concat(i+1)}))}})),{slides:g,thumbnails:y,bullets:O}}},{key:"ignoreIsTransitioning",value:function(){var e=this.props.items,t=this.state,n=t.previousIndex,r=t.currentIndex,i=e.length-1;return Math.abs(n-r)>1&&!(0===n&&r===i)&&!(n===i&&0===r)}},{key:"isFirstOrLastSlide",value:function(e){return e===this.props.items.length-1||0===e}},{key:"slideIsTransitioning",value:function(e){var t=this.state,n=t.isTransitioning,r=t.previousIndex,i=t.currentIndex;return n&&!(e===r||e===i)}},{key:"isSlideVisible",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:"slideThumbnailBar",value:function(){var e=this.state,t=e.currentIndex,n=e.isSwipingThumbnail,r=-this.getThumbsTranslate(t);n||(0===t?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:r,thumbsSwipedTranslate:r}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(e){var t=e.event,n=e.absX,r=e.dir,i=this.props,a=i.disableSwipe,o=i.stopPropagation,l=this.state,s=l.galleryWidth,c=l.isTransitioning,u=l.swipingUpDown,f=l.swipingLeftRight;if(r!==Z.UP&&r!==Z.DOWN&&!u||f){if(r!==Z.LEFT&&r!==Z.RIGHT||f||this.setState({swipingLeftRight:!0}),!a){var d=this.props.swipingTransitionDuration;if(o&&t.preventDefault(),c)this.setState({currentSlideOffset:0});else{var p=r===Z.RIGHT?1:-1,h=n/s*100;Math.abs(h)>=100&&(h=100);var v={transition:"transform ".concat(d,"ms ease-out")};this.setState({currentSlideOffset:p*h,slideStyle:v})}}}else u||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(e){var t=e.event,n=e.absX,r=e.absY,i=e.dir,a=this.props,o=a.stopPropagation,l=a.swipingThumbnailTransitionDuration,s=this.state,c=s.thumbsSwipedTranslate,u=s.thumbnailsWrapperHeight,f=s.thumbnailsWrapperWidth,d=s.swipingUpDown,p=s.swipingLeftRight;if(this.isThumbnailVertical()){if((i===Z.LEFT||i===Z.RIGHT||p)&&!d)return void(p||this.setState({swipingLeftRight:!0}));i!==Z.UP&&i!==Z.DOWN||d||this.setState({swipingUpDown:!0})}else{if((i===Z.UP||i===Z.DOWN||d)&&!p)return void(d||this.setState({swipingUpDown:!0}));i!==Z.LEFT&&i!==Z.RIGHT||p||this.setState({swipingLeftRight:!0})}var h,v,m,b,g,y=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(h=c+(i===Z.DOWN?r:-r),v=y.scrollHeight-u+20,m=Math.abs(h)>v,b=h>20,g=y.scrollHeight<=u):(h=c+(i===Z.RIGHT?n:-n),v=y.scrollWidth-f+20,m=Math.abs(h)>v,b=h>20,g=y.scrollWidth<=f),!g&&(i!==Z.LEFT&&i!==Z.UP||!m)&&(i!==Z.RIGHT&&i!==Z.DOWN||!b)){o&&t.stopPropagation();var O={transition:"transform ".concat(l,"ms ease-out")};this.setState({thumbsTranslate:h,thumbsStyle:O})}}},{key:"handleOnThumbnailSwiped",value:function(){var e=this.state.thumbsTranslate,t=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:"all ".concat(t,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var e=this.state.currentSlideOffset,t=this.props.swipeThreshold;return Math.abs(e)>t}},{key:"resetSwipingDirection",value:function(){var e=this.state,t=e.swipingUpDown,n=e.swipingLeftRight;t&&this.setState({swipingUpDown:!1}),n&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(e){var t=e.event,n=e.dir,r=e.velocity,i=this.props,a=i.disableSwipe,o=i.stopPropagation,l=i.flickThreshold;if(!a){var s=this.props.isRTL;o&&t.stopPropagation(),this.resetSwipingDirection();var c=(n===Z.LEFT?1:-1)*(s?-1:1),u=n===Z.UP||n===Z.DOWN,f=r>l&&!u;this.handleOnSwipedTo(c,f)}}},{key:"handleOnSwipedTo",value:function(e,t){var n=this.state,r=n.currentIndex,i=n.isTransitioning,a=r;!this.sufficientSwipe()&&!t||i||(a+=e),(-1===e&&!this.canSlideLeft()||1===e&&!this.canSlideRight())&&(a=r),this.unthrottledSlideToIndex(a)}},{key:"handleTouchMove",value:function(e){this.state.swipingLeftRight&&e.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.disableKeyDown,r=t.useBrowserFullscreen,i=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!n)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:i&&!r&&this.exitFullScreen()}}},{key:"handleImageError",value:function(e){var t=this.props.onErrorImageURL;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)}},{key:"removeResizeObserver",value:function(){this.resizeObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeObserver=null)}},{key:"handleResize",value:function(){var e=this.state.currentIndex;this.resizeObserver&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.isThumbnailVertical()?this.setState({thumbnailsWrapperHeight:this.thumbnailsWrapper.current.offsetHeight}):this.setState({thumbnailsWrapperWidth:this.thumbnailsWrapper.current.offsetWidth})),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:"initResizeObserver",value:function(e){var t=this;this.resizeObserver=new J(j((function(e){e&&e.forEach((function(){t.handleResize()}))}),300)),this.resizeObserver.observe(e.current)}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var e=this.props,t=e.onScreenChange,n=e.useBrowserFullscreen,r=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,i=this.imageGallery.current===r;t&&t(i),n&&this.setState({isFullscreen:i})}},{key:"slideToIndex",value:function(e,t){var n=this.state,r=n.currentIndex,i=n.isTransitioning,a=this.props,o=a.items,l=a.slideDuration,s=a.onBeforeSlide;if(!i){t&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var c=o.length-1,u=e;e<0?u=c:e>c&&(u=0),s&&u!==r&&s(u),this.setState({previousIndex:r,currentIndex:u,isTransitioning:u!==r,currentSlideOffset:0,slideStyle:{transition:"all ".concat(l,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"right":"left")}},{key:"slideRight",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"left":"right")}},{key:"slideTo",value:function(e,t){var n=this,r=this.state,i=r.currentIndex,a=r.currentSlideOffset,o=r.isTransitioning,l=this.props.items,s=i+("left"===t?-1:1);o||(2===l.length?this.setState({currentSlideOffset:a+("left"===t?.001:-.001),slideStyle:{transition:"none"}},(function(){window.setTimeout((function(){return n.slideToIndex(s,e)}),25)})):this.slideToIndex(s,e))}},{key:"handleThumbnailMouseOver",value:function(e,t){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,t)}},{key:"handleThumbnailKeyUp",value:function(e,t){_e(e)&&this.onThumbnailClick(e,t)}},{key:"handleSlideKeyUp",value:function(e){_e(e)&&(0,this.props.onClick)(e)}},{key:"isThumbnailVertical",value:function(){var e=this.props.thumbnailPosition;return"left"===e||"right"===e}},{key:"addScreenChangeEvent",value:function(){var e=this;we.forEach((function(t){document.addEventListener(t,e.handleScreenChange)}))}},{key:"removeScreenChangeEvent",value:function(){var e=this;we.forEach((function(t){document.removeEventListener(t,e.handleScreenChange)}))}},{key:"fullScreen",value:function(){var e=this.props.useBrowserFullscreen,t=this.imageGallery.current;e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var e=this.state.isFullscreen,t=this.props.useBrowserFullscreen;e&&(t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var e=this.props.infinite,t=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(t+1):this.pause()}},{key:"play",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.onPlay,r=t.slideInterval,i=t.slideDuration,a=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(r,i)),n&&e&&n(a))}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onPause,n=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),t&&e&&t(n))}},{key:"isImageLoaded",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:"handleImageLoaded",value:function(e,t){var n=this.props.onImageLoad;!this.loadedImages[t]&&n&&(this.loadedImages[t]=!0,n(e))}},{key:"renderItem",value:function(e){var t=this.state.isFullscreen,n=this.props.onImageError||this.handleImageError;return o().createElement(te,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:t,onImageError:n,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,srcSet:e.srcSet})}},{key:"renderThumbInner",value:function(e){var t=this.props.onThumbnailError||this.handleImageError;return o().createElement("span",{className:"image-gallery-thumbnail-inner"},o().createElement("img",{className:"image-gallery-thumbnail-image",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,onError:t}),e.thumbnailLabel&&o().createElement("div",{className:"image-gallery-thumbnail-label"},e.thumbnailLabel))}},{key:"render",value:function(){var e=this.state,t=e.currentIndex,r=e.isFullscreen,i=e.modalFullscreen,a=e.isPlaying,l=this.props,s=l.additionalClass,c=l.disableThumbnailSwipe,u=l.indexSeparator,f=l.isRTL,d=l.items,p=l.thumbnailPosition,h=l.renderFullscreenButton,v=l.renderCustomControls,m=l.renderLeftNav,b=l.renderRightNav,g=l.showBullets,y=l.showFullscreenButton,O=l.showIndex,E=l.showThumbnails,T=l.showNav,I=l.showPlayButton,w=l.renderPlayPauseButton,S=this.getThumbnailStyle(),_=this.getSlideItems(),A=_.slides,j=_.thumbnails,R=_.bullets,N=n("image-gallery-slide-wrapper",p,{"image-gallery-rtl":f}),P=o().createElement("div",{ref:this.imageGallerySlideWrapper,className:N},v&&v(),this.canSlide()?o().createElement(o().Fragment,null,T&&o().createElement(o().Fragment,null,m(this.slideLeft,!this.canSlideLeft()),b(this.slideRight,!this.canSlideRight())),o().createElement(ve,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},o().createElement("div",{className:"image-gallery-slides"},A))):o().createElement("div",{className:"image-gallery-slides"},A),I&&w(this.togglePlay,a),g&&o().createElement("div",{className:"image-gallery-bullets"},o().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},R)),y&&h(this.toggleFullScreen,r),O&&o().createElement("div",{className:"image-gallery-index"},o().createElement("span",{className:"image-gallery-index-current"},t+1),o().createElement("span",{className:"image-gallery-index-separator"},u),o().createElement("span",{className:"image-gallery-index-total"},d.length))),C=n("image-gallery",s,{"fullscreen-modal":i}),L=n("image-gallery-content",p,{fullscreen:r}),D=n("image-gallery-thumbnails-wrapper",p,{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&f},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!c},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!c});return o().createElement("div",{ref:this.imageGallery,className:C,"aria-live":"polite"},o().createElement("div",{className:L},("bottom"===p||"right"===p)&&P,E&&j.length>0?o().createElement(ve,{className:D,delta:0,onSwiping:!c&&this.handleThumbnailSwiping,onSwiped:!c&&this.handleOnThumbnailSwiped},o().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},o().createElement("div",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:S,"aria-label":"Thumbnail Navigation"},j))):null,("top"===p||"left"===p)&&P))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(l.prototype,t),l}(o().Component);Ae.propTypes={flickThreshold:Q.number,items:(0,Q.arrayOf)((0,Q.shape)({bulletClass:Q.string,bulletOnClick:Q.func,description:Q.string,original:Q.string,originalHeight:Q.number,originalWidth:Q.number,thumbnailHeight:Q.number,thumbnailWidth:Q.number,fullscreen:Q.string,originalAlt:Q.string,originalTitle:Q.string,thumbnail:Q.string,thumbnailAlt:Q.string,thumbnailLabel:Q.string,thumbnailTitle:Q.string,originalClass:Q.string,thumbnailClass:Q.string,renderItem:Q.func,renderThumbInner:Q.func,imageSet:Se,srcSet:Q.string,sizes:Q.string})).isRequired,showNav:Q.bool,autoPlay:Q.bool,lazyLoad:Q.bool,infinite:Q.bool,showIndex:Q.bool,showBullets:Q.bool,showThumbnails:Q.bool,showPlayButton:Q.bool,showFullscreenButton:Q.bool,disableThumbnailScroll:Q.bool,disableKeyDown:Q.bool,disableSwipe:Q.bool,disableThumbnailSwipe:Q.bool,useBrowserFullscreen:Q.bool,onErrorImageURL:Q.string,indexSeparator:Q.string,thumbnailPosition:(0,Q.oneOf)(["top","bottom","left","right"]),startIndex:Q.number,slideDuration:Q.number,slideInterval:Q.number,slideOnThumbnailOver:Q.bool,swipeThreshold:Q.number,swipingTransitionDuration:Q.number,swipingThumbnailTransitionDuration:Q.number,onSlide:Q.func,onBeforeSlide:Q.func,onScreenChange:Q.func,onPause:Q.func,onPlay:Q.func,onClick:Q.func,onImageLoad:Q.func,onImageError:Q.func,onTouchMove:Q.func,onTouchEnd:Q.func,onTouchStart:Q.func,onMouseOver:Q.func,onMouseLeave:Q.func,onThumbnailError:Q.func,onThumbnailClick:Q.func,renderCustomControls:Q.func,renderLeftNav:Q.func,renderRightNav:Q.func,renderPlayPauseButton:Q.func,renderFullscreenButton:Q.func,renderItem:Q.func,renderThumbInner:Q.func,stopPropagation:Q.bool,additionalClass:Q.string,useTranslate3D:Q.bool,isRTL:Q.bool,useWindowKeyDown:Q.bool},Ae.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(e,t){return o().createElement(se,{onClick:e,disabled:t})},renderRightNav:function(e,t){return o().createElement(ue,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return o().createElement(de,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return o().createElement(oe,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};const je=Ae})(),a})())}).call(this,n(137))},1183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=p(i),o=p(n(2)),l=n(39),s=n(1184),c=p(n(1185)),u=p(n(1186)),f=p(n(1187)),d=p(n(1188));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.lazyLoadHandler=n.lazyLoadHandler.bind(n),e.throttle>0&&(e.debounce?n.lazyLoadHandler=(0,c.default)(n.lazyLoadHandler,e.throttle):n.lazyLoadHandler=(0,u.default)(n.lazyLoadHandler,e.throttle)),n.state={visible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this._mounted=!0;var e=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,s.add)(window,"resize",this.lazyLoadHandler),(0,s.add)(e,"scroll",this.lazyLoadHandler),e!==window&&(0,s.add)(window,"scroll",this.lazyLoadHandler)}},{key:"componentWillReceiveProps",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(e,t){return t.visible}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return(0,f.default)((0,l.findDOMNode)(this))}},{key:"getOffset",value:function(){var e=this.props,t=e.offset,n=e.offsetVertical,r=e.offsetHorizontal,i=e.offsetTop,a=e.offsetBottom,o=e.offsetLeft,l=e.offsetRight,s=e.threshold||t,c=n||s,u=r||s;return{top:i||c,bottom:a||c,left:o||u,right:l||u}}},{key:"lazyLoadHandler",value:function(){if(this._mounted){var e=this.getOffset(),t=(0,l.findDOMNode)(this),n=this.getEventNode();if((0,d.default)(t,n,e)){var r=this.props.onContentVisible;this.setState({visible:!0},(function(){r&&r()})),this.detachListeners()}}}},{key:"detachListeners",value:function(){var e=this.getEventNode();(0,s.remove)(window,"resize",this.lazyLoadHandler),(0,s.remove)(e,"scroll",this.lazyLoadHandler),e!==window&&(0,s.remove)(window,"scroll",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.height,o=e.width,l=this.state.visible,s={height:r,width:o},c="LazyLoad"+(l?" is-visible":"")+(n?" "+n:"");return a.default.createElement(this.props.elementType,{className:c,style:s},l&&i.Children.only(t))}}]),t}(i.Component);t.default=h,h.propTypes={children:o.default.node.isRequired,className:o.default.string,debounce:o.default.bool,elementType:o.default.string,height:o.default.oneOfType([o.default.string,o.default.number]),offset:o.default.number,offsetBottom:o.default.number,offsetHorizontal:o.default.number,offsetLeft:o.default.number,offsetRight:o.default.number,offsetTop:o.default.number,offsetVertical:o.default.number,threshold:o.default.number,throttle:o.default.number,width:o.default.oneOfType([o.default.string,o.default.number]),onContentVisible:o.default.func},h.defaultProps={elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250}},1184:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){function e(e,t){return function(n,r,i,a){n[e]?n[e](r,i,a):n[t]&&n[t]("on"+r,i)}}return{add:e("addEventListener","attachEvent"),remove:e("removeEventListener","detachEvent")}})?r.call(t,n,t,e):r)||(e.exports=i)},1185:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),u=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return c.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var l=i.test(e);return l||a.test(e)?o(e.slice(2),l?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,l,s,c=0,u=!1,m=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function y(e){return c=e,l=setTimeout(E,t),u?g(e):o}function O(e){var n=e-s;return void 0===s||n>=t||n<0||m&&e-c>=a}function E(){var e=p();if(O(e))return T(e);l=setTimeout(E,function(e){var n=t-(e-s);return m?d(n,a-(e-c)):n}(e))}function T(e){return l=void 0,b&&r?g(e):(r=i=void 0,o)}function I(){var e=p(),n=O(e);if(r=arguments,i=this,s=e,n){if(void 0===l)return y(s);if(m)return l=setTimeout(E,t),g(s)}return void 0===l&&(l=setTimeout(E,t)),o}return t=v(t)||0,h(n)&&(u=!!n.leading,a=(m="maxWait"in n)?f(v(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b),I.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=i=l=void 0},I.flush=function(){return void 0===l?o:T(p())},I}}).call(this,n(137))},1186:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),u=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return c.Date.now()};function h(e,t,n){var r,i,a,o,l,s,c=0,u=!1,h=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function y(e){return c=e,l=setTimeout(E,t),u?g(e):o}function O(e){var n=e-s;return void 0===s||n>=t||n<0||h&&e-c>=a}function E(){var e=p();if(O(e))return T(e);l=setTimeout(E,function(e){var n=t-(e-s);return h?d(n,a-(e-c)):n}(e))}function T(e){return l=void 0,b&&r?g(e):(r=i=void 0,o)}function I(){var e=p(),n=O(e);if(r=arguments,i=this,s=e,n){if(void 0===l)return y(s);if(h)return l=setTimeout(E,t),g(s)}return void 0===l&&(l=setTimeout(E,t)),o}return t=m(t)||0,v(n)&&(u=!!n.leading,a=(h="maxWait"in n)?f(m(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b),I.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=i=l=void 0},I.flush=function(){return void 0===l?o:T(p())},I}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var l=i.test(e);return l||a.test(e)?o(e.slice(2),l?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return v(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),h(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(137))},1187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},i=function(e){return r(e,"overflow")+r(e,"overflow-y")+r(e,"overflow-x")};t.default=function(e){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(i(t)))return t;t=t.parentNode}return window}},1188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,r){if(function(e){return null===e.offsetParent}(t))return!1;var i=void 0,o=void 0,l=void 0,s=void 0;if(void 0===n||n===window)i=window.pageYOffset,l=window.pageXOffset,o=i+window.innerHeight,s=l+window.innerWidth;else{if(!e(n,window,r))return!1;var c=(0,a.default)(n);i=c.top,l=c.left,o=i+n.offsetHeight,s=l+n.offsetWidth}var u=(0,a.default)(t);return i<=u.top+t.offsetHeight+r.top&&o>=u.top-r.bottom&&l<=u.left+t.offsetWidth+r.left&&s>=u.left-r.right};var r,i=n(1189),a=(r=i)&&r.__esModule?r:{default:r}},1189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}},1190:function(e,t,n){"use strict";var r=n(7),i=n(1191),a=n(542),o=n(287);r({target:"Array",proto:!0},{groupBy:function(e){var t=arguments.length>1?arguments[1]:void 0;return i(this,e,t,a)}}),o("groupBy")},1191:function(e,t,n){var r=n(9),i=n(84),a=n(16),o=n(191),l=n(90),s=n(228),c=n(138),u=n(91),f=n(1192),d=r.Array,p=a([].push);e.exports=function(e,t,n,r){for(var a,h,v,m=l(e),b=o(m),g=i(t,n),y=u(null),O=c(b),E=0;O>E;E++)v=b[E],(h=s(g(v,E,m)))in y?p(y[h],v):y[h]=[v];if(r&&(a=r(m))!==d)for(h in y)y[h]=f(a,y[h]);return y}},1192:function(e,t){e.exports=function(e,t){for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i}},1193:function(e,t,n){"use strict";var r=n(7),i=n(1194);r({target:"String",proto:!0,forced:n(1195)("link")},{link:function(e){return i(this,"a","href",e)}})},1194:function(e,t,n){var r=n(16),i=n(108),a=n(77),o=/"/g,l=r("".replace);e.exports=function(e,t,n,r){var s=a(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+l(a(r),o,"&quot;")+'"'),c+">"+s+"</"+t+">"}},1195:function(e,t,n){var r=n(21);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},1196:function(e,t,n){var r=n(1197),i=n(395);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},1197:function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},1203:function(e,t,n){var r=n(139),i=n(1004);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1204:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Event");t.default=o},1205:function(e,t,n){var r=n(903),i=n(139),a=n(989);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},1206:function(e,t,n){var r=n(903),i=n(988),a=n(139);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},1207:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag");t.default=o},1208:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Place");t.default=o},1209:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"Timelapse");t.default=o},1210:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z"}),"FiberNew");t.default=o},1211:function(e,t,n){var r=n(558),i=n(57);e.exports=function(e,t,n,a){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=a?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},1212:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var o=a[i];if(("_owner"!==o||!t.$$typeof)&&!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},1279:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Re}));n(24),n(222),n(869),n(12),n(106),n(529);var r=n(0),i=n.n(r),a=n(156),o=n(871),l=n(904),s=(n(533),n(17),n(20),n(18),n(71),n(72),n(73),n(355),n(64),n(46),n(947),n(916),n(14),n(29),n(30),n(40),n(42),n(41),n(37),n(23),n(105),n(115)),c=n.n(s),u=n(1003),f=n(1001),d=n(1002);const p=(e,t,n,r)=>{let i=0,a=0,o=0;const l=4*t;for(let s=0;s<t;s++)for(let t=0;t<n;t++){const n=r(s,t);i+=n*Object(f.b)(e[4*s+0+t*l]),a+=n*Object(f.b)(e[4*s+1+t*l]),o+=n*Object(f.b)(e[4*s+2+t*l])}let s=1/(t*n);return[i*s,a*s,o*s]};var h=(e,t,n,r,i)=>{if(r<1||r>9||i<1||i>9)throw new d.a("BlurHash must have between 1 and 9 components");if(t*n*4!==e.length)throw new d.a("Width and height must match the pixels array");let a=[];for(let o=0;o<i;o++)for(let i=0;i<r;i++){const r=0==i&&0==o?1:2,l=p(e,t,n,(e,a)=>r*Math.cos(Math.PI*i*e/t)*Math.cos(Math.PI*o*a/n));a.push(l)}const o=a[0],l=a.slice(1);let s,c="",h=r-1+9*(i-1);if(c+=Object(u.b)(h,1),l.length>0){let e=Math.max(...l.map(e=>Math.max(...e))),t=Math.floor(Math.max(0,Math.min(82,Math.floor(166*e-.5))));s=(t+1)/166,c+=Object(u.b)(t,1)}else s=1,c+=Object(u.b)(0,1);var v;return c+=Object(u.b)((v=o,(Object(f.a)(v[0])<<16)+(Object(f.a)(v[1])<<8)+Object(f.a)(v[2])),4),l.forEach(e=>{c+=Object(u.b)(((e,t)=>19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*Object(f.c)(e[0]/t,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*Object(f.c)(e[1]/t,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*Object(f.c)(e[2]/t,.5)+9.5)))))(e,s),2)}),c},v=n(1178),m=n.n(v);function b(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}var O=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function E(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=O.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var T=[".DS_Store","Thumbs.db"];function I(e){return b(this,void 0,void 0,(function(){return g(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?S(e.dataTransfer,e.type):w(e))];var n}))}))}function w(e){return(null!==e.target&&e.target.files?A(e.target.files):[]).map((function(e){return E(e)}))}function S(e,t){return b(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return e.items?(n=A(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(j))]):[3,2];case 1:return[2,_(R(r.sent()))];case 2:return[2,_(A(e.files).map((function(e){return E(e)})))]}}))}))}function _(e){return e.filter((function(e){return-1===T.indexOf(e.name)}))}function A(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function j(e){if("function"!=typeof e.webkitGetAsEntry)return N(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?C(t):N(e)}function R(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}(e,Array.isArray(t)?R(t):[t])}),[])}function N(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=E(t);return Promise.resolve(n)}function P(e){return b(this,void 0,void 0,(function(){return g(this,(function(t){return[2,e.isDirectory?C(e):L(e)]}))}))}function C(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return b(a,void 0,void 0,(function(){var a,o,l;return g(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=s.sent(),e(a),[3,4];case 3:return o=s.sent(),n(o),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(P)),r.push(l),i(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function L(e){return b(this,void 0,void 0,(function(){return g(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=E(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var D=n(1181),x=n.n(D);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},V=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},F=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},B={code:"too-many-files",message:"Too many files"};function G(e,t){var n="application/x-moz-file"===e.type||x()(e,t);return[n,n?null:M(t)]}function Y(e,t,n){if(z(e.size))if(z(t)&&z(n)){if(e.size>n)return[!1,V(n)];if(e.size<t)return[!1,F(t)]}else{if(z(t)&&e.size<t)return[!1,F(t)];if(z(n)&&e.size>n)return[!1,V(n)]}return[!0,null]}function z(e){return null!=e}function U(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize;return!(!e.multiple&&t.length>1)&&t.every((function(e){var t=k(G(e,n),1)[0],a=k(Y(e,r,i),1)[0];return t&&a}))}function H(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function W(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function q(e){e.preventDefault()}function K(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function $(e){return-1!==e.indexOf("Edge/")}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return K(e)||$(e)}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!H(e)&&t&&t.apply(void 0,[e].concat(r)),H(e)}))}}function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ie=Object(r.forwardRef)((function(e,t){var n=e.children,a=oe(re(e,["children"])),o=a.open,l=re(a,["open"]);return Object(r.useImperativeHandle)(t,(function(){return{open:o}}),[o]),i.a.createElement(r.Fragment,null,n(te({},l,{open:o})))}));ie.displayName="Dropzone",ie.propTypes={children:m.a.func,accept:m.a.oneOfType([m.a.string,m.a.arrayOf(m.a.string)]),multiple:m.a.bool,preventDropOnDocument:m.a.bool,noClick:m.a.bool,noKeyboard:m.a.bool,noDrag:m.a.bool,noDragEventsBubbling:m.a.bool,minSize:m.a.number,maxSize:m.a.number,disabled:m.a.bool,getFilesFromEvent:m.a.func,onFileDialogCancel:m.a.func,onDragEnter:m.a.func,onDragLeave:m.a.func,onDragOver:m.a.func,onDrop:m.a.func,onDropAccepted:m.a.func,onDropRejected:m.a.func};var ae={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accept,n=e.disabled,i=void 0!==n&&n,a=e.getFilesFromEvent,o=void 0===a?I:a,l=e.maxSize,s=void 0===l?1/0:l,c=e.minSize,u=void 0===c?0:c,f=e.multiple,d=void 0===f||f,p=e.onDragEnter,h=e.onDragLeave,v=e.onDragOver,m=e.onDrop,b=e.onDropAccepted,g=e.onDropRejected,y=e.onFileDialogCancel,O=e.preventDropOnDocument,E=void 0===O||O,T=e.noClick,w=void 0!==T&&T,S=e.noKeyboard,_=void 0!==S&&S,A=e.noDrag,j=void 0!==A&&A,R=e.noDragEventsBubbling,N=void 0!==R&&R,P=Object(r.useRef)(null),C=Object(r.useRef)(null),L=Object(r.useReducer)(le,ae),D=Q(L,2),x=D[0],k=D[1],M=x.isFocused,V=x.isFileDialogActive,F=x.draggedFiles,z=Object(r.useCallback)((function(){C.current&&(k({type:"openDialog"}),C.current.value=null,C.current.click())}),[k]),K=function(){V&&setTimeout((function(){C.current&&(C.current.files.length||(k({type:"closeDialog"}),"function"==typeof y&&y()))}),300)};Object(r.useEffect)((function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}}),[C,V,y]);var $=Object(r.useCallback)((function(e){P.current&&P.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),z()))}),[P,C]),ee=Object(r.useCallback)((function(){k({type:"focus"})}),[]),ie=Object(r.useCallback)((function(){k({type:"blur"})}),[]),oe=Object(r.useCallback)((function(){w||(X()?setTimeout(z,0):z())}),[C,w]),se=Object(r.useRef)([]),ce=function(e){P.current&&P.current.contains(e.target)||(e.preventDefault(),se.current=[])};Object(r.useEffect)((function(){return E&&(document.addEventListener("dragover",q,!1),document.addEventListener("drop",ce,!1)),function(){E&&(document.removeEventListener("dragover",q),document.removeEventListener("drop",ce))}}),[P,E]);var ue=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),se.current=[].concat(Z(se.current),[e.target]),W(e)&&Promise.resolve(o(e)).then((function(t){H(e)&&!N||(k({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),p&&p(e))}))}),[o,p,N]),fe=Object(r.useCallback)((function(e){if(e.preventDefault(),e.persist(),be(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return W(e)&&v&&v(e),!1}),[v,N]),de=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e);var t=se.current.filter((function(e){return P.current&&P.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),se.current=t,t.length>0||(k({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),W(e)&&h&&h(e))}),[P,h,N]),pe=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),se.current=[],W(e)&&Promise.resolve(o(e)).then((function(n){if(!H(e)||N){var r=[],i=[];n.forEach((function(e){var n=Q(G(e,t),2),a=n[0],o=n[1],l=Q(Y(e,u,s),2),c=l[0],f=l[1];if(a&&c)r.push(e);else{var d=[o,f].filter((function(e){return e}));i.push({file:e,errors:d})}})),!d&&r.length>1&&(r.forEach((function(e){i.push({file:e,errors:[B]})})),r.splice(0)),k({acceptedFiles:r,fileRejections:i,type:"setFiles"}),m&&m(r,i,e),i.length>0&&g&&g(i,e),r.length>0&&b&&b(r,e)}})),k({type:"reset"})}),[d,t,u,s,o,m,b,g,N]),he=function(e){return i?null:e},ve=function(e){return _?null:he(e)},me=function(e){return j?null:he(e)},be=function(e){N&&e.stopPropagation()},ge=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,a=e.onFocus,o=e.onBlur,l=e.onClick,s=e.onDragEnter,c=e.onDragOver,u=e.onDragLeave,f=e.onDrop,d=re(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return te(ne({onKeyDown:ve(J(r,$)),onFocus:ve(J(a,ee)),onBlur:ve(J(o,ie)),onClick:he(J(l,oe)),onDragEnter:me(J(s,ue)),onDragOver:me(J(c,fe)),onDragLeave:me(J(u,de)),onDrop:me(J(f,pe))},n,P),i||_?{}:{tabIndex:0},{},d)}}),[P,$,ee,ie,oe,ue,fe,de,pe,_,j,i]),ye=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),Oe=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,r=void 0===n?"ref":n,i=e.onChange,a=e.onClick,o=re(e,["refKey","onChange","onClick"]),l=ne({accept:t,multiple:d,type:"file",style:{display:"none"},onChange:he(J(i,pe)),onClick:he(J(a,ye)),autoComplete:"off",tabIndex:-1},r,C);return te({},l,{},o)}}),[C,t,d,pe,i]),Ee=F.length,Te=Ee>0&&U({files:F,accept:t,minSize:u,maxSize:s,multiple:d}),Ie=Ee>0&&!Te;return te({},x,{isDragAccept:Te,isDragReject:Ie,isFocused:M&&!i,getRootProps:ge,getInputProps:Oe,rootRef:P,inputRef:C,open:he(z)})}function le(e,t){switch(t.type){case"focus":return te({},e,{isFocused:!0});case"blur":return te({},e,{isFocused:!1});case"openDialog":return te({},e,{isFileDialogActive:!0});case"closeDialog":return te({},e,{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive;return te({},e,{draggedFiles:t.draggedFiles,isDragActive:n});case"setFiles":return te({},e,{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return te({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}var se=n(811);n(35),n(26),n(27),n(22),n(28),n(50),n(36),n(43),n(44),n(45),n(51),n(49);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:t}:{r:0,g:0,b:0,a:0};return"rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(r.a,")")}var pe=80*Math.cos(45/360*2*Math.PI);function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=de(e,t);return{background:"repeating-linear-gradient(\n      ".concat(45,"deg,\n      ").concat("#FFF",",\n      ").concat("#FFF"," ").concat(20,"px,\n      ").concat(n," ").concat(20,"px,\n      ").concat(n," ").concat(40,"px\n    )"),backgroundSize:"calc(100% + ".concat(pe,"px)")}}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){be(a,r,i,o,l,"next",e)}function l(e){be(a,r,i,o,l,"throw",e)}o(void 0)}))}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=Object(se.a)((function(e){return{dropzoneContainer:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%",minHeight:"144px",padding:"0 12px",margin:"12px 0",cursor:"pointer"},dropzoneStandby:{"& $dropzoneContainer":ue({border:"2px dashed ".concat(e.palette.primary.dark),borderRadius:"4px"},he(e.palette.primary.light,.2)),"& $dropzoneUpload":ue(ue({borderColor:e.palette.disabled.dark},he(e.palette.disabled.main,.2)),{},{animation:"$slide 2s infinite linear forwards"})},dropzoneActive:ue(ue({border:"2px dashed ".concat(e.palette.secondary.dark),animation:"$slide 2s infinite linear forwards"},he(e.palette.secondary.light)),{},{"&$dropzoneAccept":ue(ue({borderColor:e.palette.secondary.dark},he(e.palette.secondary.main)),{},{animation:"$slide 2s infinite linear forwards"}),"&$dropzoneReject":ue(ue({borderColor:e.palette.error.dark},he(e.palette.error.main)),{},{animation:"$slide 2s infinite linear forwards"})}),dropzoneAccept:{},dropzoneReject:{},dropzoneUpload:{},"@keyframes slide":{"0%":{backgroundPositionX:"-".concat(pe,"px")},"100%":{backgroundPositionX:0}}}}));function Te(e){var t,n=e.onUpload,a=e.visit,o=Ee(),l=ye(Object(r.useState)(null),2),s=l[0],u=l[1],f=ye(Object(r.useState)([]),2),d=f[0],p=f[1],h=null!==s,v=a.visitId,m=oe({accept:"image/jpeg, image/png",disabled:h,onDrop:Object(r.useCallback)(function(){var e=ge(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r&&p(r),u(1),e.t0=n,e.t1=v,e.t2=t,e.next=7,Promise.all(t.map(Se));case 7:return e.t3=e.sent,e.t4={id:e.t1,data:e.t2,meta:e.t3,isAsset:!0},e.abrupt("return",(0,e.t0)(e.t4).finally((function(){return u(null)})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),maxSize:5242880,minSize:51200}),b=m.getRootProps,g=m.getInputProps,y=m.isDragActive,O=m.isDragAccept,E=m.isDragReject;return i.a.createElement("div",ve({},b(),{className:c()((t={},me(t,o.dropzoneStandby,!y),me(t,o.dropzoneActive,y),me(t,o.dropzoneAccept,O),me(t,o.dropzoneReject,E),t))}),i.a.createElement("div",{className:c()(o.dropzoneContainer,me({},o.dropzoneUpload,h))},i.a.createElement("input",g()),function(e){var t=e.isDragActive;switch(!0){case e.isUploadInProgress:return"Идет загрузка, пожалуйста не закрывайте браузер";case t:return"Загрузить фотографии";default:return"Перенесите сюда фотографии для загрузки или кликните, что-бы выбрать файлы"}}({isDragActive:y,isUploadInProgress:h}),d.length>0&&i.a.createElement("div",null,"Не удалось загрузить следующие файлы:",d.map((function(e){return i.a.createElement("div",{key:e.path},(n=(t=e).file,r=t.errors.map((function(e){return e.message})).join(", "),"".concat(n.path," - ").concat(n.size," bytes, reason: ").concat(r)));var t,n,r})))))}function Ie(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height)}function we(e,t){var n=Math.abs(e),r=Math.abs(t),i=n;for(r>n&&(i=n,n=r,r=i);;){if(0===r)return e;if(0===(n%=r))return t;r%=n}}function Se(e){return _e.apply(this,arguments)}function _e(){return(_e=ge(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=URL.createObjectURL(t),r=new Image;r.onload=function(){var t=we(r.width,r.height),n=ye(t?[r.width/t,r.height/t]:[r.width,r.height],2),i=n[0],a=n[1];try{var o=Ie(r);e({aspect_ratio:"".concat(i,":").concat(a),blurhash:h(o.data,o.width,o.height,4,4)})}catch(t){e({aspect_ratio:"".concat(i,":").concat(a),blurhash:null})}},r.src=n})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=n(1030),je=n(68);function Re(e){var t=e.match.params,n=t.userAlias,r=t.strVisitId,s=Object(a.c)(),c=s.isAuthenticated,u=s.userAlias,f=Object(je.d)().travel,d=parseInt(r,10),p=Object(o.c)({domain:"travel.VisitPage",userAlias:n,visitId:d}),h=p.isError,v=p.isPending,m=p.visit,b=p.invalidate,g=Object(o.a)({domain:"travel.VisitPage",userAlias:n,visitId:d}).submitVisitPhoto,y=c&&u===n;if(h)return i.a.createElement("div",null,"...Error");if(v)return i.a.createElement("div",null,"...Loading");if(!m)return i.a.createElement("div",null,"...Не найдено посещение");var O=m.photos,E=m.locationId;return(i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{visit:m,isLong:!0,locationUrl:f.location.toUrl({strLocationId:String(E),userAlias:n})}),y&&i.a.createElement(Te,{visit:m,userAlias:n,onUpload:function(e){return g(e).finally(b)}}),i.a.createElement(Ae.a,{photos:O})))}},1280:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return le}));n(24),n(222),n(1190),n(71),n(72),n(73);var r=n(0),i=n.n(r),a=n(871),o=n(824),l=n(1267),s=n(811),c=Object(s.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function u(){var e=c();return(i.a.createElement(o.a,{className:e.backdrop,open:!0},i.a.createElement(l.a,{color:"inherit"})))}var f,d,p=n(178),h=n(156),v=(n(353),n(354),n(220),n(860),n(12),n(861),n(22),n(862),n(46),n(14),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(37),n(23),n(815)),m=n(816),b=n(818),g=n(828),y=n(1281),O=n(1266),E=n(232),T=n(885);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,S,_="loc",A="c",j="yr",R="yr_c",N="c_yr",P="t",C="t_c",L=(I(f={},_,T.b.LOCATIONS),I(f,A,T.b.COUNTRIES),I(f,j,T.b.YEARS),I(f,P,T.b.TRIPS),f),D={RATING_ALPHABET:"r_a",VISITS_ALPHABET:"v_a",FIRST_VISIT_ALPHABET:"fv_a",LAST_VISIT_ALPHABET:"lv_a",ALPHABET:"a"},x=D.ALPHABET,k={a:T.c.ALPHABET,r:T.c.RATING,fv:T.c.FIRST_VISIT,lv:T.c.LAST_VISIT,v:T.c.VISITS_COUNT},M={ANY:"a",FOREIGN:"f",DOMESTIC:"d"},V=M.ANY,F=(I(d={},M.ANY,T.a.ANY),I(d,M.FOREIGN,T.a.FOREIGN),I(d,M.DOMESTIC,T.a.DOMESTIC),d);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={TRIPS:"trips",PLACES:"places"},Y=G.TRIPS,z=(B(w={},G.PLACES,[{key:_,l10n:"По городам"},{key:A,l10n:"По странам"},{key:j,l10n:"По годам"},{key:R,l10n:"По годам и странам"},{key:N,l10n:"По странам и годам"}]),B(w,G.TRIPS,[{key:P,l10n:"По поездкам"},{key:C,l10n:"По поездкам и странам"}]),w),U=(B(S={},G.PLACES,A),B(S,G.TRIPS,P),S);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=Object(s.a)({formControl:{width:"100%"}}),$=function(e,t,n){var r=K(),a=t||{},o=a.group,l=a.sort,s=a.filter,c=function(e){return Object.values(D).includes(e)?e:x}(l),u=function(e){return Object.values(M).includes(e)?e:V}(s),f=W(function(e,t){var n=Object.values(G).includes(t)?t:Y,r=z[n]||[];return[r.find((function(t){return t.key===e}))?e:U[n],r]}(o,n),2),d=f[0],p=f[1];return Object(E.b)((function(t){var n=t.closeSidebar;return(i.a.createElement(v.a,null,i.a.createElement(m.a,null,i.a.createElement(b.a,{className:r.formControl},i.a.createElement(g.a,{shrink:!0,id:"select-groupBy-filter-label"},"Сгруппировать"),i.a.createElement(y.a,{labelId:"select-groupBy-filter-label",autoWidth:!0,id:"select-groupBy-filter",value:d,onChange:function(t){n(),e(H({},"group",t.target.value))}},p.map((function(e){return i.a.createElement(O.a,{key:e.key,value:e.key},e.l10n)}))))),d!==P&&i.a.createElement(m.a,null,i.a.createElement(b.a,{className:r.formControl},i.a.createElement(g.a,{shrink:!0,id:"select-sortBy-filter-label"},"Сортировать"),i.a.createElement(y.a,{labelId:"select-sortBy-filter-label",autoWidth:!0,id:"select-sortBy-filter",value:c,onChange:function(t){n(),e(H({},"sort",t.target.value))}},i.a.createElement(O.a,{value:D.ALPHABET},"По алфавиту"),i.a.createElement(O.a,{value:D.VISITS_ALPHABET},"По числу посещений"),i.a.createElement(O.a,{value:D.FIRST_VISIT_ALPHABET},"По первому посещению"),i.a.createElement(O.a,{value:D.LAST_VISIT_ALPHABET},"По последнему посещению"),i.a.createElement(O.a,{value:D.RATING_ALPHABET},"По рейтингу")))),i.a.createElement(m.a,null,i.a.createElement(b.a,{className:r.formControl},i.a.createElement(g.a,{shrink:!0,id:"select-filterBy-filter-label"},"Фильтровать"),i.a.createElement(y.a,{labelId:"select-filterBy-filter-label",autoWidth:!0,id:"select-filterBy-filter",value:u,onChange:function(t){n(),e(H({},"filter",t.target.value))}},i.a.createElement(O.a,{value:M.ANY},"Показать все"),i.a.createElement(O.a,{value:M.FOREIGN},"Только зарубежные"),i.a.createElement(O.a,{value:M.DOMESTIC},"Только местные"))))))}),[d,c,u]),{groupBy:d,sortBy:c,filterBy:u}};var X=n(933),J=n(122),Z=n(219),Q=n(822),ee=n(825),te=n(1028),ne=n.n(te);function re(e){var t=e.tripCreateUrl,n=e.locationsUrl,r=e.stats,a=r.locationsStats.total,o=r.countriesStats.total;return(i.a.createElement(Z.a,{variant:"h6",paragraph:!0},i.a.createElement("span",null,"Всего "),i.a.createElement(Q.a,{to:n,component:J.b},"".concat(a," городов ")),i.a.createElement("span",null,"из "),i.a.createElement("span",null,"".concat(o," стран")),t?i.a.createElement(ee.a,{href:t,"data-locator":"ADD_TRIP_BUTTON"},i.a.createElement(ne.a,null)):null))}n(289);function ie(e){var t=e.split("_").map((function(e){return L[e]})),n=t.includes(T.b.TRIPS),r=t[t.length-1];return n||r===T.b.LOCATIONS||t.push(T.b.LOCATIONS),n&&t.push(T.b.JUST_VISITS),t}function ae(e){return e.split("_").map((function(e){return k[e]}))}function oe(e){return F[e]}function le(e){var t=e.match.params,n=t.userAlias,r=t.section,o=Object(h.c)().userAlias,l=n===o,s=n!==o,c=Object(p.b)(),f=c.queryFilter,d=c.setQueryFilter,v=$(d,f,r),m=v.groupBy,b=v.sortBy,g=v.filterBy,y=Object(a.b)({userAlias:n}),O=y.isPending,E=y.isError,I=Object(X.a)({editable:l,userAlias:n,section:r});if(E)return i.a.createElement("div",null,"...Error");if(O)return i.a.createElement(u,null);var w=y.visitsIds,S=y.visitsDict,_=w.map((function(e){return S[e]})),A={visitsList:_,parent:null,field:null},j=Object(T.d)(A,y);return i.a.createElement(i.a.Fragment,null,i.a.createElement(re,{locationsUrl:I.locationsUrl,tripCreateUrl:I.tripCreateUrl,stats:j}),i.a.createElement(T.e,{visitsList:_,provision:y,groupsOrder:ie(m),sortingOrder:"trips"===r?[T.c.LAST_VISIT]:ae(b),filteringOption:oe(g),isObscure:s,urls:I}))}},1284:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));n(24),n(222),n(869),n(12),n(106),n(529);var r,i=n(0),a=n.n(i),o=n(219),l=n(156),s=n(933),c=n(885),u=(n(23),n(2)),f=n.n(u),d=n(811),p=n(818),h=n(828),v=n(1281),m=n(1266),b=n(285);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(g(r={},b.LOCATION_RATING.PLACE_TO_LIVE,"Жил бы здесь"),g(r,b.LOCATION_RATING.FEW_PER_YEAR,"Несколько раз в год"),g(r,b.LOCATION_RATING.ONCE_PER_YEAR,"Раз в год"),g(r,b.LOCATION_RATING.ONCE_PER_TWO_YEARS,"Раз в пару лет"),g(r,b.LOCATION_RATING.ONCE_PER_FIVE_YEARS,"Раз в пять лет"),g(r,b.LOCATION_RATING.ONCE_PER_DECADE,"Раз в десятилетие"),g(r,b.LOCATION_RATING.TWICE_PER_LIVE,"Пару раз в жизни"),g(r,b.LOCATION_RATING.ONCE_PER_LIVE,"Раз в жизни"),g(r,b.LOCATION_RATING.NEVER,"Никогда"),r),O=Object(d.a)({formControl:{margin:"24px 0",width:"100%"}});function E(e){var t=e.locationId,n=e.locationRating,r=e.isEditable,i=e.onSubmitLocationRating,o=O();return r?a.a.createElement(p.a,{className:o.formControl},a.a.createElement(h.a,{shrink:!0,id:"select-location-rating-label"},"Я бы ездил сюда"),a.a.createElement(v.a,{labelId:"select-location-rating-label",id:"select-location-rating",value:n,onChange:function(e){i(e,t,e.target.value)}},a.a.createElement(m.a,{value:b.LOCATION_RATING.PLACE_TO_LIVE},y[b.LOCATION_RATING.PLACE_TO_LIVE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.FEW_PER_YEAR},y[b.LOCATION_RATING.FEW_PER_YEAR]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_YEAR},y[b.LOCATION_RATING.ONCE_PER_YEAR]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_TWO_YEARS},y[b.LOCATION_RATING.ONCE_PER_TWO_YEARS]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_FIVE_YEARS},y[b.LOCATION_RATING.ONCE_PER_FIVE_YEARS]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_DECADE},y[b.LOCATION_RATING.ONCE_PER_DECADE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.TWICE_PER_LIVE},y[b.LOCATION_RATING.TWICE_PER_LIVE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_LIVE},y[b.LOCATION_RATING.ONCE_PER_LIVE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.NEVER},y[b.LOCATION_RATING.NEVER]))):a.a.createElement("div",null,y[n])}E.propTypes={locationRating:f.a.number,locationId:f.a.number.isRequired,isEditable:f.a.bool.isRequired,onSubmitLocationRating:f.a.func.isRequired},E.defaultProps={locationRating:null};n(35),n(89),n(14),n(50),n(36),n(43),n(44),n(45),n(51),n(49),n(353),n(354),n(26),n(27),n(22),n(28),n(71),n(72),n(73);var T=n(116),I=n(136);var w=n(832),S=n(857),_=["isError","isPending","isReady"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P(e){var t=e.domain,n=e.userAlias,r=e.locationId,i=Object(w.a)({userAlias:n}),a=i.isError,o=i.isPending,l=i.isReady,s=i.locationsIds,c=i.visitsDict,u=i.visitsIds,f=i.locationsRating,d=function(e){var t=e.domain,n=e.locationId;return{location:Object(T.c)((function(e){return Object(I.e)(e,"locations",n)||{}})),provision:Object(I.g)({domain:t,isProvision:!0,modelName:"locations",observe:n,condition:Boolean(n),query:{id:n}})}}({domain:t,locationId:r}),p=d.location,h=d.provision,v=h.isError,m=h.isPending,b=h.isReady,g=N(h,_),y=Object(S.b)({domain:t}).submitLocationRating,O=s.includes(r);return{provision:j({isError:v||a,isPending:m||o,isReady:b||l},g),location:p,isVisited:O,visitsList:O?u.map((function(e){return c[e]})).filter((function(e){return e.locationId===r})):[],locationRating:O&&f[r]||null,submitLocationRating:y,tripsStatsProvision:i}}function C(e){var t=e.match.params,n=t.userAlias,r=t.strLocationId,u=t.section,f=Object(l.c)(),d=f.isAuthenticated,p=f.userAlias,h=n===p,v=n!==p,m=Object(s.a)({editable:h,userAlias:n,section:u}),b=parseInt(r,10),g=P({domain:"travel.LocationPage",userAlias:n,locationId:b}),y=g.location,O=g.provision,T=O.isError,I=O.isPending,w=O.isReady,S=g.isVisited,_=g.visitsList,A=g.tripsStatsProvision,j=g.tripsStatsProvision.userProvision,R=g.locationRating,N=g.submitLocationRating,C=Object(i.useCallback)((function(e,t,n){N({query:{rating:n,id:String(t)},condition:Boolean(t)}).finally(j.invalidate)}));if(T)return a.a.createElement("div",null,"...Error");if(I||!w)return a.a.createElement("div",null,"...Loading");if(!y)return null;var L=d&&p===n;return S?a.a.createElement(c.e,{visitsList:_,provision:A,groupsOrder:[c.b.LOCATIONS,c.b.YEARS,c.b.JUST_VISITS],photosSectionLevel:1,mapSectionLevel:0,sortingOrder:[c.c.LAST_VISIT],filteringOption:c.a.ANY,isObscure:v,urls:m,config:{LocationVisitsGroup:{hyperlinks:{location:!1}},StatsPanel:{appearance:{CountriesStats:!1}}}},(function(e){var t=e.level,n=e.index;return 0===t&&0===n&&a.a.createElement(E,{locationId:b,locationRating:R,isEditable:L,onSubmitLocationRating:C})})):a.a.createElement(o.a,{variant:"h2",component:"span"},y.locationName)}},1285:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));n(24),n(222),n(869),n(353),n(354),n(71),n(72),n(73);var r,i=n(0),a=n.n(i),o=n(2),l=n.n(o),s=n(811),c=n(156),u=(n(909),n(23),n(818)),f=n(828),d=n(1281),p=n(1266),h=n(285);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(v(r={},h.LOCATION_RATING.PLACE_TO_LIVE,"Жил бы здесь"),v(r,h.LOCATION_RATING.FEW_PER_YEAR,"Несколько раз в год"),v(r,h.LOCATION_RATING.ONCE_PER_YEAR,"Раз в год"),v(r,h.LOCATION_RATING.ONCE_PER_TWO_YEARS,"Раз в пару лет"),v(r,h.LOCATION_RATING.ONCE_PER_FIVE_YEARS,"Раз в пять лет"),v(r,h.LOCATION_RATING.ONCE_PER_DECADE,"Раз в десятилетие"),v(r,h.LOCATION_RATING.TWICE_PER_LIVE,"Пару раз в жизни"),v(r,h.LOCATION_RATING.ONCE_PER_LIVE,"Раз в жизни"),v(r,h.LOCATION_RATING.NEVER,"Никогда"),r),b=Object(s.a)({formControl:{width:"100%"}});function g(e){var t=e.locationId,n=e.locationRating,r=e.isEditable,i=e.onSubmitLocationRating,o=b();return r?a.a.createElement(u.a,{className:o.formControl},a.a.createElement(f.a,{shrink:!0,id:"select-location-rating-label"},"Я бы ездил сюда"),a.a.createElement(d.a,{labelId:"select-location-rating-label",id:"select-location-rating",value:n,onChange:function(e){i(e,t,e.target.value)}},a.a.createElement(p.a,{value:h.LOCATION_RATING.PLACE_TO_LIVE},m[h.LOCATION_RATING.PLACE_TO_LIVE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.FEW_PER_YEAR},m[h.LOCATION_RATING.FEW_PER_YEAR]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_YEAR},m[h.LOCATION_RATING.ONCE_PER_YEAR]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_TWO_YEARS},m[h.LOCATION_RATING.ONCE_PER_TWO_YEARS]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_FIVE_YEARS},m[h.LOCATION_RATING.ONCE_PER_FIVE_YEARS]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_DECADE},m[h.LOCATION_RATING.ONCE_PER_DECADE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.TWICE_PER_LIVE},m[h.LOCATION_RATING.TWICE_PER_LIVE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_LIVE},m[h.LOCATION_RATING.ONCE_PER_LIVE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.NEVER},m[h.LOCATION_RATING.NEVER]))):a.a.createElement("div",null,m[n])}g.propTypes={locationRating:l.a.number,locationId:l.a.number.isRequired,isEditable:l.a.bool.isRequired,onSubmitLocationRating:l.a.func.isRequired},g.defaultProps={locationRating:null};n(868);var y=n(832),O=n(857);var E=Object(s.a)({container:{fontSize:"16px",lineHeight:"1.5"},visitContainer:{margin:"20px 0"},location:{fontWeight:"bold",fontSize:"21px"},googleMapContainer:{margin:"12px 0",width:"800px",maxWidth:"100%",height:"400px",maxHeight:"100%"}});function T(e){var t=e.match.params,n=t.userAlias,r=t.strLocationId,o=E(),l=Object(c.c)(),s=l.isAuthenticated,u=l.userAlias,f=function(e){var t=e.domain,n=e.userAlias,r=Object(y.a)({userAlias:n}),i=r.isError,a=r.isPending,o=r.locationsDict,l=r.locationsIds;return{isError:i,isPending:a,locationsDict:o,locationsIds:void 0===l?[]:l,locationsRating:r.locationsRating,submitLocationRating:Object(O.b)({domain:t}).submitLocationRating}}({domain:"travel.LocationsPage",userAlias:n}),d=f.isError,p=f.isPending,h=f.locationsDict,v=f.locationsIds,m=f.locationsRating,b=f.submitLocationRating,T=parseInt(r,10),I=T?[T]:v,w=Object(i.useCallback)((function(e,t,n){b({query:{rating:n,id:String(t)},condition:Boolean(t)})}));if(d)return a.a.createElement("div",null,"...Error");if(p)return a.a.createElement("div",null,"...Loading");if(T&&!v.includes(T))return a.a.createElement("div",null,"Путешественик ".concat(n," еще не посетил данную локацию"));var S=s&&u===n;return(a.a.createElement("div",{className:o.container},I.map((function(e){var t=h[e];if(!t)return null;var n=t.locationName;return(a.a.createElement(a.a.Fragment,{key:e},a.a.createElement("h1",{className:o.location},n),a.a.createElement(g,{locationId:e,locationRating:m[e],isEditable:S,onSubmitLocationRating:w})))}))))}T.propTypes={match:l.a.shape({params:l.a.shape({userAlias:l.a.string.isRequired,strLocationId:l.a.string}).isRequired}).isRequired}},1290:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));n(24),n(222),n(869);var r=n(0),i=n.n(r),a=n(219),o=n(156),l=n(933),s=n(885),c=(n(353),n(354),n(26),n(12),n(27),n(22),n(28),n(71),n(72),n(73),n(832));function u(e){var t=e.match.params,n=t.userAlias,r=t.strCountryId,u=t.section,f=Object(o.c)().userAlias,d=Object(l.a)({editable:!1,userAlias:n,section:u}),p=n!==f,h=function(e){var t=e.userAlias,n=e.countryId,r=Object(c.a)({userAlias:t}),i=r.countriesIds,a=r.countriesDict,o=r.visitsDict,l=r.visitsIds,s=i.includes(n);return{provision:r,country:a[n],isVisited:s,visitsList:s?l.map((function(e){return o[e]})).filter((function(e){return e.countryId===n})):[]}}({userAlias:n,countryId:parseInt(r,10)}),v=h.country,m=h.provision,b=h.provision,g=b.isError,y=b.isPending,O=b.isReady,E=h.isVisited,T=h.visitsList;return g?i.a.createElement("div",null,"...Error"):y||!O?i.a.createElement("div",null,"...Loading"):v?E?i.a.createElement(s.e,{visitsList:T,provision:m,groupsOrder:[s.b.COUNTRIES,s.b.YEARS,s.b.LOCATIONS],sortingOrder:[s.c.LAST_VISIT],filteringOption:s.a.ANY,isObscure:p,urls:d,config:{CountryVisitsGroup:{hyperlinks:{country:!1}}}}):i.a.createElement(a.a,{variant:"h2",component:"span"},v.countryName):null}},832:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n(35),n(89),n(14),n(26),n(12),n(27),n(22),n(28),n(79),n(71),n(72),n(73),n(41),n(20),n(17),n(356),n(357),n(358),n(360),n(359),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(18),n(864),n(865),n(866),n(867);var r=n(0),i=n(116),a=n(856),o=n.n(a),l=n(850),s=n.n(l),c=n(136),u=n(48),f=(n(378),n(379),n(380),n(375),n(376),n(377),n(860),n(861),n(862),n(36),n(43),n(44),n(45),n(929)),d=n.n(f);var p=n(868),h=n(840),v=n(857),m=["user"];function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e){var t=e.userAlias,n=function(e){var t=e.userAlias,n=e.tripsIds,r=Object(i.c)((function(e){return{tripsDict:Object(c.c)(e,"trips")||{}}})).tripsDict,a=!n,o=!a&&n.filter((function(e){return!r[e]}));return Object(c.g)({domain:"travel.trips-".concat(t),isProvision:!0,modelName:"trips",observe:t,query:{userAlias:t,navigation:{isDisabled:!0},filter:a?{}:{id:{comparator:"in",value:o}}}})}({userAlias:t,tripsIds:e.tripsIds}),r=Object(p.a)({domain:"travel.trips-".concat(t,".user"),userAlias:t}),a=r.user,o=(a=void 0===a?{}:a).locationsRating,l=void 0===o?{}:o,s=b(r,m),f=(Object(u.o)(n)||{}).data,g=void 0===f?[]:f,E=Object(i.c)((function(e){return{tripsDict:Object(c.c)(e,"trips")||{},visitsDict:Object(c.c)(e,"visits")||{},ridesDict:Object(c.c)(e,"rides")||{},countriesDict:Object(c.c)(e,"countries")||{},locationsDict:Object(c.c)(e,"locations")||{}}})),T=E.tripsDict,I=E.visitsDict,w=E.ridesDict,S=E.countriesDict,_=E.locationsDict,A=O(g,T,"visits"),j=O(g,T,"rides"),R=O(A,I,"countryId"),N=O(A,I,"locationId"),P=Object(h.a)(),C=Object(v.a)({domain:"travel.locations-".concat(t),locationsIds:N}),L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{updatesCounter:d()(t.map(u.p)),isReady:t.every(u.i),isPending:t.some(u.h),isValid:t.every(u.k),error:t.find(u.g),errors:t.map(u.f).filter(Boolean),invalidate:function(){return t.forEach((function(e){return(0,e.invalidate)()}))}}}(n,s,P,C);return{userProvision:s,tripsProvision:n,countriesProvision:P,locationsProvision:C,isError:L.isError,isValid:L.isValid,isReady:L.isReady,isPending:L.isPending,tripsIds:g,tripsDict:T,visitsIds:A,visitsDict:I,ridesIds:j,ridesDict:w,ridesStats:y(j,w),locationsIds:N,locationsDict:_,locationsRating:l,countriesIds:R,countriesDict:S}}function y(e,t){return{earliestDeparture:new Date(s()(e.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.departureDateTime.getTime()})))),latestArrival:new Date(o()(e.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.arrivalDateTime.getTime()}))))}}function O(e,t,n){return Object(r.useMemo)((function(){return Array.from(new Set(e.flatMap((function(e){var r;return(null===(r=t[e])||void 0===r?void 0:r[n])||[]}))))}),[e,t,n])}},836:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return m}));n(64);var r=n(226),i=n(887),a=n(888),o=n(842),l=n(847),s="d MMMM yyyy",c="LLLL yyyy",u="LLLL",f="d MMMM",d="d";function p(e,t,n){var p=n?c:s,h=Object(l.a)(t,p,{locale:o.a});if(Object(r.a)(e,t))return h;var v="";if(Object(i.a)(e,t))n||(v=Object(l.a)(e,d,{locale:o.a}));else if(Object(a.a)(e,t)){var m=n?u:f;v=Object(l.a)(e,m,{locale:o.a})}else v=Object(l.a)(e,p,{locale:o.a});return"".concat(v,"—").concat(h)}function h(e,t){return p(e.departureDateTime,e.arrivalDateTime,t)}function v(e,t){var n=e.departureDateTime;return p(e.arrivalDateTime,n,t)}function m(e){var t=e.periodStart,n=e.periodEnd,r=e.isObscure,i=e.placeholder;if(!n){var a=r?c:s,u=Object(l.a)(t,a,{locale:o.a});return"".concat(u,"—").concat(i)}return p(t,n,r)}},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(35),n(89),n(14),n(105);var r=n(0),i=n.n(r),a=n(122),o=n(822),l=["optional","children"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){var t=e.optional,n=e.children,r=c(e,l);return Boolean(!t||r.href||r.to||r.onClick)?i.a.createElement(o.a,s({},r,{component:a.b}),n):n}u.defaultProps={optional:!1}},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(136);function i(){return Object(r.g)({domain:"travel.countries",isProvision:!0,modelName:"countries",query:{navigation:{isDisabled:!0}}})}},847:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(64);var r=n(87),i=n(848);function a(e){if(!Object(i.a)(e))return"?";for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.a.apply(void 0,[e].concat(n))}},848:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(79),n(875),n(284);function r(e){return e instanceof Date&&!Number.isNaN(e.getTime())}},857:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));n(26),n(12),n(27),n(22),n(28),n(46),n(14),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(37),n(23),n(35),n(50),n(36),n(43),n(44),n(45),n(51),n(49);var r=n(116),i=n(136);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=e.domain,n=e.locationsIds,a=Object(r.c)((function(e){return Object(i.c)(e,"locations")||{}})),o=n.filter((function(e){return!a[e]}));return Object(i.g)({domain:t,isProvision:!0,modelName:"locations",observe:n,condition:Boolean(o.length),query:{filter:{id:{comparator:"in",value:o}},navigation:{isDisabled:!0}}})}function f(e){var t=e.domain,n=s(Object(i.h)({domain:t,modelName:"locations",method:"POST"}),2),r=n[0];return o(o({},n[1]),{},{submitLocationRating:r})}},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(23),n(35),n(14),n(26),n(12),n(27),n(22),n(28),n(50),n(36),n(43),n(44),n(45),n(51),n(49);var r=n(116),i=n(136);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.domain,n=e.userAlias,a=Object(r.c)((function(e){return Object(i.e)(e,"users",n)}));return o(o({},Object(i.g)({domain:t,applicableSchemaName:"item",isProvision:!0,modelName:"users",observe:n,condition:Boolean(n),query:{id:n}})),{},{user:a})}},871:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(832),i=(n(840),n(64),n(23),n(35),n(14),n(26),n(12),n(27),n(22),n(28),n(50),n(36),n(43),n(44),n(45),n(51),n(49),n(46),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(37),n(116)),a=n(136);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.userAlias,n=e.visitId,r=Object(i.c)((function(e){return{visitsDict:Object(a.c)(e,"visits")||{}}})).visitsDict[n];return c({visit:r},Object(a.g)({domain:"travel.visit".concat(n,"-").concat(t),isProvision:!0,modelName:"visits",observe:n,condition:!r,query:{userAlias:t,filter:{visit_id:{comparator:"=",value:n}},navigation:{isDisabled:!0}}}))}function d(e){var t=e.domain,n=o(Object(a.h)({domain:t,modelName:"visits",method:"POST",contentType:"multipart/form-data"}),2),r=n[0];return c(c({},n[1]),{},{submitVisitPhoto:r})}},885:function(e,t,n){"use strict";n.d(t,"b",(function(){return X})),n.d(t,"c",(function(){return Xe})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return Oe}));n(35),n(14),n(50),n(36),n(43),n(44),n(45),n(51),n(49),n(89),n(46),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(37),n(26),n(12),n(27),n(22),n(28),n(23);var r=n(0),i=n.n(r),a=function(e,t,n){var i=Object(r.useRef)(void 0);i.current&&n(t,i.current)||(i.current=t),Object(r.useEffect)(e,i.current)},o=n(1212),l=n.n(o).a,s=function(e,t){a(e,t,l)},c=n(811),u={ANY:"ANY",FOREIGN:"FOREIGN",DOMESTIC:"DOMESTIC"};function f(e,t){switch(t){case u.FOREIGN:case u.DOMESTIC:return function(e,t){var n=e.tripsDict,r=e.locationsDict,i=t===u.FOREIGN;if(!i&&t!==u.DOMESTIC)return d;return function(e){if(!e)return!1;var t=e.countryId,a=e.tripId;if(!t)return!0;var o=n[a];if(!o)return!0;var l=o.originLocationId,s=r[l];if(!s)return!0;var c=s.countryId;return!c||(i?t!==c:t===c)}}(e,t);case u.ANY:default:return d}}function d(e){return Boolean(e)}n(71),n(72),n(73),n(1193),n(64),n(105);var p=n(115),h=n.n(p),v=n(822),m=n(219),b=n(1196),g=n.n(b),y=(n(284),n(837));function O(e){var t=e.children,n=e.visitsGroup.field.value,r=e.classes,a=e.provision.countriesDict,o=e.urls,l=e.config.CountryVisitsGroup,s=(l=void 0===l?{}:l).hyperlinks,c=(s=void 0===s?{}:s).country,u=void 0===c||c;return i.a.createElement(E,{country:a[n],className:r.container,classes:r,countryUrl:u?null==o?void 0:o.resolveCountryUrl({countryId:n}):null},t)}function E(e){var t=e.variant,n=e.country.countryName,r=e.children,a=e.className,o=e.classes,l=e.countryUrl;return(i.a.createElement("div",{className:a},i.a.createElement(y.a,{to:l,optional:!0},i.a.createElement(m.a,{display:"inline",variant:t,className:o.header},n)),r))}function T(e,t){var n,r;return null===(n=function(e,t){var n=e;for(;n;){if(t===n.plainGroup)return n;n=n.parent}return null}(e,t))||void 0===n?void 0:null===(r=n.field)||void 0===r?void 0:r.value}function I(e){var t=e.children,n=e.visitsGroup,r=e.visitsGroup.field.value,a=e.classes,o=e.provision,l=e.provision.locationsDict,s=e.urls,c=e.config.LocationVisitsGroup,u=(c=void 0===c?{}:c).appearance,f=c.hyperlinks,d=(f=void 0===f?{}:f).location,p=void 0===d||d,h=f.country,v=void 0===h||h,m=l[r],b=T(n,X.COUNTRIES),g=null!=m?m:{},y=g.locationId,O=g.countryId,E=p?null==s?void 0:s.resolveLocationUrl({locationId:y}):null,I=v?null==s?void 0:s.resolveCountryUrl({countryId:O}):null;return i.a.createElement(w,{className:a.container,classes:a,location:m,provision:o,showCountry:!b,locationUrl:E,countryUrl:I,appearance:u},t)}function w(e){var t,n,r=e.children,a=e.variant,o=e.className,l=e.classes,s=void 0===l?{}:l,c=e.location,u=(c=void 0===c?{}:c).locationName,f=c.countryId,d=e.provision.countriesDict,p=e.showCountry,h=e.locationUrl,v=e.countryUrl,b=e.appearance.country,g=void 0===b||b,O=null===(t=d[f])||void 0===t?void 0:t.countryName,E=g&&O&&p?i.a.createElement(y.a,{to:v,optional:!0},i.a.createElement(m.a,{display:"inline",variant:"body1"},null===(n=d[f])||void 0===n?void 0:n.countryName)):null,T=i.a.createElement(y.a,{to:h,optional:!0},i.a.createElement(m.a,{display:"inline",variant:a,className:s.header},u,E?",":""));return i.a.createElement("div",{className:o},i.a.createElement("div",null,T,E?" ":null,E),r)}O.defaultProps={config:{}},I.defaultProps={config:{}},w.defaultProps={appearance:{}};var S=Object(c.a)({container:{}});function _(e){var t=e.children,n=e.variant,r=e.className,a=e.classes,o=e.year;return(i.a.createElement("div",{className:r},i.a.createElement(m.a,{display:"inline",variant:n,className:a.header},o||"Без указания даты"),t))}var A=n(940),j=n(825),R=n(1007),N=n.n(R);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.containerClassName,r=void 0===n?"hoverTrigger":n,i=t.contentClassName,a=void 0===i?"visibleOnHover":i;return Object(c.a)((P(e={},r,P({},"&:hover $".concat(a),{visibility:"visible"})),P(e,a,{visibility:"hidden"}),e))}();function L(e){var t=e.trip,n=e.visitsDict,r=e.countriesDict,a=e.locationsDict,o=e.children,l=e.className,s=e.variant,c=e.urls,u=C(),f=u.hoverTrigger,d=u.visibleOnHover,p=null==c?void 0:c.resolveTripEditUrl({tripId:t.tripId});return i.a.createElement(m.a,{variant:null!=s?s:void 0,className:h()(l,f),paragraph:!0},i.a.createElement("span",null,Object(A.a)(t,n,r,a)),o,p&&i.a.createElement(j.a,{className:d,href:p},i.a.createElement(N.a,null)))}L.defaultProps={variant:"h4"};var D=n(1203),x=n.n(D),k=n(122),M=n(1204),V=n.n(M),F=n(836),B=n(814),G=n(932),Y=(n(106),n(1025),n(1026),n(1027),Object(c.a)({autoMargin:{marginLeft:"auto"}}));function z(e){var t=e.children,n=e.className,r=Y(),a=i.a.Children.toArray(t);if(a.length<=1)return i.a.createElement(m.a,{className:n},t);var o=a.slice(-1),l=a.slice(0,-1);return i.a.createElement(B.a,{className:n,container:!0,justify:"space-between",alignItems:"center"},i.a.createElement(B.a,{item:!0},l),i.a.createElement(B.a,{item:!0,classes:{item:r.autoMargin}},o))}var U=Object(c.a)({halfDown:{position:"relative",top:12}});function H(e){var t=e.locationId,n=e.rideId,r=e.provision,a=e.provision,o=a.ridesDict,l=a.locationsDict,s=e.groupCountryId,c=e.children,u=e.locationInfoChildren,f=e.className,d=e.classes,p=e.urls,h=U(),v=l[t];return i.a.createElement(z,{className:f},i.a.createElement(w,{className:d.locationContainer,provision:r,location:v,showCountry:!s,locationUrl:null==p?void 0:p.resolveLocationUrl({locationId:t}),countryUrl:null==p?void 0:p.resolveCountryUrl({countryId:null==v?void 0:v.countryId})},u),s?c:i.a.createElement(B.a,{container:!0},i.a.createElement(B.a,{item:!0},c),i.a.createElement(B.a,{item:!0},i.a.createElement(G.a,{ride:o[n],className:h.halfDown}))))}H.defaultProps={classes:{}};var W,q=Object(c.a)({locationContainer:{position:"relative"},detail:{color:"gray",fontSize:12},editButton:{position:"absolute",top:"-50%",left:"100%"}});function K(e){var t=e.visit,n=t.visitId,r=t.locationId,a=t.departureRideId,o=e.provision,l=e.provision.visitsDict,s=e.urls,c=e.isObscure,u=e.groupCountryId,f=e.className,d=q(),p=C(),v=p.hoverTrigger,b=p.visibleOnHover,g=null==s?void 0:s.resolveVisitUrl({visitId:n});return i.a.createElement(H,{className:h()(f,v),classes:{locationContainer:d.locationContainer},locationId:r,rideId:a,provision:o,groupCountryId:u,urls:s,locationInfoChildren:g&&i.a.createElement(j.a,{className:h()(d.editButton,b),component:k.b,to:g},i.a.createElement(V.a,null))},i.a.createElement(m.a,{className:d.detail},Object(F.c)(l[n],c)))}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={LOCATIONS:"LOCATIONS",COUNTRIES:"COUNTRIES",YEARS:"YEARS",TRIPS:"TRIPS",JUST_VISITS:"JUST_VISITS"},J=($(W={},X.TRIPS,{groupFieldName:"tripId",component:function(e){var t=e.classes,n=e.children,r=e.visitsGroup.field.value,a=e.provision,o=a.tripsDict,l=a.visitsDict,s=a.countriesDict,c=a.locationsDict,u=e.urls;return(i.a.createElement(L,{key:"t".concat(r),className:h()(t.container,t.header),classes:t,trip:o[r],visitsDict:l,countriesDict:s,locationsDict:c,variant:null,urls:u},n))},adapter:Number}),$(W,X.YEARS,{groupFieldName:function(e){return e.arrivalDateTime.getFullYear()},component:function(e){var t=e.children,n=e.visitsGroup.field.value,r=e.classes,a=S();return i.a.createElement(_,{className:h()(r.container,a.container),classes:r,year:n},t)},adapter:Number}),$(W,X.COUNTRIES,{groupFieldName:"countryId",component:O,adapter:Number}),$(W,X.LOCATIONS,{groupFieldName:"locationId",component:I,adapter:Number}),$(W,X.JUST_VISITS,{groupFieldName:"visitId",component:function(e){var t,n=e.visitsGroup,a=e.visitsGroup.visitsList,o=e.provision,l=e.provision,s=l.tripsDict,c=l.locationsDict,u=e.classes,f=e.urls,d=T(n,X.TRIPS),p=T(n,X.COUNTRIES),h=Object(r.useMemo)((function(){return p?x()(a,"locationId"):a}),[p,a]);if(!d)return i.a.createElement(i.a.Fragment,null,a.map((function(e){return i.a.createElement(y.a,{to:f.resolveVisitUrl({visitId:e.visitId}),optional:!0},i.a.createElement(m.a,{className:u.level},Object(F.c)(e,!1)))})));var v=null!==(t=s[d])&&void 0!==t?t:{},b=v.originLocationId,g=v.departureRideId,O=c[b];return i.a.createElement("div",{className:u.level},!p&&i.a.createElement(H,{locationId:b,rideId:g,provision:o,groupCountryId:p,className:u.header,urls:f}),h.map((function(e){return i.a.createElement(K,{className:u.header,key:"v".concat(e.visitId),visit:e,provision:o,isObscure:!1,groupCountryId:p,urls:f})})),!p&&i.a.createElement(w,{className:u.header,provision:o,location:O,showCountry:!p,locationUrl:null==f?void 0:f.resolveLocationUrl({locationId:b}),countryUrl:null==f?void 0:f.resolveCountryUrl({countryId:null==O?void 0:O.countryId})}))},adapter:Number}),W),Z=(n(170),n(930)),Q=n.n(Z),ee=n(230),te=n.n(ee);function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){var n=J[t],r=n.groupFieldName,i=n.adapter;return t===X.JUST_VISITS?[{field:{name:r,value:null},visitsList:e}]:function(e,t,n){return Object.entries(Q()(e,t)).map((function(e){var r=ne(e,2),i=r[0],a=r[1];return{field:{name:te()(t)?t.name:t,value:n?n(i):i},visitsList:a}}))}(e,r,i)}n(353),n(354);var ae=n(1205),oe=n.n(ae),le=n(1206),se=n.n(le);n(356),n(357),n(358),n(360),n(359),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(153),n(154),n(155),n(220);function ce(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var ue=function(e,t){var n;void 0===t&&(t=ce);var r,i=[],a=!1;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a&&n===this&&t(o,i)?r:(r=e.apply(this,o),a=!0,n=this,i=o,r)}},fe=n(547),de=n.n(fe);function pe(e){var t=ue((function(t){return de()((function(n){return function(t,n){return Object.values(n).reduce((function(n,r){var i=r[e];return r.arrivalYear<t&&n.add(i),n}),new Set)}(n,t)}))}));return{calcTotal:function(t){return{total:new Set(t.map((function(t){return t[e]}))).size}},calcByYear:function(n,r,i){var a=t(n)(i),o=r.reduce((function(t,n){var r=n.arrivalYear,a=n[e];return r===i&&t.add(a),t}),new Set),l=o.difference(a);return{totalAtYear:o.size,newAtYear:l.size,newbies:l}}}}var he=n(401),ve=n(494);function me(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t,n){var r=t.visitsDict,i=t.ridesDict,a=n.considerRides,o=a?function(e,t,n){return function(r){var i,a,o=r.visitId,l=r.countryId,s=r.arrivalRideId,c=r.arrivalDateTime,u=r.departureRideId,f=r.departureDateTime,d=t[s];if(d){var p,h=d.departureVisitId,v=d.departureDateTime;("country"!==n||l&&l===(null===(p=e[h])||void 0===p?void 0:p.countryId))&&(i=v)}else i=c;var m=t[u];if(m){var b,g=m.arrivalVisitId,y=m.arrivalDateTime;("country"!==n||l&&l===(null===(b=e[g])||void 0===b?void 0:b.countryId))&&(a=y)}else a=f;return{startDate:i,endDate:a,stack:new Set([o])}}}(r,i,a):ye,l=e.map(o),s=Object(ve.a)(me(l)).toArray().reduce((function(e,t){var n=t.startDate,r=t.endDate,i=t.stack,a=Object(he.a)(r,n)+1;return a>0&&e.push({stay:a,visitsIds:i,departureDateTime:r,arrivalDateTime:n}),e}),[]);return{detailedStats:s,totalStay:s.reduce((function(e,t){return e+t.stay}),0)}}function ye(e){return{startDate:e.arrivalDateTime,endDate:e.departureDateTime}}function Oe(e,t){var n=T(e,X.LOCATIONS),r=T(e,X.COUNTRIES),i=T(e,X.YEARS),a=e.plainGroup,o=e.visitsList;return{visitsStats:je(o),countriesStats:r?null:we(o,t,{year:i}),locationsStats:n?null:Re(o,t,{year:i}),daysTravellingStats:ge(o,t,{considerRides:!![X.COUNTRIES,X.YEARS].includes(a)&&a})}}var Ee=pe("countryId"),Te=Ee.calcTotal,Ie=Ee.calcByYear;function we(e,t,n){var r=t.visitsDict,i=n.year,a=i?Ie(r,e,i):Te(e);return{year:i,newAtYear:a.newAtYear,totalAtYear:a.totalAtYear,total:a.total,newbies:a.newbies}}var Se=pe("locationId"),_e=Se.calcTotal,Ae=Se.calcByYear;function je(e){return{visitsCount:e.length,firstVisit:oe()(e,"arrivalDateTime"),lastVisit:se()(e,"departureDateTime")}}function Re(e,t,n){var r=t.visitsDict,i=n.year,a=i?Ae(r,e,i):_e(e);return{year:i,newAtYear:a.newAtYear,totalAtYear:a.totalAtYear,total:a.total,newbies:a.newbies}}var Ne=n(1210),Pe=n.n(Ne),Ce=n(1207),Le=n.n(Ce),De=n(1294),xe=Object(c.a)({statsIndicator:{display:"inline-flex",alignItems:"center",marginRLeft:"2px",marginRight:"4px"}});function ke(e){var t=e.className,n=e.icon,r=e.children,a=e.hint,o=xe(),l=i.a.createElement(m.a,{variant:"subtitle1",className:h()(t,o.statsIndicator)},i.a.cloneElement(n,{fontSize:"inherit"}),r);return a?i.a.createElement(De.a,{title:a},l):l}function Me(e){var t=e.countriesStats,n=t.year,r=t.newAtYear,a=t.totalAtYear,o=t.total,l=Boolean(n),s=function(e){var t=e.showByYear,n=e.year,r=e.newAtYear,a=e.totalAtYear,o=e.total;if(!t)return i.a.createElement("div",null,"Посещено ".concat(o," стран"));return(i.a.createElement("div",null,i.a.createElement("div",null,"За ".concat(n," год посещено ").concat(a," стран")),i.a.createElement("div",null,r?"Из них впервые ".concat(r," стран"):"Новых стран в этом году не было")))}({showByYear:l,year:n,newAtYear:r,totalAtYear:a,total:o}),c=Ve({showByYear:l,newAtYear:r,totalAtYear:a,total:o});return i.a.createElement(ke,{hint:s,icon:i.a.createElement(Le.a,null)},c)}function Ve(e){var t=e.showByYear,n=e.newAtYear,r=e.totalAtYear,i=e.total;return t?n?r===n?"+".concat(n):"".concat(r," (+").concat(n,")"):String(r):String(i)}var Fe=n(1208),Be=n.n(Fe);function Ge(e){var t=e.locationsStats,n=t.year,r=t.newAtYear,a=t.totalAtYear,o=t.total,l=Boolean(n),s=function(e){var t=e.showByYear,n=e.year,r=e.newAtYear,a=e.totalAtYear,o=e.total;if(!t)return i.a.createElement("div",null,"Посещено ".concat(o," мест"));return(i.a.createElement("div",null,i.a.createElement("div",null,"За ".concat(n," год посещено ").concat(a," мест")),i.a.createElement("div",null,r?"Из них впервые ".concat(r," мест"):"Новых мест в этом году не было")))}({showByYear:l,year:n,newAtYear:r,totalAtYear:a,total:o}),c=Ve({showByYear:l,newAtYear:r,totalAtYear:a,total:o});return i.a.createElement(ke,{hint:s,icon:i.a.createElement(Be.a,null)},c)}n(355);var Ye=n(1209),ze=n.n(Ye);function Ue(e){var t=e.className,n=e.daysTravellingStats,r=n.detailedStats,a=n.totalStay,o=e.provision.visitsDict;return a?i.a.createElement(ke,{className:t,hint:He(r,a,o),icon:i.a.createElement(ze.a,null)},a):null}function He(e,t,n){var r="Всего ".concat(t," дней в этом месте");if(1===e.length){var a=e[0],o=a.visitsIds,l=a.departureDateTime,s=a.arrivalDateTime,c=Object(F.c)({departureDateTime:l,arrivalDateTime:s}),u=We(o,n);return i.a.createElement("div",null,"".concat(r," ").concat(c,". ").concat(u))}return(i.a.createElement("div",null,i.a.createElement("div",null,r),e.map((function(e,t){var r=e.stay,a=e.visitsIds,o=e.departureDateTime,l=e.arrivalDateTime,s=Object(F.c)({departureDateTime:o,arrivalDateTime:l}),c=We(a,n);return i.a.createElement("div",{key:"v".concat(t)},"".concat(r," дней, ").concat(s,". ").concat(c))}))))}function We(e,t){var n,r;return null!==(n=null==e?void 0:null===(r=e.map((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.locationName)&&void 0!==n?n:""})))||void 0===r?void 0:r.join(", "))&&void 0!==n?n:""}function qe(e){var t=e.plainGroup,n=e.field.value;switch(t){case X.COUNTRIES:return function(e,t){var n,r,i,a;return null===(n=T(e,X.YEARS))||void 0===n?void 0:null===(r=n.stats)||void 0===r?void 0:null===(i=r.countriesStats)||void 0===i?void 0:null===(a=i.newbies)||void 0===a?void 0:a.has(t)}(e,n);case X.LOCATIONS:return function(e,t){var n,r,i,a,o=T(e,X.YEARS),l=T(e,X.COUNTRIES),s=null==l?void 0:null===(n=l.stats)||void 0===n?void 0:n.locationsStats;return!(!s||!s.newAtYear||!s.totalAtYear||s.newAtYear===s.totalAtYear)&&(null==o?void 0:null===(r=o.stats)||void 0===r?void 0:null===(i=r.locationsStats)||void 0===i?void 0:null===(a=i.newbies)||void 0===a?void 0:a.has(t))}(e,n);default:return!1}}var Ke=Object(c.a)({container:{color:"gray",display:"inline-flex",alignItems:"center",marginLeft:"4px"}});function $e(e){var t,n,r,a=e.provision,o=e.visitsGroup,l=e.visitsGroup.stats,s=l.countriesStats,c=l.locationsStats,u=l.daysTravellingStats,f=e.config.StatsPanel,d=(f=void 0===f?{}:f).appearance,p=(d=void 0===d?{}:d).CountriesStats,v=void 0===p||p,b=d.LocationsStats,g=void 0===b||b,y=d.DaysTravellingStats,O=void 0===y||y,E=e.isObscure,I=Ke(),w=o.plainGroup===X.LOCATIONS,S=Boolean(T(o,X.COUNTRIES)),_=Boolean(T(o,X.LOCATIONS)),A=Boolean(T(o,X.YEARS)),j=O&&u&&!E?i.a.createElement(Ue,{className:h()((t={},n=I.visibleOnlyOnHover,r=w,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),daysTravellingStats:u,provision:a}):null;return i.a.createElement(m.a,{variant:"body1",className:I.container},A&&qe(o)&&i.a.createElement(Pe.a,null),v&&!S&&i.a.createElement(Me,{countriesStats:s}),g&&!_&&i.a.createElement(Ge,{locationsStats:c}),j)}$e.defaultProps={config:{}};var Xe={ALPHABET:"ALPHABET",RATING:"RATING",FIRST_VISIT:"FIRST_VISIT",LAST_VISIT:"LAST_VISIT",VISITS_COUNT:"VISITS_COUNT"},Je=(n(864),n(865),n(866),n(867),n(375),n(376),n(377),n(535)),Ze=n.n(Je),Qe=n(1211),et=n.n(Qe),tt=n(553),nt=n.n(tt),rt=n(532),it=n.n(rt);function at(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t,n,r){var i=t.flatMap((function(e){switch(e){case Xe.FIRST_VISIT:return ct("stats.visitsStats.firstVisit.arrivalDateTime");case Xe.LAST_VISIT:return{iteratee:st(ct("stats.visitsStats.lastVisit.departureDateTime")),order:"desc"};case Xe.RATING:return function(e,t){switch(e){case X.LOCATIONS:return n=t.locationsRating,function(e){var t,r=e.field.value;return null!==(t=n[r])&&void 0!==t?t:10};default:return function(){return 0}}var n}(n,r);case Xe.VISITS_COUNT:return{iteratee:"stats.locationsStats.total",order:"desc"};case Xe.ALPHABET:default:return function(e,t){switch(e){case X.YEARS:return[{iteratee:st("stats.visitsStats.firstVisit.arrivalYear"),order:"desc"}];case X.COUNTRIES:return r=t.countriesDict,function(e){var t,n=e.field.value;return(null!==(t=r[n])&&void 0!==t?t:{}).countryName};case X.LOCATIONS:return n=t.locationsDict,function(e){var t,r=e.field.value;return(null!==(t=n[r])&&void 0!==t?t:{}).locationName};default:return function(){return 0}}var n;var r}(n,r)}}));return i.some(it()("order"))?et.a.apply(void 0,[e].concat(at(function(e){return Object.values(e.reduce((function(e,t){var n=t.order?t:{iteratee:t},r=n.iteratee,i=void 0===r?[]:r,a=n.order,o=void 0===a?"asc":a;return e.iteratee.push(i),e.order.push(o),e}),{iteratee:[],order:[]}))}(i)))):Ze()(e,i)}function st(e){var t=nt()(e);return function(e){return t(e)||""}}function ct(e){var t=nt()(e);return function(e){return(t(e)||"").valueOf()}}var ut=n(1030);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){var t=e.className,n=e.visitsGroup,r=e.provision,a=n.visitsList.flatMap((function(e){return e.photos.map((function(t){return dt(dt({},t),{},{description:vt(e,n,r)})}))}));return i.a.createElement(ut.a,{className:t,photos:a})}function vt(e,t,n){var r=n.countriesDict,i=e.locationName,a=e.countryId,o=e.arrivalYear,l="",s=Boolean(T(t,X.LOCATIONS)),c=s||Boolean(T(t,X.COUNTRIES)),u=Boolean(T(t,X.YEARS));if(s||(l+=i),!c){var f,d=(null!==(f=r[a])&&void 0!==f?f:{}).countryName;d&&(l+=", ".concat(d))}return u||(l+="/".concat(o)),l}var mt=n(931),bt=n.n(mt),gt=n(909);function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=Object(c.a)({container:{fontSize:"16px",lineHeight:"1.5"},visitContainer:{margin:"20px 0"},mapVisibilityToggle:{marginLeft:"8px",cursor:"pointer"},googleMapContainer:{margin:"12px 0",width:"800px",maxWidth:"100%",height:"400px",maxHeight:"100%"}});function Tt(e){var t=e.className,n=e.visitsGroup,a=e.provision,o=a.visitsDict,l=a.locationsDict,s=a.locationsRating,c=Et(),u=yt(Object(r.useState)(!1),2),f=u[0],d=u[1],p=bt()(n.visitsList.map((function(e){return e.locationId})));return i.a.createElement("div",{className:t},i.a.createElement("div",null,i.a.createElement(v.a,{variant:"body2",onClick:function(){return d((function(e){return!e}))}},f?"скрыть карту":"на карте")),f&&i.a.createElement(gt.b,{className:c.mapContainer,locationsDict:l,visitsDict:o,locationsRating:s,locationsIds:p,minHeight:300,scaleBy:gt.a.BY_LAST_VISIT,ratingLevel:null}))}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e){var t=e.classes,n=e.children,a=e.provision,o=e.urls,l=e.config,s=e.visitsList,c=e.groupsOrder,u=e.sortingOrder,f=e.isObscure,d=e.mapSectionLevel,p=e.photosSectionLevel,b=e.forwardingProps,y=e.expandedGroups,O=e.toggleExpandedGroups;return function e(s,c){var E=At(c),T=E[0],I=E.slice(1);if(!T)return null;var w=J[T].component,S=s.visitsList,_=function(e){var t=e,n=0;for(;t;)n+=1,t=t.parent;return Math.max(0,n-1)}(s),A=_+c.length,j=function(e,t){return g()(3-t+e,0,2)}(_,A),R=lt(ie(S,T).map((function(e){var t=St(St({},e),{},{plainGroup:T,parent:s});return t.stats=Oe(t,a),t})),u,T,a),N=!(T===X.LOCATIONS&&R.length>12&&!y["*"])||y[Pt(s.field)],P=N?R:R.slice(0,10);return i.a.createElement(i.a.Fragment,null,P.map((function(s,c){return i.a.createElement(r.Fragment,{key:s.field.value},i.a.createElement(w,It({visitsGroup:s,classes:Nt(t,{nestingLevel:_,sectionLevel:j}),provision:a,urls:o,config:l},b),i.a.createElement($e,{visitsGroup:s,provision:a,isObscure:f,config:l})),null==n?void 0:n({level:_,index:c,visitsGroup:s}),e(s,I),j===p&&i.a.createElement(ht,{className:t["level".concat(_+1)],visitsGroup:s,provision:a}),j===d&&i.a.createElement(Tt,{className:t["level".concat(_+1)],visitsGroup:s,provision:a}))})),!N&&i.a.createElement(m.a,{className:h()(t.link,t["level".concat(_)]),variant:"body2"},i.a.createElement(v.a,{onClick:function(){return O(Pt(s.field))}},"показать еще ".concat(R.length-P.length)),", ",i.a.createElement(v.a,{onClick:function(){return O("*")}},"раскрыть все")))}({visitsList:s,parent:null,field:null},c)}function Nt(e,t){var n=t.nestingLevel,r=t.sectionLevel;return{level:e["level".concat(n)],container:h()(e["level".concat(n)],e["container".concat(r)]),header:e["header".concat(r)]}}function Pt(e){var t=null!=e?e:{},n=t.name,r=t.value;return"".concat(n,":").concat(r)}var Ct=["visitsList","groupsOrder","sortingOrder","filteringOption","provision","urls","config","mapSectionLevel","photosSectionLevel","children"];function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=Object(c.a)((function(e){return{link:{cursor:"pointer"},header0:Mt(Mt({},e.typography.h2),{},{wordBreak:"break-word"}),container0:{display:"flex",alignItems:"self-start","&:not(:first-child)":{marginTop:"64px"}},level0:{},header1:Mt(Mt({},e.typography.h4),{},{wordBreak:"break-word"}),container1:{display:"flex",alignItems:"self-start",marginTop:"18px",marginBottom:"6px"},level1:Vt({},e.breakpoints.up("sm"),{paddingLeft:"32px"}),header2:Mt(Mt({},e.typography.body1),{},{wordBreak:"break-word"}),container2:{display:"flex",alignItems:"center"},level2:Vt({},e.breakpoints.up("sm"),{paddingLeft:"96px"})}}));function Bt(e){var t=e.visitsList,n=e.groupsOrder,i=e.sortingOrder,a=e.filteringOption,o=e.provision,l=e.urls,c=e.config,u=e.mapSectionLevel,d=e.photosSectionLevel,p=e.children,h=xt(e,Ct),v=Ft(),m=Lt(Object(r.useState)({}),2),b=m[0],g=m[1],y=Object(r.useCallback)((function(e){g((function(t){return Mt(Mt({},t),{},Vt({},e,!t[e]))}))}),[]);return s((function(){g({})}),[n,i,a]),Rt({classes:v,children:p,provision:o,urls:l,config:c,visitsList:t.filter(f(o,a)),groupsOrder:n,sortingOrder:i,mapSectionLevel:u,photosSectionLevel:d,expandedGroups:b,toggleExpandedGroups:y,forwardingProps:h})}Bt.defaultProps={mapSectionLevel:1,photosSectionLevel:1};t.e=Bt},904:function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(811),o=n(836),l=n(837),s=n(905),c=Object(a.a)({container:{display:"inline-block",marginRight:"4px"},icon:{marginRight:"4px",display:"inline-block",verticalAlign:"text-bottom"},period:{display:"inline",color:"gray",fontSize:12}}),u=function(e){var t=e.visit,n=e.isLong,r=e.locationUrl,a=c();if(!t)return"Не указано";var u=t.locationName;return(i.a.createElement("div",{className:a.container},i.a.createElement(s.a,{visit:t,className:a.icon}),i.a.createElement(l.a,{to:r,optional:!0},u),n?", ":"",i.a.createElement("div",{className:a.period},n&&Object(o.c)(t))))};u.defaultProps={visit:{}},t.a=u},905:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),i=n.n(r),a=n(1e3),o=n.n(a),l=n(998),s=n.n(l),c=n(906),u=n.n(c),f=n(999),d=n.n(f),p=n(290);function h(e){var t=e.visit.visitType,n=e.className,r=function(e){switch(e){case p.VISIT_TYPES.TRANSIT:return s.a;case p.VISIT_TYPES.BASE_CAMP:return d.a;case p.VISIT_TYPES.RELOCATION:return u.a;case p.VISIT_TYPES.REGULAR:default:return o.a}}(t);return i.a.createElement(r,{className:n})}},907:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n(0),i=n.n(r),a=n(1014),o=n.n(a),l=n(1013),s=n.n(l),c=n(1011),u=n.n(c),f=n(1008),d=n.n(f),p=n(1022),h=n.n(p),v=n(1010),m=n.n(v),b=n(1016),g=n.n(b),y=n(1017),O=n.n(y),E=n(1009),T=n.n(E),I=n(906),w=n.n(I),S=n(1012),_=n.n(S),A=n(1015),j=n.n(A),R=n(1018),N=n.n(R),P=n(1019),C=n.n(P),L=n(1020),D=n.n(L),x=n(1021),k=n.n(x),M=n(1023),V=n.n(M),F=n(128);function B(e){var t=e.ride.vehicleType,n=e.className,r=function(e){switch(e){case F.VEHICLE_TYPES.CAR:return d.a;case F.VEHICLE_TYPES.TRAIN:return T.a;case F.VEHICLE_TYPES.AIRCRAFT:return m.a;case F.VEHICLE_TYPES.BUS:case F.VEHICLE_TYPES.TROLLEY:case F.VEHICLE_TYPES.CITY_BUS:return u.a;case F.VEHICLE_TYPES.MOTORHOME:case F.VEHICLE_TYPES.JITNEY:return _.a;case F.VEHICLE_TYPES.LOCAL_TRAIN:return T.a;case F.VEHICLE_TYPES.FERRY:return s.a;case F.VEHICLE_TYPES.BIKE:return o.a;case F.VEHICLE_TYPES.BY_FEET:return j.a;case F.VEHICLE_TYPES.MOTORBIKE:return g.a;case F.VEHICLE_TYPES.TRUCK:return w.a;case F.VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:return O.a;case F.VEHICLE_TYPES.TRAM:return N.a;case F.VEHICLE_TYPES.TAXI:return C.a;case F.VEHICLE_TYPES.SUBWAY:return D.a;case F.VEHICLE_TYPES.PUBLIC_TRANSPORT:return k.a;case F.VEHICLE_TYPES.ROPEWAY:case F.VEHICLE_TYPES.FUNICULAR:return h.a;default:return V.a}}(t);return i.a.createElement(r,{className:n})}},909:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return K})),n.d(t,"b",(function(){return Q}));n(71),n(72),n(73),n(353),n(354),n(220),n(23),n(35),n(14),n(26),n(12),n(27),n(22),n(28),n(50),n(36),n(43),n(44),n(45),n(51),n(49);var r,i=n(0),a=n.n(i),o=n(2),l=n.n(o),s=n(115),c=n.n(s),u=n(990),f=n.n(u),d=n(811),p=n(294),h=n(295),v=(n(153),n(154),n(155),n(850)),m=n.n(v),b=n(856),g=n.n(b);function y(e){var t=e.locationsIds,n=e.locationsDict,r=e.visitsDict,i=e.locationsRating;return t.map((function(e){var t,a=n[e];if(!a)return null;var o=a.lon,l=a.lat,s=a.locationName,c=a.visitsIds,u=function(e,t){return e.reduce((function(e,n){var r=t[n];if(r){var i=r.arrivalDateTime,a=r.departureDateTime;e.firstVisitDateTime=m()([e.firstVisitDateTime,i]),e.lastVisitDateTime=g()([e.lastVisitDateTime,a])}return e}),{firstVisitDateTime:null,lastVisitDateTime:null})}(null!=c?c:[],r);return{locationName:s,lat:l,lon:o,firstVisitDateTime:u.firstVisitDateTime,lastVisitDateTime:u.lastVisitDateTime,locationRating:i[e],visitsCount:null===(t=a.visitsIds)||void 0===t?void 0:t.length}}))}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={BY_FIRST_VISIT:"fv",BY_LAST_VISIT:"lv",BY_VISITS_COUNT:"vc",BY_RATING:"r"},T=E.BY_LAST_VISIT,I=["step_by_time_1_zjtrlw.png","step_by_time_2_tvotvg.png","step_by_time_3_ylj1vi.png","step_by_time_4_uovfrs.png","step_by_time_5_s4jq0u.png","step_by_time_6_lmihnf.png"],w=(O(r={},E.BY_FIRST_VISIT,I),O(r,E.BY_LAST_VISIT,I),O(r,E.BY_VISITS_COUNT,["step_by_visits_1_zv3tba.png","step_by_visits_2_qthjqa.png","step_by_visits_3_xcjyla.png","step_by_visits_4_kwdwka.png","step_by_visits_5_xnnipa.png"]),O(r,E.BY_RATING,["step_by_rating_1_id2qgb.png","step_by_rating_2_iiqvik.png","step_by_rating_3_x2gzsd.png","step_by_rating_4_cbqdcn.png","step_by_rating_5_viyhls.png","step_by_rating_6_zzfgki.png","step_by_rating_7_pjjhhq.png","step_by_rating_8_vgetsd.png","step_by_rating_9_t6tenz.png","step_by_rating_10_yjywr0.png"]),r),S={ALL:"all",WANT_COME_BACK:"good",LOVE_THIS_PLACE:"best"},_=S.ALL,A=n(285);function j(e){var t=e.visitsCount;switch(!0){case t>10:return 5;case t>5:return 4;case t>2:return 3;case t>1:return 2;default:return 1}}function R(e){switch(e.locationRating){case A.LOCATION_RATING.PLACE_TO_LIVE:return 1;case A.LOCATION_RATING.FEW_PER_YEAR:case A.LOCATION_RATING.ONCE_PER_YEAR:return 3;case A.LOCATION_RATING.ONCE_PER_TWO_YEARS:case A.LOCATION_RATING.ONCE_PER_FIVE_YEARS:return 4;case A.LOCATION_RATING.ONCE_PER_DECADE:case A.LOCATION_RATING.TWICE_PER_LIVE:return 7;case A.LOCATION_RATING.ONCE_PER_LIVE:return 9;case A.LOCATION_RATING.NEVER:return 10;default:return 6}}function N(e){return{resolveStep:function(t,n){var r=(t[e]-n.minTime)/n.diff*6;return Math.min(Math.max(Math.floor(r),0),6)},resolveOptions:function(t){var n=t.map((function(t){return t[e]&&t[e].getTime()})).filter(Boolean),r=m()(n);return{minTime:r,diff:g()(n)+1-r}}}}n(355);var P=n(842),C=n(847);function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"eeeeee, d MMMM yyyy";return Object(C.a)(e,t,{locale:P.a})}function D(e){switch(e){case A.LOCATION_RATING.PLACE_TO_LIVE:return"Жил бы здесь";case A.LOCATION_RATING.FEW_PER_YEAR:case A.LOCATION_RATING.ONCE_PER_YEAR:return"Готов ездить сюда постоянно";case A.LOCATION_RATING.ONCE_PER_TWO_YEARS:case A.LOCATION_RATING.ONCE_PER_FIVE_YEARS:return"Приезжал бы иногда";case A.LOCATION_RATING.ONCE_PER_DECADE:case A.LOCATION_RATING.TWICE_PER_LIVE:return"Заглянул бы еще разок";case A.LOCATION_RATING.ONCE_PER_LIVE:return"Одного посещения достаточно";case A.LOCATION_RATING.NEVER:return"Тут нечего делать";default:return"?"}}n(64);function x(e,t){if(!t)return"".concat("https://res.cloudinary.com/dc2eke0gj/image/upload/markers/").concat(I[0]);var n=w[t],r=n[e-1]||n[0];return"".concat("https://res.cloudinary.com/dc2eke0gj/image/upload/markers/").concat(r)}n(46),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(37);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=n(232),F=n(815),B=n(816),G=n(818),Y=n(828),z=n(1281),U=n(1266);function H(e){var t=e.classes,n=e.scaleBy,r=e.onClose,i=e.onChange;return(a.a.createElement(F.a,null,a.a.createElement(B.a,null,a.a.createElement(G.a,{className:t.formControl},a.a.createElement(Y.a,{shrink:!0,id:"select-scaleBy-filter-label"},"Раскрасить маркеры"),a.a.createElement(z.a,{labelId:"select-scaleBy-filter-label",autoWidth:!0,id:"select-scaleBy-filter",value:n,onChange:function(e){r();var t,n,a,o=e.target.value,l=(a=o,(n="scale")in(t={})?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t);o!==E.BY_RATING&&(l.rating=void 0),i(l)}},a.a.createElement(U.a,{key:E.BY_FIRST_VISIT,value:E.BY_FIRST_VISIT},"По первому посещению"),a.a.createElement(U.a,{key:E.BY_LAST_VISIT,value:E.BY_LAST_VISIT},"По последнему посещению"),a.a.createElement(U.a,{key:E.BY_VISITS_COUNT,value:E.BY_VISITS_COUNT},"По числу посещений"),a.a.createElement(U.a,{key:E.BY_RATING,value:E.BY_RATING},"По рейтингу"))))))}function W(e){var t=e.classes,n=e.ratingLevel,r=e.onClose,i=e.onChange;return(a.a.createElement(F.a,null,a.a.createElement(B.a,null,a.a.createElement(G.a,{className:t.formControl},a.a.createElement(Y.a,{shrink:!0,id:"select-ratingLevel-filter-label"},"Фильтр по рейтингу"),a.a.createElement(z.a,{labelId:"select-ratingLevel-filter-label",autoWidth:!0,id:"select-ratingLevel-filter",value:n,onChange:function(e){var t,n,a;r(),i((t={},n="rating",a=e.target.value,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))}},a.a.createElement(U.a,{key:S.ALL,value:S.ALL},"Все"),a.a.createElement(U.a,{key:S.WANT_COME_BACK,value:S.WANT_COME_BACK},"Куда бы вернулся"),a.a.createElement(U.a,{key:S.LOVE_THIS_PLACE,value:S.LOVE_THIS_PLACE},"Лучшие места"))))))}H.propTypes={classes:l.a.shape({formControl:l.a.string.isRequired}).isRequired,scaleBy:l.a.oneOf(Object.values(E)).isRequired,onClose:l.a.func.isRequired,onChange:l.a.func.isRequired},W.propTypes={classes:l.a.shape({formControl:l.a.string.isRequired}).isRequired,ratingLevel:l.a.oneOf(Object.values(S)).isRequired,onClose:l.a.func.isRequired,onChange:l.a.func.isRequired};var q=Object(d.a)({formControl:{width:"100%"}}),K=function(e,t){var n=q(),r=t||{},i=r.scale,o=r.rating,l=function(e){return Object.values(E).includes(e)?e:T}(i),s=function(e){return Object.values(S).includes(e)?e:_}(o);return Object(V.b)((function(t){var r=t.closeSidebar;return(a.a.createElement(a.a.Fragment,null,a.a.createElement(H,{classes:n,onClose:r,scaleBy:l,onChange:e}),l===E.BY_RATING&&a.a.createElement(W,{classes:n,onClose:r,ratingLevel:s,onChange:e})))}),[l,s]),{scaleBy:l,ratingLevel:s}};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=Object(d.a)({googleMapContainer:{margin:"12px 0",maxWidth:"100%",flexGrow:1,minHeight:function(e){return e.minHeight},position:"relative"},googleMapPosition:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}});function Q(e){var t=e.className,n=e.locationsDict,r=e.visitsDict,o=e.locationsRating,l=e.locationsIds,s=e.minHeight,u=e.scaleBy,d=e.ratingLevel,p=Z({minHeight:s}),h=function(e){var t=k(Object(i.useState)(null),2),n=t[0],r=t[1],a=Object(i.useRef)(!0);return Object(i.useEffect)((function(){if(n){var t=n.map,r=n.maps,i=new r.LatLngBounds,o=e.map((function(e){var n=e.lat,a=e.lon,o=e.iconUrl,l=e.title,s=e.zIndex,c=new r.Marker({map:t,position:{lat:n,lng:a},icon:{url:o,scaledSize:new r.Size(24,24)},scale:.5,title:l,zIndex:s});return i.extend(c.position),c}));return a.current&&(t.setOptions({maxZoom:11,minZoom:2}),t.fitBounds(i),t.setOptions({maxZoom:null,minZoom:null}),a.current=!1),function(){o.forEach((function(e){e.setMap(null),e.setVisible(!1)})),o.length=0}}}),[n,e]),{handleGoogleApiLoaded:function(e){return r(e)}}}(Object(i.useMemo)((function(){var e=function(e,t){var n=t.ratingLevel,r=e.filter(Boolean);return Object.values(S).includes(n)&&n!==S.ALL?r.filter((function(e){var t=e.locationRating,r=e.visitsCount;switch(n){case S.WANT_COME_BACK:return r<2?t<=A.LOCATION_RATING.TWICE_PER_LIVE:t<=A.LOCATION_RATING.ONCE_PER_DECADE;case S.LOVE_THIS_PLACE:return t<=A.LOCATION_RATING.ONCE_PER_YEAR;default:return!0}})):r}(y({locationsDict:n,visitsDict:r,locationsRating:o,locationsIds:l}),{ratingLevel:d}),t=function(e){switch(e){case E.BY_VISITS_COUNT:return{resolveStep:j};case E.BY_RATING:return{resolveStep:R};case E.BY_LAST_VISIT:return N("lastVisitDateTime");case E.BY_FIRST_VISIT:return N("firstVisitDateTime");default:return{resolveStep:function(){return 1}}}}(u),i=t.resolveStep,a=t.resolveOptions,s=a&&a(e);return e.map((function(e){var t,n,r,a,o,l,c=i(e,s);return X(X({},e),{},{zIndex:[E.BY_RATING,E.BY_FIRST_VISIT].includes(u)?10-c:c,iconUrl:x(c,u),title:(t=e,n=t.locationName,r=t.locationRating,a=t.visitsCount,o=t.firstVisitDateTime,l=t.lastVisitDateTime,[n,"Посещено ".concat(a," раз"),"Впервые ".concat(L(o)),a>1&&"Прошлое посешение ".concat(L(l)),"Рейтинг: ".concat(D(r))].filter(Boolean).join("\n"))})}))}),[n,r,o,l,u,d])).handleGoogleApiLoaded;return a.a.createElement("div",{className:c()(t,p.googleMapContainer)},a.a.createElement("div",{className:p.googleMapPosition},a.a.createElement(f.a,{bootstrapURLKeys:{key:"AIzaSyCvP0e64ui7WpXKBdzOyEmkb4l5RuGy3Zs"},center:{lat:0,lng:0},zoom:11,onGoogleApiLoaded:h})))}Q.propTypes={className:l.a.string,visitsDict:l.a.objectOf(l.a.shape(h.default)).isRequired,locationsDict:l.a.objectOf(l.a.shape(p.default)).isRequired,locationsIds:l.a.arrayOf(l.a.number).isRequired,locationsRating:l.a.objectOf(l.a.number).isRequired,minHeight:l.a.number,scaleBy:l.a.oneOf(Object.values(E)).isRequired,ratingLevel:l.a.oneOf(Object.values(S)).isRequired},Q.defaultProps={className:void 0,minHeight:"400px"}},932:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),i=n.n(r),a=n(811),o=n(1024),l=n.n(o),s=n(836),c=n(128),u=n(907),f=Object(a.a)({icon:{color:"gray",fontSize:16,height:16},absoluteIcon:{color:"gray",fontSize:16,height:16,position:"absolute"},detail:{color:"gray",fontSize:12}});function d(e){var t=e.ride,n=e.ride,r=(n=void 0===n?{}:n).rideType,a=e.className,o=e.isLong,d=f();return t?i.a.createElement("div",{className:a},i.a.createElement(u.a,{ride:t,className:d.icon}),r===c.RIDE_TYPES.HITCH_HIKING&&i.a.createElement(l.a,{className:d.absoluteIcon}),o&&Object(s.b)(t)):null}},933:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(68);function a(e){var t=e.editable,n=e.userAlias,a=e.section,o=Object(i.d)().travel;return Object(r.useMemo)((function(){return{hyperlinks:function(){},locationsUrl:o.locations.toUrl({userAlias:n,section:a}),tripCreateUrl:t?o.tripCreate.toUrl({userAlias:n}):null,resolveLocationUrl:function(e){var t=e.locationId;return o.location.toUrl({userAlias:n,section:a,strLocationId:String(t)})},resolveCountryUrl:function(e){var t=e.countryId;return o.country.toUrl({userAlias:n,section:a,strCountryId:String(t)})},resolveTripEditUrl:function(e){var r=e.tripId;return t?o.tripEdit.toUrl({strTripId:String(r),userAlias:n}):null},resolveVisitUrl:function(e){var r=e.visitId;return t?o.visit.toUrl({userAlias:n,section:a,strVisitId:String(r)}):null}}}),[t,o])}},940:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(858),n(71),n(72),n(73),n(35),n(26),n(12),n(27),n(22),n(28),n(64),n(284);var r=n(1005),i=n(1006),a=n(930),o=n.n(a),l=(n(355),n(40),n(931)),s=n.n(l),c=function(e,t){var n=t.maxLength,r=t.separator,i=void 0===r?", ":r,a=s()(e),o=a.slice(0,n).join(i);return a.length>n?"".concat(o,"..."):o},u=n(290),f=n(836);function d(e,t,n,a){var l,s=e||{},d=s.visits,p=s.originLocationId,h=s.tripName,v=s.hasAutogeneratedTripName,m=null===(l=a[p])||void 0===l?void 0:l.countryId;if(!v)return h||"Без названия";if(!d.length)return"Без названия";var b=Object(f.c)({arrivalDateTime:Object(r.a)(d.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.arrivalDateTime}))),departureDateTime:Object(i.a)(d.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.departureDateTime})))}),g=Object.keys(o()(d.filter((function(e){var n;return(null===(n=t[e])||void 0===n?void 0:n.visitType)!==u.VISIT_TYPES.TRANSIT})),"countryId"));if(1===g.length){var y=c(d.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.locationName})),{maxLength:4});return"".concat(y||"Без названия",", ").concat(b)}var O=c(g.map((function(e){return Number(e)!==m&&n[e]&&n[e].countryName})).filter(Boolean),{maxLength:4});return"".concat(O||"Без названия",", ").concat(b)}}}]);
//# sourceMappingURL=travel-Places-f68d6df1ed1e7ab58f9e.js.map