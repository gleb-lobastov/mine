{"version":3,"sources":["webpack:///./node_modules/memoize-one/dist/memoize-one.esm.js","webpack:///./src/packages/travel/pages/YearCountryCityPage/utils.js","webpack:///./node_modules/date-fns/esm/differenceInCalendarDays/index.js","webpack:///./src/packages/travel/pages/YearCountryCityPage/blocks/VisitsByLocation.jsx","webpack:///./src/packages/travel/pages/YearCountryCityPage/blocks/LocationsByCountries.jsx","webpack:///./src/packages/travel/pages/YearCountryCityPage/blocks/CountriesByYear.jsx","webpack:///./src/packages/travel/pages/YearCountryCityPage/YearCountryCityPage.jsx","webpack:///./src/packages/travel/components/common/withTravels/withTravels.jsx","webpack:///./src/modules/components/loaders/ProvisionLoader.jsx","webpack:///./src/core/connection/withProvision.jsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/uniq.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/lodash/_baseAggregator.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./src/packages/travel/components/common/WelcomeScreen/WelcomeScreen.jsx","webpack:///./node_modules/lodash/mapValues.js","webpack:///./node_modules/lodash/fp/mapValues.js","webpack:///./node_modules/lodash/flow.js","webpack:///./node_modules/lodash/fp/groupBy.js","webpack:///./src/packages/travel/components/models/rides/RideEditDialog/localization.js","webpack:///./node_modules/lodash/fp/flow.js","webpack:///./node_modules/lodash/fp/reverse.js","webpack:///./node_modules/lodash/reverse.js","webpack:///./node_modules/lodash/fp/uniqBy.js","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/lodash/fp/sortBy.js","webpack:///./node_modules/lodash/sortBy.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_isIterateeCall.js","webpack:///./node_modules/lodash/sum.js","webpack:///./node_modules/lodash/_baseSum.js","webpack:///./node_modules/lodash/max.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/packages/travel/pages/VisitsPage/VisitsPage.jsx","webpack:///./src/packages/travel/pages/RidesPage/RidesPage.jsx"],"names":["areInputsEqual","newInputs","lastInputs","length","i","memoize_one_esm","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","_i","arguments","this","apply","fpEnhanceVisitsWithDates","_ref","ridesDict","visitsList","map","visit","arrivalRideId","ride","arrivalDateTime","_objectSpread","departureDateTime","year","getFullYear","uniqByLocations","fpUniqBy","uniqByCountries","groupByYears","fpGroupBy","orderByYears","fpSortBy","enhanceVisitsWithCounters","countriesCount","locationsCount","Number","plural","value","_ref2","one","few","many","part","MILLISECONDS_IN_DAY","differenceInCalendarDays","dirtyDateLeft","dirtyDateRight","TypeError","startOfDayLeft","Object","startOfDay","startOfDayRight","timestampLeft","getTime","getTimezoneOffsetInMilliseconds","timestampRight","Math","round","VisitsByLocation","totalDays","sum","max","react_default","a","createElement","concat","propTypes","countriesDict","PropTypes","shape","countriesPropTypes","visits","arrayOf","visitPropTypes","defaultProps","LocationsByCountries","groupByLocations","enhancedVisitsList","flow","fpMapValues","locationName","values","visitsListByLocation","style","fontSize","display","marginRight","lineHeight","blocks_VisitsByLocation","CountriesByYear","classes","groupByCountries","countryId","countryIndex","visitsListByCountry","tripsCount","uniq","_ref3","tripId","className","countryContainer","fontWeight","countryName","blocks_LocationsByCountries","withStyles","marginTop","enhanceVisits","memoizeOne","fpReverse","YearCountryCityPage","isVisitsComplete","isRidesComplete","_ref$visits","_ref$visits$data","data","WelcomeScreen","visitsByYears","visitsListByYear","key","blocks_CountriesByYear","bool","isRequired","domain","mapStateToProps","withTravels","state","selectDict","selectIsReady","Component","ProvisionedComponent","compose","withRouter","withProvision","userAlias","match","params","_ref3$data","selectPlaceholder","userTripsIds","request","countries","modelName","condition","keys","query","navigation","isDisabled","trips","observe","filter","trip_id","comparator","rides","props","withLoader","_props$provision","provision","_props$provision$isPe","isPending","hasFallback","PlainLoader","__webpack_exports__","_len2","provisionParams","Array","_key2","ExtendableComponent","_len","funcsArray","_key","arg","reduceRight","composed","func","provide","baseAssignValue","__webpack_require__","createAggregator","hasOwnProperty","prototype","groupBy","result","call","push","module","exports","baseFor","object","iteratee","baseUniq","array","baseForOwn","baseEach","createBaseEach","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","index","includes","isCommon","seen","set","outer","computed","seenIndex","arrayAggregator","baseAggregator","baseIteratee","isArray","setter","initializer","collection","accumulator","createBaseFor","fromRight","keysFunc","iterable","isArrayLike","eachFunc","Set","noop","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","lodash_fp_compose__WEBPACK_IMPORTED_MODULE_3__","lodash_fp_compose__WEBPACK_IMPORTED_MODULE_3___default","modules_utilities_routing_Path__WEBPACK_IMPORTED_MODULE_4__","core_context_AppContext__WEBPACK_IMPORTED_MODULE_5__","core_context_AuthContext__WEBPACK_IMPORTED_MODULE_6__","children","visitedUserAlias","_ref$namedPaths","namedPaths","_ref$namedPaths$trave","travel","tripsPath","authenticatedUserAlias","useAuthContext","Message","useCallback","path","toUrl","component","to","node","string","instanceOf","Path","withPaths","convert","placeholder","createFlow","RIDE_CLASSES_NAMES","_defineProperty","_RIDE_CLASSES_NAMES","RIDE_CLASSES","ECONOMY","COMFORT","BUSINESS","FIRST","PRIVATE","RIDE_OCCUPATION_NAMES","_RIDE_OCCUPATION_NAME","RIDE_OCCUPATION","PASSENGER","STUFF","DRIVER","RIDE_TYPES_NAMES","_RIDE_TYPES_NAMES","RIDE_TYPES","SELF_DRIVE","SCHEDULED","CHARTER","TOUR","CARPOOL","HITCH_HIKING","DROP_OFF","VEHICLE_NAMES","_VEHICLE_NAMES","VEHICLE_TYPES","CAR","TRAIN","AIRCRAFT","BUS","MOTORHOME","LOCAL_TRAIN","FERRY","BIKE","BY_FEET","ROPEWAY","FUNICULAR","MOTORBIKE","TRUCK","ALL_TERRAIN_VEHICLE","TRAM","TROLLEY","TAXI","CITY_BUS","JITNEY","SUBWAY","PUBLIC_TRANSPORT","nativeReverse","reverse","baseFlatten","baseOrderBy","baseRest","isIterateeCall","sortBy","iteratees","arrayMap","baseMap","baseSortBy","baseUnary","compareMultiple","identity","orders","criteria","other","comparer","sort","compareAscending","objCriteria","othCriteria","ordersLength","isSymbol","valIsDefined","undefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","overRest","setToString","start","eq","isIndex","isObject","type","baseSum","current","baseExtremum","baseGt","r","lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__","lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default","lodash_uniq__WEBPACK_IMPORTED_MODULE_2__","lodash_uniq__WEBPACK_IMPORTED_MODULE_2___default","lodash_property__WEBPACK_IMPORTED_MODULE_3__","lodash_property__WEBPACK_IMPORTED_MODULE_3___default","prop_types__WEBPACK_IMPORTED_MODULE_4__","prop_types__WEBPACK_IMPORTED_MODULE_4___default","core_connection_withProvision__WEBPACK_IMPORTED_MODULE_5__","core_connection__WEBPACK_IMPORTED_MODULE_6__","travel_components_common_WelcomeScreen__WEBPACK_IMPORTED_MODULE_7__","travel_models_countries_propTypes__WEBPACK_IMPORTED_MODULE_8__","travel_models_visits_propTypes__WEBPACK_IMPORTED_MODULE_9__","byCountriesVisitsCount","_ref$countryName","countryNameA","_ref$visitsCount","visitsCount","visitsCountA","_ref$locations","locations","locationsA","_ref2$countryName","countryNameB","_ref2$visitsCount","visitsCountB","_ref2$locations","localeCompare","byLocationsVisitsCount","_ref4","_ref3$locationName","locationNameA","_ref3$visitsCount","_ref4$locationName","locationNameB","_ref4$visitsCount","VisitsPage","_ref5","_ref5$visits","_ref5$visits$data","visitsWithCounter","useMemo","property","countryVisits","locationVisits","_locationVisits$","locationId","_ref7","countryVisitsCount","_ref8","locationIndex","locationVisitsCount","_ref9","_ref10$data","byRidesCount","ridesA","_slicedToArray","RidesPage","_ref5$rides","_ref5$rides$data","ridesList","travel_components_common_WelcomeScreen__WEBPACK_IMPORTED_MODULE_5__","ridesByType","entries","_ref6","text","counter","vehicleType","ridesPropTypes","_ref9$data"],"mappings":"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","file":"travel-Countries-ad4f13f2f83e532dae46.js","sourcesContent":["function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import fpUniqBy from 'lodash/fp/uniqBy';\nimport fpGroupBy from 'lodash/fp/groupBy';\nimport fpSortBy from 'lodash/fp/sortBy';\n\nconst NO_YEAR = 0;\n\nexport const fpEnhanceVisitsWithDates = ({ ridesDict }) => visitsList =>\n  visitsList.map(visit => {\n    const { arrivalRideId } = visit;\n    const ride = (arrivalRideId && ridesDict[arrivalRideId]) || {};\n    const { arrivalDateTime, departureDateTime } = ride;\n    return {\n      ...visit,\n      arrivalDateTime,\n      departureDateTime,\n      year: arrivalDateTime ? arrivalDateTime.getFullYear() : NO_YEAR,\n    };\n  });\n\nexport const uniqByLocations = fpUniqBy('locationId');\nexport const uniqByCountries = fpUniqBy('countryId');\nexport const groupByYears = fpGroupBy('year');\nexport const orderByYears = fpSortBy('year');\n\nexport const enhanceVisitsWithCounters = visitsList => {\n  return {\n    visitsList,\n    countriesCount: uniqByCountries(visitsList).length,\n    locationsCount: uniqByLocations(visitsList).length,\n    year: Number(visitsList[0].year),\n  };\n};\n\nexport const plural = (value, { one, few, many }) => {\n  if (value >= 5 && value <= 20) {\n    return many;\n  }\n  const part = value % 10;\n  if (part === 1) {\n    return one;\n  }\n  if (part >= 2 && part <= 4) {\n    return few;\n  }\n  return many;\n};\n","import getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js'\nimport startOfDay from '../startOfDay/index.js'\n\nvar MILLISECONDS_IN_DAY = 86400000\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * var result = differenceInCalendarDays(\n *   new Date(2011, 6, 2, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport default function differenceInCalendarDays(\n  dirtyDateLeft,\n  dirtyDateRight\n) {\n  if (arguments.length < 2) {\n    throw new TypeError(\n      '2 arguments required, but only ' + arguments.length + ' present'\n    )\n  }\n\n  var startOfDayLeft = startOfDay(dirtyDateLeft)\n  var startOfDayRight = startOfDay(dirtyDateRight)\n\n  var timestampLeft =\n    startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft)\n  var timestampRight =\n    startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight)\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY)\n}\n","import React from 'react';\nimport differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\nimport sum from 'lodash/sum';\nimport max from 'lodash/max';\nimport PropTypes from 'prop-types';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport { plural } from '../utils';\n\nconst VisitsByLocation = ({ visitsList }) => {\n  const totalDays = sum(\n    visitsList.map(({ arrivalDateTime, departureDateTime }) =>\n      max([1, differenceInCalendarDays(arrivalDateTime, departureDateTime)]),\n    ),\n  );\n  return (\n    <span>\n      {visitsList.length > 1 && (\n        <span>\n          {`${visitsList.length} `}\n          {plural(totalDays, {\n            one: 'визит',\n            few: 'визита',\n            many: 'визитов',\n          })}\n          {totalDays > 1 ? ', ' : ''}\n        </span>\n      )}\n      {totalDays > 1 && (\n        <span>\n          {`${totalDays} `}\n          {plural(totalDays, { one: 'день', few: 'дня', many: 'дней' })}\n        </span>\n      )}\n    </span>\n  );\n};\nVisitsByLocation.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  visits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\nVisitsByLocation.defaultProps = {\n  countriesDict: {},\n  visits: [],\n};\n\nexport default VisitsByLocation;\n","import React from 'react';\nimport format from 'date-fns/format';\nimport ru from 'date-fns/locale/ru';\nimport fpGroupBy from 'lodash/fp/groupBy';\nimport flow from 'lodash/flow';\nimport fpMapValues from 'lodash/fp/mapValues';\nimport PropTypes from 'prop-types';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport VisitsByLocation from './VisitsByLocation';\n\nconst LocationsByCountries = ({ visitsList }) => {\n  const groupByLocations = fpGroupBy('locationId');\n\n  const enhanceWithCounters = visitsList => ({\n    visitsList,\n    locationName: visitsList[0] && visitsList[0].locationName,\n  });\n  const enhancedVisitsList = flow(\n    groupByLocations,\n    fpMapValues(enhanceWithCounters),\n    Object.values,\n  )(visitsList);\n  return (\n    <div>\n      {enhancedVisitsList.map(\n        ({ locationName, visitsList: visitsListByLocation }) => (\n          <div>\n            <div\n              style={{\n                fontSize: '21px',\n                display: 'inline',\n                marginRight: '4px',\n                lineHeight: '24px',\n              }}\n            >\n              {locationName}\n            </div>\n            <VisitsByLocation visitsList={visitsListByLocation} />\n          </div>\n        ),\n      )}\n    </div>\n  );\n};\nLocationsByCountries.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  visits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\nLocationsByCountries.defaultProps = {\n  countriesDict: {},\n  visits: [],\n};\n\nexport default LocationsByCountries;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport fpGroupBy from 'lodash/fp/groupBy';\nimport flow from 'lodash/flow';\nimport uniq from 'lodash/uniq';\nimport fpMapValues from 'lodash/fp/mapValues';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport LocationsByCountries from './LocationsByCountries';\nimport { uniqByLocations, plural } from '../utils';\n\nconst CountriesByYear = ({ countriesDict, visitsList, classes }) => {\n  const groupByCountries = fpGroupBy('countryId');\n\n  const enhanceWithCounters = visitsList => ({\n    visitsList,\n    locationsCount: uniqByLocations(visitsList).length,\n    countryId: visitsList[0] && visitsList[0].countryId,\n  });\n  const enhancedVisitsList = flow(\n    groupByCountries,\n    fpMapValues(enhanceWithCounters),\n    Object.values,\n  )(visitsList);\n  return (\n    <div>\n      {enhancedVisitsList.map(\n        (\n          { countryId, visitsList: visitsListByCountry, locationsCount },\n          countryIndex,\n        ) => {\n          const tripsCount = uniq(\n            visitsListByCountry.map(({ tripId }) => tripId),\n          ).length;\n          return (\n            <div className={classes.countryContainer}>\n              <div\n                style={{\n                  display: 'inline',\n                  marginRight: '4px',\n                  fontSize: '24px',\n                  fontWeight: 'bold',\n                  lineHeight: '30px',\n                }}\n              >\n                {`${countryIndex + 1}. `}\n                {countriesDict[countryId] &&\n                  countriesDict[countryId].countryName}\n                {'. '}\n              </div>\n              <span>\n                {tripsCount > 1 && (\n                  <span>\n                    {`${tripsCount} `}\n                    {plural(tripsCount, {\n                      one: 'поездка',\n                      few: 'поездки',\n                      many: 'поездок',\n                    })}\n                  </span>\n                )}\n                {locationsCount > 1 && tripsCount > 1 && ', '}\n                {locationsCount > 1 && (\n                  <span>\n                    {locationsCount}{' '}\n                    {plural(locationsCount, {\n                      one: 'город',\n                      few: 'города',\n                      many: 'городов',\n                    })}\n                  </span>\n                )}\n              </span>\n              <LocationsByCountries visitsList={visitsListByCountry} />\n            </div>\n          );\n        },\n      )}\n    </div>\n  );\n};\nCountriesByYear.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  visits: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n};\nCountriesByYear.defaultProps = {\n  countriesDict: {},\n  visits: [],\n};\n\nconst styles = {\n  countryContainer: {\n    marginTop: '16px',\n  },\n};\n\nexport default withStyles(styles)(CountriesByYear);\n","import React from 'react';\nimport memoizeOne from 'memoize-one';\nimport fpMapValues from 'lodash/fp/mapValues';\nimport flow from 'lodash/fp/flow';\nimport fpReverse from 'lodash/fp/reverse';\nimport PropTypes from 'prop-types';\nimport { selectDict, selectIsReady } from 'core/connection';\nimport WelcomeScreen from 'travel/components/common/WelcomeScreen';\nimport withTravels from 'travel/components/common/withTravels';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\nimport {\n  groupByYears,\n  uniqByLocations,\n  enhanceVisitsWithCounters,\n  fpEnhanceVisitsWithDates,\n  orderByYears,\n  plural,\n} from './utils';\nimport CountriesByYear from './blocks/CountriesByYear';\n\nconst enhanceVisits = memoizeOne((ridesDict, visitsList) =>\n  flow(\n    fpEnhanceVisitsWithDates({ ridesDict }),\n    groupByYears,\n    fpMapValues(enhanceVisitsWithCounters),\n    Object.values,\n    orderByYears,\n    fpReverse,\n  )(visitsList),\n);\n\nconst YearCountryCityPage = ({\n  countriesDict,\n  ridesDict,\n  isVisitsComplete,\n  isRidesComplete,\n  visits: { data: visitsList = [] } = {},\n}) => {\n  if (isVisitsComplete && isRidesComplete && !visitsList.length) {\n    return <WelcomeScreen />;\n  }\n\n  const visitsByYears = enhanceVisits(ridesDict, visitsList);\n  return (\n    <div>\n      {visitsByYears.map(\n        ({\n          year,\n          visitsList: visitsListByYear,\n          countriesCount,\n          locationsCount,\n        }) => (\n          <div key={`y${year}`}>\n            <h1>\n              {year || 'Год не указан'}, {countriesCount}{' '}\n              {plural(countriesCount, {\n                one: 'страна',\n                few: 'страны',\n                many: 'стран',\n              })}{' '}\n              и {locationsCount}{' '}\n              {plural(locationsCount, {\n                one: 'город',\n                few: 'города',\n                many: 'городов',\n              })}\n            </h1>\n            <CountriesByYear\n              visitsList={visitsListByYear}\n              countriesDict={countriesDict}\n            />\n          </div>\n        ),\n      )}\n    </div>\n  );\n};\nYearCountryCityPage.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  isVisitsComplete: PropTypes.bool.isRequired,\n  visits: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  }),\n};\nYearCountryCityPage.defaultProps = {\n  countriesDict: {},\n  visits: { data: [] },\n};\n\nconst mapStateToProps = state => ({\n  countriesDict: selectDict(state, 'countries'),\n  ridesDict: selectDict(state, 'rides'),\n  isVisitsComplete: selectIsReady(state, 'yearCountryCity.visits'),\n  isRidesComplete: selectIsReady(state, 'yearCountryCity.rides'),\n});\n\nexport default withTravels({ domain: 'yearCountryCity', mapStateToProps })(\n  YearCountryCityPage,\n);\n","import React from 'react';\nimport { withRouter } from 'react-router';\nimport compose from 'lodash/fp/compose';\nimport withProvision from 'core/connection/withProvision';\nimport { selectPlaceholder } from 'core/connection';\n\nexport default ({ domain, mapStateToProps }) => Component => {\n  const mapStateToRequirements = (\n    state,\n    {\n      countriesDict,\n      match: {\n        params: { userAlias },\n      },\n    },\n  ) => {\n    const { data: userTripsIds = [] } =\n      selectPlaceholder(state, `${domain}.trips`) || {};\n    return {\n      domain,\n      request: {\n        countries: {\n          modelName: 'countries',\n          condition: !countriesDict || !Object.keys(countriesDict).length,\n          query: { navigation: { isDisabled: true } },\n        },\n        trips: {\n          modelName: 'trips',\n          observe: userAlias,\n          query: { userAlias, navigation: { isDisabled: true } },\n        },\n        visits: {\n          modelName: 'visits',\n          observe: userTripsIds,\n          condition: userTripsIds && userTripsIds.length,\n          query: {\n            filter: { trip_id: { comparator: 'in', value: userTripsIds } },\n            navigation: { isDisabled: true },\n          },\n        },\n        rides: {\n          modelName: 'rides',\n          observe: userTripsIds,\n          condition: userTripsIds && userTripsIds.length,\n          query: {\n            filter: { trip_id: { comparator: 'in', value: userTripsIds } },\n            navigation: { isDisabled: true },\n          },\n        },\n      },\n    };\n  };\n\n  const ProvisionedComponent = compose(\n    withRouter,\n    withProvision(mapStateToRequirements, mapStateToProps),\n  )(Component);\n\n  return props => <ProvisionedComponent {...props} />;\n};\n","/* eslint-disable import/prefer-default-export */\nimport React from 'react';\nimport PlainLoader from 'modules/components/loaders/PlainLoader';\n\n// todo implement logic, which loader to show for each request, etc.\nexport const withLoader = Component => props => {\n  const { provision: { isPending = true, hasFallback } = {} } = props;\n  if (isPending && !hasFallback) {\n    return <PlainLoader />;\n  }\n  return <Component {...props} />;\n};\n","import { withLoader } from 'modules/components/loaders/ProvisionLoader';\nimport { provide } from 'core/connection';\n\nconst compose = (...funcsArray) => arg =>\n  funcsArray.reduceRight((composed, func) => func(composed), arg);\n\nexport default (...provisionParams) => ExtendableComponent =>\n  compose(\n    provide(...provisionParams),\n    withLoader,\n  )(ExtendableComponent);\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport compose from 'lodash/fp/compose';\nimport Path from 'modules/utilities/routing/Path';\nimport { withPaths } from 'core/context/AppContext';\nimport { useAuthContext } from 'core/context/AuthContext';\n\nconst WelcomeScreen = ({\n  children,\n  match: {\n    params: { userAlias: visitedUserAlias },\n  },\n  namedPaths: { travel: { trips: tripsPath } = {} } = {},\n}) => {\n  const { userAlias: authenticatedUserAlias } = useAuthContext();\n  if (visitedUserAlias !== authenticatedUserAlias) {\n    return (\n      <span>Пользователь пока еще не внес информацию о своих поездках</span>\n    );\n  }\n  const Message = useCallback(\n    () => (\n      <div>\n        <span>\n          Нам пока ничего не известно о ваших путешествиях. Но очень интересно\n          узнать. Создайте вашу первую поездку, а мы подготовим по ней отчет\n        </span>\n        {children}\n      </div>\n    ),\n    [children],\n  );\n  return (\n    <Switch>\n      <Route\n        path={tripsPath.toUrl({ userAlias: authenticatedUserAlias })}\n        component={Message}\n      />\n      <Redirect to={tripsPath.toUrl({ userAlias: authenticatedUserAlias })} />\n    </Switch>\n  );\n};\n\nWelcomeScreen.propTypes = {\n  children: PropTypes.node,\n  match: PropTypes.shape({\n    params: PropTypes.shape({ userAlias: PropTypes.string }),\n  }).isRequired,\n  namedPaths: PropTypes.shape({\n    travel: PropTypes.shape({ trips: PropTypes.instanceOf(Path) }),\n  }).isRequired,\n};\n\nWelcomeScreen.defaultProps = {\n  children: null,\n};\n\nexport default compose(\n  withRouter,\n  withPaths,\n)(WelcomeScreen);\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var convert = require('./convert'),\n    func = convert('mapValues', require('../mapValues'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var convert = require('./convert'),\n    func = convert('groupBy', require('../groupBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","// todo use localization library\nimport {\n  RIDE_CLASSES,\n  RIDE_OCCUPATION,\n  RIDE_TYPES,\n  VEHICLE_TYPES,\n} from 'travel/models/rides/consts';\n\nexport const RIDE_CLASSES_NAMES = {\n  [RIDE_CLASSES.ECONOMY]: 'Эконом',\n  [RIDE_CLASSES.COMFORT]: 'Комфорт',\n  [RIDE_CLASSES.BUSINESS]: 'Бизнес',\n  [RIDE_CLASSES.FIRST]: 'Первый',\n  [RIDE_CLASSES.PRIVATE]: 'Частный',\n};\n\nexport const RIDE_OCCUPATION_NAMES = {\n  [RIDE_OCCUPATION.PASSENGER]: 'Пассажир',\n  [RIDE_OCCUPATION.STUFF]: 'Персонал', // todo кроме персонального транспорта\n  [RIDE_OCCUPATION.DRIVER]: 'Водитель', // todo только для персонального транспорта\n};\n\nexport const RIDE_TYPES_NAMES = {\n  [RIDE_TYPES.SELF_DRIVE]: 'Самостоятельная поездка',\n  [RIDE_TYPES.SCHEDULED]: 'Регулярный рейс',\n  [RIDE_TYPES.CHARTER]: 'Чартерный рейс', // todo only for aircrafts\n  [RIDE_TYPES.TOUR]: 'Тур', // todo except aircrafts\n  [RIDE_TYPES.CARPOOL]: 'Попутный автомобиль',\n  [RIDE_TYPES.HITCH_HIKING]: 'Автостоп',\n  [RIDE_TYPES.DROP_OFF]: 'Подбросили до места',\n};\n\nexport const VEHICLE_NAMES = {\n  [VEHICLE_TYPES.CAR]: 'Автомобиль',\n  [VEHICLE_TYPES.TRAIN]: 'Поезд',\n  [VEHICLE_TYPES.AIRCRAFT]: 'Самолет',\n  [VEHICLE_TYPES.BUS]: 'Автобус',\n  [VEHICLE_TYPES.MOTORHOME]: 'Дом на колесах',\n  [VEHICLE_TYPES.LOCAL_TRAIN]: 'Электричка',\n  [VEHICLE_TYPES.FERRY]: 'Паром',\n  [VEHICLE_TYPES.BIKE]: 'Велосипед',\n  [VEHICLE_TYPES.BY_FEET]: 'Пешком',\n  [VEHICLE_TYPES.ROPEWAY]: 'Канатная дорога',\n  [VEHICLE_TYPES.FUNICULAR]: 'Фуникулер',\n  [VEHICLE_TYPES.MOTORBIKE]: 'Мотоцикл',\n  [VEHICLE_TYPES.TRUCK]: 'Грузовик',\n  [VEHICLE_TYPES.ALL_TERRAIN_VEHICLE]: 'Вездеход',\n  [VEHICLE_TYPES.TRAM]: 'Трамвай',\n  [VEHICLE_TYPES.TROLLEY]: 'Троллейбус',\n  [VEHICLE_TYPES.TAXI]: 'Такси',\n  [VEHICLE_TYPES.CITY_BUS]: 'Муниципальный автобус',\n  [VEHICLE_TYPES.JITNEY]: 'Маршрутное такси',\n  [VEHICLE_TYPES.SUBWAY]: 'Метро',\n  [VEHICLE_TYPES.PUBLIC_TRANSPORT]: 'Общественный транспорт',\n};\n","var convert = require('./convert'),\n    func = convert('flow', require('../flow'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('reverse', require('../reverse'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeReverse = arrayProto.reverse;\n\n/**\n * Reverses `array` so that the first element becomes the last, the second\n * element becomes the second to last, and so on.\n *\n * **Note:** This method mutates `array` and is based on\n * [`Array#reverse`](https://mdn.io/Array/reverse).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = [1, 2, 3];\n *\n * _.reverse(array);\n * // => [3, 2, 1]\n *\n * console.log(array);\n * // => [3, 2, 1]\n */\nfunction reverse(array) {\n  return array == null ? array : nativeReverse.call(array);\n}\n\nmodule.exports = reverse;\n","var convert = require('./convert'),\n    func = convert('uniqBy', require('../uniqBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var convert = require('./convert'),\n    func = convert('sortBy', require('../sortBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","import React, { useMemo } from 'react';\nimport groupBy from 'lodash/groupBy';\nimport uniq from 'lodash/uniq';\nimport property from 'lodash/property';\nimport PropTypes from 'prop-types';\nimport withProvision from 'core/connection/withProvision';\nimport { selectDict, selectPlaceholder, selectIsReady } from 'core/connection';\nimport WelcomeScreen from 'travel/components/common/WelcomeScreen';\nimport countriesPropTypes from 'travel/models/countries/propTypes';\nimport visitPropTypes from 'travel/models/visits/propTypes';\n\nconst byCountriesVisitsCount = (\n  {\n    countryName: countryNameA = '',\n    visitsCount: visitsCountA = 0,\n    locations: locationsA = [],\n  },\n  {\n    countryName: countryNameB = '',\n    visitsCount: visitsCountB = 0,\n    locations: locationsB = [],\n  },\n) =>\n  visitsCountB - visitsCountA ||\n  locationsB.length - locationsA.length ||\n  countryNameA.localeCompare(countryNameB);\n\nconst byLocationsVisitsCount = (\n  { locationName: locationNameA = '', visitsCount: visitsCountA = 0 },\n  { locationName: locationNameB = '', visitsCount: visitsCountB = 0 },\n) => visitsCountB - visitsCountA || locationNameA.localeCompare(locationNameB);\n\nconst VisitsPage = ({\n  countriesDict,\n  isVisitsComplete,\n  visits: { data: visitsList = [] } = {},\n}) => {\n  if (isVisitsComplete && !visitsList.length) {\n    return <WelcomeScreen />;\n  }\n\n  /**\n  visitsWithCounter structure example:\n   \n  [{\n    countryId: 1,    \n    countryName: 'Russia',\n    visitsCount: 30,\n    locations: [\n      { locationId: 1, locationName: 'Moscow', visitsCount: 25 },\n      { locationId: 2, locationName: 'Saint-Petersburg', visitsCount: 7 },\n    ],\n  }];\n  */\n  const visitsWithCounter = useMemo(\n    () =>\n      Object.values(groupBy(visitsList, property('countryId')))\n        .map(countryVisits => {\n          const { countryId } = countryVisits[0];\n          const { countryName } = countriesDict[countryId] || {};\n          return {\n            countryId,\n            countryName,\n            visitsCount: uniq(countryVisits.map(property('tripId'))).length,\n            locations: Object.values(\n              groupBy(countryVisits, property('locationId')),\n            )\n              .map(locationVisits => {\n                const { locationId, locationName } = locationVisits[0];\n                return {\n                  locationId,\n                  locationName,\n                  visitsCount: uniq(locationVisits.map(property('tripId')))\n                    .length,\n                };\n              })\n              .sort(byLocationsVisitsCount),\n          };\n        })\n        .sort(byCountriesVisitsCount),\n    [visitsList, countriesDict],\n  );\n\n  return (\n    <div>\n      {visitsWithCounter.map(\n        (\n          {\n            countryId,\n            countryName,\n            locations,\n            visitsCount: countryVisitsCount,\n          },\n          countryIndex,\n        ) => (\n          <div key={`id${countryId}`}>\n            <h2>\n              <span>{`${countryIndex + 1}. `}</span>\n              <span>{countryName}</span>\n              {countryVisitsCount > 1 && (\n                <span>{` x${countryVisitsCount}`}</span>\n              )}\n            </h2>\n            <div>\n              {locations.map(\n                (\n                  {\n                    locationId,\n                    locationName,\n                    visitsCount: locationVisitsCount,\n                  },\n                  locationIndex,\n                ) => (\n                  <div key={`id${locationId}`}>\n                    <span>{`${locationIndex + 1}. `}</span>\n                    <span>{locationName}</span>\n                    {locationVisitsCount > 1 && (\n                      <span>{` x${locationVisitsCount}`}</span>\n                    )}\n                  </div>\n                ),\n              )}\n            </div>\n          </div>\n        ),\n      )}\n    </div>\n  );\n};\nVisitsPage.propTypes = {\n  countriesDict: PropTypes.shape(countriesPropTypes),\n  isVisitsComplete: PropTypes.bool.isRequired,\n  visits: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(visitPropTypes)),\n  }),\n};\nVisitsPage.defaultProps = {\n  countriesDict: {},\n  visits: { data: [] },\n};\n\nconst mapStateToProps = state => ({\n  countriesDict: selectDict(state, 'countries'),\n  isVisitsComplete: selectIsReady(state, 'visitsPage.visits'),\n});\n\nconst mapStateToRequirements = (\n  state,\n  {\n    countriesDict,\n    match: {\n      params: { userAlias },\n    },\n  },\n) => {\n  const { data: userTripsIds = [] } =\n    selectPlaceholder(state, 'visitsPage.trips') || {};\n  return {\n    domain: 'visitsPage',\n    request: {\n      countries: {\n        condition: !countriesDict || !Object.keys(countriesDict).length,\n        modelName: 'countries',\n        query: { navigation: { isDisabled: true } },\n      },\n      trips: {\n        modelName: 'trips',\n        observe: userAlias,\n        query: { userAlias, navigation: { isDisabled: true } },\n      },\n      visits: {\n        modelName: 'visits',\n        observe: userTripsIds,\n        condition: userTripsIds && userTripsIds.length,\n        query: {\n          filter: { trip_id: { comparator: 'in', value: userTripsIds } },\n          navigation: { isDisabled: true },\n        },\n      },\n    },\n  };\n};\n\nexport default withProvision(mapStateToRequirements, mapStateToProps)(\n  VisitsPage,\n);\n","import React from 'react';\nimport groupBy from 'lodash/groupBy';\nimport PropTypes from 'prop-types';\nimport withProvision from 'core/connection/withProvision';\nimport { selectPlaceholder, selectIsReady } from 'core/connection';\nimport WelcomeScreen from 'travel/components/common/WelcomeScreen';\nimport ridesPropTypes from 'travel/models/rides/propTypes';\nimport { VEHICLE_NAMES } from 'travel/components/models/rides/RideEditDialog/localization';\n\nconst withCounter = (text, counter) => {\n  if (!counter || counter === 1) {\n    return text;\n  }\n  return `${text} x${counter}`;\n};\n\nconst byRidesCount = ([, ridesA], [, ridesB]) => ridesB.length - ridesA.length;\n\nconst RidesPage = ({\n  isRidesComplete,\n  rides: { data: ridesList = [] } = {},\n}) => {\n  if (isRidesComplete && !ridesList.length) {\n    return <WelcomeScreen />;\n  }\n\n  const ridesByType = Object.entries(groupBy(ridesList, 'vehicleType')).sort(\n    byRidesCount,\n  );\n\n  return (\n    <div>\n      {ridesByType.map(([vehicleType, rides]) => (\n        <div key={`id${vehicleType}`}>\n          <span>{withCounter(VEHICLE_NAMES[vehicleType], rides.length)}</span>\n        </div>\n      ))}\n    </div>\n  );\n};\nRidesPage.propTypes = {\n  isRidesComplete: PropTypes.bool.isRequired,\n  rides: PropTypes.shape({\n    data: PropTypes.arrayOf(PropTypes.shape(ridesPropTypes)),\n  }),\n};\nRidesPage.defaultProps = {\n  rides: { data: [] },\n};\n\nconst mapStateToProps = state => ({\n  isRidesComplete: selectIsReady(state, 'ridesPage.rides'),\n});\n\nconst mapStateToRequirements = (\n  state,\n  {\n    match: {\n      params: { userAlias },\n    },\n  },\n) => {\n  const { data: userTripsIds = [] } =\n    selectPlaceholder(state, 'ridesPage.trips') || {};\n  return {\n    domain: 'ridesPage',\n    request: {\n      trips: {\n        modelName: 'trips',\n        observe: userAlias,\n        query: { userAlias, navigation: { isDisabled: true } },\n      },\n      rides: {\n        modelName: 'rides',\n        observe: userTripsIds,\n        condition: userTripsIds && userTripsIds.length,\n        query: {\n          filter: { trip_id: { comparator: 'in', value: userTripsIds } },\n          navigation: { isDisabled: true },\n        },\n      },\n    },\n  };\n};\n\nexport default withProvision(mapStateToRequirements, mapStateToProps)(\n  RidesPage,\n);\n"],"sourceRoot":""}