(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1004:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r);function i(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var o=function(t,e){var n;void 0===e&&(e=i);var r,a=[],o=!1;return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return o&&n===this&&e(i,a)?r:(r=t.apply(this,i),o=!0,n=this,a=i,r)}},u=n(228),c=n.n(u),s=n(758),l=n.n(s),f=n(887),v=n.n(f),d=n(888),p=n.n(d),E=n(1),m=n.n(E),h=n(102),I=n(16),y=n(730),S=n(737),g=n(156),T=n(151),C=n(890),O=n.n(C),R=n(760),b=n.n(R),P=n(892),L=n.n(P);function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=function(t){var e=t.ridesDict;return function(t){return t.map(function(t){var n=t.arrivalRideId,r=n&&e[n]||{},a=r.arrivalDateTime,i=r.departureDateTime;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){D(t,e,n[e])})}return t}({},t,{arrivalDateTime:a,departureDateTime:i,year:i&&i.getFullYear()||a&&a.getFullYear()||0})})}},x=O()("locationId"),N=O()("countryId"),A=b()("year"),j=L()("year"),V=function(t){return{visitsList:t,countriesCount:N(t).length,locationsCount:x(t).length,year:Number(t[0].year)}},U=function(t,e){var n=e.one,r=e.few,a=e.many;if(t>=5&&t<=20)return a;var i=t%10;return 1===i?n:i>=2&&i<=4?r:a},Y=n(12),w=n(759),H=n.n(w),q=n(709),M=n.n(q),F=n(58),k=n(138),B=n(62),K=864e5;function J(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(B.a)(t),r=Object(B.a)(e),a=n.getTime()-Object(k.a)(n),i=r.getTime()-Object(k.a)(r);return Math.round((a-i)/K)}var W=n(901),G=n.n(W),z=n(903),X=n.n(z),$=function(t){var e=t.visitsList,n=G()(e.map(function(t){var e=t.arrivalDateTime,n=t.departureDateTime;return X()([1,J(e,n)])}));return a.a.createElement("span",null,e.length>1&&a.a.createElement("span",null,"".concat(e.length," "),U(n,{one:"визит",few:"визита",many:"визитов"}),n>1?", ":""),n>1&&a.a.createElement("span",null,"".concat(n," "),U(n,{one:"день",few:"дня",many:"дней"})))};$.propTypes={countriesDict:m.a.shape(g.default),visits:m.a.arrayOf(m.a.shape(T.default))},$.defaultProps={countriesDict:{},visits:[]};var Q=$;function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var tt=function(t){var e=t.visitsList,n=t.locationPath,r=b()("locationId"),i=H()(r,l()(function(t){return{visitsList:t,locationName:t[0]&&t[0].locationName}}),Object.entries)(e);return a.a.createElement("div",null,i.map(function(t){var e=Z(t,2),r=e[0],i=e[1],o=i.locationName,u=i.visitsList;return a.a.createElement("div",null,a.a.createElement("div",{style:{display:"inline",marginRight:"4px",lineHeight:"20px"}},a.a.createElement(F.b,{to:n.toUrl({strLocationId:r})},o)),a.a.createElement(Q,{visitsList:u}))}))};tt.propTypes={countriesDict:m.a.shape(g.default),visits:m.a.arrayOf(m.a.shape(T.default))},tt.defaultProps={countriesDict:{},visits:[]};var et=tt,nt=function(t){var e=t.countriesDict,n=t.visitsList,r=t.locationPath,i=t.classes,o=b()("countryId"),u=H()(o,l()(function(t){return{visitsList:t,locationsCount:x(t).length,countryId:t[0]&&t[0].countryId}}),Object.values)(n);return a.a.createElement("div",null,u.map(function(t,n){var o=t.countryId,u=t.visitsList,c=t.locationsCount,s=M()(u.map(function(t){return t.tripId})).length;return a.a.createElement("div",{className:i.countryContainer},a.a.createElement("div",{style:{display:"inline",marginRight:"4px",fontSize:"24px",fontWeight:"bold",lineHeight:"30px"}},"".concat(n+1,". "),e[o]&&e[o].countryName,". "),a.a.createElement("span",null,s>1&&a.a.createElement("span",null,"".concat(s," "),U(s,{one:"поездка",few:"поездки",many:"поездок"})),c>1&&s>1&&", ",c>1&&a.a.createElement("span",null,c," ",U(c,{one:"город",few:"города",many:"городов"}))),a.a.createElement(et,{visitsList:u,locationPath:r}))}))};nt.propTypes={countriesDict:m.a.shape(g.default),visits:m.a.arrayOf(m.a.shape(T.default))},nt.defaultProps={countriesDict:{},visits:[]};var rt=Object(Y.a)({countryContainer:{marginTop:"16px"}})(nt);function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var it=o(function(t,e,n){return v()(_({ridesDict:t}),n?function(t){return t&&t.length?at({},n,t):{}}:A,l()(V),Object.values,j,p.a)(e)}),ot=function(t){var e=t.countriesDict,n=t.ridesDict,r=t.isVisitsComplete,i=t.isRidesComplete,o=t.userVisits,u=(o=void 0===o?{}:o).data,c=void 0===u?[]:u,s=t.namedPaths.travel.locationPath,l=t.match.params.year;if(r&&i&&!c.length)return a.a.createElement(y.a,null);var f=it(n,c,l);return a.a.createElement("div",null,f.map(function(t){var n=t.year,r=t.visitsList,i=t.countriesCount,o=t.locationsCount;return a.a.createElement("div",{key:"y".concat(n)},a.a.createElement("h1",null,n||"Год не указан",", ",i," ",U(i,{one:"страна",few:"страны",many:"стран"})," ","и ",o," ",U(o,{one:"город",few:"города",many:"городов"})),a.a.createElement(rt,{visitsList:r,countriesDict:e,locationPath:s}))}))};ot.propTypes={countriesDict:m.a.shape(g.default),isVisitsComplete:m.a.bool.isRequired,visits:m.a.shape({data:m.a.arrayOf(m.a.shape(T.default))})},ot.defaultProps={countriesDict:{},visits:{data:[]}};e.default=c()(I.g,Object(S.b)({domain:"yearCountryCity",mapStateToProps:function(t){return{countriesDict:Object(h.d)(t,"countries"),ridesDict:Object(h.d)(t,"rides"),isVisitsComplete:Object(h.e)(t,"yearCountryCity.visits"),isRidesComplete:Object(h.e)(t,"yearCountryCity.rides")}},requirementsConfig:function(t,e){var n,r=e.match.params.year;return at(n={},S.a.COMMON.COUNTRIES,!0),at(n,S.a.USER.TRIPS,!0),at(n,S.a.USER.VISITS,{year:r}),at(n,S.a.USER.RIDES,!0),n}}))(ot)},705:function(t,e,n){var r=n(230),a=n(722),i=Object.prototype.hasOwnProperty,o=a(function(t,e,n){i.call(t,n)?t[n].push(e):r(t,n,[e])});t.exports=o},706:function(t,e,n){"use strict";var r=n(0),a=n.n(r),i=n(232),o=function(t){return function(e){var n=e.provision,r=(n=void 0===n?{}:n).isPending,o=void 0===r||r,u=n.hasFallback;return o&&!u?a.a.createElement(i.a,null):a.a.createElement(t,e)}},u=n(102);e.a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduceRight(function(t,e){return e(t)},t)}}(u.a.apply(void 0,e),o)(t)}}},708:function(t,e,n){var r=n(725),a=n(117);t.exports=function(t,e){return t&&r(t,e,a)}},709:function(t,e,n){var r=n(715);t.exports=function(t){return t&&t.length?r(t):[]}},714:function(t,e,n){var r=n(708),a=n(727)(r);t.exports=a},715:function(t,e,n){var r=n(342),a=n(340),i=n(728),o=n(343),u=n(729),c=n(338),s=200;t.exports=function(t,e,n){var l=-1,f=a,v=t.length,d=!0,p=[],E=p;if(n)d=!1,f=i;else if(v>=s){var m=e?null:u(t);if(m)return c(m);d=!1,f=o,E=new r}else E=e?[]:p;t:for(;++l<v;){var h=t[l],I=e?e(h):h;if(h=n||0!==h?h:0,d&&I==I){for(var y=E.length;y--;)if(E[y]===I)continue t;e&&E.push(I),p.push(h)}else f(E,I,n)||(E!==p&&E.push(I),p.push(h))}return p}},722:function(t,e,n){var r=n(723),a=n(724),i=n(336),o=n(22);t.exports=function(t,e){return function(n,u){var c=o(n)?r:a,s=e?e():{};return c(n,t,i(u,2),s)}}},723:function(t,e){t.exports=function(t,e,n,r){for(var a=-1,i=null==t?0:t.length;++a<i;){var o=t[a];e(r,o,n(o),t)}return r}},724:function(t,e,n){var r=n(714);t.exports=function(t,e,n,a){return r(t,function(t,r,i){e(a,t,n(t),i)}),a}},725:function(t,e,n){var r=n(726)();t.exports=r},726:function(t,e){t.exports=function(t){return function(e,n,r){for(var a=-1,i=Object(e),o=r(e),u=o.length;u--;){var c=o[t?u:++a];if(!1===n(i[c],c,i))break}return e}}},727:function(t,e,n){var r=n(231);t.exports=function(t,e){return function(n,a){if(null==n)return n;if(!r(n))return t(n,a);for(var i=n.length,o=e?i:-1,u=Object(n);(e?o--:++o<i)&&!1!==a(u[o],o,u););return n}}},728:function(t,e){t.exports=function(t,e,n){for(var r=-1,a=null==t?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}},729:function(t,e,n){var r=n(341),a=n(339),i=n(338),o=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:a;t.exports=o},730:function(t,e,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),u=n(31),c=n(228),s=n.n(c),l=n(112),f=n(16),v=n(94),d=function(t){var e=t.children,n=t.match.params.userAlias,i=t.namedPaths,o=(i=void 0===i?{}:i).travel,c=(o=void 0===o?{}:o).trips,s=Object(v.c)().userAlias;if(n!==s)return a.a.createElement("span",null,"Пользователь пока еще не внес информацию о своих поездках");var l=Object(r.useCallback)(function(){return a.a.createElement("div",null,a.a.createElement("span",null,"Нам пока ничего не известно о ваших путешествиях. Но очень интересно узнать. Создайте вашу первую поездку, а мы подготовим по ней отчет"),e)},[e]);return a.a.createElement(u.d,null,a.a.createElement(u.b,{path:c.toUrl({userAlias:s}),component:l}),a.a.createElement(u.a,{to:c.toUrl({userAlias:s})}))};d.propTypes={children:o.a.node,match:o.a.shape({params:o.a.shape({userAlias:o.a.string})}).isRequired,namedPaths:o.a.shape({travel:o.a.shape({trips:o.a.instanceOf(l.a)})}).isRequired},d.defaultProps={children:null},e.a=s()(u.g,f.g)(d)},731:function(t,e,n){var r=n(230),a=n(708),i=n(336);t.exports=function(t,e){var n={};return e=i(e,3),a(t,function(t,a,i){r(n,a,e(t,a,i))}),n}},737:function(t,e,n){"use strict";var r=n(0),a=n.n(r),i=n(31),o=n(157),u=n.n(o),c=n(228),s=n.n(c),l=n(706),f=n(709),v=n.n(f),d=n(102);n.d(e,"a",function(){return p});var p={COMMON:{COUNTRIES:"COMMON.COUNTRIES"},USER:{TRIPS:"USER.TRIPS",LOCATIONS:"USER.LOCATIONS",VISITS:"USER.VISITS",RIDES:"USER.RIDES"}};e.b=function(t){var e=t.domain,n=t.mapStateToProps,r=t.requirementsConfig;return function(t){var o=s()(i.g,Object(l.a)(function(t,n){var a=n.countriesDict,i=n.match.params.userAlias,o=function(t,e){return(Object(d.f)(t,"".concat(e,".userTrips"))||{}).data}(t,e),c=u()(r)?r(t,n):r,s={};if(c[p.COMMON.COUNTRIES]&&(s.countries={modelName:"countries",condition:!a||!Object.keys(a).length,query:{navigation:{isDisabled:!0}}}),c[p.USER.TRIPS]&&(s.userTrips={modelName:"trips",observe:i,query:{userAlias:i,navigation:{isDisabled:!0}}}),c[p.USER.LOCATIONS]){var l=function(t,e){var n=Object(d.d)(t,"trips"),r=Object(d.d)(t,"locations"),a=e?v()(e.reduce(function(t,e){var r=n[e];if(r){var a=r.originLocationId;a&&t.push(a)}return t},[])):[],i=a.filter(function(t){return!r[t]});return{requiredLocationsIds:a,missingLocationsIds:i}}(t,o),f=l.requiredLocationsIds,E=l.missingLocationsIds;s.userLocations={modelName:"locations",observe:f,condition:E.length,query:{filter:{id:{comparator:"in",value:E}},navigation:{isDisabled:!0}}}}if(c[p.USER.VISITS]){var m=c[p.USER.VISITS].year,h=parseInt(/^\d{4}$/.test(String(m))?m:void 0,10);s.userVisits={modelName:"visits",observe:{userTripsIds:o,year:m},condition:o&&o.length,query:{filter:{trip_id:{comparator:"in",value:o},departure_date_time:h?{comparator:">=",value:"".concat(h,"-01-01")}:void 0,arrival_date_time:h?{comparator:"<",value:"".concat(h+1,"-01-01")}:void 0},navigation:{isDisabled:!0}}}}return c[p.USER.RIDES]&&(s.userRides={modelName:"rides",observe:o,condition:o&&o.length,query:{filter:{trip_id:{comparator:"in",value:o}},navigation:{isDisabled:!0}}}),{domain:e,request:s}},n))(t);return function(t){return a.a.createElement(o,t)}}}},758:function(t,e,n){var r=n(337)("mapValues",n(731));r.placeholder=n(229),t.exports=r},759:function(t,e,n){var r=n(347)();t.exports=r},760:function(t,e,n){var r=n(337)("groupBy",n(705));r.placeholder=n(229),t.exports=r},761:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return v});var r,a,i,o,u=n(61);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=(c(r={},u.RIDE_CLASSES.ECONOMY,"Эконом"),c(r,u.RIDE_CLASSES.COMFORT,"Комфорт"),c(r,u.RIDE_CLASSES.BUSINESS,"Бизнес"),c(r,u.RIDE_CLASSES.FIRST,"Первый"),c(r,u.RIDE_CLASSES.PRIVATE,"Частный"),r),l=(c(a={},u.RIDE_OCCUPATION.PASSENGER,"Пассажир"),c(a,u.RIDE_OCCUPATION.STUFF,"Персонал"),c(a,u.RIDE_OCCUPATION.DRIVER,"Водитель"),a),f=(c(i={},u.RIDE_TYPES.SELF_DRIVE,"Самостоятельная поездка"),c(i,u.RIDE_TYPES.SCHEDULED,"Регулярный рейс"),c(i,u.RIDE_TYPES.CHARTER,"Чартерный рейс"),c(i,u.RIDE_TYPES.TOUR,"Тур"),c(i,u.RIDE_TYPES.CARPOOL,"Попутный автомобиль"),c(i,u.RIDE_TYPES.HITCH_HIKING,"Автостоп"),c(i,u.RIDE_TYPES.DROP_OFF,"Подбросили до места"),i),v=(c(o={},u.VEHICLE_TYPES.CAR,"Автомобиль"),c(o,u.VEHICLE_TYPES.TRAIN,"Поезд"),c(o,u.VEHICLE_TYPES.AIRCRAFT,"Самолет"),c(o,u.VEHICLE_TYPES.BUS,"Автобус"),c(o,u.VEHICLE_TYPES.MOTORHOME,"Дом на колесах"),c(o,u.VEHICLE_TYPES.LOCAL_TRAIN,"Электричка"),c(o,u.VEHICLE_TYPES.FERRY,"Паром"),c(o,u.VEHICLE_TYPES.BIKE,"Велосипед"),c(o,u.VEHICLE_TYPES.BY_FEET,"Пешком"),c(o,u.VEHICLE_TYPES.ROPEWAY,"Канатная дорога"),c(o,u.VEHICLE_TYPES.FUNICULAR,"Фуникулер"),c(o,u.VEHICLE_TYPES.MOTORBIKE,"Мотоцикл"),c(o,u.VEHICLE_TYPES.TRUCK,"Грузовик"),c(o,u.VEHICLE_TYPES.ALL_TERRAIN_VEHICLE,"Вездеход"),c(o,u.VEHICLE_TYPES.TRAM,"Трамвай"),c(o,u.VEHICLE_TYPES.TROLLEY,"Троллейбус"),c(o,u.VEHICLE_TYPES.TAXI,"Такси"),c(o,u.VEHICLE_TYPES.CITY_BUS,"Муниципальный автобус"),c(o,u.VEHICLE_TYPES.JITNEY,"Маршрутное такси"),c(o,u.VEHICLE_TYPES.SUBWAY,"Метро"),c(o,u.VEHICLE_TYPES.PUBLIC_TRANSPORT,"Общественный транспорт"),o)},887:function(t,e,n){var r=n(337)("flow",n(759));r.placeholder=n(229),t.exports=r},888:function(t,e,n){var r=n(337)("reverse",n(889));r.placeholder=n(229),t.exports=r},889:function(t,e){var n=Array.prototype.reverse;t.exports=function(t){return null==t?t:n.call(t)}},890:function(t,e,n){var r=n(337)("uniqBy",n(891));r.placeholder=n(229),t.exports=r},891:function(t,e,n){var r=n(336),a=n(715);t.exports=function(t,e){return t&&t.length?a(t,r(e,2)):[]}},892:function(t,e,n){var r=n(337)("sortBy",n(893));r.placeholder=n(229),t.exports=r},893:function(t,e,n){var r=n(345),a=n(894),i=n(899),o=n(900),u=i(function(t,e){if(null==t)return[];var n=e.length;return n>1&&o(t,e[0],e[1])?e=[]:n>2&&o(e[0],e[1],e[2])&&(e=[e[0]]),a(t,r(e,1),[])});t.exports=u},894:function(t,e,n){var r=n(240),a=n(336),i=n(895),o=n(896),u=n(161),c=n(897),s=n(154);t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[s],u(a));var f=i(t,function(t,n,a){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return o(f,function(t,e){return c(t,e,n)})}},895:function(t,e,n){var r=n(714),a=n(231);t.exports=function(t,e){var n=-1,i=a(t)?Array(t.length):[];return r(t,function(t,r,a){i[++n]=e(t,r,a)}),i}},896:function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},897:function(t,e,n){var r=n(898);t.exports=function(t,e,n){for(var a=-1,i=t.criteria,o=e.criteria,u=i.length,c=n.length;++a<u;){var s=r(i[a],o[a]);if(s)return a>=c?s:s*("desc"==n[a]?-1:1)}return t.index-e.index}},898:function(t,e,n){var r=n(103);t.exports=function(t,e){if(t!==e){var n=void 0!==t,a=null===t,i=t==t,o=r(t),u=void 0!==e,c=null===e,s=e==e,l=r(e);if(!c&&!l&&!o&&t>e||o&&u&&s&&!c&&!l||a&&u&&s||!n&&s||!i)return 1;if(!a&&!o&&!l&&t<e||l&&n&&i&&!a&&!o||c&&n&&i||!u&&i||!s)return-1}return 0}},899:function(t,e,n){var r=n(154),a=n(346),i=n(239);t.exports=function(t,e){return i(a(t,e,r),t+"")}},900:function(t,e,n){var r=n(160),a=n(231),i=n(159),o=n(51);t.exports=function(t,e,n){if(!o(n))return!1;var u=typeof e;return!!("number"==u?a(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},901:function(t,e,n){var r=n(902),a=n(154);t.exports=function(t){return t&&t.length?r(t,a):0}},902:function(t,e){t.exports=function(t,e){for(var n,r=-1,a=t.length;++r<a;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}},903:function(t,e,n){var r=n(904),a=n(905),i=n(154);t.exports=function(t){return t&&t.length?r(t,i,a):void 0}},904:function(t,e,n){var r=n(103);t.exports=function(t,e,n){for(var a=-1,i=t.length;++a<i;){var o=t[a],u=e(o);if(null!=u&&(void 0===c?u==u&&!r(u):n(u,c)))var c=u,s=o}return s}},905:function(t,e){t.exports=function(t,e){return t>e}},983:function(t,e,n){"use strict";n.r(e);var r,a=n(0),i=n.n(a),o=n(1),u=n.n(o),c=n(58),s=n(705),l=n.n(s),f=n(709),v=n.n(f),d=n(344),p=n.n(d),E=n(228),m=n.n(E),h=n(16),I=n(737),y=n(102),S=n(730),g=n(156),T=n(151);function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(t,e){var n=t.countryName,r=void 0===n?"":n,a=t.visitsCount,i=void 0===a?0:a,o=t.locations,u=void 0===o?[]:o,c=e.countryName,s=void 0===c?"":c,l=e.visitsCount,f=void 0===l?0:l,v=e.locations;return f-i||(void 0===v?[]:v).length-u.length||r.localeCompare(s)},R=function(t,e){var n=t.locationName,r=void 0===n?"":n,a=t.visitsCount,i=void 0===a?0:a,o=e.locationName,u=void 0===o?"":o,c=e.visitsCount;return(void 0===c?0:c)-i||r.localeCompare(u)},b=function(t){var e=t.countriesDict,n=t.isVisitsComplete,r=t.userVisits,o=(r=void 0===r?{}:r).data,u=void 0===o?[]:o,s=t.namedPaths.travel.locationPath;if(n&&!u.length)return i.a.createElement(S.a,null);var f=Object(a.useMemo)(function(){return Object.values(l()(u,p()("countryId"))).map(function(t){var n=t[0].countryId;return{countryId:n,countryName:(e[n]||{}).countryName,visitsCount:v()(t.map(p()("tripId"))).length,locations:Object.values(l()(t,p()("locationId"))).map(function(t){var e=t[0];return{locationId:e.locationId,locationName:e.locationName,visitsCount:v()(t.map(p()("tripId"))).length}}).sort(R)}}).sort(O)},[u,e]);return i.a.createElement("div",null,f.map(function(t,e){var n=t.countryId,r=t.countryName,a=t.locations,o=t.visitsCount;return i.a.createElement("div",{key:"id".concat(n)},i.a.createElement("h2",null,i.a.createElement("span",null,"".concat(e+1,". ")),i.a.createElement("span",null,r),o>1&&i.a.createElement("span",null," x".concat(o))),i.a.createElement("div",null,a.map(function(t,e){var n=t.locationId,r=t.locationName,a=t.visitsCount;return i.a.createElement("div",{key:"id".concat(n)},i.a.createElement("span",null,"".concat(e+1,". ")),i.a.createElement(c.b,{to:s.toUrl({strLocationId:String(n)})},r),a>1&&i.a.createElement("span",null," x".concat(a)))})))}))};b.propTypes={countriesDict:u.a.shape(g.default),isVisitsComplete:u.a.bool.isRequired,visits:u.a.shape({data:u.a.arrayOf(u.a.shape(T.default))})},b.defaultProps={countriesDict:{},visits:{data:[]}};e.default=m()(h.g,Object(I.b)({domain:"visitsPage",mapStateToProps:function(t){return{countriesDict:Object(y.d)(t,"countries"),isVisitsComplete:Object(y.e)(t,"visitsPage.visits")}},requirementsConfig:(r={},C(r,I.a.COMMON.COUNTRIES,!0),C(r,I.a.USER.TRIPS,!0),C(r,I.a.USER.VISITS,!0),r)}))(b)},984:function(t,e,n){"use strict";n.r(e);var r,a=n(0),i=n.n(a),o=n(705),u=n.n(o),c=n(1),s=n.n(c),l=n(737),f=n(102),v=n(730),d=n(152),p=n(761);function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=function(t,e){var n=m(t,2)[1];return m(e,2)[1].length-n.length},I=function(t){var e=t.isRidesComplete,n=t.userRides,r=(n=void 0===n?{}:n).data,a=void 0===r?[]:r;if(e&&!a.length)return i.a.createElement(v.a,null);var o=Object.entries(u()(a,"vehicleType")).sort(h);return i.a.createElement("div",null,o.map(function(t){var e,n,r=m(t,2),a=r[0],o=r[1];return i.a.createElement("div",{key:"id".concat(a)},i.a.createElement("span",null,(e=p.d[a],(n=o.length)&&1!==n?"".concat(e," x").concat(n):e)))}))};I.propTypes={isRidesComplete:s.a.bool.isRequired,rides:s.a.shape({data:s.a.arrayOf(s.a.shape(d.default))})},I.defaultProps={rides:{data:[]}};e.default=Object(l.b)({domain:"ridesPage",mapStateToProps:function(t){return{isRidesComplete:Object(f.e)(t,"ridesPage.rides")}},requirementsConfig:(r={},E(r,l.a.USER.TRIPS,!0),E(r,l.a.USER.RIDES,!0),r)})(I)}}]);
//# sourceMappingURL=travel-Countries-f6072a161432eb12657f.js.map