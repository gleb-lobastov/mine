(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1303:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(34),o=r(839),c=r(843),u=r(844),l=r(845),s=r(332),m=r.n(s),f=r(37),d=r(877),b=r(127),y=r(885),p=r(871),v=r(185),g=r(929);function h(e){var t=e.slug,r=Object(b.c)(),n=r.isAuthenticated,i=r.userId,o=Object(y.b)({slug:t,domain:"ArticleEditor"}).article,c=Object(f.d)(),u=c.literature,l=c.code,s=u||l;if(t&&!o)return a.a.createElement(v.a,{variant:"body"},"Статья еще не опубликована или недоступна для чтения");var m=o.body,h=o.title,O=o.userId,j=o.isDraft,E=n&&i===O;return!E&&j||!m?a.a.createElement(v.a,{variant:"body"},"Статья еще не опубликована или недоступна для чтения"):a.a.createElement(a.a.Fragment,null,a.a.createElement(v.a,{variant:"h6"},h),E&&a.a.createElement(d.a,{to:s.editArticle.toUrl({slug:t})},"Редактировать"),a.a.createElement(g.a,{data:Object(p.convertFromRaw)(m)}))}var O=Object(i.i)((function(e){var t=e.slug,n=function(e){switch(e){case"chaldini":return a.a.lazy((function(){return Promise.all([r.e(1),r.e(11)]).then(r.bind(null,1345))}));case"blackSwan":return a.a.lazy((function(){return Promise.all([r.e(1),r.e(8)]).then(r.bind(null,1346))}));case"importThis":return a.a.lazy((function(){return Promise.all([r.e(1),r.e(13)]).then(r.bind(null,1347))}));default:return h}}(t);return n?a.a.createElement(n,{slug:t}):a.a.createElement("div",null,"Статья не найдена")})),j=Object(o.a)({container:{display:"flex"},iconHome:{padding:"0 16px"},slugList:{flex:"0 1 350px"},loader:{margin:"12px"}});t.default=function(){var e=j(),t=Object(i.h)(),r=t.slug,n=t.tag,o=Object(b.c)(),s=o.isAuthenticated,p=o.userAlias,v=o.userId,g=Object(y.a)({userAlias:p}),h=g.articlesList,E=g.isReady,S=Object(f.d)(),w=S.literature,A=S.code,P=!n||"summary"===n,C=!n||"code"===n,x=w||A;return a.a.createElement(a.a.Fragment,null,!w&&a.a.createElement(d.a,{to:x.entry.toUrl(),className:e.iconHome},a.a.createElement(m.a,null)),a.a.createElement("div",{className:e.container},E?a.a.createElement(c.a,{component:"nav","aria-label":"articles",classes:{root:e.slugList}},P&&a.a.createElement(u.a,{button:!0,component:d.a,to:x.articles.toUrl({slug:"chaldini"})},a.a.createElement(l.a,{primary:"«Психология убеждения» Чалдини"})),P&&a.a.createElement(u.a,{button:!0,component:d.a,to:x.articles.toUrl({slug:"blackSwan"})},a.a.createElement(l.a,{primary:"«Черный лебедь» Талеба"})),C&&a.a.createElement(u.a,{button:!0,component:d.a,to:x.articles.toUrl({slug:"importThis"})},a.a.createElement(l.a,{primary:"19 принципов достижения дзена при написании компьютерных программ"})),h.map((function(e){var t=e.userId,r=e.isDraft,n=e.title,i=e.slug;if(r&&(!s||v!==t))return null;var o=r?"Черновик: ".concat(n):n;return(a.a.createElement(u.a,{button:!0,component:d.a,to:x.articles.toUrl({slug:i})},a.a.createElement(l.a,{primary:o})))})),s&&a.a.createElement(u.a,{button:!0,component:d.a,to:x.createArticle.toUrl({userAlias:p})},a.a.createElement(l.a,{primary:"Добавить статью"}))):a.a.createElement("div",{className:e.loader},"...Loading"),r&&a.a.createElement("div",null,a.a.createElement(O,{slug:r}))))}},1353:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return k}));var n=r(0),a=r.n(n),i=r(34),o=r(37),c=r(885),u=r(839),l=r(842),s=r(848),m=r(1333),f=r(1302),d=r(846),b=r(1248),y=r(847),p=r(855),v=r(185),g=r(929),h={"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"e","ж":"j","з":"z","и":"i","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"shch","ь":"","ы":"y","Ъ":"","э":"e","ю":"u","я":"ya"};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=Object(u.a)({articleBody:{marginTop:"12px"}});function S(e){var t=e.initialArticle,r=e.onSubmit,i=e.isSubmitting,o=E(),c=O(Object(n.useState)(!1),2),u=c[0],h=c[1],j=Object(n.useCallback)((function(){return h((function(e){return!e}))}),[]),S=!t,A=t||{},P=A.title,C=void 0===P?"Новая статья":P,x=A.isDraft,k=void 0===x||x,I=A.body,D=O(Object(n.useState)({}),2),T=D[0],U=T.slug,N=T.hasSlug,R=D[1],L=O(Object(n.useState)(C),2),F=L[0],M=L[1],z=O(Object(n.useState)(k),2),B=z[0],q=z[1],H=Object(g.d)(I),$=H.editorState,_=H.setEditorState;return a.a.createElement(l.a,{container:!0,spacing:3,alignItems:"center"},a.a.createElement(l.a,{item:!0,xs:4},a.a.createElement(d.a,null,a.a.createElement(p.a,{htmlFor:"component-simple"},"Название статьи"),a.a.createElement(y.a,{id:"component-simple",value:F,onChange:function(e){M(e.currentTarget.value),N||R({slug:w(e.currentTarget.value),hasSlug:!1})}}))),S&&a.a.createElement(l.a,{item:!0,xs:4},a.a.createElement(d.a,{fullWidth:!0},a.a.createElement(p.a,{htmlFor:"component-simple",shrink:Boolean(U)},"Slug"),a.a.createElement(y.a,{id:"component-simple",value:U,onChange:function(e){return R({slug:w(e.currentTarget.value),hasSlug:!0})}}))),a.a.createElement(l.a,{item:!0,xs:4},a.a.createElement(b.a,{control:a.a.createElement(f.a,{checked:B,onChange:function(e){return q(e.target.checked)}}),label:"Черновик"})),a.a.createElement(l.a,{item:!0,xs:4},i?a.a.createElement(v.a,{variant:"caption"},"Идет сохранение..."):a.a.createElement(s.a,{disabled:S&&!U,onClick:function(){return r({title:F,isDraft:B,body:Object(g.c)($),slug:S?U:void 0})}},"Сохранить")),a.a.createElement(l.a,{item:!0,xs:12},a.a.createElement(b.a,{className:o.toggleContainer,control:a.a.createElement(m.a,{name:"viewMode",checked:u,onChange:j}),label:"Режим просмотра"})),a.a.createElement(l.a,{item:!0,xs:12},a.a.createElement("div",{className:o.articleBody},a.a.createElement(v.a,{variant:"caption"},"Текст статьи"),u?a.a.createElement(g.a,{data:$.getCurrentContent()}):a.a.createElement(g.b,{editorState:$,setEditorState:_}))))}function w(e){return function(e){return Array.from(e).map((function(e){var t;return null!==(t=h[e])&&void 0!==t?t:e})).join("")}(e.toLowerCase().replace(/\s/g,"_").replace(/[^a-zа-я0-9]/g,""))}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t,r,n,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function k(e){var t=e.match.params.slug,r=Object(i.g)(),n=Object(o.d)(),u=n.literature,l=n.code,s=u||l,m=Object(c.b)({slug:t,domain:"ArticleEditor"}).article,f=Object(c.c)({domain:"ArticleEditor"}),d=f.submitArticle,b=f.isSubmitting;if(t&&!m)return null;var y=!m;return(a.a.createElement(S,{initialArticle:m,isSubmitting:b,onSubmit:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({query:{id:null==m?void 0:m.id,body:P(P({},m),t)}});case 2:y&&r.push(s.articles.toUrl({slug:null==t?void 0:t.slug}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){x(i,n,a,o,c,"next",e)}function c(e){x(i,n,a,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()}))}},877:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),a=r.n(n),i=r(90),o=r(849);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){return a.a.createElement(o.a,c({},e,{component:i.b}))}},885:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d}));var n=r(80),a=r(106),i=r(20);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){var e=Object(a.g)({domain:"articles",isProvision:!0,modelName:"articles",observe:!1,query:{navigation:{isDisabled:!0}}}),t=(Object(i.o)(e)||{}).data,r=void 0===t?[]:t,o=Object(n.c)((function(e){return Object(a.f)(e,"articles",r)}));return l(l({},e),{},{articlesList:o,isReady:Object(i.i)(e)})}function f(e){var t=e.slug,r=e.domain,i=Object(a.g)({domain:r,isProvision:!0,modelName:"articles",observe:t,condition:Boolean(t),query:{id:t}}),o=Object(n.c)((function(e){return Object(a.e)(e,"articles",t)}));return l(l({},i),{},{article:o})}function d(e){var t=e.domain,r=o(Object(a.h)({domain:t,modelName:"articles",method:"POST"}),2),n=r[0],i=r[1];return l(l({},i),{},{isSubmitting:![0,4].includes(i.readyState),submitArticle:n})}},929:function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return m})),r.d(t,"b",(function(){return f}));var n=r(0),a=r.n(n),i=r(871);r(1037);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){var t=o(Object(n.useState)((function(){return(t=e)?i.EditorState.createWithContent(Object(i.convertFromRaw)(t)):i.EditorState.createEmpty();var t})),2);return{editorState:t[0],setEditorState:t[1]}}var l=r(1049);function s(e){var t=e.data,r=Object(n.useMemo)((function(){return Object(l.a)(t)}),[t]);return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}})}function m(e){return Object(i.convertToRaw)(e.getCurrentContent())}function f(e){var t=e.editorState,r=e.setEditorState,o=Object(n.useCallback)((function(e){r(e)})),c=Object(n.useCallback)((function(e,t){var r=i.RichUtils.handleKeyCommand(t,e);return r?(o(r),"handled"):"not-handled"}),[o]);return a.a.createElement(i.Editor,{editorState:t,onChange:o,handleKeyCommand:c})}}}]);
//# sourceMappingURL=literature-Articles-ff9b4902ee5ced46e396.js.map