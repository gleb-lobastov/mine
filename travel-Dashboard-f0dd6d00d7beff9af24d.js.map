{"version":3,"sources":["webpack:///./node_modules/@material-ui/core/esm/Button/Button.js","webpack:///./src/packages/travel/pages/Dashboard/TravelDashboard.jsx","webpack:///./src/packages/travel/dataSource/useTrips.js","webpack:///./src/packages/travel/dataSource/useCountries.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/sum.js","webpack:///./src/packages/travel/dataSource/useUser.js","webpack:///./src/packages/travel/dataSource/useLocations.js","webpack:///./src/modules/components/Markdown/Markdown.jsx","webpack:///./node_modules/lodash/max.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/min.js","webpack:///./node_modules/lodash/_baseLt.js","webpack:///./node_modules/lodash/_baseSum.js"],"names":["_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","clsx__WEBPACK_IMPORTED_MODULE_4__","_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__","_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_6__","_ButtonBase__WEBPACK_IMPORTED_MODULE_7__","_utils_capitalize__WEBPACK_IMPORTED_MODULE_8__","Button","a","forwardRef","props","ref","children","classes","className","_props$color","color","_props$component","component","_props$disabled","disabled","_props$disableElevati","disableElevation","_props$disableFocusRi","disableFocusRipple","endIconProp","endIcon","focusVisibleClassName","_props$fullWidth","fullWidth","_props$size","size","startIconProp","startIcon","_props$type","type","_props$variant","variant","other","Object","createElement","concat","root","colorInherit","focusRipple","focusVisible","label","__webpack_exports__","theme","typography","button","boxSizing","minWidth","padding","borderRadius","shape","palette","text","primary","transition","transitions","create","duration","short","&:hover","textDecoration","backgroundColor","action","hoverOpacity","@media (hover: none)","&$disabled","width","display","alignItems","justifyContent","textPrimary","main","textSecondary","secondary","outlined","border","disabledBackground","outlinedPrimary","outlinedSecondary","contained","getContrastText","grey","boxShadow","shadows","A100","&$focusVisible","&:active","containedPrimary","contrastText","dark","containedSecondary","borderColor","textSizeSmall","fontSize","pxToRem","textSizeLarge","outlinedSizeSmall","outlinedSizeLarge","containedSizeSmall","containedSizeLarge","sizeSmall","sizeLarge","marginRight","marginLeft","&$iconSizeSmall","iconSizeSmall","& > *:first-child","iconSizeMedium","iconSizeLarge","name","r","d","TravelDashboard","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","modules_components_Markdown__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2__","modules_packages__WEBPACK_IMPORTED_MODULE_3__","travel_dataSource__WEBPACK_IMPORTED_MODULE_4__","visitsPaths","usePaths","travel","visits","_useTripsStats","useTripsStats","userAlias","countriesIds","locationsIds","isLoading","countriesCounter","length","locationsCounter","source","toUrl","target","rel","href","src","alt","_ref2","tripsProvision","_ref","useProvision","domain","isProvision","modelName","observe","query","navigation","isDisabled","useTrips","_useUser","useUser","_useUser$user","user","_useUser$user$locatio","locationsRating","userProvision","_objectWithoutProperties","_ref3$data","selectResult","data","tripsIds","_useSelector","useSelector","state","tripsDict","selectDict","visitsDict","ridesDict","countriesDict","locationsDict","visitsIds","Array","from","Set","flatMap","tripsId","_tripsDict$tripsId","ridesIds","_tripsDict$tripsId2","rides","visitId","_visitsDict$visitId","countryId","_visitsDict$visitId2","locationId","countriesProvision","useCountries","locationsProvision","useLocations","commonProvisionState","_len","arguments","provisions","_key","updatesCounter","sum","map","selectUpdatesCounter","isReady","every","selectIsReady","isPending","some","selectIsPending","isValid","selectIsValid","error","find","selectIsError","errors","selectError","filter","Boolean","mergeProvisionsState","isError","ridesStats","calcRidesStats","earliestDeparture","Date","min","rideId","_ridesDict$rideId","departureDateTime","getTime","latestArrival","max","_ridesDict$rideId2","arrivalDateTime","core_connection__WEBPACK_IMPORTED_MODULE_0__","core_connection_request_controllerRedux__WEBPACK_IMPORTED_MODULE_1__","provision","_ref$data","counters","isSymbol","module","exports","array","iteratee","comparator","index","value","current","undefined","computed","result","baseSum","identity","selectItem","_objectSpread","applicableSchemaName","condition","id","requiredLocationIds","missingLocationsIds","useLocationRatingRequest","_useRequest2","_slicedToArray","useRequest","method","submitLocationRating","renderers","link","startsWith","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","to","propTypes","PropTypes","string","isRequired","oneOfType","node","forwardedProps","react_markdown__WEBPACK_IMPORTED_MODULE_3___default","_extends","baseExtremum","baseGt","baseLt"],"mappings":"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","file":"travel-Dashboard-f0dd6d00d7beff9af24d.js","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      minWidth: 64,\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      color: theme.palette.text.primary,\n      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {\n        duration: theme.transitions.duration.short\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: fade(theme.palette.text.primary, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        '&$disabled': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    }),\n\n    /* Styles applied to the span element that wraps the children. */\n    label: {\n      width: '100%',\n      // Ensure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      padding: '6px 8px'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"primary\"`. */\n    textPrimary: {\n      color: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"secondary\"`. */\n    textSecondary: {\n      color: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"`. */\n    outlined: {\n      padding: '5px 15px',\n      border: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'),\n      '&$disabled': {\n        border: \"1px solid \".concat(theme.palette.action.disabledBackground)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"primary\"`. */\n    outlinedPrimary: {\n      color: theme.palette.primary.main,\n      border: \"1px solid \".concat(fade(theme.palette.primary.main, 0.5)),\n      '&:hover': {\n        border: \"1px solid \".concat(theme.palette.primary.main),\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    outlinedSecondary: {\n      color: theme.palette.secondary.main,\n      border: \"1px solid \".concat(fade(theme.palette.secondary.main, 0.5)),\n      '&:hover': {\n        border: \"1px solid \".concat(theme.palette.secondary.main),\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        border: \"1px solid \".concat(theme.palette.action.disabled)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"`. */\n    contained: {\n      color: theme.palette.getContrastText(theme.palette.grey[300]),\n      backgroundColor: theme.palette.grey[300],\n      boxShadow: theme.shadows[2],\n      '&:hover': {\n        backgroundColor: theme.palette.grey.A100,\n        boxShadow: theme.shadows[4],\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          boxShadow: theme.shadows[2],\n          backgroundColor: theme.palette.grey[300]\n        },\n        '&$disabled': {\n          backgroundColor: theme.palette.action.disabledBackground\n        }\n      },\n      '&$focusVisible': {\n        boxShadow: theme.shadows[6]\n      },\n      '&:active': {\n        boxShadow: theme.shadows[8]\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled,\n        boxShadow: theme.shadows[0],\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"` and `color=\"primary\"`. */\n    containedPrimary: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"` and `color=\"secondary\"`. */\n    containedSecondary: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `disableElevation={true}`. */\n    disableElevation: {\n      boxShadow: 'none',\n      '&:hover': {\n        boxShadow: 'none'\n      },\n      '&$focusVisible': {\n        boxShadow: 'none'\n      },\n      '&:active': {\n        boxShadow: 'none'\n      },\n      '&$disabled': {\n        boxShadow: 'none'\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit',\n      borderColor: 'currentColor'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"text\"`. */\n    textSizeSmall: {\n      padding: '4px 5px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"text\"`. */\n    textSizeLarge: {\n      padding: '8px 11px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"outlined\"`. */\n    outlinedSizeSmall: {\n      padding: '3px 9px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"outlined\"`. */\n    outlinedSizeLarge: {\n      padding: '7px 21px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"contained\"`. */\n    containedSizeSmall: {\n      padding: '4px 10px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"contained\"`. */\n    containedSizeLarge: {\n      padding: '8px 22px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {},\n\n    /* Styles applied to the root element if `size=\"large\"`. */\n    sizeLarge: {},\n\n    /* Styles applied to the root element if `fullWidth={true}`. */\n    fullWidth: {\n      width: '100%'\n    },\n\n    /* Styles applied to the startIcon element if supplied. */\n    startIcon: {\n      display: 'inherit',\n      marginRight: 8,\n      marginLeft: -4,\n      '&$iconSizeSmall': {\n        marginLeft: -2\n      }\n    },\n\n    /* Styles applied to the endIcon element if supplied. */\n    endIcon: {\n      display: 'inherit',\n      marginRight: -4,\n      marginLeft: 8,\n      '&$iconSizeSmall': {\n        marginRight: -2\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"small\"`. */\n    iconSizeSmall: {\n      '& > *:first-child': {\n        fontSize: 18\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"medium\"`. */\n    iconSizeMedium: {\n      '& > *:first-child': {\n        fontSize: 20\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"large\"`. */\n    iconSizeLarge: {\n      '& > *:first-child': {\n        fontSize: 22\n      }\n    }\n  };\n};\nvar Button = React.forwardRef(function Button(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableElevati = props.disableElevation,\n      disableElevation = _props$disableElevati === void 0 ? false : _props$disableElevati,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      endIconProp = props.endIcon,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      startIconProp = props.startIcon,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'button' : _props$type,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableElevation\", \"disableFocusRipple\", \"endIcon\", \"focusVisibleClassName\", \"fullWidth\", \"size\", \"startIcon\", \"type\", \"variant\"]);\n\n  var startIcon = startIconProp && React.createElement(\"span\", {\n    className: clsx(classes.startIcon, classes[\"iconSize\".concat(capitalize(size))])\n  }, startIconProp);\n  var endIcon = endIconProp && React.createElement(\"span\", {\n    className: clsx(classes.endIcon, classes[\"iconSize\".concat(capitalize(size))])\n  }, endIconProp);\n  return React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, classes[variant], className, color === 'inherit' ? classes.colorInherit : color !== 'default' && classes[\"\".concat(variant).concat(capitalize(color))], size !== 'medium' && [classes[\"\".concat(variant, \"Size\").concat(capitalize(size))], classes[\"size\".concat(capitalize(size))]], disableElevation && classes.disableElevation, disabled && classes.disabled, fullWidth && classes.fullWidth),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref,\n    type: type\n  }, other), React.createElement(\"span\", {\n    className: classes.label\n  }, startIcon, children, endIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? Button.propTypes = {\n  /**\n   * The content of the button.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, no elevation is used.\n   */\n  disableElevation: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   * `disableRipple` must also be true.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   *\n   * ⚠️ Without a ripple there is no styling for :focus-visible by default. Be sure\n   * to highlight the element by applying separate styles with the `focusVisibleClassName`.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * Element placed after the children.\n   */\n  endIcon: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * If `true`, the button will take up the full width of its container.\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * Element placed before the children.\n   */\n  startIcon: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  type: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['text', 'outlined', 'contained'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiButton'\n})(Button);","import React from 'react';\nimport Markdown from 'modules/components/Markdown';\nimport Button from '@material-ui/core/Button';\nimport { usePaths } from 'modules/packages';\nimport { useTripsStats } from 'travel/dataSource';\n\nexport default function TravelDashboard() {\n  const {\n    travel: { visits: visitsPaths },\n  } = usePaths();\n\n  const { countriesIds, locationsIds, isLoading } = useTripsStats({\n    userAlias: 'my',\n  });\n  const countriesCounter = isLoading ? '...' : countriesIds.length;\n  const locationsCounter = isLoading ? '...' : locationsIds.length;\n\n  return (\n    <div>\n      <Markdown\n        source={`\nСтатистика по моим путешествиям.\n\nВ идеале здесь будет красивая инфографика, рассказы и фотки про 250 стран и\nтерриторий. В реальности же я побывал только в\n[${countriesCounter} странах](${visitsPaths.toUrl()}) и \n[${locationsCounter} городах](${visitsPaths.toUrl()}),\nа раз так, то и на инфографику пока забил.\n  `}\n      />\n      <div>\n        <Button\n          component=\"a\"\n          target=\"_blank\"\n          rel=\"nofollow noreferrer noopener\"\n          href=\"https://lobastov.livejournal.com/tag/%D0%9F%D1%83%D1%82%D0%B5%D1%88%D0%B5%D1%81%D1%82%D0%B2%D0%B8%D0%B5\"\n        >\n          Про путешествия в ЖЖ\n        </Button>\n      </div>\n      <a\n        href=\"https://my.flightradar24.com/lobastov\"\n        target=\"_blank\"\n        rel=\"nofollow noreferrer noopener\"\n      >\n        <img\n          src=\"https://banners-my.flightradar24.com/lobastov.png\"\n          alt=\"My Flightdiary.net profile\"\n        />\n      </a>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport max from 'lodash/max';\nimport min from 'lodash/min';\nimport sum from 'lodash/sum';\nimport { useProvision, selectDict } from 'core/connection';\nimport {\n  selectResult,\n  selectIsPending,\n  selectIsReady,\n  selectIsError,\n  selectError,\n  selectIsValid,\n  selectUpdatesCounter,\n} from 'core/connection/request/controllerRedux';\nimport useUser from './useUser';\nimport useCountries from './useCountries';\nimport useLocations from './useLocations';\n\nexport default function useTrips({ userAlias }) {\n  return useProvision({\n    domain: `travel.trips-${userAlias}`,\n    isProvision: true,\n    modelName: 'trips',\n    observe: userAlias,\n    query: { userAlias, navigation: { isDisabled: true } },\n  });\n}\n\nexport function useTripsStats({ userAlias }) {\n  const tripsProvision = useTrips({ userAlias });\n  const { user: { locationsRating = {} } = {}, ...userProvision } = useUser({\n    domain: `travel.trips-${userAlias}.user`,\n    userAlias,\n  });\n\n  const { data: tripsIds = [] } = selectResult(tripsProvision) || {};\n\n  const {\n    tripsDict,\n    visitsDict,\n    ridesDict,\n    countriesDict,\n    locationsDict,\n  } = useSelector(state => ({\n    tripsDict: selectDict(state, 'trips') || {},\n    visitsDict: selectDict(state, 'visits') || {},\n    ridesDict: selectDict(state, 'rides') || {},\n    countriesDict: selectDict(state, 'countries') || {},\n    locationsDict: selectDict(state, 'locations') || {},\n  }));\n\n  const visitsIds = Array.from(\n    new Set(tripsIds.flatMap(tripsId => tripsDict[tripsId]?.visits || [])),\n  );\n\n  const ridesIds = Array.from(\n    new Set(tripsIds.flatMap(tripsId => tripsDict[tripsId]?.rides || [])),\n  );\n\n  const countriesIds = Array.from(\n    new Set(visitsIds.flatMap(visitId => visitsDict[visitId]?.countryId || [])),\n  );\n\n  const locationsIds = Array.from(\n    new Set(\n      visitsIds.flatMap(visitId => visitsDict[visitId]?.locationId || []),\n    ),\n  );\n\n  const countriesProvision = useCountries();\n  const locationsProvision = useLocations({\n    domain: `travel.locations-${userAlias}`,\n    locationsIds,\n  });\n\n  const commonProvisionState = mergeProvisionsState(\n    tripsProvision,\n    userProvision,\n    countriesProvision,\n    locationsProvision,\n  );\n\n  const { isError, isValid, isReady, isPending } = commonProvisionState;\n\n  return {\n    tripsProvision,\n    countriesProvision,\n    locationsProvision,\n\n    isError,\n    isValid,\n    isReady,\n    isPending,\n\n    tripsIds,\n    tripsDict,\n    visitsIds,\n    visitsDict,\n    ridesIds,\n    ridesDict,\n    ridesStats: calcRidesStats(ridesIds, ridesDict),\n    locationsIds,\n    locationsDict,\n    locationsRating,\n    countriesIds,\n    countriesDict,\n  };\n}\n\nfunction mergeProvisionsState(...provisions) {\n  return {\n    updatesCounter: sum(provisions.map(selectUpdatesCounter)),\n    isReady: provisions.every(selectIsReady),\n    isPending: provisions.some(selectIsPending),\n    isValid: provisions.every(selectIsValid),\n    error: provisions.find(selectIsError),\n    errors: provisions.map(selectError).filter(Boolean),\n  };\n}\n\nfunction calcRidesStats(ridesIds, ridesDict) {\n  return {\n    earliestDeparture: new Date(\n      min(\n        ridesIds.map(rideId => ridesDict[rideId]?.departureDateTime.getTime()),\n      ),\n    ),\n    latestArrival: new Date(\n      max(ridesIds.map(rideId => ridesDict[rideId]?.arrivalDateTime.getTime())),\n    ),\n  };\n}\n","import { useProvision } from 'core/connection';\nimport {\n  selectResult,\n  selectIsReady,\n  selectIsPending,\n  selectIsError,\n} from 'core/connection/request/controllerRedux';\n\nexport default function useCountries() {\n  const provision = useProvision({\n    domain: `travel.countries`,\n    isProvision: true,\n    modelName: 'countries',\n    query: { navigation: { isDisabled: true } },\n  });\n\n  const { data: countriesIds = [] } = selectResult(provision) || {};\n\n  return {\n    countriesIds,\n    isReady: selectIsReady(provision),\n    isLoading: selectIsPending(provision),\n    isError: selectIsError(provision),\n    counters: provision.counters,\n  };\n}\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","var baseSum = require('./_baseSum'),\n    identity = require('./identity');\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","import { useSelector } from 'react-redux';\nimport { useProvision, selectItem } from 'core/connection';\n\nexport default function useUser({ domain, userAlias }) {\n  const user = useSelector(state => selectItem(state, 'users', userAlias));\n  const provision = useProvision({\n    domain,\n    applicableSchemaName: 'item',\n    isProvision: true,\n    modelName: 'users',\n    observe: userAlias,\n    condition: Boolean(userAlias),\n    query: {\n      id: userAlias,\n    },\n  });\n  return { ...provision, user };\n}\n","import { useSelector } from 'react-redux';\nimport {\n  useProvision,\n  useRequest,\n  selectDict,\n} from 'core/connection';\nimport {\n  selectIsPending,\n  selectIsError,\n  selectIsReady,\n} from 'core/connection/request/controllerRedux';\n\nexport default function useLocations({\n  domain,\n  locationsIds: requiredLocationIds,\n}) {\n  const locationsDict = useSelector(\n    state => selectDict(state, 'locations') || {},\n  );\n\n  const missingLocationsIds = requiredLocationIds.filter(\n    locationId => !locationsDict[locationId],\n  );\n\n  const provision = useProvision({\n    domain,\n    isProvision: true,\n    modelName: 'locations',\n    observe: requiredLocationIds,\n    condition: Boolean(missingLocationsIds.length),\n    query: {\n      filter: { id: { comparator: 'in', value: missingLocationsIds } },\n      navigation: { isDisabled: true },\n    },\n  });\n\n  return {\n    locationsDict,\n    isReady: selectIsReady(provision),\n    isLoading: selectIsPending(provision),\n    isError: selectIsError(provision),\n    counters: provision.counters,\n  };\n}\n\nexport function useLocationRatingRequest({ domain }) {\n  const [submitLocationRating, provision] = useRequest({\n    domain,\n    modelName: 'locations',\n    method: 'POST',\n  });\n\n  return {\n    ...provision,\n    submitLocationRating,\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown';\n\nconst renderers = {\n  link: ({ href, children }) =>\n    href.startsWith && href.startsWith('/') ? (\n      <Link to={href}>{children}</Link>\n    ) : (\n      <a href={href}>{children}</a>\n    ),\n};\nrenderers.link.propTypes = {\n  href: PropTypes.string.isRequired,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.string]).isRequired,\n};\n\nexport default forwardedProps => (\n  <ReactMarkdown {...forwardedProps} renderers={renderers} />\n);\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nmodule.exports = min;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n"],"sourceRoot":""}