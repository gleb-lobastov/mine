(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{804:function(t,n,e){"use strict";var r=e(0),a=e.n(r),i=e(266),o=function(t){return function(n){var e=n.provision,r=(e=void 0===e?{}:e).isPending,o=void 0===r||r,u=e.hasFallback;return o&&!u?a.a.createElement(i.a,null):a.a.createElement(t,n)}},u=e(129);n.a=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){return function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){return n.reduceRight(function(t,n){return n(t)},t)}}(u.a.apply(void 0,n),o)(t)}}},805:function(t,n,e){var r=e(812),a=e(139);t.exports=function(t,n){return t&&r(t,n,a)}},807:function(t,n,e){var r=e(264),a=e(808),i=Object.prototype.hasOwnProperty,o=a(function(t,n,e){i.call(t,e)?t[e].push(n):r(t,e,[n])});t.exports=o},808:function(t,n,e){var r=e(809),a=e(810),i=e(380),o=e(29);t.exports=function(t,n){return function(e,u){var s=o(e)?r:a,c=n?n():{};return s(e,t,i(u,2),c)}}},809:function(t,n){t.exports=function(t,n,e,r){for(var a=-1,i=null==t?0:t.length;++a<i;){var o=t[a];n(r,o,e(o),t)}return r}},810:function(t,n,e){var r=e(811);t.exports=function(t,n,e,a){return r(t,function(t,r,i){n(a,t,e(t),i)}),a}},811:function(t,n,e){var r=e(805),a=e(814)(r);t.exports=a},812:function(t,n,e){var r=e(813)();t.exports=r},813:function(t,n){t.exports=function(t){return function(n,e,r){for(var a=-1,i=Object(n),o=r(n),u=o.length;u--;){var s=o[t?u:++a];if(!1===e(i[s],s,i))break}return n}}},814:function(t,n,e){var r=e(269);t.exports=function(t,n){return function(e,a){if(null==e)return e;if(!r(e))return t(e,a);for(var i=e.length,o=n?i:-1,u=Object(e);(n?o--:++o<i)&&!1!==a(u[o],o,u););return e}}},825:function(t,n,e){var r=e(826);t.exports=function(t){return t&&t.length?r(t):[]}},826:function(t,n,e){var r=e(385),a=e(383),i=e(827),o=e(386),u=e(828),s=e(381),c=200;t.exports=function(t,n,e){var l=-1,v=a,p=t.length,f=!0,d=[],m=d;if(e)f=!1,v=i;else if(p>=c){var h=n?null:u(t);if(h)return s(h);f=!1,v=o,m=new r}else m=n?[]:d;t:for(;++l<p;){var g=t[l],b=n?n(g):g;if(g=e||0!==g?g:0,f&&b==b){for(var y=m.length;y--;)if(m[y]===b)continue t;n&&m.push(b),d.push(g)}else v(m,b,e)||(m!==d&&m.push(b),d.push(g))}return d}},827:function(t,n){t.exports=function(t,n,e){for(var r=-1,a=null==t?0:t.length;++r<a;)if(e(n,t[r]))return!0;return!1}},828:function(t,n,e){var r=e(384),a=e(382),i=e(381),o=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:a;t.exports=o},829:function(t,n,e){"use strict";var r=e(0),a=e.n(r),i=e(2),o=e.n(i),u=e(41),s=e(267),c=e.n(s),l=e(118),v=e(28),p=e(116),f=function(t){var n=t.children,e=t.match.params.userAlias,i=t.namedPaths,o=(i=void 0===i?{}:i).travel,s=(o=void 0===o?{}:o).trips,c=Object(p.c)().userAlias;if(e!==c)return a.a.createElement("span",null,"Пользователь пока еще не внес информацию о своих поездках");var l=Object(r.useCallback)(function(){return a.a.createElement("div",null,a.a.createElement("span",null,"Нам пока ничего не известно о ваших путешествиях. Но очень интересно узнать. Создайте вашу первую поездку, а мы подготовим по ней отчет"),n)},[n]);return a.a.createElement(u.d,null,a.a.createElement(u.b,{path:s.toUrl({userAlias:c}),component:l}),a.a.createElement(u.a,{to:s.toUrl({userAlias:c})}))};f.propTypes={children:o.a.node,match:o.a.shape({params:o.a.shape({userAlias:o.a.string})}).isRequired,namedPaths:o.a.shape({travel:o.a.shape({trips:o.a.instanceOf(l.a)})}).isRequired},f.defaultProps={children:null},n.a=c()(u.g,v.f)(f)},972:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),i=e(807),o=e.n(i),u=e(825),s=e.n(u),c=e(388),l=e.n(c),v=e(2),p=e.n(v),f=e(804),d=e(129),m=e(829),h=e(247),g=e(177),b=function(t,n){var e=t.countryName,r=void 0===e?"":e,a=t.visitsCount,i=void 0===a?0:a,o=t.locations,u=void 0===o?[]:o,s=n.countryName,c=void 0===s?"":s,l=n.visitsCount,v=void 0===l?0:l,p=n.locations;return v-i||(void 0===p?[]:p).length-u.length||r.localeCompare(c)},y=function(t,n){var e=t.locationName,r=void 0===e?"":e,a=t.visitsCount,i=void 0===a?0:a,o=n.locationName,u=void 0===o?"":o,s=n.visitsCount;return(void 0===s?0:s)-i||r.localeCompare(u)},E=function(t){var n=t.countriesDict,e=t.isVisitsComplete,i=t.visits,u=(i=void 0===i?{}:i).data,c=void 0===u?[]:u;if(e&&!c.length)return a.a.createElement(m.a,null);var v=Object(r.useMemo)(function(){return Object.values(o()(c,l()("countryId"))).map(function(t){var e=t[0].countryId;return{countryId:e,countryName:(n[e]||{}).countryName,visitsCount:s()(t.map(l()("tripId"))).length,locations:Object.values(o()(t,l()("locationId"))).map(function(t){var n=t[0];return{locationId:n.locationId,locationName:n.locationName,visitsCount:s()(t.map(l()("tripId"))).length}}).sort(y)}}).sort(b)},[c,n]);return a.a.createElement("div",null,v.map(function(t,n){var e=t.countryId,r=t.countryName,i=t.locations,o=t.visitsCount;return a.a.createElement("div",{key:"id".concat(e)},a.a.createElement("h2",null,a.a.createElement("span",null,"".concat(n+1,". ")),a.a.createElement("span",null,r),o>1&&a.a.createElement("span",null," x".concat(o))),a.a.createElement("div",null,i.map(function(t,n){var e=t.locationId,r=t.locationName,i=t.visitsCount;return a.a.createElement("div",{key:"id".concat(e)},a.a.createElement("span",null,"".concat(n+1,". ")),a.a.createElement("span",null,r),i>1&&a.a.createElement("span",null," x".concat(i)))})))}))};E.propTypes={countriesDict:p.a.shape(h.default),isVisitsComplete:p.a.bool.isRequired,visits:p.a.shape({data:p.a.arrayOf(p.a.shape(g.default))})},E.defaultProps={countriesDict:{},visits:{data:[]}};n.default=Object(f.a)(function(t,n){var e=n.countriesDict,r=n.match.params.userAlias,a=(Object(d.e)(t,"visitsPage.trips")||{}).fallback,i=((void 0===a?{}:a)["visitsPage.trips"]||{}).data,o=void 0===i?[]:i;return{domain:"visitsPage",request:{countries:{isNoop:e&&Object.keys(e).length,modelName:"countries",query:{navigation:{isDisabled:!0}}},trips:{modelName:"trips",observe:r,query:{userAlias:r,navigation:{isDisabled:!0}}},visits:{modelName:"visits",observe:o,isNoop:!o||!o.length,query:{filter:{trip_id:{comparator:"in",value:o}},navigation:{isDisabled:!0}}}}}},function(t){return{countriesDict:Object(d.d)(t,"countries"),isVisitsComplete:Object(d.e)(t,"visitsPage.visits").isComplete}})(E)}}]);
//# sourceMappingURL=travel-Countries-3aabd6d75e652110c0f7.js.map