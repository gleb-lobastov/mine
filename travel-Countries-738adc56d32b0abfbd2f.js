(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{736:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(244),o=function(e){return function(t){var n=t.provision,r=(n=void 0===n?{}:n).isPending,o=void 0===r||r,u=n.hasFallback;return o&&!u?a.a.createElement(i.a,null):a.a.createElement(e,t)}},u=n(112);t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(u.a.apply(void 0,t),o)(e)}}},739:function(e,t,n){var r=n(243),a=n(748),i=Object.prototype.hasOwnProperty,o=a(function(e,t,n){i.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=o},741:function(e,t,n){var r=n(752),a=n(124);e.exports=function(e,t){return e&&r(e,t,a)}},744:function(e,t,n){var r=n(755);e.exports=function(e){return e&&e.length?r(e):[]}},748:function(e,t,n){var r=n(749),a=n(750),i=n(353),o=n(20);e.exports=function(e,t){return function(n,u){var s=o(n)?r:a,c=t?t():{};return s(n,e,i(u,2),c)}}},749:function(e,t){e.exports=function(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}},750:function(e,t,n){var r=n(751);e.exports=function(e,t,n,a){return r(e,function(e,r,i){t(a,e,n(e),i)}),a}},751:function(e,t,n){var r=n(741),a=n(754)(r);e.exports=a},752:function(e,t,n){var r=n(753)();e.exports=r},753:function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}},754:function(e,t,n){var r=n(246);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&!1!==a(u[o],o,u););return n}}},755:function(e,t,n){var r=n(359),a=n(357),i=n(756),o=n(360),u=n(757),s=n(352),c=200;e.exports=function(e,t,n){var l=-1,E=a,v=e.length,d=!0,f=[],p=f;if(n)d=!1,E=i;else if(v>=c){var m=t?null:u(e);if(m)return s(m);d=!1,E=o,p=new r}else p=t?[]:f;e:for(;++l<v;){var I=e[l],C=t?t(I):I;if(I=n||0!==I?I:0,d&&C==C){for(var T=p.length;T--;)if(p[T]===C)continue e;t&&p.push(C),f.push(I)}else E(p,C,n)||(p!==f&&p.push(C),f.push(I))}return f}},756:function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},757:function(e,t,n){var r=n(358),a=n(356),i=n(352),o=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},761:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),u=n(33),s=n(242),c=n.n(s),l=n(121),E=n(19),v=n(100),d=function(e){var t=e.children,n=e.match.params.userAlias,i=e.namedPaths,o=(i=void 0===i?{}:i).travel,s=(o=void 0===o?{}:o).trips,c=Object(v.c)().userAlias;if(n!==c)return a.a.createElement("span",null,"Пользователь пока еще не внес информацию о своих поездках");var l=Object(r.useCallback)(function(){return a.a.createElement("div",null,a.a.createElement("span",null,"Нам пока ничего не известно о ваших путешествиях. Но очень интересно узнать. Создайте вашу первую поездку, а мы подготовим по ней отчет"),t)},[t]);return a.a.createElement(u.d,null,a.a.createElement(u.b,{path:s.toUrl({userAlias:c}),component:l}),a.a.createElement(u.a,{to:s.toUrl({userAlias:c})}))};d.propTypes={children:o.a.node,match:o.a.shape({params:o.a.shape({userAlias:o.a.string})}).isRequired,namedPaths:o.a.shape({travel:o.a.shape({trips:o.a.instanceOf(l.a)})}).isRequired},d.defaultProps={children:null},t.a=c()(u.g,E.g)(d)},780:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return v});var r,a,i,o,u=n(68);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(s(r={},u.RIDE_CLASSES.ECONOMY,"Эконом"),s(r,u.RIDE_CLASSES.COMFORT,"Комфорт"),s(r,u.RIDE_CLASSES.BUSINESS,"Бизнес"),s(r,u.RIDE_CLASSES.FIRST,"Первый"),s(r,u.RIDE_CLASSES.PRIVATE,"Частный"),r),l=(s(a={},u.RIDE_OCCUPATION.PASSENGER,"Пассажир"),s(a,u.RIDE_OCCUPATION.STUFF,"Персонал"),s(a,u.RIDE_OCCUPATION.DRIVER,"Водитель"),a),E=(s(i={},u.RIDE_TYPES.SELF_DRIVE,"Самостоятельная поездка"),s(i,u.RIDE_TYPES.SCHEDULED,"Регулярный рейс"),s(i,u.RIDE_TYPES.CHARTER,"Чартерный рейс"),s(i,u.RIDE_TYPES.TOUR,"Тур"),s(i,u.RIDE_TYPES.CARPOOL,"Попутный автомобиль"),s(i,u.RIDE_TYPES.HITCH_HIKING,"Автостоп"),s(i,u.RIDE_TYPES.DROP_OFF,"Подбросили до места"),i),v=(s(o={},u.VEHICLE_TYPES.CAR,"Автомобиль"),s(o,u.VEHICLE_TYPES.TRAIN,"Поезд"),s(o,u.VEHICLE_TYPES.AIRCRAFT,"Самолет"),s(o,u.VEHICLE_TYPES.BUS,"Автобус"),s(o,u.VEHICLE_TYPES.MOTORHOME,"Дом на колесах"),s(o,u.VEHICLE_TYPES.LOCAL_TRAIN,"Электричка"),s(o,u.VEHICLE_TYPES.FERRY,"Паром"),s(o,u.VEHICLE_TYPES.BIKE,"Велосипед"),s(o,u.VEHICLE_TYPES.BY_FEET,"Пешком"),s(o,u.VEHICLE_TYPES.ROPEWAY,"Канатная дорога"),s(o,u.VEHICLE_TYPES.FUNICULAR,"Фуникулер"),s(o,u.VEHICLE_TYPES.MOTORBIKE,"Мотоцикл"),s(o,u.VEHICLE_TYPES.TRUCK,"Грузовик"),s(o,u.VEHICLE_TYPES.ALL_TERRAIN_VEHICLE,"Вездеход"),s(o,u.VEHICLE_TYPES.TRAM,"Трамвай"),s(o,u.VEHICLE_TYPES.TROLLEY,"Троллейбус"),s(o,u.VEHICLE_TYPES.TAXI,"Такси"),s(o,u.VEHICLE_TYPES.CITY_BUS,"Муниципальный автобус"),s(o,u.VEHICLE_TYPES.JITNEY,"Маршрутное такси"),s(o,u.VEHICLE_TYPES.SUBWAY,"Метро"),s(o,u.VEHICLE_TYPES.PUBLIC_TRANSPORT,"Общественный транспорт"),o)},992:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(739),o=n.n(i),u=n(744),s=n.n(u),c=n(362),l=n.n(c),E=n(1),v=n.n(E),d=n(736),f=n(112),p=n(761),m=n(226),I=n(161),C=function(e,t){var n=e.countryName,r=void 0===n?"":n,a=e.visitsCount,i=void 0===a?0:a,o=e.locations,u=void 0===o?[]:o,s=t.countryName,c=void 0===s?"":s,l=t.visitsCount,E=void 0===l?0:l,v=t.locations;return E-i||(void 0===v?[]:v).length-u.length||r.localeCompare(c)},T=function(e,t){var n=e.locationName,r=void 0===n?"":n,a=e.visitsCount,i=void 0===a?0:a,o=t.locationName,u=void 0===o?"":o,s=t.visitsCount;return(void 0===s?0:s)-i||r.localeCompare(u)},S=function(e){var t=e.countriesDict,n=e.isVisitsComplete,i=e.visits,u=(i=void 0===i?{}:i).data,c=void 0===u?[]:u;if(n&&!c.length)return a.a.createElement(p.a,null);var E=Object(r.useMemo)(function(){return Object.values(o()(c,l()("countryId"))).map(function(e){var n=e[0].countryId;return{countryId:n,countryName:(t[n]||{}).countryName,visitsCount:s()(e.map(l()("tripId"))).length,locations:Object.values(o()(e,l()("locationId"))).map(function(e){var t=e[0];return{locationId:t.locationId,locationName:t.locationName,visitsCount:s()(e.map(l()("tripId"))).length}}).sort(T)}}).sort(C)},[c,t]);return a.a.createElement("div",null,E.map(function(e,t){var n=e.countryId,r=e.countryName,i=e.locations,o=e.visitsCount;return a.a.createElement("div",{key:"id".concat(n)},a.a.createElement("h2",null,a.a.createElement("span",null,"".concat(t+1,". ")),a.a.createElement("span",null,r),o>1&&a.a.createElement("span",null," x".concat(o))),a.a.createElement("div",null,i.map(function(e,t){var n=e.locationId,r=e.locationName,i=e.visitsCount;return a.a.createElement("div",{key:"id".concat(n)},a.a.createElement("span",null,"".concat(t+1,". ")),a.a.createElement("span",null,r),i>1&&a.a.createElement("span",null," x".concat(i)))})))}))};S.propTypes={countriesDict:v.a.shape(m.default),isVisitsComplete:v.a.bool.isRequired,visits:v.a.shape({data:v.a.arrayOf(v.a.shape(I.default))})},S.defaultProps={countriesDict:{},visits:{data:[]}};t.default=Object(d.a)(function(e,t){var n=t.countriesDict,r=t.match.params.userAlias,a=(Object(f.e)(e,"visitsPage.trips")||{}).fallback,i=((void 0===a?{}:a)["visitsPage.trips"]||{}).data,o=void 0===i?[]:i;return{domain:"visitsPage",request:{countries:{isNoop:n&&Object.keys(n).length,modelName:"countries",query:{navigation:{isDisabled:!0}}},trips:{modelName:"trips",observe:r,query:{userAlias:r,navigation:{isDisabled:!0}}},visits:{modelName:"visits",observe:o,isNoop:!o||!o.length,query:{filter:{trip_id:{comparator:"in",value:o}},navigation:{isDisabled:!0}}}}}},function(e){return{countriesDict:Object(f.d)(e,"countries"),isVisitsComplete:Object(f.e)(e,"visitsPage.visits").isComplete}})(S)},993:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(739),o=n.n(i),u=n(1),s=n.n(u),c=n(736),l=n(112),E=n(761),v=n(160),d=n(780);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=function(e,t){var n=f(e,2)[1];return f(t,2)[1].length-n.length},m=function(e){var t=e.isRidesComplete,n=e.rides,r=(n=void 0===n?{}:n).data,i=void 0===r?[]:r;if(t&&!i.length)return a.a.createElement(E.a,null);var u=Object.entries(o()(i,"vehicleType")).sort(p);return a.a.createElement("div",null,u.map(function(e){var t,n,r=f(e,2),i=r[0],o=r[1];return a.a.createElement("div",{key:"id".concat(i)},a.a.createElement("span",null,(t=d.d[i],(n=o.length)&&1!==n?"".concat(t," x").concat(n):t)))}))};m.propTypes={isRidesComplete:s.a.bool.isRequired,rides:s.a.shape({data:s.a.arrayOf(s.a.shape(v.default))})},m.defaultProps={rides:{data:[]}};t.default=Object(c.a)(function(e,t){var n=t.match.params.userAlias,r=(Object(l.e)(e,"ridesPage.trips")||{}).fallback,a=((void 0===r?{}:r)["ridesPage.trips"]||{}).data,i=void 0===a?[]:a;return{domain:"ridesPage",request:{trips:{modelName:"trips",observe:n,query:{userAlias:n,navigation:{isDisabled:!0}}},rides:{modelName:"rides",observe:i,isNoop:!i||!i.length,query:{filter:{trip_id:{comparator:"in",value:i}},navigation:{isDisabled:!0}}}}}},function(e){return{isRidesComplete:Object(l.e)(e,"ridesPage.rides").isComplete}})(m)}}]);
//# sourceMappingURL=travel-Countries-738adc56d32b0abfbd2f.js.map