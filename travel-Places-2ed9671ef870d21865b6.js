(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1001:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));const r=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},i=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.round(12.92*t*255+.5):Math.round(255*(1.055*Math.pow(t,1/2.4)-.055)+.5)},a=(e,t)=>(e<0?-1:1)*Math.pow(Math.abs(e),t)},1002:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}}},1003:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],i=e=>{let t=0;for(let n=0;n<e.length;n++){const i=e[n];t=83*t+r.indexOf(i)}return t},a=(e,t)=>{var n="";for(let i=1;i<=t;i++){let a=Math.floor(e)/Math.pow(83,t-i)%83;n+=r[Math.floor(a)]}return n}},1025:function(e,t,n){"use strict";var r=n(7),i=n(223),a=n(109),o=n(65),l=n(31),s=n(530),u=n(38),c=l("toStringTag"),f=function(){i(this,s)};f.prototype=s,o(s,c)||a(s,c,"AsyncIterator"),!u&&o(s,"constructor")&&s.constructor!==Object||a(s,"constructor",f),r({global:!0,forced:u},{AsyncIterator:f})},1026:function(e,t,n){"use strict";var r=n(7),i=n(288).toArray;r({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this,void 0,[])}})},1027:function(e,t,n){"use strict";var r=n(7),i=n(52),a=n(13),o=[].push;r({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return i(a(this),o,{that:e,IS_ITERATOR:!0}),e}})},1030:function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));n(64),n(71),n(72),n(73),n(14),n(29),n(43),n(12),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(36),n(23),n(35),n(26),n(27),n(22),n(28),n(50),n(37),n(44),n(45),n(46),n(51),n(49);var r=n(0),i=n.n(r),a=n(826),o=n(115),l=n.n(o),s=n(1182),u=n.n(s),c=n(811),f=(n(89),n(105),n(1183)),d=n.n(f),p=["placeholder","children"];function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e){var t=e.placeholder,n=e.children,a=b(e,p),o=v(Object(r.useState)(!1),2),l=o[0],s=o[1],u=Object(r.useCallback)((function(){return s(!0)}),[]);return i.a.createElement(i.a.Fragment,null,!l&&t,i.a.createElement(d.a,h({},a,{onContentVisible:u}),n))}var g=n(1003),O=n(1001),E=n(1002);const T=e=>{if(!e||e.length<6)throw new E.a("The blurhash string must be at least 6 characters");const t=Object(g.a)(e[0]),n=Math.floor(t/9)+1,r=t%9+1;if(e.length!==4+2*r*n)throw new E.a(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*r*n}`)},I=e=>{const t=e>>16,n=e>>8&255,r=255&e;return[Object(O.b)(t),Object(O.b)(n),Object(O.b)(r)]},w=(e,t)=>{const n=Math.floor(e/361),r=Math.floor(e/19)%19,i=e%19;return[Object(O.c)((n-9)/9,2)*t,Object(O.c)((r-9)/9,2)*t,Object(O.c)((i-9)/9,2)*t]};var S,A=(e,t,n,r)=>{T(e),r|=1;const i=Object(g.a)(e[0]),a=Math.floor(i/9)+1,o=i%9+1,l=(Object(g.a)(e[1])+1)/166,s=new Array(o*a);for(let t=0;t<s.length;t++)if(0===t){const n=Object(g.a)(e.substring(2,6));s[t]=I(n)}else{const n=Object(g.a)(e.substring(4+2*t,6+2*t));s[t]=w(n,l*r)}const u=4*t,c=new Uint8ClampedArray(u*n);for(let e=0;e<n;e++)for(let r=0;r<t;r++){let i=0,l=0,f=0;for(let u=0;u<a;u++)for(let a=0;a<o;a++){const c=Math.cos(Math.PI*r*a/t)*Math.cos(Math.PI*e*u/n);let d=s[a+u*o];i+=d[0]*c,l+=d[1]*c,f+=d[2]*c}let d=Object(O.a)(i),p=Object(O.a)(l),h=Object(O.a)(f);c[4*r+0+e*u]=d,c[4*r+1+e*u]=p,c[4*r+2+e*u]=h,c[4*r+3+e*u]=255}return c},_=(S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.handleRef=function(e){t.canvas=e,t.draw()},t.draw=function(){var e=t.props,n=e.hash,r=e.height,i=e.punch,a=e.width;if(t.canvas){var o=A(n,a,r,i),l=t.canvas.getContext("2d"),s=l.createImageData(a,r);s.data.set(o),l.putImageData(s,0,0)}},t}return _(t,e),t.prototype.componentDidUpdate=function(){this.draw()},t.prototype.render=function(){var e=this.props,t=(e.hash,e.height),n=e.width,i=R(e,["hash","height","width"]);return r.createElement("canvas",j({},i,{height:t,width:n,ref:this.handleRef}))},t.defaultProps={height:128,width:128},t}(r.PureComponent),N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},D={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.componentDidUpdate=function(){if(this.props.resolutionX<=0)throw new Error("resolutionX must be larger than zero");if(this.props.resolutionY<=0)throw new Error("resolutionY must be larger than zero")},t.prototype.render=function(){var e=this.props,t=e.hash,n=e.height,i=e.width,a=e.punch,o=e.resolutionX,l=e.resolutionY,s=e.style,u=L(e,["hash","height","width","punch","resolutionX","resolutionY","style"]);return r.createElement("div",C({},u,{style:C(C({display:"inline-block",height:n,width:i},s),{position:"relative"})}),r.createElement(P,{hash:t,height:l,width:o,punch:a,style:D}))},t.defaultProps={height:128,width:128,resolutionX:32,resolutionY:32},t}(r.PureComponent),k=n(850),M=n.n(k),F=["aspectRatio","className","require","tag","src","alt","blurhash","constraints","height","width","onLoad","children"];function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var G="IDLE",U="LOADING",H="SUCCESS",W="ERROR",q=G;function $(e){var t,n=e.aspectRatio,a=e.className,o=e.require,l=e.tag,s=e.src,u=e.alt,c=e.blurhash,f=e.constraints,d=e.height,p=e.width,h=e.onLoad,v=e.children,m=Y(e,F),b=z(Object(r.useState)(q),2),y=b[0],g=b[1],O=Object(r.useCallback)((function(){g(W)}),[]),E=Object(r.useRef)(),T=Object(r.useCallback)((function(){g(H),h&&h({aspectRatio:E.current.naturalWidth/E.current.naturalHeight})}),[]);Object(r.useEffect)((function(){o&&y===G&&g(U)}),[o,y]);var I=y===H||y===W,w=function(e,t){var n=e.aspectRatio,r=e.height,i=e.width;if(!t)return{imageHeight:r||i/n,imageWidth:i||r*n};var a=M()([t.height,r]),o=M()([t.width,i]),l=z(a*n<o?[a*n,a]:[o,o/n],2),s=l[0];return{imageHeight:l[1],imageWidth:s}}({height:d,width:p,aspectRatio:n},f),S=w.imageWidth,A=w.imageHeight,_=z(Object(r.useState)(S),2),j=_[0],R=_[1];return Object(r.useLayoutEffect)((function(){R(E.current.getBoundingClientRect().width)}),[S]),i.a.createElement(i.a.Fragment,null,!I&&i.a.createElement(x,{hash:c,width:j,height:null!==(t=j/n)&&void 0!==t?t:A,resolutionX:32,resolutionY:32,punch:1}),y!==W?i.a.createElement("img",V({key:"ok","data-tag":l,ref:E,className:a,alt:u,src:K(s,y),style:{width:S,height:I?A:0,maxWidth:"100%"},onLoad:T,onError:O,loading:void 0},m)):i.a.createElement("img",{key:"error",alt:"error",className:a,src:"https://res.cloudinary.com/dc2eke0gj/image/upload/minetravel/common/img_placeholder.png",style:{width:S,height:A,maxWidth:"100%"}}),v)}function K(e,t){switch(t){case G:return null;default:return e}}var X=n(489),J=n(491),Z=n.n(J),Q=n(3),ee=n(5),te=n(8),ne=(n(2),n(56)),re=n(10),ie=r.forwardRef((function(e,t){var n=e.animation,i=void 0===n?"pulse":n,a=e.classes,o=e.className,l=e.component,s=void 0===l?"span":l,u=e.height,c=e.variant,f=void 0===c?"text":c,d=e.width,p=Object(ee.a)(e,["animation","classes","className","component","height","variant","width"]),h=Boolean(p.children);return r.createElement(s,Object(Q.a)({ref:t,className:Object(te.a)(a.root,a[f],o,h&&[a.withChildren,!d&&a.fitContent,!u&&a.heightAuto],!1!==i&&a[i])},p,{style:Object(Q.a)({width:d,height:u},p.style)}))})),ae=Object(re.a)((function(e){return{root:{display:"block",backgroundColor:Object(ne.c)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(ie),oe=Object(c.a)({container:{display:"flex"},imageSkeleton:{flexGrow:"1"},thumbsContainer:{overflow:"hidden"},thumbSkeleton:{margin:"0 5px 10px 5px"}});function le(e){var t=e.height,n=oe(),r=Math.ceil(t/40);return i.a.createElement("div",{className:n.container},i.a.createElement(ae,{variant:"rect",height:t,className:n.imageSkeleton}),i.a.createElement("div",{className:n.thumbsContainer,style:{height:t}},Z()(r).map((function(){return i.a.createElement(ae,{variant:"rect",height:60,width:100,className:n.thumbSkeleton})}))))}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pe=Object(c.a)({photoContainer:{minHeight:"200px",margin:"24px 0","& .image-gallery-thumbnails":{overflowY:"auto","-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},photo:{display:"block",width:"100%"}});function he(e){var t=e.className,n=e.photos,o=Object(r.useMemo)((function(){return Object(a.a)()}),[]),s=pe(),c=Object(X.b)(),f=c.vw,d=c.vh,p=fe(Object(r.useState)(!1),2),h=p[0],v=p[1],m=fe(Object(r.useState)({}),2),b=m[0],g=m[1],O=fe(Object(r.useState)(0),2),E=O[0],T=O[1],I=Object(r.useMemo)((function(){return function(e,t){var n=t.vh,r=t.vw,i=e?ve.FULLSCREEN:ve.DEFAULT,a=i.HEIGHT,o=i.WIDTH;return{height:l(a,n),width:l(o,r)};function l(e,t){return Math.min(e.PERCENT*t,e.MAX_PX)}}(h,{vh:d,vw:f})}),[h,d,f]);Object(r.useEffect)((function(){var e,t=null===(e=window.document.querySelector('[data-tag="photos-gallery-thumb-'.concat(o,"-").concat(E,'"]')))||void 0===e?void 0:e.closest(".image-gallery-thumbnail");t&&t.scrollIntoView({block:"nearest",behavior:"smooth"})}),[E]);var w=n.map((function(e,t){var n=e.fullSizePhotoUrl,r=e.thumbnailUrl,i=e.previewUrl,a=e.blurhash,o=e.aspectRatio,l=e.description;return{original:i,originalClass:s.photo,thumbnail:r,fullscreen:n,description:l,blurhash:a,aspectRatio:o,index:t}}));return w.length?i.a.createElement("div",{className:l()(t,s.photoContainer),style:{height:I.height}},i.a.createElement(y,{offset:1e3,placeholder:i.a.createElement(le,{height:I.height})},i.a.createElement(u.a,{startIndex:0,showIndex:!0,items:w,thumbnailPosition:"right",onScreenChange:function(e){return v(e)},onBeforeSlide:function(e){return T(e)},disableKeyDown:!0,disableThumbnailScroll:!0,renderItem:function(e){var t;return(i.a.createElement($,{className:"image-gallery-image",aspectRatio:b[e.index]||(null===(t=e.aspectRatio)||void 0===t?void 0:t.ratio)||1,description:e.description,src:h?e.fullscreen:e.original,alt:e.originalAlt,constraints:I,title:e.originalTitle,blurhash:e.blurhash,require:Math.abs(E-e.index)<=1},e.description&&i.a.createElement("span",{className:"image-gallery-description"},e.description)))},renderThumbInner:function(e){return i.a.createElement("span",{className:"image-gallery-thumbnail-inner"},i.a.createElement($,{tag:"photos-gallery-thumb-".concat(o,"-").concat(e.index),className:"image-gallery-thumbnail-image",aspectRatio:b[e.index]||e.aspectRatio||1,src:e.thumbnail,width:92,alt:e.thumbnailAlt,title:e.thumbnailTitle,blurhash:e.blurhash,require:!0,onLoad:function(t){var n=t.aspectRatio;return g((function(t){return ue(ue({},t),{},ce({},e.index,n))}))}}))}}))):null}var ve={FULLSCREEN:{HEIGHT:{PERCENT:100,MAX_PX:1/0},WIDTH:{PERCENT:100,MAX_PX:1/0}},DEFAULT:{HEIGHT:{PERCENT:50,MAX_PX:1024},WIDTH:{PERCENT:100,MAX_PX:1024}}}},1178:function(e,t,n){e.exports=n(1179)()},1179:function(e,t,n){"use strict";var r=n(1180);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},1180:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1181:function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}}])},1182:function(e,t,n){(function(t){var r;e.exports=(r=n(0),(()=>{var e={703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var l,s,u,c;if(Array.isArray(e)){if((l=e.length)!=o.length)return!1;for(s=l;0!=s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;for(c=e.entries();!(s=c.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((l=e.length)!=o.length)return!1;for(s=l;0!=s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((l=(u=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(o,u[s]))return!1;if(t&&e instanceof Element)return!1;for(s=l;0!=s--;)if(("_owner"!==u[s]&&"__v"!==u[s]&&"__o"!==u[s]||!e.$$typeof)&&!a(e[u[s]],o[u[s]]))return!1;return!0}return e!=e&&o!=o}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},37:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r="Left",i="Right",a="Down",o={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},l={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},s="mousemove",u="mouseup";function c(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function f(e,t){var o=function(t){t&&"touches"in t&&t.touches.length>1||e((function(e,r){r.trackMouse&&(document.addEventListener(s,f),document.addEventListener(u,p));var i="touches"in t?t.touches[0]:t,a=c([i.clientX,i.clientY],r.rotationAngle);return n({},e,l,{initial:[].concat(a),xy:a,start:t.timeStamp||0})}))},f=function(t){e((function(e,o){if("touches"in t&&t.touches.length>1)return e;var l="touches"in t?t.touches[0]:t,s=c([l.clientX,l.clientY],o.rotationAngle),u=s[0],f=s[1],d=u-e.xy[0],p=f-e.xy[1],h=Math.abs(d),v=Math.abs(p),m=(t.timeStamp||0)-e.start,b=Math.sqrt(h*h+v*v)/(m||1),y=[d/(m||1),p/(m||1)];if(h<o.delta&&v<o.delta&&!e.swiping)return e;var g=function(e,t,n,o){return e>t?n>0?i:r:o>0?a:"Up"}(h,v,d,p),O={absX:h,absY:v,deltaX:d,deltaY:p,dir:g,event:t,first:e.first,initial:e.initial,velocity:b,vxvy:y};o.onSwiping&&o.onSwiping(O);var E=!1;return(o.onSwiping||o.onSwiped||"onSwiped"+g in o)&&(E=!0),E&&o.preventDefaultTouchmoveEvent&&o.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:O,swiping:!0})}))},d=function(t){e((function(e,r){var i;if(e.swiping&&e.eventData){i=n({},e.eventData,{event:t}),r.onSwiped&&r.onSwiped(i);var a="onSwiped"+i.dir;a in r&&r[a](i)}else r.onTap&&r.onTap({event:t});return n({},e,l,{eventData:i})}))},p=function(e){document.removeEventListener(s,f),document.removeEventListener(u,p),d(e)},h=function(e,t){var n=function(){};if(e&&e.addEventListener){var r=[["touchstart",o],["touchmove",f],["touchend",d]];r.forEach((function(n){var r=n[0],i=n[1];return e.addEventListener(r,i,{passive:t})})),n=function(){return r.forEach((function(t){var n=t[0],r=t[1];return e.removeEventListener(n,r)}))}}return n},v={ref:function(t){null!==t&&e((function(e,r){if(e.el===t)return e;var i={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),i.cleanUpTouch=void 0),r.trackTouch&&t&&(i.cleanUpTouch=h(t,!r.preventDefaultTouchmoveEvent)),n({},e,{el:t},i)}))}};return t.trackMouse&&(v.onMouseDown=o),[v,h]}e.DOWN=a,e.LEFT=r,e.RIGHT=i,e.UP="Up",e.useSwipeable=function(e){var r=e.trackMouse,i=t.useRef(n({},l)),a=t.useRef(n({},o));a.current=n({},o,e);var s=t.useMemo((function(){return f((function(e){return i.current=e(i.current,a.current)}),{trackMouse:r})}),[r]),u=s[0],c=s[1];return i.current=function(e,t,r){var i={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),i.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(i.cleanUpTouch=r(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,i)}(i.current,a.current,c),u}}(t,n(888))},888:e=>{"use strict";e.exports=r}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function n(){for(var t,n,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(n=e(t))&&(i&&(i+=" "),i+=n);return i}i.r(a),i.d(a,{default:()=>je});var r=i(888),o=i.n(r);const l=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},s="object"==typeof t&&t&&t.Object===Object&&t;var u="object"==typeof self&&self&&self.Object===Object&&self;const c=s||u||Function("return this")(),f=function(){return c.Date.now()};var d=/\s/,p=/^\s+/;const h=c.Symbol;var v=Object.prototype,m=v.hasOwnProperty,b=v.toString,y=h?h.toStringTag:void 0,g=Object.prototype.toString,O=h?h.toStringTag:void 0,E=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,I=/^0o[0-7]+$/i,w=parseInt;const S=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?function(e){var t=m.call(e,y),n=e[y];try{e[y]=void 0;var r=!0}catch(e){}var i=b.call(e);return r&&(t?e[y]=n:delete e[y]),i}(e):function(e){return g.call(e)}(e)}(e)}(e))return NaN;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&d.test(e.charAt(t)););return t}(e)+1).replace(p,""):e}(e);var n=T.test(e);return n||I.test(e)?w(e.slice(2),n?2:8):E.test(e)?NaN:+e};var A=Math.max,_=Math.min;const j=function(e,t,n){var r,i,a,o,s,u,c=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function m(e){return c=e,s=setTimeout(y,t),d?v(e):o}function b(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-c>=a}function y(){var e=f();if(b(e))return g(e);s=setTimeout(y,function(e){var n=t-(e-u);return p?_(n,a-(e-c)):n}(e))}function g(e){return s=void 0,h&&r?v(e):(r=i=void 0,o)}function O(){var e=f(),n=b(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return m(u);if(p)return clearTimeout(s),s=setTimeout(y,t),v(u)}return void 0===s&&(s=setTimeout(y,t)),o}return t=S(t)||0,l(n)&&(d=!!n.leading,a=(p="maxWait"in n)?A(S(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),O.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},O.flush=function(){return void 0===s?o:g(f())},O},R=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return l(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),j(e,t,{leading:r,maxWait:t,trailing:i})};var P=i(590),N=i.n(P),C=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),L="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,D=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),x="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(D):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},k=["top","right","bottom","left","width","height","size","weight"],M="undefined"!=typeof MutationObserver,F=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function o(){x(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,20);i=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){L&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),M?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){L&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;k.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),V=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},z=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||D},B=H(0,0,0,0);function Y(e){return parseFloat(e)||0}function G(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Y(e["border-"+n+"-width"])}),0)}var U="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof z(e).SVGGraphicsElement}:function(e){return e instanceof z(e).SVGElement&&"function"==typeof e.getBBox};function H(e,t,n,r){return{x:e,y:t,width:n,height:r}}var W=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){return L?U(e)?function(e){var t=e.getBBox();return H(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return B;var r=z(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Y(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,l=Y(r.width),s=Y(r.height);if("border-box"===r.boxSizing&&(Math.round(l+a)!==t&&(l-=G(r,"left","right")+a),Math.round(s+o)!==n&&(s-=G(r,"top","bottom")+o)),!function(e){return e===z(e).document.documentElement}(e)){var u=Math.round(l+a)-t,c=Math.round(s+o)-n;1!==Math.abs(u)&&(l-=u),1!==Math.abs(c)&&(s-=c)}return H(i.left,i.top,l,s)}(e):B}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),q=function(e,t){var n,r,i,a,o,l,s,u=(r=(n=t).x,i=n.y,a=n.width,o=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(l.prototype),V(s,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),s);V(this,{target:e,contentRect:u})},$=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new C,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new W(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new q(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),K="undefined"!=typeof WeakMap?new WeakMap:new C,X=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=F.getInstance(),r=new $(t,n,this);K.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){X.prototype[e]=function(){var t;return(t=K.get(this))[e].apply(t,arguments)}}));const J=void 0!==D.ResizeObserver?D.ResizeObserver:X;var Z=i(37),Q=i(697),ee=o().memo((function(e){var t=e.description,n=e.fullscreen,r=e.handleImageLoaded,i=e.isFullscreen,a=e.onImageError,l=e.original,s=e.originalAlt,u=e.originalHeight,c=e.originalWidth,f=e.originalTitle,d=e.sizes,p=e.srcSet,h=i&&n||l;return o().createElement(o().Fragment,null,o().createElement("img",{className:"image-gallery-image",src:h,alt:s,srcSet:p,height:u,width:c,sizes:d,title:f,onLoad:function(e){return r(e,l)},onError:a}),t&&o().createElement("span",{className:"image-gallery-description"},t))}));ee.displayName="Item",ee.propTypes={description:Q.string,fullscreen:Q.string,handleImageLoaded:Q.func.isRequired,isFullscreen:Q.bool,onImageError:Q.func.isRequired,original:Q.string.isRequired,originalAlt:Q.string,originalHeight:Q.string,originalWidth:Q.string,originalTitle:Q.string,sizes:Q.string,srcSet:Q.string},ee.defaultProps={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:""};const te=ee;var ne={left:o().createElement("polyline",{points:"15 18 9 12 15 6"}),right:o().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:o().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:o().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:o().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:o().createElement(o().Fragment,null,o().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),o().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},re=function(e){var t=e.strokeWidth,n=e.viewBox,r=e.icon;return o().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:n,fill:"none",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"},ne[r])};re.propTypes={strokeWidth:Q.number,viewBox:Q.string,icon:(0,Q.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired},re.defaultProps={strokeWidth:1,viewBox:"0 0 24 24"};const ie=re;var ae=o().memo((function(e){var t=e.isFullscreen,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:n,"aria-label":"Open Fullscreen"},o().createElement(ie,{strokeWidth:2,icon:t?"minimize":"maximize"}))}));ae.displayName="Fullscreen",ae.propTypes={isFullscreen:Q.bool.isRequired,onClick:Q.func.isRequired};const oe=ae;var le=o().memo((function(e){var t=e.disabled,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:t,onClick:n,"aria-label":"Previous Slide"},o().createElement(ie,{icon:"left",viewBox:"6 0 12 24"}))}));le.displayName="LeftNav",le.propTypes={disabled:Q.bool.isRequired,onClick:Q.func.isRequired};const se=le;var ue=o().memo((function(e){var t=e.disabled,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:t,onClick:n,"aria-label":"Next Slide"},o().createElement(ie,{icon:"right",viewBox:"6 0 12 24"}))}));ue.displayName="RightNav",ue.propTypes={disabled:Q.bool.isRequired,onClick:Q.func.isRequired};const ce=ue;var fe=o().memo((function(e){var t=e.isPlaying,n=e.onClick;return o().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:n,"aria-label":"Play or Pause Slideshow"},o().createElement(ie,{strokeWidth:2,icon:t?"pause":"play"}))}));fe.displayName="PlayPause",fe.propTypes={isPlaying:Q.bool.isRequired,onClick:Q.func.isRequired};const de=fe;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var he=function(e){var t=e.children,n=e.className,r=e.delta,i=e.onSwiping,a=e.onSwiped,l=(0,Z.useSwipeable)({delta:r,onSwiping:i,onSwiped:a});return o().createElement("div",pe({},l,{className:n}),t)};he.propTypes={children:Q.node.isRequired,className:Q.string,delta:Q.number,onSwiped:Q.func,onSwiping:Q.func},he.defaultProps={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}};const ve=he;function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],Se=(0,Q.arrayOf)((0,Q.shape)({srcSet:Q.string,media:Q.string}));function Ae(e){var t=parseInt(e.keyCode||e.which||0,10);return 66===t||62===t}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(l,e);var t,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ie(r);if(i){var n=Ie(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ee(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(e.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},t.loadedImages={},t.imageGallery=o().createRef(),t.thumbnailsWrapper=o().createRef(),t.thumbnails=o().createRef(),t.imageGallerySlideWrapper=o().createRef(),t.handleImageLoaded=t.handleImageLoaded.bind(Te(t)),t.handleKeyDown=t.handleKeyDown.bind(Te(t)),t.handleMouseDown=t.handleMouseDown.bind(Te(t)),t.handleTouchMove=t.handleTouchMove.bind(Te(t)),t.handleOnSwiped=t.handleOnSwiped.bind(Te(t)),t.handleScreenChange=t.handleScreenChange.bind(Te(t)),t.handleSwiping=t.handleSwiping.bind(Te(t)),t.handleThumbnailSwiping=t.handleThumbnailSwiping.bind(Te(t)),t.handleOnThumbnailSwiped=t.handleOnThumbnailSwiped.bind(Te(t)),t.onThumbnailMouseLeave=t.onThumbnailMouseLeave.bind(Te(t)),t.handleImageError=t.handleImageError.bind(Te(t)),t.pauseOrPlay=t.pauseOrPlay.bind(Te(t)),t.renderThumbInner=t.renderThumbInner.bind(Te(t)),t.renderItem=t.renderItem.bind(Te(t)),t.slideLeft=t.slideLeft.bind(Te(t)),t.slideRight=t.slideRight.bind(Te(t)),t.toggleFullScreen=t.toggleFullScreen.bind(Te(t)),t.togglePlay=t.togglePlay.bind(Te(t)),t.unthrottledSlideToIndex=t.slideToIndex,t.slideToIndex=R(t.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(t.lazyLoaded=[]),t}return(t=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoPlay,n=e.useWindowKeyDown;t&&this.play(),n?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initResizeObserver(this.imageGallerySlideWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.items,i=n.lazyLoad,a=n.slideDuration,o=n.slideInterval,l=n.startIndex,s=n.thumbnailPosition,u=n.showThumbnails,c=n.useWindowKeyDown,f=this.state.currentIndex,d=e.items.length!==r.length,p=!N()(e.items,r),h=e.startIndex!==l,v=e.thumbnailPosition!==s,m=e.showThumbnails!==u;o===e.slideInterval&&a===e.slideDuration||(this.pause(),this.play()),v&&(this.removeResizeObserver(),this.initResizeObserver(this.imageGallerySlideWrapper)),(d||m)&&this.handleResize(),t.currentIndex!==f&&this.slideThumbnailBar(),e.slideDuration!==a&&(this.slideToIndex=R(this.unthrottledSlideToIndex,a,{trailing:!1})),!i||e.lazyLoad&&!p||(this.lazyLoaded=[]),c!==e.useWindowKeyDown&&(c?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(h||p)&&this.setState({currentIndex:l})}},{key:"componentWillUnmount",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var e=this,t=this.state,n=t.currentIndex,r=t.isTransitioning,i=this.props,a=i.onSlide,o=i.slideDuration;this.transitionTimer=window.setTimeout((function(){r&&(e.setState({isTransitioning:!r,isSwipingThumbnail:!1}),a&&a(n))}),o+50)}},{key:"onThumbnailClick",value:function(e,t){var n=this.props.onThumbnailClick;e.target.parentNode.parentNode.blur(),this.slideToIndex(t,e),n&&n(e,t)}},{key:"onThumbnailMouseOver",value:function(e,t){var n=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){n.slideToIndex(t),n.pause()}),300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:"setThumbsTranslate",value:function(e){this.setState({thumbsTranslate:e})}},{key:"setModalFullscreen",value:function(e){var t=this.props.onScreenChange;this.setState({modalFullscreen:e}),t&&t(e)}},{key:"getThumbsTranslate",value:function(e){var t,n=this.props,r=n.disableThumbnailScroll,i=n.items,a=this.state,o=a.thumbnailsWrapperWidth,l=a.thumbnailsWrapperHeight,s=this.thumbnails&&this.thumbnails.current;if(r)return 0;if(s){if(this.isThumbnailVertical()){if(s.scrollHeight<=l)return 0;t=s.scrollHeight-l}else{if(s.scrollWidth<=o||o<=0)return 0;t=s.scrollWidth-o}return e*(t/(i.length-1))}return 0}},{key:"getAlignmentClassName",value:function(e){var t=this.state.currentIndex,n=this.props,r=n.infinite,i=n.items,a="",o="left",l="right";switch(e){case t-1:a=" ".concat(o);break;case t:a=" ".concat("center");break;case t+1:a=" ".concat(l)}return i.length>=3&&r&&(0===e&&t===i.length-1?a=" ".concat(l):e===i.length-1&&0===t&&(a=" ".concat(o))),a}},{key:"getTranslateXForTwoSlide",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,i=t.previousIndex,a=n!==i,o=0===e&&0===i,l=1===e&&1===i,s=0===e&&1===n,u=1===e&&0===n,c=0===r,f=-100*n+100*e+r;return r>0?this.direction="left":r<0&&(this.direction="right"),u&&r>0&&(f=-100+r),s&&r<0&&(f=100+r),a?o&&c&&"left"===this.direction?f=100:l&&c&&"right"===this.direction&&(f=-100):(u&&c&&"left"===this.direction&&(f=-100),s&&c&&"right"===this.direction&&(f=100)),f}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,i=t.slideStyle,a=this.props,o=a.infinite,l=a.items,s=a.useTranslate3D,u=a.isRTL,c=-100*n,f=l.length-1,d=(c+100*e)*(u?-1:1)+r;o&&l.length>2&&(0===n&&e===f?d=-100*(u?-1:1)+r:n===f&&0===e&&(d=100*(u?-1:1)+r)),o&&2===l.length&&(d=this.getTranslateXForTwoSlide(e));var p="translate(".concat(d,"%, 0)");return s&&(p="translate3d(".concat(d,"%, 0, 0)")),ye({display:this.isSlideVisible(e)?"inherit":"none",WebkitTransform:p,MozTransform:p,msTransform:p,OTransform:p,transform:p},i)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var e,t=this.props,n=t.useTranslate3D,r=t.isRTL,i=this.state,a=i.thumbsTranslate,o=i.thumbsStyle,l=r?-1*a:a;return this.isThumbnailVertical()?(e="translate(0, ".concat(a,"px)"),n&&(e="translate3d(0, ".concat(a,"px, 0)"))):(e="translate(".concat(l,"px, 0)"),n&&(e="translate3d(".concat(l,"px, 0, 0)"))),ye({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},o)}},{key:"getSlideItems",value:function(){var e=this,t=this.state.currentIndex,r=this.props,i=r.items,a=r.slideOnThumbnailOver,l=r.onClick,s=r.lazyLoad,u=r.onTouchMove,c=r.onTouchEnd,f=r.onTouchStart,d=r.onMouseOver,p=r.onMouseLeave,h=r.renderItem,v=r.renderThumbInner,m=r.showThumbnails,b=r.showBullets,y=[],g=[],O=[];return i.forEach((function(r,i){var E=e.getAlignmentClassName(i),T=r.originalClass?" ".concat(r.originalClass):"",I=r.thumbnailClass?" ".concat(r.thumbnailClass):"",w=r.renderItem||h||e.renderItem,S=r.renderThumbInner||v||e.renderThumbInner,A=!s||E||e.lazyLoaded[i];A&&s&&!e.lazyLoaded[i]&&(e.lazyLoaded[i]=!0);var _=e.getSlideStyle(i),j=o().createElement("div",{"aria-label":"Go to Slide ".concat(i+1),key:"slide-".concat(i),tabIndex:"-1",className:"image-gallery-slide ".concat(E," ").concat(T),style:_,onClick:l,onKeyUp:e.handleSlideKeyUp,onTouchMove:u,onTouchEnd:c,onTouchStart:f,onMouseOver:d,onFocus:d,onMouseLeave:p,role:"button"},A?w(r):o().createElement("div",{style:{height:"100%"}}));if(y.push(j),m&&r.thumbnail){var R=n("image-gallery-thumbnail",I,{active:t===i});g.push(o().createElement("button",{key:"thumbnail-".concat(i),type:"button",tabIndex:"0","aria-pressed":t===i?"true":"false","aria-label":"Go to Slide ".concat(i+1),className:R,onMouseLeave:a?e.onThumbnailMouseLeave:null,onMouseOver:function(t){return e.handleThumbnailMouseOver(t,i)},onFocus:function(t){return e.handleThumbnailMouseOver(t,i)},onKeyUp:function(t){return e.handleThumbnailKeyUp(t,i)},onClick:function(t){return e.onThumbnailClick(t,i)}},S(r)))}if(b){var P=n("image-gallery-bullet",r.bulletClass,{active:t===i});O.push(o().createElement("button",{type:"button",key:"bullet-".concat(i),className:P,onClick:function(n){return r.bulletOnClick&&r.bulletOnClick({item:r,itemIndex:i,currentIndex:t}),n.target.blur(),e.slideToIndex.call(e,i,n)},"aria-pressed":t===i?"true":"false","aria-label":"Go to Slide ".concat(i+1)}))}})),{slides:y,thumbnails:g,bullets:O}}},{key:"ignoreIsTransitioning",value:function(){var e=this.props.items,t=this.state,n=t.previousIndex,r=t.currentIndex,i=e.length-1;return Math.abs(n-r)>1&&!(0===n&&r===i)&&!(n===i&&0===r)}},{key:"isFirstOrLastSlide",value:function(e){return e===this.props.items.length-1||0===e}},{key:"slideIsTransitioning",value:function(e){var t=this.state,n=t.isTransitioning,r=t.previousIndex,i=t.currentIndex;return n&&!(e===r||e===i)}},{key:"isSlideVisible",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:"slideThumbnailBar",value:function(){var e=this.state,t=e.currentIndex,n=e.isSwipingThumbnail,r=-this.getThumbsTranslate(t);n||(0===t?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:r,thumbsSwipedTranslate:r}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(e){var t=e.event,n=e.absX,r=e.dir,i=this.props,a=i.disableSwipe,o=i.stopPropagation,l=this.state,s=l.galleryWidth,u=l.isTransitioning,c=l.swipingUpDown,f=l.swipingLeftRight;if(r!==Z.UP&&r!==Z.DOWN&&!c||f){if(r!==Z.LEFT&&r!==Z.RIGHT||f||this.setState({swipingLeftRight:!0}),!a){var d=this.props.swipingTransitionDuration;if(o&&t.preventDefault(),u)this.setState({currentSlideOffset:0});else{var p=r===Z.RIGHT?1:-1,h=n/s*100;Math.abs(h)>=100&&(h=100);var v={transition:"transform ".concat(d,"ms ease-out")};this.setState({currentSlideOffset:p*h,slideStyle:v})}}}else c||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(e){var t=e.event,n=e.absX,r=e.absY,i=e.dir,a=this.props,o=a.stopPropagation,l=a.swipingThumbnailTransitionDuration,s=this.state,u=s.thumbsSwipedTranslate,c=s.thumbnailsWrapperHeight,f=s.thumbnailsWrapperWidth,d=s.swipingUpDown,p=s.swipingLeftRight;if(this.isThumbnailVertical()){if((i===Z.LEFT||i===Z.RIGHT||p)&&!d)return void(p||this.setState({swipingLeftRight:!0}));i!==Z.UP&&i!==Z.DOWN||d||this.setState({swipingUpDown:!0})}else{if((i===Z.UP||i===Z.DOWN||d)&&!p)return void(d||this.setState({swipingUpDown:!0}));i!==Z.LEFT&&i!==Z.RIGHT||p||this.setState({swipingLeftRight:!0})}var h,v,m,b,y,g=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(h=u+(i===Z.DOWN?r:-r),v=g.scrollHeight-c+20,m=Math.abs(h)>v,b=h>20,y=g.scrollHeight<=c):(h=u+(i===Z.RIGHT?n:-n),v=g.scrollWidth-f+20,m=Math.abs(h)>v,b=h>20,y=g.scrollWidth<=f),!y&&(i!==Z.LEFT&&i!==Z.UP||!m)&&(i!==Z.RIGHT&&i!==Z.DOWN||!b)){o&&t.stopPropagation();var O={transition:"transform ".concat(l,"ms ease-out")};this.setState({thumbsTranslate:h,thumbsStyle:O})}}},{key:"handleOnThumbnailSwiped",value:function(){var e=this.state.thumbsTranslate,t=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:"all ".concat(t,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var e=this.state.currentSlideOffset,t=this.props.swipeThreshold;return Math.abs(e)>t}},{key:"resetSwipingDirection",value:function(){var e=this.state,t=e.swipingUpDown,n=e.swipingLeftRight;t&&this.setState({swipingUpDown:!1}),n&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(e){var t=e.event,n=e.dir,r=e.velocity,i=this.props,a=i.disableSwipe,o=i.stopPropagation,l=i.flickThreshold;if(!a){var s=this.props.isRTL;o&&t.stopPropagation(),this.resetSwipingDirection();var u=(n===Z.LEFT?1:-1)*(s?-1:1),c=n===Z.UP||n===Z.DOWN,f=r>l&&!c;this.handleOnSwipedTo(u,f)}}},{key:"handleOnSwipedTo",value:function(e,t){var n=this.state,r=n.currentIndex,i=n.isTransitioning,a=r;!this.sufficientSwipe()&&!t||i||(a+=e),(-1===e&&!this.canSlideLeft()||1===e&&!this.canSlideRight())&&(a=r),this.unthrottledSlideToIndex(a)}},{key:"handleTouchMove",value:function(e){this.state.swipingLeftRight&&e.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.disableKeyDown,r=t.useBrowserFullscreen,i=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!n)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:i&&!r&&this.exitFullScreen()}}},{key:"handleImageError",value:function(e){var t=this.props.onErrorImageURL;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)}},{key:"removeResizeObserver",value:function(){this.resizeObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeObserver=null)}},{key:"handleResize",value:function(){var e=this.state.currentIndex;this.resizeObserver&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.isThumbnailVertical()?this.setState({thumbnailsWrapperHeight:this.thumbnailsWrapper.current.offsetHeight}):this.setState({thumbnailsWrapperWidth:this.thumbnailsWrapper.current.offsetWidth})),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:"initResizeObserver",value:function(e){var t=this;this.resizeObserver=new J(j((function(e){e&&e.forEach((function(){t.handleResize()}))}),300)),this.resizeObserver.observe(e.current)}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var e=this.props,t=e.onScreenChange,n=e.useBrowserFullscreen,r=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,i=this.imageGallery.current===r;t&&t(i),n&&this.setState({isFullscreen:i})}},{key:"slideToIndex",value:function(e,t){var n=this.state,r=n.currentIndex,i=n.isTransitioning,a=this.props,o=a.items,l=a.slideDuration,s=a.onBeforeSlide;if(!i){t&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var u=o.length-1,c=e;e<0?c=u:e>u&&(c=0),s&&c!==r&&s(c),this.setState({previousIndex:r,currentIndex:c,isTransitioning:c!==r,currentSlideOffset:0,slideStyle:{transition:"all ".concat(l,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"right":"left")}},{key:"slideRight",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"left":"right")}},{key:"slideTo",value:function(e,t){var n=this,r=this.state,i=r.currentIndex,a=r.currentSlideOffset,o=r.isTransitioning,l=this.props.items,s=i+("left"===t?-1:1);o||(2===l.length?this.setState({currentSlideOffset:a+("left"===t?.001:-.001),slideStyle:{transition:"none"}},(function(){window.setTimeout((function(){return n.slideToIndex(s,e)}),25)})):this.slideToIndex(s,e))}},{key:"handleThumbnailMouseOver",value:function(e,t){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,t)}},{key:"handleThumbnailKeyUp",value:function(e,t){Ae(e)&&this.onThumbnailClick(e,t)}},{key:"handleSlideKeyUp",value:function(e){Ae(e)&&(0,this.props.onClick)(e)}},{key:"isThumbnailVertical",value:function(){var e=this.props.thumbnailPosition;return"left"===e||"right"===e}},{key:"addScreenChangeEvent",value:function(){var e=this;we.forEach((function(t){document.addEventListener(t,e.handleScreenChange)}))}},{key:"removeScreenChangeEvent",value:function(){var e=this;we.forEach((function(t){document.removeEventListener(t,e.handleScreenChange)}))}},{key:"fullScreen",value:function(){var e=this.props.useBrowserFullscreen,t=this.imageGallery.current;e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var e=this.state.isFullscreen,t=this.props.useBrowserFullscreen;e&&(t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var e=this.props.infinite,t=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(t+1):this.pause()}},{key:"play",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.onPlay,r=t.slideInterval,i=t.slideDuration,a=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(r,i)),n&&e&&n(a))}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onPause,n=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),t&&e&&t(n))}},{key:"isImageLoaded",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:"handleImageLoaded",value:function(e,t){var n=this.props.onImageLoad;!this.loadedImages[t]&&n&&(this.loadedImages[t]=!0,n(e))}},{key:"renderItem",value:function(e){var t=this.state.isFullscreen,n=this.props.onImageError||this.handleImageError;return o().createElement(te,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:t,onImageError:n,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,srcSet:e.srcSet})}},{key:"renderThumbInner",value:function(e){var t=this.props.onThumbnailError||this.handleImageError;return o().createElement("span",{className:"image-gallery-thumbnail-inner"},o().createElement("img",{className:"image-gallery-thumbnail-image",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,onError:t}),e.thumbnailLabel&&o().createElement("div",{className:"image-gallery-thumbnail-label"},e.thumbnailLabel))}},{key:"render",value:function(){var e=this.state,t=e.currentIndex,r=e.isFullscreen,i=e.modalFullscreen,a=e.isPlaying,l=this.props,s=l.additionalClass,u=l.disableThumbnailSwipe,c=l.indexSeparator,f=l.isRTL,d=l.items,p=l.thumbnailPosition,h=l.renderFullscreenButton,v=l.renderCustomControls,m=l.renderLeftNav,b=l.renderRightNav,y=l.showBullets,g=l.showFullscreenButton,O=l.showIndex,E=l.showThumbnails,T=l.showNav,I=l.showPlayButton,w=l.renderPlayPauseButton,S=this.getThumbnailStyle(),A=this.getSlideItems(),_=A.slides,j=A.thumbnails,R=A.bullets,P=n("image-gallery-slide-wrapper",p,{"image-gallery-rtl":f}),N=o().createElement("div",{ref:this.imageGallerySlideWrapper,className:P},v&&v(),this.canSlide()?o().createElement(o().Fragment,null,T&&o().createElement(o().Fragment,null,m(this.slideLeft,!this.canSlideLeft()),b(this.slideRight,!this.canSlideRight())),o().createElement(ve,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},o().createElement("div",{className:"image-gallery-slides"},_))):o().createElement("div",{className:"image-gallery-slides"},_),I&&w(this.togglePlay,a),y&&o().createElement("div",{className:"image-gallery-bullets"},o().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},R)),g&&h(this.toggleFullScreen,r),O&&o().createElement("div",{className:"image-gallery-index"},o().createElement("span",{className:"image-gallery-index-current"},t+1),o().createElement("span",{className:"image-gallery-index-separator"},c),o().createElement("span",{className:"image-gallery-index-total"},d.length))),C=n("image-gallery",s,{"fullscreen-modal":i}),L=n("image-gallery-content",p,{fullscreen:r}),D=n("image-gallery-thumbnails-wrapper",p,{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&f},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!u},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!u});return o().createElement("div",{ref:this.imageGallery,className:C,"aria-live":"polite"},o().createElement("div",{className:L},("bottom"===p||"right"===p)&&N,E&&j.length>0?o().createElement(ve,{className:D,delta:0,onSwiping:!u&&this.handleThumbnailSwiping,onSwiped:!u&&this.handleOnThumbnailSwiped},o().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},o().createElement("div",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:S,"aria-label":"Thumbnail Navigation"},j))):null,("top"===p||"left"===p)&&N))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(l.prototype,t),l}(o().Component);_e.propTypes={flickThreshold:Q.number,items:(0,Q.arrayOf)((0,Q.shape)({bulletClass:Q.string,bulletOnClick:Q.func,description:Q.string,original:Q.string,originalHeight:Q.number,originalWidth:Q.number,thumbnailHeight:Q.number,thumbnailWidth:Q.number,fullscreen:Q.string,originalAlt:Q.string,originalTitle:Q.string,thumbnail:Q.string,thumbnailAlt:Q.string,thumbnailLabel:Q.string,thumbnailTitle:Q.string,originalClass:Q.string,thumbnailClass:Q.string,renderItem:Q.func,renderThumbInner:Q.func,imageSet:Se,srcSet:Q.string,sizes:Q.string})).isRequired,showNav:Q.bool,autoPlay:Q.bool,lazyLoad:Q.bool,infinite:Q.bool,showIndex:Q.bool,showBullets:Q.bool,showThumbnails:Q.bool,showPlayButton:Q.bool,showFullscreenButton:Q.bool,disableThumbnailScroll:Q.bool,disableKeyDown:Q.bool,disableSwipe:Q.bool,disableThumbnailSwipe:Q.bool,useBrowserFullscreen:Q.bool,onErrorImageURL:Q.string,indexSeparator:Q.string,thumbnailPosition:(0,Q.oneOf)(["top","bottom","left","right"]),startIndex:Q.number,slideDuration:Q.number,slideInterval:Q.number,slideOnThumbnailOver:Q.bool,swipeThreshold:Q.number,swipingTransitionDuration:Q.number,swipingThumbnailTransitionDuration:Q.number,onSlide:Q.func,onBeforeSlide:Q.func,onScreenChange:Q.func,onPause:Q.func,onPlay:Q.func,onClick:Q.func,onImageLoad:Q.func,onImageError:Q.func,onTouchMove:Q.func,onTouchEnd:Q.func,onTouchStart:Q.func,onMouseOver:Q.func,onMouseLeave:Q.func,onThumbnailError:Q.func,onThumbnailClick:Q.func,renderCustomControls:Q.func,renderLeftNav:Q.func,renderRightNav:Q.func,renderPlayPauseButton:Q.func,renderFullscreenButton:Q.func,renderItem:Q.func,renderThumbInner:Q.func,stopPropagation:Q.bool,additionalClass:Q.string,useTranslate3D:Q.bool,isRTL:Q.bool,useWindowKeyDown:Q.bool},_e.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(e,t){return o().createElement(se,{onClick:e,disabled:t})},renderRightNav:function(e,t){return o().createElement(ce,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return o().createElement(de,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return o().createElement(oe,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};const je=_e})(),a})())}).call(this,n(137))},1183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=p(i),o=p(n(2)),l=n(39),s=n(1184),u=p(n(1185)),c=p(n(1186)),f=p(n(1187)),d=p(n(1188));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.lazyLoadHandler=n.lazyLoadHandler.bind(n),e.throttle>0&&(e.debounce?n.lazyLoadHandler=(0,u.default)(n.lazyLoadHandler,e.throttle):n.lazyLoadHandler=(0,c.default)(n.lazyLoadHandler,e.throttle)),n.state={visible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this._mounted=!0;var e=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,s.add)(window,"resize",this.lazyLoadHandler),(0,s.add)(e,"scroll",this.lazyLoadHandler),e!==window&&(0,s.add)(window,"scroll",this.lazyLoadHandler)}},{key:"componentWillReceiveProps",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(e,t){return t.visible}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return(0,f.default)((0,l.findDOMNode)(this))}},{key:"getOffset",value:function(){var e=this.props,t=e.offset,n=e.offsetVertical,r=e.offsetHorizontal,i=e.offsetTop,a=e.offsetBottom,o=e.offsetLeft,l=e.offsetRight,s=e.threshold||t,u=n||s,c=r||s;return{top:i||u,bottom:a||u,left:o||c,right:l||c}}},{key:"lazyLoadHandler",value:function(){if(this._mounted){var e=this.getOffset(),t=(0,l.findDOMNode)(this),n=this.getEventNode();if((0,d.default)(t,n,e)){var r=this.props.onContentVisible;this.setState({visible:!0},(function(){r&&r()})),this.detachListeners()}}}},{key:"detachListeners",value:function(){var e=this.getEventNode();(0,s.remove)(window,"resize",this.lazyLoadHandler),(0,s.remove)(e,"scroll",this.lazyLoadHandler),e!==window&&(0,s.remove)(window,"scroll",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.height,o=e.width,l=this.state.visible,s={height:r,width:o},u="LazyLoad"+(l?" is-visible":"")+(n?" "+n:"");return a.default.createElement(this.props.elementType,{className:u,style:s},l&&i.Children.only(t))}}]),t}(i.Component);t.default=h,h.propTypes={children:o.default.node.isRequired,className:o.default.string,debounce:o.default.bool,elementType:o.default.string,height:o.default.oneOfType([o.default.string,o.default.number]),offset:o.default.number,offsetBottom:o.default.number,offsetHorizontal:o.default.number,offsetLeft:o.default.number,offsetRight:o.default.number,offsetTop:o.default.number,offsetVertical:o.default.number,threshold:o.default.number,throttle:o.default.number,width:o.default.oneOfType([o.default.string,o.default.number]),onContentVisible:o.default.func},h.defaultProps={elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250}},1184:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){function e(e,t){return function(n,r,i,a){n[e]?n[e](r,i,a):n[t]&&n[t]("on"+r,i)}}return{add:e("addEventListener","attachEvent"),remove:e("removeEventListener","detachEvent")}})?r.call(t,n,t,e):r)||(e.exports=i)},1185:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=l||s||Function("return this")(),c=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return u.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var l=i.test(e);return l||a.test(e)?o(e.slice(2),l?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,l,s,u=0,c=!1,m=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function g(e){return u=e,l=setTimeout(E,t),c?y(e):o}function O(e){var n=e-s;return void 0===s||n>=t||n<0||m&&e-u>=a}function E(){var e=p();if(O(e))return T(e);l=setTimeout(E,function(e){var n=t-(e-s);return m?d(n,a-(e-u)):n}(e))}function T(e){return l=void 0,b&&r?y(e):(r=i=void 0,o)}function I(){var e=p(),n=O(e);if(r=arguments,i=this,s=e,n){if(void 0===l)return g(s);if(m)return l=setTimeout(E,t),y(s)}return void 0===l&&(l=setTimeout(E,t)),o}return t=v(t)||0,h(n)&&(c=!!n.leading,a=(m="maxWait"in n)?f(v(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b),I.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=i=l=void 0},I.flush=function(){return void 0===l?o:T(p())},I}}).call(this,n(137))},1186:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=l||s||Function("return this")(),c=Object.prototype.toString,f=Math.max,d=Math.min,p=function(){return u.Date.now()};function h(e,t,n){var r,i,a,o,l,s,u=0,c=!1,h=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function g(e){return u=e,l=setTimeout(E,t),c?y(e):o}function O(e){var n=e-s;return void 0===s||n>=t||n<0||h&&e-u>=a}function E(){var e=p();if(O(e))return T(e);l=setTimeout(E,function(e){var n=t-(e-s);return h?d(n,a-(e-u)):n}(e))}function T(e){return l=void 0,b&&r?y(e):(r=i=void 0,o)}function I(){var e=p(),n=O(e);if(r=arguments,i=this,s=e,n){if(void 0===l)return g(s);if(h)return l=setTimeout(E,t),y(s)}return void 0===l&&(l=setTimeout(E,t)),o}return t=m(t)||0,v(n)&&(c=!!n.leading,a=(h="maxWait"in n)?f(m(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b),I.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=i=l=void 0},I.flush=function(){return void 0===l?o:T(p())},I}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var l=i.test(e);return l||a.test(e)?o(e.slice(2),l?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return v(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),h(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(137))},1187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},i=function(e){return r(e,"overflow")+r(e,"overflow-y")+r(e,"overflow-x")};t.default=function(e){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(i(t)))return t;t=t.parentNode}return window}},1188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,r){if(function(e){return null===e.offsetParent}(t))return!1;var i=void 0,o=void 0,l=void 0,s=void 0;if(void 0===n||n===window)i=window.pageYOffset,l=window.pageXOffset,o=i+window.innerHeight,s=l+window.innerWidth;else{if(!e(n,window,r))return!1;var u=(0,a.default)(n);i=u.top,l=u.left,o=i+n.offsetHeight,s=l+n.offsetWidth}var c=(0,a.default)(t);return i<=c.top+t.offsetHeight+r.top&&o>=c.top-r.bottom&&l<=c.left+t.offsetWidth+r.left&&s>=c.left-r.right};var r,i=n(1189),a=(r=i)&&r.__esModule?r:{default:r}},1189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}},1190:function(e,t,n){"use strict";var r=n(7),i=n(1191),a=n(542),o=n(287);r({target:"Array",proto:!0},{groupBy:function(e){var t=arguments.length>1?arguments[1]:void 0;return i(this,e,t,a)}}),o("groupBy")},1191:function(e,t,n){var r=n(9),i=n(84),a=n(16),o=n(191),l=n(90),s=n(228),u=n(138),c=n(91),f=n(1192),d=r.Array,p=a([].push);e.exports=function(e,t,n,r){for(var a,h,v,m=l(e),b=o(m),y=i(t,n),g=c(null),O=u(b),E=0;O>E;E++)v=b[E],(h=s(y(v,E,m)))in g?p(g[h],v):g[h]=[v];if(r&&(a=r(m))!==d)for(h in g)g[h]=f(a,g[h]);return g}},1192:function(e,t){e.exports=function(e,t){for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i}},1193:function(e,t,n){"use strict";var r=n(7),i=n(1194);r({target:"String",proto:!0,forced:n(1195)("link")},{link:function(e){return i(this,"a","href",e)}})},1194:function(e,t,n){var r=n(16),i=n(108),a=n(77),o=/"/g,l=r("".replace);e.exports=function(e,t,n,r){var s=a(i(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+l(a(r),o,"&quot;")+'"'),u+">"+s+"</"+t+">"}},1195:function(e,t,n){var r=n(21);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},1196:function(e,t,n){var r=n(1197),i=n(396);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},1197:function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},1203:function(e,t,n){var r=n(139),i=n(1004);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1204:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Event");t.default=o},1205:function(e,t,n){var r=n(903),i=n(139),a=n(989);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},1206:function(e,t,n){var r=n(903),i=n(988),a=n(139);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},1207:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag");t.default=o},1208:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Place");t.default=o},1209:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"Timelapse");t.default=o},1210:function(e,t,n){"use strict";var r=n(102),i=n(103);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(0)),o=(0,r(n(104)).default)(a.createElement("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z"}),"FiberNew");t.default=o},1211:function(e,t,n){var r=n(558),i=n(57);e.exports=function(e,t,n,a){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=a?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},1277:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Re}));n(24),n(222),n(869),n(12),n(106),n(529);var r=n(0),i=n.n(r),a=n(156),o=n(871),l=n(904),s=(n(533),n(17),n(20),n(18),n(71),n(72),n(73),n(355),n(64),n(43),n(947),n(916),n(14),n(29),n(30),n(40),n(42),n(41),n(36),n(23),n(105),n(115)),u=n.n(s),c=n(1003),f=n(1001),d=n(1002);const p=(e,t,n,r)=>{let i=0,a=0,o=0;const l=4*t;for(let s=0;s<t;s++)for(let t=0;t<n;t++){const n=r(s,t);i+=n*Object(f.b)(e[4*s+0+t*l]),a+=n*Object(f.b)(e[4*s+1+t*l]),o+=n*Object(f.b)(e[4*s+2+t*l])}let s=1/(t*n);return[i*s,a*s,o*s]};var h=(e,t,n,r,i)=>{if(r<1||r>9||i<1||i>9)throw new d.a("BlurHash must have between 1 and 9 components");if(t*n*4!==e.length)throw new d.a("Width and height must match the pixels array");let a=[];for(let o=0;o<i;o++)for(let i=0;i<r;i++){const r=0==i&&0==o?1:2,l=p(e,t,n,(e,a)=>r*Math.cos(Math.PI*i*e/t)*Math.cos(Math.PI*o*a/n));a.push(l)}const o=a[0],l=a.slice(1);let s,u="",h=r-1+9*(i-1);if(u+=Object(c.b)(h,1),l.length>0){let e=Math.max(...l.map(e=>Math.max(...e))),t=Math.floor(Math.max(0,Math.min(82,Math.floor(166*e-.5))));s=(t+1)/166,u+=Object(c.b)(t,1)}else s=1,u+=Object(c.b)(0,1);var v;return u+=Object(c.b)((v=o,(Object(f.a)(v[0])<<16)+(Object(f.a)(v[1])<<8)+Object(f.a)(v[2])),4),l.forEach(e=>{u+=Object(c.b)(((e,t)=>19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*Object(f.c)(e[0]/t,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*Object(f.c)(e[1]/t,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*Object(f.c)(e[2]/t,.5)+9.5)))))(e,s),2)}),u},v=n(1178),m=n.n(v);function b(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))}function y(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}var O=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function E(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=O.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var T=[".DS_Store","Thumbs.db"];function I(e){return b(this,void 0,void 0,(function(){return y(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?S(e.dataTransfer,e.type):w(e))];var n}))}))}function w(e){return(null!==e.target&&e.target.files?_(e.target.files):[]).map((function(e){return E(e)}))}function S(e,t){return b(this,void 0,void 0,(function(){var n;return y(this,(function(r){switch(r.label){case 0:return e.items?(n=_(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(j))]):[3,2];case 1:return[2,A(R(r.sent()))];case 2:return[2,A(_(e.files).map((function(e){return E(e)})))]}}))}))}function A(e){return e.filter((function(e){return-1===T.indexOf(e.name)}))}function _(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function j(e){if("function"!=typeof e.webkitGetAsEntry)return P(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?C(t):P(e)}function R(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}(e,Array.isArray(t)?R(t):[t])}),[])}function P(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=E(t);return Promise.resolve(n)}function N(e){return b(this,void 0,void 0,(function(){return y(this,(function(t){return[2,e.isDirectory?C(e):L(e)]}))}))}function C(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return b(a,void 0,void 0,(function(){var a,o,l;return y(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=s.sent(),e(a),[3,4];case 3:return o=s.sent(),n(o),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(N)),r.push(l),i(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function L(e){return b(this,void 0,void 0,(function(){return y(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=E(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var D=n(1181),x=n.n(D);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},F=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},V=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},z={code:"too-many-files",message:"Too many files"};function B(e,t){var n="application/x-moz-file"===e.type||x()(e,t);return[n,n?null:M(t)]}function Y(e,t,n){if(G(e.size))if(G(t)&&G(n)){if(e.size>n)return[!1,F(n)];if(e.size<t)return[!1,V(t)]}else{if(G(t)&&e.size<t)return[!1,V(t)];if(G(n)&&e.size>n)return[!1,F(n)]}return[!0,null]}function G(e){return null!=e}function U(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize;return!(!e.multiple&&t.length>1)&&t.every((function(e){var t=k(B(e,n),1)[0],a=k(Y(e,r,i),1)[0];return t&&a}))}function H(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function W(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function q(e){e.preventDefault()}function $(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function K(e){return-1!==e.indexOf("Edge/")}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return $(e)||K(e)}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!H(e)&&t&&t.apply(void 0,[e].concat(r)),H(e)}))}}function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ie=Object(r.forwardRef)((function(e,t){var n=e.children,a=oe(re(e,["children"])),o=a.open,l=re(a,["open"]);return Object(r.useImperativeHandle)(t,(function(){return{open:o}}),[o]),i.a.createElement(r.Fragment,null,n(te({},l,{open:o})))}));ie.displayName="Dropzone",ie.propTypes={children:m.a.func,accept:m.a.oneOfType([m.a.string,m.a.arrayOf(m.a.string)]),multiple:m.a.bool,preventDropOnDocument:m.a.bool,noClick:m.a.bool,noKeyboard:m.a.bool,noDrag:m.a.bool,noDragEventsBubbling:m.a.bool,minSize:m.a.number,maxSize:m.a.number,disabled:m.a.bool,getFilesFromEvent:m.a.func,onFileDialogCancel:m.a.func,onDragEnter:m.a.func,onDragLeave:m.a.func,onDragOver:m.a.func,onDrop:m.a.func,onDropAccepted:m.a.func,onDropRejected:m.a.func};var ae={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accept,n=e.disabled,i=void 0!==n&&n,a=e.getFilesFromEvent,o=void 0===a?I:a,l=e.maxSize,s=void 0===l?1/0:l,u=e.minSize,c=void 0===u?0:u,f=e.multiple,d=void 0===f||f,p=e.onDragEnter,h=e.onDragLeave,v=e.onDragOver,m=e.onDrop,b=e.onDropAccepted,y=e.onDropRejected,g=e.onFileDialogCancel,O=e.preventDropOnDocument,E=void 0===O||O,T=e.noClick,w=void 0!==T&&T,S=e.noKeyboard,A=void 0!==S&&S,_=e.noDrag,j=void 0!==_&&_,R=e.noDragEventsBubbling,P=void 0!==R&&R,N=Object(r.useRef)(null),C=Object(r.useRef)(null),L=Object(r.useReducer)(le,ae),D=Q(L,2),x=D[0],k=D[1],M=x.isFocused,F=x.isFileDialogActive,V=x.draggedFiles,G=Object(r.useCallback)((function(){C.current&&(k({type:"openDialog"}),C.current.value=null,C.current.click())}),[k]),$=function(){F&&setTimeout((function(){C.current&&(C.current.files.length||(k({type:"closeDialog"}),"function"==typeof g&&g()))}),300)};Object(r.useEffect)((function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}}),[C,F,g]);var K=Object(r.useCallback)((function(e){N.current&&N.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),G()))}),[N,C]),ee=Object(r.useCallback)((function(){k({type:"focus"})}),[]),ie=Object(r.useCallback)((function(){k({type:"blur"})}),[]),oe=Object(r.useCallback)((function(){w||(X()?setTimeout(G,0):G())}),[C,w]),se=Object(r.useRef)([]),ue=function(e){N.current&&N.current.contains(e.target)||(e.preventDefault(),se.current=[])};Object(r.useEffect)((function(){return E&&(document.addEventListener("dragover",q,!1),document.addEventListener("drop",ue,!1)),function(){E&&(document.removeEventListener("dragover",q),document.removeEventListener("drop",ue))}}),[N,E]);var ce=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),se.current=[].concat(Z(se.current),[e.target]),W(e)&&Promise.resolve(o(e)).then((function(t){H(e)&&!P||(k({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),p&&p(e))}))}),[o,p,P]),fe=Object(r.useCallback)((function(e){if(e.preventDefault(),e.persist(),be(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return W(e)&&v&&v(e),!1}),[v,P]),de=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e);var t=se.current.filter((function(e){return N.current&&N.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),se.current=t,t.length>0||(k({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),W(e)&&h&&h(e))}),[N,h,P]),pe=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),se.current=[],W(e)&&Promise.resolve(o(e)).then((function(n){if(!H(e)||P){var r=[],i=[];n.forEach((function(e){var n=Q(B(e,t),2),a=n[0],o=n[1],l=Q(Y(e,c,s),2),u=l[0],f=l[1];if(a&&u)r.push(e);else{var d=[o,f].filter((function(e){return e}));i.push({file:e,errors:d})}})),!d&&r.length>1&&(r.forEach((function(e){i.push({file:e,errors:[z]})})),r.splice(0)),k({acceptedFiles:r,fileRejections:i,type:"setFiles"}),m&&m(r,i,e),i.length>0&&y&&y(i,e),r.length>0&&b&&b(r,e)}})),k({type:"reset"})}),[d,t,c,s,o,m,b,y,P]),he=function(e){return i?null:e},ve=function(e){return A?null:he(e)},me=function(e){return j?null:he(e)},be=function(e){P&&e.stopPropagation()},ye=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,a=e.onFocus,o=e.onBlur,l=e.onClick,s=e.onDragEnter,u=e.onDragOver,c=e.onDragLeave,f=e.onDrop,d=re(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return te(ne({onKeyDown:ve(J(r,K)),onFocus:ve(J(a,ee)),onBlur:ve(J(o,ie)),onClick:he(J(l,oe)),onDragEnter:me(J(s,ce)),onDragOver:me(J(u,fe)),onDragLeave:me(J(c,de)),onDrop:me(J(f,pe))},n,N),i||A?{}:{tabIndex:0},{},d)}}),[N,K,ee,ie,oe,ce,fe,de,pe,A,j,i]),ge=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),Oe=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,r=void 0===n?"ref":n,i=e.onChange,a=e.onClick,o=re(e,["refKey","onChange","onClick"]),l=ne({accept:t,multiple:d,type:"file",style:{display:"none"},onChange:he(J(i,pe)),onClick:he(J(a,ge)),autoComplete:"off",tabIndex:-1},r,C);return te({},l,{},o)}}),[C,t,d,pe,i]),Ee=V.length,Te=Ee>0&&U({files:V,accept:t,minSize:c,maxSize:s,multiple:d}),Ie=Ee>0&&!Te;return te({},x,{isDragAccept:Te,isDragReject:Ie,isFocused:M&&!i,getRootProps:ye,getInputProps:Oe,rootRef:N,inputRef:C,open:he(G)})}function le(e,t){switch(t.type){case"focus":return te({},e,{isFocused:!0});case"blur":return te({},e,{isFocused:!1});case"openDialog":return te({},e,{isFileDialogActive:!0});case"closeDialog":return te({},e,{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive;return te({},e,{draggedFiles:t.draggedFiles,isDragActive:n});case"setFiles":return te({},e,{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return te({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}var se=n(811);n(35),n(26),n(27),n(22),n(28),n(50),n(37),n(44),n(45),n(46),n(51),n(49);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:t}:{r:0,g:0,b:0,a:0};return"rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(r.a,")")}var pe=80*Math.cos(45/360*2*Math.PI);function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=de(e,t);return{background:"repeating-linear-gradient(\n      ".concat(45,"deg,\n      ").concat("#FFF",",\n      ").concat("#FFF"," ").concat(20,"px,\n      ").concat(n," ").concat(20,"px,\n      ").concat(n," ").concat(40,"px\n    )"),backgroundSize:"calc(100% + ".concat(pe,"px)")}}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){be(a,r,i,o,l,"next",e)}function l(e){be(a,r,i,o,l,"throw",e)}o(void 0)}))}}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=Object(se.a)((function(e){return{dropzoneContainer:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%",minHeight:"144px",padding:"0 12px",margin:"12px 0",cursor:"pointer"},dropzoneStandby:{"& $dropzoneContainer":ce({border:"2px dashed ".concat(e.palette.primary.dark),borderRadius:"4px"},he(e.palette.primary.light,.2)),"& $dropzoneUpload":ce(ce({borderColor:e.palette.disabled.dark},he(e.palette.disabled.main,.2)),{},{animation:"$slide 2s infinite linear forwards"})},dropzoneActive:ce(ce({border:"2px dashed ".concat(e.palette.secondary.dark),animation:"$slide 2s infinite linear forwards"},he(e.palette.secondary.light)),{},{"&$dropzoneAccept":ce(ce({borderColor:e.palette.secondary.dark},he(e.palette.secondary.main)),{},{animation:"$slide 2s infinite linear forwards"}),"&$dropzoneReject":ce(ce({borderColor:e.palette.error.dark},he(e.palette.error.main)),{},{animation:"$slide 2s infinite linear forwards"})}),dropzoneAccept:{},dropzoneReject:{},dropzoneUpload:{},"@keyframes slide":{"0%":{backgroundPositionX:"-".concat(pe,"px")},"100%":{backgroundPositionX:0}}}}));function Te(e){var t,n=e.onUpload,a=e.visit,o=Ee(),l=ge(Object(r.useState)(null),2),s=l[0],c=l[1],f=ge(Object(r.useState)([]),2),d=f[0],p=f[1],h=null!==s,v=a.visitId,m=oe({accept:"image/jpeg, image/png",disabled:h,onDrop:Object(r.useCallback)(function(){var e=ye(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r&&p(r),c(1),e.t0=n,e.t1=v,e.t2=t,e.next=7,Promise.all(t.map(Se));case 7:return e.t3=e.sent,e.t4={id:e.t1,data:e.t2,meta:e.t3,isAsset:!0},e.abrupt("return",(0,e.t0)(e.t4).finally((function(){return c(null)})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),maxSize:5242880,minSize:51200}),b=m.getRootProps,y=m.getInputProps,g=m.isDragActive,O=m.isDragAccept,E=m.isDragReject;return i.a.createElement("div",ve({},b(),{className:u()((t={},me(t,o.dropzoneStandby,!g),me(t,o.dropzoneActive,g),me(t,o.dropzoneAccept,O),me(t,o.dropzoneReject,E),t))}),i.a.createElement("div",{className:u()(o.dropzoneContainer,me({},o.dropzoneUpload,h))},i.a.createElement("input",y()),function(e){var t=e.isDragActive;switch(!0){case e.isUploadInProgress:return"Идет загрузка, пожалуйста не закрывайте браузер";case t:return"Загрузить фотографии";default:return"Перенесите сюда фотографии для загрузки или кликните, что-бы выбрать файлы"}}({isDragActive:g,isUploadInProgress:h}),d.length>0&&i.a.createElement("div",null,"Не удалось загрузить следующие файлы:",d.map((function(e){return i.a.createElement("div",{key:e.path},(n=(t=e).file,r=t.errors.map((function(e){return e.message})).join(", "),"".concat(n.path," - ").concat(n.size," bytes, reason: ").concat(r)));var t,n,r})))))}function Ie(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height)}function we(e,t){var n=Math.abs(e),r=Math.abs(t),i=n;for(r>n&&(i=n,n=r,r=i);;){if(0===r)return e;if(0===(n%=r))return t;r%=n}}function Se(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=ye(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=URL.createObjectURL(t),r=new Image;r.onload=function(){var t=we(r.width,r.height),n=ge(t?[r.width/t,r.height/t]:[r.width,r.height],2),i=n[0],a=n[1];try{var o=Ie(r);e({aspect_ratio:"".concat(i,":").concat(a),blurhash:h(o.data,o.width,o.height,4,4)})}catch(t){e({aspect_ratio:"".concat(i,":").concat(a),blurhash:null})}},r.src=n})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _e=n(1030),je=n(68);function Re(e){var t=e.match.params,n=t.userAlias,r=t.strVisitId,s=Object(a.c)(),u=s.isAuthenticated,c=s.userAlias,f=Object(je.d)().travel,d=parseInt(r,10),p=Object(o.c)({domain:"travel.VisitPage",userAlias:n,visitId:d}),h=p.isError,v=p.isPending,m=p.visit,b=p.invalidate,y=Object(o.a)({domain:"travel.VisitPage",userAlias:n,visitId:d}).submitVisitPhoto,g=u&&c===n;if(h)return i.a.createElement("div",null,"...Error");if(v)return i.a.createElement("div",null,"...Loading");if(!m)return i.a.createElement("div",null,"...Не найдено посещение");var O=m.photos,E=m.locationId;return(i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{visit:m,isLong:!0,locationUrl:f.location.toUrl({strLocationId:String(E),userAlias:n})}),g&&i.a.createElement(Te,{visit:m,userAlias:n,onUpload:function(e){return y(e).finally(b)}}),i.a.createElement(_e.a,{photos:O})))}},1278:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return le}));n(24),n(222),n(1190),n(71),n(72),n(73);var r=n(0),i=n.n(r),a=n(871),o=n(824),l=n(1265),s=n(811),u=Object(s.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function c(){var e=u();return(i.a.createElement(o.a,{className:e.backdrop,open:!0},i.a.createElement(l.a,{color:"inherit"})))}var f,d,p=n(178),h=n(156),v=(n(353),n(354),n(220),n(860),n(12),n(861),n(22),n(862),n(43),n(14),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(36),n(23),n(815)),m=n(816),b=n(818),y=n(828),g=n(1279),O=n(1264),E=n(232),T=n(885);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w,S,A="loc",_="c",j="yr",R="yr_c",P="c_yr",N="t",C="t_c",L=(I(f={},A,T.b.LOCATIONS),I(f,_,T.b.COUNTRIES),I(f,j,T.b.YEARS),I(f,N,T.b.TRIPS),f),D={RATING_ALPHABET:"r_a",VISITS_ALPHABET:"v_a",FIRST_VISIT_ALPHABET:"fv_a",LAST_VISIT_ALPHABET:"lv_a",ALPHABET:"a"},x=D.ALPHABET,k={a:T.c.ALPHABET,r:T.c.RATING,fv:T.c.FIRST_VISIT,lv:T.c.LAST_VISIT,v:T.c.VISITS_COUNT},M={ANY:"a",FOREIGN:"f",DOMESTIC:"d"},F=M.ANY,V=(I(d={},M.ANY,T.a.ANY),I(d,M.FOREIGN,T.a.FOREIGN),I(d,M.DOMESTIC,T.a.DOMESTIC),d);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B={TRIPS:"trips",PLACES:"places"},Y=B.TRIPS,G=(z(w={},B.PLACES,[{key:A,l10n:"По городам"},{key:_,l10n:"По странам"},{key:j,l10n:"По годам"},{key:R,l10n:"По годам и странам"},{key:P,l10n:"По странам и годам"}]),z(w,B.TRIPS,[{key:N,l10n:"По поездкам"},{key:C,l10n:"По поездкам и странам"}]),w),U=(z(S={},B.PLACES,_),z(S,B.TRIPS,N),S);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=Object(s.a)({formControl:{width:"100%"}}),K=function(e,t,n){var r=$(),a=t||{},o=a.group,l=a.sort,s=a.filter,u=function(e){return Object.values(D).includes(e)?e:x}(l),c=function(e){return Object.values(M).includes(e)?e:F}(s),f=W(function(e,t){var n=Object.values(B).includes(t)?t:Y,r=G[n]||[];return[r.find((function(t){return t.key===e}))?e:U[n],r]}(o,n),2),d=f[0],p=f[1];return Object(E.b)((function(t){var n=t.closeSidebar;return(i.a.createElement(v.a,null,i.a.createElement(m.a,null,i.a.createElement(b.a,{className:r.formControl},i.a.createElement(y.a,{shrink:!0,id:"select-groupBy-filter-label"},"Сгруппировать"),i.a.createElement(g.a,{labelId:"select-groupBy-filter-label",autoWidth:!0,id:"select-groupBy-filter",value:d,onChange:function(t){n(),e(H({},"group",t.target.value))}},p.map((function(e){return i.a.createElement(O.a,{key:e.key,value:e.key},e.l10n)}))))),d!==N&&i.a.createElement(m.a,null,i.a.createElement(b.a,{className:r.formControl},i.a.createElement(y.a,{shrink:!0,id:"select-sortBy-filter-label"},"Сортировать"),i.a.createElement(g.a,{labelId:"select-sortBy-filter-label",autoWidth:!0,id:"select-sortBy-filter",value:u,onChange:function(t){n(),e(H({},"sort",t.target.value))}},i.a.createElement(O.a,{value:D.ALPHABET},"По алфавиту"),i.a.createElement(O.a,{value:D.VISITS_ALPHABET},"По числу посещений"),i.a.createElement(O.a,{value:D.FIRST_VISIT_ALPHABET},"По первому посещению"),i.a.createElement(O.a,{value:D.LAST_VISIT_ALPHABET},"По последнему посещению"),i.a.createElement(O.a,{value:D.RATING_ALPHABET},"По рейтингу")))),i.a.createElement(m.a,null,i.a.createElement(b.a,{className:r.formControl},i.a.createElement(y.a,{shrink:!0,id:"select-filterBy-filter-label"},"Фильтровать"),i.a.createElement(g.a,{labelId:"select-filterBy-filter-label",autoWidth:!0,id:"select-filterBy-filter",value:c,onChange:function(t){n(),e(H({},"filter",t.target.value))}},i.a.createElement(O.a,{value:M.ANY},"Показать все"),i.a.createElement(O.a,{value:M.FOREIGN},"Только зарубежные"),i.a.createElement(O.a,{value:M.DOMESTIC},"Только местные"))))))}),[d,u,c]),{groupBy:d,sortBy:u,filterBy:c}};var X=n(933),J=n(122),Z=n(219),Q=n(822),ee=n(825),te=n(1028),ne=n.n(te);function re(e){var t=e.tripCreateUrl,n=e.locationsUrl,r=e.stats,a=r.locationsStats.total,o=r.countriesStats.total;return(i.a.createElement(Z.a,{variant:"h6",paragraph:!0},i.a.createElement("span",null,"Всего "),i.a.createElement(Q.a,{to:n,component:J.b},"".concat(a," городов ")),i.a.createElement("span",null,"из "),i.a.createElement("span",null,"".concat(o," стран")),t?i.a.createElement(ee.a,{href:t,"data-locator":"ADD_TRIP_BUTTON"},i.a.createElement(ne.a,null)):null))}n(289);function ie(e){var t=e.split("_").map((function(e){return L[e]})),n=t.includes(T.b.TRIPS),r=t[t.length-1];return n||r===T.b.LOCATIONS||t.push(T.b.LOCATIONS),n&&t.push(T.b.JUST_VISITS),t}function ae(e){return e.split("_").map((function(e){return k[e]}))}function oe(e){return V[e]}function le(e){var t=e.match.params,n=t.userAlias,r=t.section,o=Object(h.c)().userAlias,l=n===o,s=n!==o,u=Object(p.b)(),f=u.queryFilter,d=u.setQueryFilter,v=K(d,f,r),m=v.groupBy,b=v.sortBy,y=v.filterBy,g=Object(a.b)({userAlias:n}),O=g.isPending,E=g.isError,I=Object(X.a)({editable:l,userAlias:n,section:r});if(E)return i.a.createElement("div",null,"...Error");if(O)return i.a.createElement(c,null);var w=g.visitsIds,S=g.visitsDict,A=w.map((function(e){return S[e]})),_={visitsList:A,parent:null,field:null},j=Object(T.d)(_,g);return i.a.createElement(i.a.Fragment,null,i.a.createElement(re,{locationsUrl:I.locationsUrl,tripCreateUrl:I.tripCreateUrl,stats:j}),i.a.createElement(T.e,{visitsList:A,provision:g,groupsOrder:ie(m),sortingOrder:"trips"===r?[T.c.LAST_VISIT]:ae(b),filteringOption:oe(y),isObscure:s,urls:I,virtualize:!0}))}},1282:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));n(24),n(222),n(869),n(12),n(106),n(529);var r,i=n(0),a=n.n(i),o=n(219),l=n(156),s=n(933),u=n(885),c=(n(23),n(2)),f=n.n(c),d=n(811),p=n(818),h=n(828),v=n(1279),m=n(1264),b=n(285);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(y(r={},b.LOCATION_RATING.PLACE_TO_LIVE,"Жил бы здесь"),y(r,b.LOCATION_RATING.FEW_PER_YEAR,"Несколько раз в год"),y(r,b.LOCATION_RATING.ONCE_PER_YEAR,"Раз в год"),y(r,b.LOCATION_RATING.ONCE_PER_TWO_YEARS,"Раз в пару лет"),y(r,b.LOCATION_RATING.ONCE_PER_FIVE_YEARS,"Раз в пять лет"),y(r,b.LOCATION_RATING.ONCE_PER_DECADE,"Раз в десятилетие"),y(r,b.LOCATION_RATING.TWICE_PER_LIVE,"Пару раз в жизни"),y(r,b.LOCATION_RATING.ONCE_PER_LIVE,"Раз в жизни"),y(r,b.LOCATION_RATING.NEVER,"Никогда"),r),O=Object(d.a)({formControl:{margin:"24px 0",width:"100%"}});function E(e){var t=e.locationId,n=e.locationRating,r=e.isEditable,i=e.onSubmitLocationRating,o=O();return r?a.a.createElement(p.a,{className:o.formControl},a.a.createElement(h.a,{shrink:!0,id:"select-location-rating-label"},"Я бы ездил сюда"),a.a.createElement(v.a,{labelId:"select-location-rating-label",id:"select-location-rating",value:n,onChange:function(e){i(e,t,e.target.value)}},a.a.createElement(m.a,{value:b.LOCATION_RATING.PLACE_TO_LIVE},g[b.LOCATION_RATING.PLACE_TO_LIVE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.FEW_PER_YEAR},g[b.LOCATION_RATING.FEW_PER_YEAR]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_YEAR},g[b.LOCATION_RATING.ONCE_PER_YEAR]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_TWO_YEARS},g[b.LOCATION_RATING.ONCE_PER_TWO_YEARS]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_FIVE_YEARS},g[b.LOCATION_RATING.ONCE_PER_FIVE_YEARS]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_DECADE},g[b.LOCATION_RATING.ONCE_PER_DECADE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.TWICE_PER_LIVE},g[b.LOCATION_RATING.TWICE_PER_LIVE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.ONCE_PER_LIVE},g[b.LOCATION_RATING.ONCE_PER_LIVE]),a.a.createElement(m.a,{value:b.LOCATION_RATING.NEVER},g[b.LOCATION_RATING.NEVER]))):a.a.createElement("div",null,g[n])}E.propTypes={locationRating:f.a.number,locationId:f.a.number.isRequired,isEditable:f.a.bool.isRequired,onSubmitLocationRating:f.a.func.isRequired},E.defaultProps={locationRating:null};n(35),n(89),n(14),n(50),n(37),n(44),n(45),n(46),n(51),n(49),n(353),n(354),n(26),n(27),n(22),n(28),n(71),n(72),n(73);var T=n(116),I=n(136);var w=n(832),S=n(857),A=["isError","isPending","isReady"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N(e){var t=e.domain,n=e.userAlias,r=e.locationId,i=Object(w.a)({userAlias:n}),a=i.isError,o=i.isPending,l=i.isReady,s=i.locationsIds,u=i.visitsDict,c=i.visitsIds,f=i.locationsRating,d=function(e){var t=e.domain,n=e.locationId;return{location:Object(T.c)((function(e){return Object(I.e)(e,"locations",n)||{}})),provision:Object(I.g)({domain:t,isProvision:!0,modelName:"locations",observe:n,condition:Boolean(n),query:{id:n}})}}({domain:t,locationId:r}),p=d.location,h=d.provision,v=h.isError,m=h.isPending,b=h.isReady,y=P(h,A),g=Object(S.b)({domain:t}).submitLocationRating,O=s.includes(r);return{provision:j({isError:v||a,isPending:m||o,isReady:b||l},y),location:p,isVisited:O,visitsList:O?c.map((function(e){return u[e]})).filter((function(e){return e.locationId===r})):[],locationRating:O&&f[r]||null,submitLocationRating:g,tripsStatsProvision:i}}function C(e){var t=e.match.params,n=t.userAlias,r=t.strLocationId,c=t.section,f=Object(l.c)(),d=f.isAuthenticated,p=f.userAlias,h=n===p,v=n!==p,m=Object(s.a)({editable:h,userAlias:n,section:c}),b=parseInt(r,10),y=N({domain:"travel.LocationPage",userAlias:n,locationId:b}),g=y.location,O=y.provision,T=O.isError,I=O.isPending,w=O.isReady,S=y.isVisited,A=y.visitsList,_=y.tripsStatsProvision,j=y.tripsStatsProvision.userProvision,R=y.locationRating,P=y.submitLocationRating,C=Object(i.useCallback)((function(e,t,n){P({query:{rating:n,id:String(t)},condition:Boolean(t)}).finally(j.invalidate)}));if(T)return a.a.createElement("div",null,"...Error");if(I||!w)return a.a.createElement("div",null,"...Loading");if(!g)return null;var L=d&&p===n;return S?a.a.createElement(u.e,{visitsList:A,provision:_,groupsOrder:[u.b.LOCATIONS,u.b.YEARS,u.b.JUST_VISITS],photosSectionLevel:1,mapSectionLevel:0,sortingOrder:[u.c.LAST_VISIT],filteringOption:u.a.ANY,isObscure:v,urls:m,config:{LocationVisitsGroup:{hyperlinks:{location:!1}},StatsPanel:{appearance:{CountriesStats:!1}}}},(function(e){var t=e.level,n=e.index;return 0===t&&0===n&&a.a.createElement(E,{locationId:b,locationRating:R,isEditable:L,onSubmitLocationRating:C})})):a.a.createElement(o.a,{variant:"h2",component:"span"},g.locationName)}},1283:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));n(24),n(222),n(869),n(353),n(354),n(71),n(72),n(73);var r,i=n(0),a=n.n(i),o=n(2),l=n.n(o),s=n(811),u=n(156),c=(n(909),n(23),n(818)),f=n(828),d=n(1279),p=n(1264),h=n(285);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(v(r={},h.LOCATION_RATING.PLACE_TO_LIVE,"Жил бы здесь"),v(r,h.LOCATION_RATING.FEW_PER_YEAR,"Несколько раз в год"),v(r,h.LOCATION_RATING.ONCE_PER_YEAR,"Раз в год"),v(r,h.LOCATION_RATING.ONCE_PER_TWO_YEARS,"Раз в пару лет"),v(r,h.LOCATION_RATING.ONCE_PER_FIVE_YEARS,"Раз в пять лет"),v(r,h.LOCATION_RATING.ONCE_PER_DECADE,"Раз в десятилетие"),v(r,h.LOCATION_RATING.TWICE_PER_LIVE,"Пару раз в жизни"),v(r,h.LOCATION_RATING.ONCE_PER_LIVE,"Раз в жизни"),v(r,h.LOCATION_RATING.NEVER,"Никогда"),r),b=Object(s.a)({formControl:{width:"100%"}});function y(e){var t=e.locationId,n=e.locationRating,r=e.isEditable,i=e.onSubmitLocationRating,o=b();return r?a.a.createElement(c.a,{className:o.formControl},a.a.createElement(f.a,{shrink:!0,id:"select-location-rating-label"},"Я бы ездил сюда"),a.a.createElement(d.a,{labelId:"select-location-rating-label",id:"select-location-rating",value:n,onChange:function(e){i(e,t,e.target.value)}},a.a.createElement(p.a,{value:h.LOCATION_RATING.PLACE_TO_LIVE},m[h.LOCATION_RATING.PLACE_TO_LIVE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.FEW_PER_YEAR},m[h.LOCATION_RATING.FEW_PER_YEAR]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_YEAR},m[h.LOCATION_RATING.ONCE_PER_YEAR]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_TWO_YEARS},m[h.LOCATION_RATING.ONCE_PER_TWO_YEARS]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_FIVE_YEARS},m[h.LOCATION_RATING.ONCE_PER_FIVE_YEARS]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_DECADE},m[h.LOCATION_RATING.ONCE_PER_DECADE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.TWICE_PER_LIVE},m[h.LOCATION_RATING.TWICE_PER_LIVE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.ONCE_PER_LIVE},m[h.LOCATION_RATING.ONCE_PER_LIVE]),a.a.createElement(p.a,{value:h.LOCATION_RATING.NEVER},m[h.LOCATION_RATING.NEVER]))):a.a.createElement("div",null,m[n])}y.propTypes={locationRating:l.a.number,locationId:l.a.number.isRequired,isEditable:l.a.bool.isRequired,onSubmitLocationRating:l.a.func.isRequired},y.defaultProps={locationRating:null};n(868);var g=n(832),O=n(857);var E=Object(s.a)({container:{fontSize:"16px",lineHeight:"1.5"},visitContainer:{margin:"20px 0"},location:{fontWeight:"bold",fontSize:"21px"},googleMapContainer:{margin:"12px 0",width:"800px",maxWidth:"100%",height:"400px",maxHeight:"100%"}});function T(e){var t=e.match.params,n=t.userAlias,r=t.strLocationId,o=E(),l=Object(u.c)(),s=l.isAuthenticated,c=l.userAlias,f=function(e){var t=e.domain,n=e.userAlias,r=Object(g.a)({userAlias:n}),i=r.isError,a=r.isPending,o=r.locationsDict,l=r.locationsIds;return{isError:i,isPending:a,locationsDict:o,locationsIds:void 0===l?[]:l,locationsRating:r.locationsRating,submitLocationRating:Object(O.b)({domain:t}).submitLocationRating}}({domain:"travel.LocationsPage",userAlias:n}),d=f.isError,p=f.isPending,h=f.locationsDict,v=f.locationsIds,m=f.locationsRating,b=f.submitLocationRating,T=parseInt(r,10),I=T?[T]:v,w=Object(i.useCallback)((function(e,t,n){b({query:{rating:n,id:String(t)},condition:Boolean(t)})}));if(d)return a.a.createElement("div",null,"...Error");if(p)return a.a.createElement("div",null,"...Loading");if(T&&!v.includes(T))return a.a.createElement("div",null,"Путешественик ".concat(n," еще не посетил данную локацию"));var S=s&&c===n;return(a.a.createElement("div",{className:o.container},I.map((function(e){var t=h[e];if(!t)return null;var n=t.locationName;return(a.a.createElement(a.a.Fragment,{key:e},a.a.createElement("h1",{className:o.location},n),a.a.createElement(y,{locationId:e,locationRating:m[e],isEditable:S,onSubmitLocationRating:w})))}))))}T.propTypes={match:l.a.shape({params:l.a.shape({userAlias:l.a.string.isRequired,strLocationId:l.a.string}).isRequired}).isRequired}},1288:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));n(24),n(222),n(869);var r=n(0),i=n.n(r),a=n(219),o=n(156),l=n(933),s=n(885),u=(n(353),n(354),n(26),n(12),n(27),n(22),n(28),n(71),n(72),n(73),n(832));function c(e){var t=e.match.params,n=t.userAlias,r=t.strCountryId,c=t.section,f=Object(o.c)().userAlias,d=Object(l.a)({editable:!1,userAlias:n,section:c}),p=n!==f,h=function(e){var t=e.userAlias,n=e.countryId,r=Object(u.a)({userAlias:t}),i=r.countriesIds,a=r.countriesDict,o=r.visitsDict,l=r.visitsIds,s=i.includes(n);return{provision:r,country:a[n],isVisited:s,visitsList:s?l.map((function(e){return o[e]})).filter((function(e){return e.countryId===n})):[]}}({userAlias:n,countryId:parseInt(r,10)}),v=h.country,m=h.provision,b=h.provision,y=b.isError,g=b.isPending,O=b.isReady,E=h.isVisited,T=h.visitsList;return y?i.a.createElement("div",null,"...Error"):g||!O?i.a.createElement("div",null,"...Loading"):v?E?i.a.createElement(s.e,{visitsList:T,provision:m,groupsOrder:[s.b.COUNTRIES,s.b.YEARS,s.b.LOCATIONS],sortingOrder:[s.c.LAST_VISIT],filteringOption:s.a.ANY,isObscure:p,urls:d,config:{CountryVisitsGroup:{hyperlinks:{country:!1}}}}):i.a.createElement(a.a,{variant:"h2",component:"span"},v.countryName):null}},832:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(35),n(89),n(14),n(26),n(12),n(27),n(22),n(28),n(79),n(71),n(72),n(73),n(41),n(20),n(17),n(356),n(357),n(358),n(360),n(359),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(18),n(864),n(865),n(866),n(867);var r=n(0),i=n(116),a=n(856),o=n.n(a),l=n(850),s=n.n(l),u=n(136),c=n(48),f=(n(378),n(379),n(380),n(375),n(376),n(377),n(860),n(861),n(862),n(37),n(44),n(45),n(46),n(929)),d=n.n(f);var p=n(868),h=n(840),v=n(857),m=["user"];function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e){var t=e.userAlias,n=function(e){var t=e.userAlias,n=e.tripsIds,r=Object(i.c)((function(e){return{tripsDict:Object(u.c)(e,"trips")||{}}})).tripsDict,a=!n,o=!a&&n.filter((function(e){return!r[e]}));return Object(u.g)({domain:"travel.trips-".concat(t),isProvision:!0,modelName:"trips",observe:t,query:{userAlias:t,navigation:{isDisabled:!0},filter:a?{}:{id:{comparator:"in",value:o}}}})}({userAlias:t,tripsIds:e.tripsIds}),r=Object(p.a)({domain:"travel.trips-".concat(t,".user"),userAlias:t}),a=r.user,o=(a=void 0===a?{}:a).locationsRating,l=void 0===o?{}:o,s=b(r,m),f=(Object(c.o)(n)||{}).data,y=void 0===f?[]:f,E=Object(i.c)((function(e){return{tripsDict:Object(u.c)(e,"trips")||{},visitsDict:Object(u.c)(e,"visits")||{},ridesDict:Object(u.c)(e,"rides")||{},countriesDict:Object(u.c)(e,"countries")||{},locationsDict:Object(u.c)(e,"locations")||{}}})),T=E.tripsDict,I=E.visitsDict,w=E.ridesDict,S=E.countriesDict,A=E.locationsDict,_=O(y,T,"visits"),j=O(y,T,"rides"),R=O(_,I,"countryId"),P=O(_,I,"locationId"),N=Object(h.a)(),C=Object(v.a)({domain:"travel.locations-".concat(t),locationsIds:P}),L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{updatesCounter:d()(t.map(c.p)),isReady:t.every(c.i),isPending:t.some(c.h),isValid:t.every(c.k),error:t.find(c.g),errors:t.map(c.f).filter(Boolean),invalidate:function(){return t.forEach((function(e){return(0,e.invalidate)()}))}}}(n,s,N,C);return{userProvision:s,tripsProvision:n,countriesProvision:N,locationsProvision:C,isError:L.isError,isValid:L.isValid,isReady:L.isReady,isPending:L.isPending,tripsIds:y,tripsDict:T,visitsIds:_,visitsDict:I,ridesIds:j,ridesDict:w,ridesStats:g(j,w),locationsIds:P,locationsDict:A,locationsRating:l,countriesIds:R,countriesDict:S}}function g(e,t){return{earliestDeparture:new Date(s()(e.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.departureDateTime.getTime()})))),latestArrival:new Date(o()(e.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.arrivalDateTime.getTime()}))))}}function O(e,t,n){return Object(r.useMemo)((function(){return Array.from(new Set(e.flatMap((function(e){var r;return(null===(r=t[e])||void 0===r?void 0:r[n])||[]}))))}),[e,t,n])}},836:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return m}));n(64);var r=n(226),i=n(887),a=n(888),o=n(842),l=n(847),s="d MMMM yyyy",u="LLLL yyyy",c="LLLL",f="d MMMM",d="d";function p(e,t,n){var p=n?u:s,h=Object(l.a)(t,p,{locale:o.a});if(Object(r.a)(e,t))return h;var v="";if(Object(i.a)(e,t))n||(v=Object(l.a)(e,d,{locale:o.a}));else if(Object(a.a)(e,t)){var m=n?c:f;v=Object(l.a)(e,m,{locale:o.a})}else v=Object(l.a)(e,p,{locale:o.a});return"".concat(v,"—").concat(h)}function h(e,t){return p(e.departureDateTime,e.arrivalDateTime,t)}function v(e,t){var n=e.departureDateTime;return p(e.arrivalDateTime,n,t)}function m(e){var t=e.periodStart,n=e.periodEnd,r=e.isObscure,i=e.placeholder;if(!n){var a=r?u:s,c=Object(l.a)(t,a,{locale:o.a});return"".concat(c,"—").concat(i)}return p(t,n,r)}},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(35),n(89),n(14),n(105);var r=n(0),i=n.n(r),a=n(122),o=n(822),l=["optional","children"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){var t=e.optional,n=e.children,r=u(e,l);return Boolean(!t||r.href||r.to||r.onClick)?i.a.createElement(o.a,s({},r,{component:a.b}),n):n}c.defaultProps={optional:!1}},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(136);function i(){return Object(r.g)({domain:"travel.countries",isProvision:!0,modelName:"countries",query:{navigation:{isDisabled:!0}}})}},847:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(64);var r=n(87),i=n(848);function a(e){if(!Object(i.a)(e))return"?";for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.a.apply(void 0,[e].concat(n))}},848:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(79),n(875),n(284);function r(e){return e instanceof Date&&!Number.isNaN(e.getTime())}},857:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f}));n(26),n(12),n(27),n(22),n(28),n(43),n(14),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(36),n(23),n(35),n(50),n(37),n(44),n(45),n(46),n(51),n(49);var r=n(116),i=n(136);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t=e.domain,n=e.locationsIds,a=Object(r.c)((function(e){return Object(i.c)(e,"locations")||{}})),o=n.filter((function(e){return!a[e]}));return Object(i.g)({domain:t,isProvision:!0,modelName:"locations",observe:n,condition:Boolean(o.length),query:{filter:{id:{comparator:"in",value:o}},navigation:{isDisabled:!0}}})}function f(e){var t=e.domain,n=s(Object(i.h)({domain:t,modelName:"locations",method:"POST"}),2),r=n[0];return o(o({},n[1]),{},{submitLocationRating:r})}},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(23),n(35),n(14),n(26),n(12),n(27),n(22),n(28),n(50),n(37),n(44),n(45),n(46),n(51),n(49);var r=n(116),i=n(136);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.domain,n=e.userAlias,a=Object(r.c)((function(e){return Object(i.e)(e,"users",n)}));return o(o({},Object(i.g)({domain:t,applicableSchemaName:"item",isProvision:!0,modelName:"users",observe:n,condition:Boolean(n),query:{id:n}})),{},{user:a})}},871:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(832),i=(n(840),n(64),n(23),n(35),n(14),n(26),n(12),n(27),n(22),n(28),n(50),n(37),n(44),n(45),n(46),n(51),n(49),n(43),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(36),n(116)),a=n(136);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.userAlias,n=e.visitId,r=Object(i.c)((function(e){return{visitsDict:Object(a.c)(e,"visits")||{}}})).visitsDict[n];return u({visit:r},Object(a.g)({domain:"travel.visit".concat(n,"-").concat(t),isProvision:!0,modelName:"visits",observe:n,condition:!r,query:{userAlias:t,filter:{visit_id:{comparator:"=",value:n}},navigation:{isDisabled:!0}}}))}function d(e){var t=e.domain,n=o(Object(a.h)({domain:t,modelName:"visits",method:"POST",contentType:"multipart/form-data"}),2),r=n[0];return u(u({},n[1]),{},{submitVisitPhoto:r})}},885:function(e,t,n){"use strict";n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return He})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return ve}));n(35),n(14),n(50),n(37),n(44),n(45),n(46),n(51),n(49),n(89),n(26),n(12),n(27),n(22),n(28),n(23);var r=n(0),i=n.n(r),a=n(811),o={ANY:"ANY",FOREIGN:"FOREIGN",DOMESTIC:"DOMESTIC"};function l(e,t){switch(t){case o.FOREIGN:case o.DOMESTIC:return function(e,t){var n=e.tripsDict,r=e.locationsDict,i=t===o.FOREIGN;if(!i&&t!==o.DOMESTIC)return s;return function(e){if(!e)return!1;var t=e.countryId,a=e.tripId;if(!t)return!0;var o=n[a];if(!o)return!0;var l=o.originLocationId,s=r[l];if(!s)return!0;var u=s.countryId;return!u||(i?t!==u:t===u)}}(e,t);case o.ANY:default:return s}}function s(e){return Boolean(e)}n(40),n(71),n(72),n(73),n(1193),n(42),n(64),n(43),n(29),n(30),n(17),n(20),n(18),n(41),n(24),n(36);var u=n(115),c=n.n(u),f=n(1196),d=n.n(f),p=(n(284),n(219)),h=n(837);function v(e){var t=e.children,n=e.visitsGroup.field.value,r=e.classes,a=e.provision.countriesDict,o=e.urls,l=e.config.CountryVisitsGroup,s=(l=void 0===l?{}:l).hyperlinks,u=(s=void 0===s?{}:s).country,c=void 0===u||u;return i.a.createElement(m,{country:a[n],className:r.container,classes:r,countryUrl:c?null==o?void 0:o.resolveCountryUrl({countryId:n}):null},t)}function m(e){var t=e.variant,n=e.country.countryName,r=e.children,a=e.className,o=e.classes,l=e.countryUrl;return(i.a.createElement("div",{className:a},i.a.createElement(h.a,{to:l,optional:!0},i.a.createElement(p.a,{display:"inline",variant:t,className:o.header},n)),r))}function b(e,t){var n,r;return null===(n=function(e,t){var n=e;for(;n;){if(t===n.plainGroup)return n;n=n.parent}return null}(e,t))||void 0===n?void 0:null===(r=n.field)||void 0===r?void 0:r.value}function y(e){var t=e.children,n=e.visitsGroup,r=e.visitsGroup.field.value,a=e.classes,o=e.provision,l=e.provision.locationsDict,s=e.urls,u=e.config.LocationVisitsGroup,c=(u=void 0===u?{}:u).appearance,f=u.hyperlinks,d=(f=void 0===f?{}:f).location,p=void 0===d||d,h=f.country,v=void 0===h||h,m=l[r],y=b(n,H.COUNTRIES),O=null!=m?m:{},E=O.locationId,T=O.countryId,I=p?null==s?void 0:s.resolveLocationUrl({locationId:E}):null,w=v?null==s?void 0:s.resolveCountryUrl({countryId:T}):null;return i.a.createElement(g,{className:a.container,classes:a,location:m,provision:o,showCountry:!y,locationUrl:I,countryUrl:w,appearance:c},t)}function g(e){var t,n,r=e.children,a=e.variant,o=e.className,l=e.classes,s=void 0===l?{}:l,u=e.location,c=(u=void 0===u?{}:u).locationName,f=u.countryId,d=e.provision.countriesDict,v=e.showCountry,m=e.locationUrl,b=e.countryUrl,y=e.appearance.country,g=void 0===y||y,O=null===(t=d[f])||void 0===t?void 0:t.countryName,E=g&&O&&v?i.a.createElement(h.a,{to:b,optional:!0},i.a.createElement(p.a,{display:"inline",variant:"body1"},null===(n=d[f])||void 0===n?void 0:n.countryName)):null,T=i.a.createElement(h.a,{to:m,optional:!0},i.a.createElement(p.a,{display:"inline",variant:a,className:s.header},c,E?",":""));return i.a.createElement("div",{className:o},i.a.createElement("div",null,T,E?" ":null,E),r)}v.defaultProps={config:{}},y.defaultProps={config:{}},g.defaultProps={appearance:{}};var O=Object(a.a)({container:{}});function E(e){var t=e.children,n=e.variant,r=e.className,a=e.classes,o=e.year;return(i.a.createElement("div",{className:r},i.a.createElement(p.a,{display:"inline",variant:n,className:a.header},o||"Без указания даты"),t))}var T=n(940),I=n(825),w=n(1007),S=n.n(w);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.containerClassName,r=void 0===n?"hoverTrigger":n,i=t.contentClassName,o=void 0===i?"visibleOnHover":i;return Object(a.a)((A(e={},r,A({},"&:hover $".concat(o),{visibility:"visible"})),A(e,o,{visibility:"hidden"}),e))}();function j(e){var t=e.trip,n=e.visitsDict,r=e.countriesDict,a=e.locationsDict,o=e.children,l=e.className,s=e.variant,u=e.urls,f=_(),d=f.hoverTrigger,h=f.visibleOnHover,v=null==u?void 0:u.resolveTripEditUrl({tripId:t.tripId});return i.a.createElement(p.a,{variant:null!=s?s:void 0,className:c()(l,d),paragraph:!0},i.a.createElement("span",null,Object(T.a)(t,n,r,a)),o,v&&i.a.createElement(I.a,{className:h,href:v},i.a.createElement(S.a,null)))}j.defaultProps={variant:"h4"};var R=n(1203),P=n.n(R),N=n(122),C=n(1204),L=n.n(C),D=n(836),x=n(814),k=n(932),M=(n(106),n(1025),n(1026),n(1027),Object(a.a)({autoMargin:{marginLeft:"auto"}}));function F(e){var t=e.children,n=e.className,r=M(),a=i.a.Children.toArray(t);if(a.length<=1)return i.a.createElement(p.a,{className:n},t);var o=a.slice(-1),l=a.slice(0,-1);return i.a.createElement(x.a,{className:n,container:!0,justify:"space-between",alignItems:"center"},i.a.createElement(x.a,{item:!0},l),i.a.createElement(x.a,{item:!0,classes:{item:r.autoMargin}},o))}var V=Object(a.a)({halfDown:{position:"relative",top:12}});function z(e){var t=e.locationId,n=e.rideId,r=e.provision,a=e.provision,o=a.ridesDict,l=a.locationsDict,s=e.groupCountryId,u=e.children,c=e.locationInfoChildren,f=e.className,d=e.classes,p=e.urls,h=V(),v=l[t];return i.a.createElement(F,{className:f},i.a.createElement(g,{className:d.locationContainer,provision:r,location:v,showCountry:!s,locationUrl:null==p?void 0:p.resolveLocationUrl({locationId:t}),countryUrl:null==p?void 0:p.resolveCountryUrl({countryId:null==v?void 0:v.countryId})},c),s?u:i.a.createElement(x.a,{container:!0},i.a.createElement(x.a,{item:!0},u),i.a.createElement(x.a,{item:!0},i.a.createElement(k.a,{ride:o[n],className:h.halfDown}))))}z.defaultProps={classes:{}};var B,Y=Object(a.a)({locationContainer:{position:"relative"},detail:{color:"gray",fontSize:12},editButton:{position:"absolute",top:"-50%",left:"100%"}});function G(e){var t=e.visit,n=t.visitId,r=t.locationId,a=t.departureRideId,o=e.provision,l=e.provision.visitsDict,s=e.urls,u=e.isObscure,f=e.groupCountryId,d=e.className,h=Y(),v=_(),m=v.hoverTrigger,b=v.visibleOnHover,y=null==s?void 0:s.resolveVisitUrl({visitId:n});return i.a.createElement(z,{className:c()(d,m),classes:{locationContainer:h.locationContainer},locationId:r,rideId:a,provision:o,groupCountryId:f,urls:s,locationInfoChildren:y&&i.a.createElement(I.a,{className:c()(h.editButton,b),component:N.b,to:y},i.a.createElement(L.a,null))},i.a.createElement(p.a,{className:h.detail},Object(D.c)(l[n],u)))}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={LOCATIONS:"LOCATIONS",COUNTRIES:"COUNTRIES",YEARS:"YEARS",TRIPS:"TRIPS",JUST_VISITS:"JUST_VISITS"},W=(U(B={},H.TRIPS,{groupFieldName:"tripId",component:function(e){var t=e.classes,n=e.children,r=e.visitsGroup.field.value,a=e.provision,o=a.tripsDict,l=a.visitsDict,s=a.countriesDict,u=a.locationsDict,f=e.urls;return(i.a.createElement(j,{key:"t".concat(r),className:c()(t.container,t.header),classes:t,trip:o[r],visitsDict:l,countriesDict:s,locationsDict:u,variant:null,urls:f},n))},adapter:Number}),U(B,H.YEARS,{groupFieldName:function(e){return e.arrivalDateTime.getFullYear()},component:function(e){var t=e.children,n=e.visitsGroup.field.value,r=e.classes,a=O();return i.a.createElement(E,{className:c()(r.container,a.container),classes:r,year:n},t)},adapter:Number}),U(B,H.COUNTRIES,{groupFieldName:"countryId",component:v,adapter:Number}),U(B,H.LOCATIONS,{groupFieldName:"locationId",component:y,adapter:Number}),U(B,H.JUST_VISITS,{groupFieldName:"visitId",component:function(e){var t,n=e.visitsGroup,a=e.visitsGroup.visitsList,o=e.provision,l=e.provision,s=l.tripsDict,u=l.locationsDict,c=e.classes,f=e.urls,d=b(n,H.TRIPS),v=b(n,H.COUNTRIES),m=Object(r.useMemo)((function(){return v?P()(a,"locationId"):a}),[v,a]);if(!d)return i.a.createElement(i.a.Fragment,null,a.map((function(e){return i.a.createElement(h.a,{to:f.resolveVisitUrl({visitId:e.visitId}),optional:!0},i.a.createElement(p.a,{className:c.level},Object(D.c)(e,!1)))})));var y=null!==(t=s[d])&&void 0!==t?t:{},O=y.originLocationId,E=y.departureRideId,T=u[O];return i.a.createElement("div",{className:c.level},!v&&i.a.createElement(z,{locationId:O,rideId:E,provision:o,groupCountryId:v,className:c.header,urls:f}),m.map((function(e){return i.a.createElement(G,{className:c.header,key:"v".concat(e.visitId),visit:e,provision:o,isObscure:!1,groupCountryId:v,urls:f})})),!v&&i.a.createElement(g,{className:c.header,provision:o,location:T,showCountry:!v,locationUrl:null==f?void 0:f.resolveLocationUrl({locationId:O}),countryUrl:null==f?void 0:f.resolveCountryUrl({countryId:null==T?void 0:T.countryId})}))},adapter:Number}),B),q=(n(170),n(930)),$=n.n(q),K=n(230),X=n.n(K);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){var n=W[t],r=n.groupFieldName,i=n.adapter;return t===H.JUST_VISITS?[{field:{name:r,value:null},visitsList:e}]:function(e,t,n){return Object.entries($()(e,t)).map((function(e){var r=J(e,2),i=r[0],a=r[1];return{field:{name:X()(t)?t.name:t,value:n?n(i):i},visitsList:a}}))}(e,r,i)}n(353),n(354);var ee=n(1205),te=n.n(ee),ne=n(1206),re=n.n(ne);n(356),n(357),n(358),n(360),n(359),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(153),n(154),n(155),n(220);function ie(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var ae=function(e,t){var n;void 0===t&&(t=ie);var r,i=[],a=!1;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a&&n===this&&t(o,i)?r:(r=e.apply(this,o),a=!0,n=this,i=o,r)}},oe=n(547),le=n.n(oe);function se(e){var t=ae((function(t){return le()((function(n){return function(t,n){return Object.values(n).reduce((function(n,r){var i=r[e];return r.arrivalYear<t&&n.add(i),n}),new Set)}(n,t)}))}));return{calcTotal:function(t){return{total:new Set(t.map((function(t){return t[e]}))).size}},calcByYear:function(n,r,i){var a=t(n)(i),o=r.reduce((function(t,n){var r=n.arrivalYear,a=n[e];return r===i&&t.add(a),t}),new Set),l=o.difference(a);return{totalAtYear:o.size,newAtYear:l.size,newbies:l}}}}var ue=n(401),ce=n(494);function fe(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t,n){var r=t.visitsDict,i=t.ridesDict,a=n.considerRides,o=a?function(e,t,n){return function(r){var i,a,o=r.visitId,l=r.countryId,s=r.arrivalRideId,u=r.arrivalDateTime,c=r.departureRideId,f=r.departureDateTime,d=t[s];if(d){var p,h=d.departureVisitId,v=d.departureDateTime;("country"!==n||l&&l===(null===(p=e[h])||void 0===p?void 0:p.countryId))&&(i=v)}else i=u;var m=t[c];if(m){var b,y=m.arrivalVisitId,g=m.arrivalDateTime;("country"!==n||l&&l===(null===(b=e[y])||void 0===b?void 0:b.countryId))&&(a=g)}else a=f;return{startDate:i,endDate:a,stack:new Set([o])}}}(r,i,a):he,l=e.map(o),s=Object(ce.a)(fe(l)).toArray().reduce((function(e,t){var n=t.startDate,r=t.endDate,i=t.stack,a=Object(ue.a)(r,n)+1;return a>0&&e.push({stay:a,visitsIds:i,departureDateTime:r,arrivalDateTime:n}),e}),[]);return{detailedStats:s,totalStay:s.reduce((function(e,t){return e+t.stay}),0)}}function he(e){return{startDate:e.arrivalDateTime,endDate:e.departureDateTime}}function ve(e,t){var n=b(e,H.LOCATIONS),r=b(e,H.COUNTRIES),i=b(e,H.YEARS),a=e.plainGroup,o=e.visitsList;return{visitsStats:Ie(o),countriesStats:r?null:ge(o,t,{year:i}),locationsStats:n?null:we(o,t,{year:i}),daysTravellingStats:pe(o,t,{considerRides:!![H.COUNTRIES,H.YEARS].includes(a)&&a})}}var me=se("countryId"),be=me.calcTotal,ye=me.calcByYear;function ge(e,t,n){var r=t.visitsDict,i=n.year,a=i?ye(r,e,i):be(e);return{year:i,newAtYear:a.newAtYear,totalAtYear:a.totalAtYear,total:a.total,newbies:a.newbies}}var Oe=se("locationId"),Ee=Oe.calcTotal,Te=Oe.calcByYear;function Ie(e){return{visitsCount:e.length,firstVisit:te()(e,"arrivalDateTime"),lastVisit:re()(e,"departureDateTime")}}function we(e,t,n){var r=t.visitsDict,i=n.year,a=i?Te(r,e,i):Ee(e);return{year:i,newAtYear:a.newAtYear,totalAtYear:a.totalAtYear,total:a.total,newbies:a.newbies}}var Se=n(1210),Ae=n.n(Se),_e=n(1207),je=n.n(_e),Re=n(1292),Pe=Object(a.a)({statsIndicator:{display:"inline-flex",alignItems:"center",marginRLeft:"2px",marginRight:"4px"}});function Ne(e){var t=e.className,n=e.icon,r=e.children,a=e.hint,o=Pe(),l=i.a.createElement(p.a,{variant:"subtitle1",className:c()(t,o.statsIndicator)},i.a.cloneElement(n,{fontSize:"inherit"}),r);return a?i.a.createElement(Re.a,{title:a},l):l}function Ce(e){var t=e.countriesStats,n=t.year,r=t.newAtYear,a=t.totalAtYear,o=t.total,l=Boolean(n),s=function(e){var t=e.showByYear,n=e.year,r=e.newAtYear,a=e.totalAtYear,o=e.total;if(!t)return i.a.createElement("div",null,"Посещено ".concat(o," стран"));return(i.a.createElement("div",null,i.a.createElement("div",null,"За ".concat(n," год посещено ").concat(a," стран")),i.a.createElement("div",null,r?"Из них впервые ".concat(r," стран"):"Новых стран в этом году не было")))}({showByYear:l,year:n,newAtYear:r,totalAtYear:a,total:o}),u=Le({showByYear:l,newAtYear:r,totalAtYear:a,total:o});return i.a.createElement(Ne,{hint:s,icon:i.a.createElement(je.a,null)},u)}function Le(e){var t=e.showByYear,n=e.newAtYear,r=e.totalAtYear,i=e.total;return t?n?r===n?"+".concat(n):"".concat(r," (+").concat(n,")"):String(r):String(i)}var De=n(1208),xe=n.n(De);function ke(e){var t=e.locationsStats,n=t.year,r=t.newAtYear,a=t.totalAtYear,o=t.total,l=Boolean(n),s=function(e){var t=e.showByYear,n=e.year,r=e.newAtYear,a=e.totalAtYear,o=e.total;if(!t)return i.a.createElement("div",null,"Посещено ".concat(o," мест"));return(i.a.createElement("div",null,i.a.createElement("div",null,"За ".concat(n," год посещено ").concat(a," мест")),i.a.createElement("div",null,r?"Из них впервые ".concat(r," мест"):"Новых мест в этом году не было")))}({showByYear:l,year:n,newAtYear:r,totalAtYear:a,total:o}),u=Le({showByYear:l,newAtYear:r,totalAtYear:a,total:o});return i.a.createElement(Ne,{hint:s,icon:i.a.createElement(xe.a,null)},u)}n(355);var Me=n(1209),Fe=n.n(Me);function Ve(e){var t=e.className,n=e.daysTravellingStats,r=n.detailedStats,a=n.totalStay,o=e.provision.visitsDict;return a?i.a.createElement(Ne,{className:t,hint:ze(r,a,o),icon:i.a.createElement(Fe.a,null)},a):null}function ze(e,t,n){var r="Всего ".concat(t," дней в этом месте");if(1===e.length){var a=e[0],o=a.visitsIds,l=a.departureDateTime,s=a.arrivalDateTime,u=Object(D.c)({departureDateTime:l,arrivalDateTime:s}),c=Be(o,n);return i.a.createElement("div",null,"".concat(r," ").concat(u,". ").concat(c))}return(i.a.createElement("div",null,i.a.createElement("div",null,r),e.map((function(e,t){var r=e.stay,a=e.visitsIds,o=e.departureDateTime,l=e.arrivalDateTime,s=Object(D.c)({departureDateTime:o,arrivalDateTime:l}),u=Be(a,n);return i.a.createElement("div",{key:"v".concat(t)},"".concat(r," дней, ").concat(s,". ").concat(u))}))))}function Be(e,t){var n,r;return null!==(n=null==e?void 0:null===(r=e.map((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.locationName)&&void 0!==n?n:""})))||void 0===r?void 0:r.join(", "))&&void 0!==n?n:""}function Ye(e){var t=e.plainGroup,n=e.field.value;switch(t){case H.COUNTRIES:return function(e,t){var n,r,i,a;return null===(n=b(e,H.YEARS))||void 0===n?void 0:null===(r=n.stats)||void 0===r?void 0:null===(i=r.countriesStats)||void 0===i?void 0:null===(a=i.newbies)||void 0===a?void 0:a.has(t)}(e,n);case H.LOCATIONS:return function(e,t){var n,r,i,a,o=b(e,H.YEARS),l=b(e,H.COUNTRIES),s=null==l?void 0:null===(n=l.stats)||void 0===n?void 0:n.locationsStats;return!(!s||!s.newAtYear||!s.totalAtYear||s.newAtYear===s.totalAtYear)&&(null==o?void 0:null===(r=o.stats)||void 0===r?void 0:null===(i=r.locationsStats)||void 0===i?void 0:null===(a=i.newbies)||void 0===a?void 0:a.has(t))}(e,n);default:return!1}}var Ge=Object(a.a)({container:{color:"gray",display:"inline-flex",alignItems:"center",marginLeft:"4px"}});function Ue(e){var t,n,r,a=e.provision,o=e.visitsGroup,l=e.visitsGroup.stats,s=l.countriesStats,u=l.locationsStats,f=l.daysTravellingStats,d=e.config.StatsPanel,h=(d=void 0===d?{}:d).appearance,v=(h=void 0===h?{}:h).CountriesStats,m=void 0===v||v,y=h.LocationsStats,g=void 0===y||y,O=h.DaysTravellingStats,E=void 0===O||O,T=e.isObscure,I=Ge(),w=o.plainGroup===H.LOCATIONS,S=Boolean(b(o,H.COUNTRIES)),A=Boolean(b(o,H.LOCATIONS)),_=Boolean(b(o,H.YEARS)),j=E&&f&&!T?i.a.createElement(Ve,{className:c()((t={},n=I.visibleOnlyOnHover,r=w,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),daysTravellingStats:f,provision:a}):null;return i.a.createElement(p.a,{variant:"body1",className:I.container},_&&Ye(o)&&i.a.createElement(Ae.a,null),m&&!S&&i.a.createElement(Ce,{countriesStats:s}),g&&!A&&i.a.createElement(ke,{locationsStats:u}),j)}Ue.defaultProps={config:{}};var He={ALPHABET:"ALPHABET",RATING:"RATING",FIRST_VISIT:"FIRST_VISIT",LAST_VISIT:"LAST_VISIT",VISITS_COUNT:"VISITS_COUNT"},We=(n(864),n(865),n(866),n(867),n(375),n(376),n(377),n(535)),qe=n.n(We),$e=n(1211),Ke=n.n($e),Xe=n(553),Je=n.n(Xe),Ze=n(532),Qe=n.n(Ze);function et(e){return function(e){if(Array.isArray(e))return tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t,n,r){var i=t.flatMap((function(e){switch(e){case He.FIRST_VISIT:return it("stats.visitsStats.firstVisit.arrivalDateTime");case He.LAST_VISIT:return{iteratee:rt(it("stats.visitsStats.lastVisit.departureDateTime")),order:"desc"};case He.RATING:return function(e,t){switch(e){case H.LOCATIONS:return n=t.locationsRating,function(e){var t,r=e.field.value;return null!==(t=n[r])&&void 0!==t?t:10};default:return function(){return 0}}var n}(n,r);case He.VISITS_COUNT:return{iteratee:"stats.locationsStats.total",order:"desc"};case He.ALPHABET:default:return function(e,t){switch(e){case H.YEARS:return[{iteratee:rt("stats.visitsStats.firstVisit.arrivalYear"),order:"desc"}];case H.COUNTRIES:return r=t.countriesDict,function(e){var t,n=e.field.value;return(null!==(t=r[n])&&void 0!==t?t:{}).countryName};case H.LOCATIONS:return n=t.locationsDict,function(e){var t,r=e.field.value;return(null!==(t=n[r])&&void 0!==t?t:{}).locationName};default:return function(){return 0}}var n;var r}(n,r)}}));return i.some(Qe()("order"))?Ke.a.apply(void 0,[e].concat(et(function(e){return Object.values(e.reduce((function(e,t){var n=t.order?t:{iteratee:t},r=n.iteratee,i=void 0===r?[]:r,a=n.order,o=void 0===a?"asc":a;return e.iteratee.push(i),e.order.push(o),e}),{iteratee:[],order:[]}))}(i)))):qe()(e,i)}function rt(e){var t=Je()(e);return function(e){return t(e)||""}}function it(e){var t=Je()(e);return function(e){return(t(e)||"").valueOf()}}n(105);var at=n(1030);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e){var t=e.className,n=e.visitsGroup,r=e.provision,a=n.visitsList.flatMap((function(e){return e.photos.map((function(t){return lt(lt({},t),{},{description:ct(e,n,r)})}))}));return i.a.createElement(at.a,{className:t,photos:a})}function ct(e,t,n){var r=n.countriesDict,i=e.locationName,a=e.countryId,o=e.arrivalYear,l="",s=Boolean(b(t,H.LOCATIONS)),u=s||Boolean(b(t,H.COUNTRIES)),c=Boolean(b(t,H.YEARS));if(s||(l+=i),!u){var f,d=(null!==(f=r[a])&&void 0!==f?f:{}).countryName;d&&(l+=", ".concat(d))}return c||(l+="/".concat(o)),l}var ft=n(931),dt=n.n(ft),pt=n(822),ht=n(909);function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bt=Object(a.a)({container:{fontSize:"16px",lineHeight:"1.5"},visitContainer:{margin:"20px 0"},mapVisibilityToggle:{marginLeft:"8px",cursor:"pointer"},googleMapContainer:{margin:"12px 0",width:"800px",maxWidth:"100%",height:"400px",maxHeight:"100%"}});function yt(e){var t=e.className,n=e.visitsGroup,a=e.provision,o=a.visitsDict,l=a.locationsDict,s=a.locationsRating,u=e.onToggle,c=bt(),f=vt(Object(r.useState)(!1),2),d=f[0],p=f[1],h=dt()(n.visitsList.map((function(e){return e.locationId}))),v=Object(r.useRef)(!1);return Object(r.useEffect)((function(){v.current?u&&u(d):v.current=!0}),[d]),i.a.createElement("div",{className:t},i.a.createElement("div",null,i.a.createElement(pt.a,{variant:"body2",onClick:function(){p((function(e){return!e}))}},d?"скрыть карту":"на карте")),d&&i.a.createElement(ht.b,{className:c.mapContainer,locationsDict:l,visitsDict:o,locationsRating:s,locationsIds:h,minHeight:300,scaleBy:ht.a.BY_LAST_VISIT,ratingLevel:null}))}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ot(e){var t=e.children,n=e.classes,a=e.config,o=e.forwardingProps,l=e.isObscure,s=e.showMap,u=e.showPhotos,c=e.provision,f=e.urls,d=e.visitsGroup,p=e.VisitsGroupComponent,h=e.onHeightChange;return(i.a.createElement(r.Fragment,{key:d.field.value},i.a.createElement(p,gt({visitsGroup:d,classes:n,provision:c,urls:f,config:a},o),i.a.createElement(Ue,{visitsGroup:d,provision:c,isObscure:l,config:a})),t,u&&i.a.createElement(ut,{className:n.nextLevel,visitsGroup:d,provision:c}),s&&i.a.createElement(yt,{className:n.nextLevel,visitsGroup:d,provision:c,onToggle:h})))}var Et=i.a.memo(Ot);function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t){var n=t.rect;return e&&e.height===n.height&&e.width===n.width?e:n}n(385);function St(e,t){for(var n=e.measurements,r=e.outerSize,i=e.scrollOffset,a=n.length-1,o=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,a=n(i);if(a<r)e=i+1;else{if(!(a>r))return i;t=i-1}}return e>0?e-1:0}(0,a,(function(e){return n[e].start}),i),l=o;l<a&&n[l].end<i+r;)l++;return t.start!==o||t.end!==l?{start:o,end:l}:t}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jt=["align"];function Rt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||xt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mt=function(){return 50},Ft=function(e){return e};function Vt(e){var t,n=e.size,a=void 0===n?0:n,o=e.estimateSize,l=void 0===o?Mt:o,s=e.overscan,u=void 0===s?1:s,c=e.paddingStart,f=void 0===c?0:c,d=e.paddingEnd,p=void 0===d?0:d,h=e.parentRef,v=e.keyExtractor,m=void 0===v?Ft:v,b=function(){var e=Tt(i.a.useReducer(wt,{}),2),t=e[0],n=e[1];return Object(r.useLayoutEffect)((function(){n({rect:{height:window.innerHeight,width:window.innerWidth}})}),[]),Object(r.useEffect)((function(){var e=function(){n({rect:{height:window.innerHeight,width:window.innerWidth}})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t}().height,y=i.a.useRef({scrollOffset:0,measurements:[],outerSize:void 0,totalSize:void 0});y.current.outerSize=b;var g=Dt(i.a.useState({}),2),O=g[0],E=g[1],T=Dt(i.a.useReducer((function(e){return e+1}),0),2),I=T[0],w=T[1],S=i.a.useRef([]),A=i.a.useMemo((function(){var e=S.current.length>0?Math.min.apply(Math,Lt(S.current)):0;S.current=[];for(var t=y.current.measurements.slice(0,e),n=e;n<a;n++){var r=m(n),i=O[r],o=t[n-1]?t[n-1].end:f,s="number"==typeof i?i:l(n),u=o+s;t[n]={index:n,start:o,size:s,end:u,key:r}}return t}),[l,O,f,a,m]),_=((null===(t=A[a-1])||void 0===t?void 0:t.end)||0)+p;y.current.measurements=A,y.current.totalSize=_;var j=function(e){var t=e.measurements,n=e.outerSize,a=e.latestRef,o=e.parentRef,l=At(i.a.useState({start:0,end:0}),2),s=l[0],u=l[1],c=i.a.useRef(null),f=i.a.useCallback((function(){null!==c.current&&(clearTimeout(c.current),c.current=null)}),[]);return Object(r.useLayoutEffect)((function(){return c.current=setTimeout((function(){u((function(e){return St(a.current,e)}))})),function(){return f()}}),[t,n,f]),Object(r.useLayoutEffect)((function(){var e=function(){a.current.scrollOffset=o.current?function(e){return-1*e.current.getBoundingClientRect().top}(o):0,f(),u((function(e){return St(a.current,e)}))};return e(),window.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){window.removeEventListener("scroll",e)}}),[f]),s}({measurements:A,outerSize:b,latestRef:y,parentRef:h}),R=i.a.useMemo((function(){for(var e=function(e){for(var t=Math.max(e.start-e.overscan,0),n=Math.min(e.end+e.overscan,e.size-1),r=[],i=t;i<=n;i++)r.push(i);return r}({start:j.start,end:j.end,overscan:u,size:A.length}),t=[],n=function(n,r){var i=e[n],a=Nt(Nt({},A[i]),{},{measureRef:function(e){if(e){var t=e.offsetHeight;if(t!==a.size){var n=y.current.scrollOffset;a.start<n&&zt(n+(t-a.size)),S.current.push(i),E((function(e){return Nt(Nt({},e),{},Ct({},a.key,t))}))}}}});t.push(a)},r=0,i=e.length;r<i;r++)n(r);return t}),[A,u,j.end,j.start,I]),P=i.a.useRef();Object(r.useLayoutEffect)((function(){P.current&&l&&E({}),P.current=!0}),[l]);var N=i.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.align,r=void 0===n?"start":n,i=y.current,a=i.scrollOffset,o=i.outerSize;"auto"===r&&(r=e<=a?"start":e>=a+o?"end":"start"),"start"===r?zt(e):"end"===r?zt(e-o):"center"===r&&zt(e-o/2)}),[]),C=i.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.align,r=void 0===n?"auto":n,i=Rt(t,jt),o=y.current,l=o.measurements,s=o.scrollOffset,u=o.outerSize,c=l[Math.max(0,Math.min(e,a-1))];if(c){if("auto"===r)if(c.end>=s+u)r="end";else{if(!(c.start<=s))return;r="start"}var f="center"===r?c.start+c.size/2:"end"===r?c.end:c.start;N(f,Nt({align:r},i))}}),[N,a]),L=i.a.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C.apply(void 0,t),requestAnimationFrame((function(){C.apply(void 0,t)}))}),[C]);return{virtualItems:R,totalSize:_,scrollToOffset:N,scrollToIndex:L,measure:w}}function zt(e){window.scrollY=e}var Bt=Object(r.forwardRef)((function(e,t){var n=e.children,a=e.items,o=e.overscan,l=Object(r.useRef)(),s=Vt({parentRef:l,size:a.length,estimateSize:Yt,overscan:o}),u=s.virtualItems,c=s.totalSize,f=s.measure;return Object(r.useImperativeHandle)(t,(function(){return{measure:f}})),i.a.createElement("div",{ref:l,style:{height:c}},i.a.createElement("div",{style:{height:c,position:"relative"}},u.map((function(e){return i.a.createElement("div",{key:e.index,ref:e.measureRef,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(e.start,"px)")}},n({item:a[e.index],virtualItem:e,index:e.index,measure:f}))}))))}));function Yt(){return 500}var Gt=Object(r.forwardRef)((function(e,t){var n=e.children,a=e.items;return Object(r.useImperativeHandle)(t,(function(){return{measure:Ut}})),i.a.createElement(i.a.Fragment,null,a.map((function(e,t){return n({item:e,virtualItem:null,index:t,measure:Ut})})))}));function Ut(){return null}var Ht=["children","items","bypass"];function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $t=Object(r.forwardRef)((function(e,t){var n=e.children,r=e.items,a=e.bypass,o=qt(e,Ht),l=a?Gt:Bt;return i.a.createElement(l,Wt({ref:t,items:r},o),n)}));function Kt(e){var t=e.className,n=e.onExpand,r=e.onExpandAll,a=e.diffCount;return(i.a.createElement(p.a,{className:t,variant:"body2"},i.a.createElement(pt.a,{onClick:n},"показать еще ".concat(a)),Boolean(r)&&i.a.createElement(i.a.Fragment,null,", ",i.a.createElement(pt.a,{onClick:r},"раскрыть все"))))}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e){var t=e.classes,n=e.collapsible,a=e.children,o=e.items,l=e.onExpand,s=e.onExpandAll,u=e.alwaysExpandedItemsCount,c=e.collapsibleThreshold,f=Xt(Object(r.useState)(!0),2),d=f[0],p=f[1],h=n&&o.length>u+c&&d,v=h?o.slice(0,u):o;return i.a.createElement(i.a.Fragment,null,a({items:v}),h&&i.a.createElement(Kt,{className:t.actions,diffCount:o.length-v.length,onExpand:function(e){l(e),p(!1)},onExpandAll:s}))}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e){return sn(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||on(e)||an()}function rn(e,t){return sn(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||on(e,t)||an()}function an(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function on(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sn(e){if(Array.isArray(e))return e}function un(e){var t=e.classes,n=e.children,a=e.provision,o=e.urls,l=e.config,s=e.visitsList,u=e.groupsOrder,f=e.sortingOrder,p=e.isObscure,h=e.mapSectionLevel,v=e.photosSectionLevel,m=e.forwardingProps,b=e.virtualize,y=Object(r.useRef)(),g=rn(Object(r.useState)(!0),2),O=g[0],E=g[1],T=Object(r.useCallback)((function(){return E(!1)}),[]);Object(r.useEffect)((function(){var e;return null===(e=y.current)||void 0===e?void 0:e.measure()}),[O]);var I=!b;return function e(r,s){var u,b=nn(s),g=b[0],E=b.slice(1);if(!g)return null;var w=W[g].component,S=r.visitsList,A=function(e){var t=e,n=0;for(;t;)n+=1,t=t.parent;return Math.max(0,n-1)}(r),_=A+s.length,j=function(e,t){return d()(3-t+e,0,2)}(A,_),R=nt(Q(S,g).map((function(e){var t=en(en({},e),{},{plainGroup:g,parent:r});return t.stats=ve(t,a),t})),f,g,a),P=I;I||(I=!0);return(i.a.createElement(i.a.Fragment,null,i.a.createElement(Zt,{classes:{actions:c()(t.link,t["level".concat(A)])},collapsible:O&&g===H.LOCATIONS,items:R,onExpand:null===(u=y.current)||void 0===u?void 0:u.measure,onExpandAll:T},(function(r){var s=r.items;return(i.a.createElement($t,{items:s,bypass:P,ref:P?void 0:y},(function(r){var s,u,c,f,d,b=r.item,g=r.index;return i.a.createElement(Et,{key:(u=b.field,c=null!=u?u:{},f=c.name,d=c.value,"".concat(f,":").concat(d)),classes:cn(t,{nestingLevel:A,sectionLevel:j,isFirstChild:0===g}),visitsGroup:b,VisitsGroupComponent:w,config:l,isObscure:p,provision:a,urls:o,forwardingProps:m,showMap:j===h,showPhotos:j===v,onHeightChange:null===(s=y.current)||void 0===s?void 0:s.measure},null==n?void 0:n({level:A,index:g,visitsGroup:b}),e(b,E))})))}))))}({visitsList:s,parent:null,field:null},u)}Zt.defaultProps={alwaysExpandedItemsCount:10,collapsibleThreshold:2};function cn(e,t){var n=t.nestingLevel,r=t.sectionLevel,i=t.isFirstChild;return{level:e["level".concat(n)],nextLevel:e["level".concat(n+1)],container:c()(e["level".concat(n)],e["container".concat(r)],tn({},e.noMarginTop,i&&0===n)),header:e["header".concat(r)]}}var fn=["visitsList","groupsOrder","sortingOrder","filteringOption","provision","urls","config","mapSectionLevel","photosSectionLevel","children","virtualize"];function dn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mn=Object(a.a)((function(e){return{noMarginTop:{},link:{cursor:"pointer"},header0:hn(hn({},e.typography.h2),{},{wordBreak:"break-word"}),container0:{display:"flex",alignItems:"self-start","&:not($noMarginTop)":{marginTop:"64px"}},level0:{},header1:hn(hn({},e.typography.h4),{},{wordBreak:"break-word"}),container1:{display:"flex",alignItems:"self-start",marginTop:"18px",marginBottom:"6px"},level1:vn({},e.breakpoints.up("sm"),{paddingLeft:"32px"}),header2:hn(hn({},e.typography.body1),{},{wordBreak:"break-word"}),container2:{display:"flex",alignItems:"center"},level2:vn({},e.breakpoints.up("sm"),{paddingLeft:"96px"})}}));function bn(e){var t=e.visitsList,n=e.groupsOrder,r=e.sortingOrder,i=e.filteringOption,a=e.provision,o=e.urls,s=e.config,u=e.mapSectionLevel,c=e.photosSectionLevel,f=e.children,d=e.virtualize,p=dn(e,fn);return un({classes:mn(),children:f,provision:a,urls:o,config:s,visitsList:t.filter(l(a,i)),groupsOrder:n,sortingOrder:r,mapSectionLevel:u,photosSectionLevel:c,virtualize:d,forwardingProps:p})}bn.defaultProps={mapSectionLevel:1,photosSectionLevel:1};t.e=bn},904:function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(811),o=n(836),l=n(837),s=n(905),u=Object(a.a)({container:{display:"inline-block",marginRight:"4px"},icon:{marginRight:"4px",display:"inline-block",verticalAlign:"text-bottom"},period:{display:"inline",color:"gray",fontSize:12}}),c=function(e){var t=e.visit,n=e.isLong,r=e.locationUrl,a=u();if(!t)return"Не указано";var c=t.locationName;return(i.a.createElement("div",{className:a.container},i.a.createElement(s.a,{visit:t,className:a.icon}),i.a.createElement(l.a,{to:r,optional:!0},c),n?", ":"",i.a.createElement("div",{className:a.period},n&&Object(o.c)(t))))};c.defaultProps={visit:{}},t.a=c},905:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),i=n.n(r),a=n(1e3),o=n.n(a),l=n(998),s=n.n(l),u=n(906),c=n.n(u),f=n(999),d=n.n(f),p=n(290);function h(e){var t=e.visit.visitType,n=e.className,r=function(e){switch(e){case p.VISIT_TYPES.TRANSIT:return s.a;case p.VISIT_TYPES.BASE_CAMP:return d.a;case p.VISIT_TYPES.RELOCATION:return c.a;case p.VISIT_TYPES.REGULAR:default:return o.a}}(t);return i.a.createElement(r,{className:n})}},907:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n(0),i=n.n(r),a=n(1014),o=n.n(a),l=n(1013),s=n.n(l),u=n(1011),c=n.n(u),f=n(1008),d=n.n(f),p=n(1022),h=n.n(p),v=n(1010),m=n.n(v),b=n(1016),y=n.n(b),g=n(1017),O=n.n(g),E=n(1009),T=n.n(E),I=n(906),w=n.n(I),S=n(1012),A=n.n(S),_=n(1015),j=n.n(_),R=n(1018),P=n.n(R),N=n(1019),C=n.n(N),L=n(1020),D=n.n(L),x=n(1021),k=n.n(x),M=n(1023),F=n.n(M),V=n(128);function z(e){var t=e.ride.vehicleType,n=e.className,r=function(e){switch(e){case V.VEHICLE_TYPES.CAR:return d.a;case V.VEHICLE_TYPES.TRAIN:return T.a;case V.VEHICLE_TYPES.AIRCRAFT:return m.a;case V.VEHICLE_TYPES.BUS:case V.VEHICLE_TYPES.TROLLEY:case V.VEHICLE_TYPES.CITY_BUS:return c.a;case V.VEHICLE_TYPES.MOTORHOME:case V.VEHICLE_TYPES.JITNEY:return A.a;case V.VEHICLE_TYPES.LOCAL_TRAIN:return T.a;case V.VEHICLE_TYPES.FERRY:return s.a;case V.VEHICLE_TYPES.BIKE:return o.a;case V.VEHICLE_TYPES.BY_FEET:return j.a;case V.VEHICLE_TYPES.MOTORBIKE:return y.a;case V.VEHICLE_TYPES.TRUCK:return w.a;case V.VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:return O.a;case V.VEHICLE_TYPES.TRAM:return P.a;case V.VEHICLE_TYPES.TAXI:return C.a;case V.VEHICLE_TYPES.SUBWAY:return D.a;case V.VEHICLE_TYPES.PUBLIC_TRANSPORT:return k.a;case V.VEHICLE_TYPES.ROPEWAY:case V.VEHICLE_TYPES.FUNICULAR:return h.a;default:return F.a}}(t);return i.a.createElement(r,{className:n})}},909:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return $})),n.d(t,"b",(function(){return Q}));n(71),n(72),n(73),n(353),n(354),n(220),n(23),n(35),n(14),n(26),n(12),n(27),n(22),n(28),n(50),n(37),n(44),n(45),n(46),n(51),n(49);var r,i=n(0),a=n.n(i),o=n(2),l=n.n(o),s=n(115),u=n.n(s),c=n(990),f=n.n(c),d=n(811),p=n(294),h=n(295),v=(n(153),n(154),n(155),n(850)),m=n.n(v),b=n(856),y=n.n(b);function g(e){var t=e.locationsIds,n=e.locationsDict,r=e.visitsDict,i=e.locationsRating;return t.map((function(e){var t,a=n[e];if(!a)return null;var o=a.lon,l=a.lat,s=a.locationName,u=a.visitsIds,c=function(e,t){return e.reduce((function(e,n){var r=t[n];if(r){var i=r.arrivalDateTime,a=r.departureDateTime;e.firstVisitDateTime=m()([e.firstVisitDateTime,i]),e.lastVisitDateTime=y()([e.lastVisitDateTime,a])}return e}),{firstVisitDateTime:null,lastVisitDateTime:null})}(null!=u?u:[],r);return{locationName:s,lat:l,lon:o,firstVisitDateTime:c.firstVisitDateTime,lastVisitDateTime:c.lastVisitDateTime,locationRating:i[e],visitsCount:null===(t=a.visitsIds)||void 0===t?void 0:t.length}}))}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={BY_FIRST_VISIT:"fv",BY_LAST_VISIT:"lv",BY_VISITS_COUNT:"vc",BY_RATING:"r"},T=E.BY_LAST_VISIT,I=["step_by_time_1_zjtrlw.png","step_by_time_2_tvotvg.png","step_by_time_3_ylj1vi.png","step_by_time_4_uovfrs.png","step_by_time_5_s4jq0u.png","step_by_time_6_lmihnf.png"],w=(O(r={},E.BY_FIRST_VISIT,I),O(r,E.BY_LAST_VISIT,I),O(r,E.BY_VISITS_COUNT,["step_by_visits_1_zv3tba.png","step_by_visits_2_qthjqa.png","step_by_visits_3_xcjyla.png","step_by_visits_4_kwdwka.png","step_by_visits_5_xnnipa.png"]),O(r,E.BY_RATING,["step_by_rating_1_id2qgb.png","step_by_rating_2_iiqvik.png","step_by_rating_3_x2gzsd.png","step_by_rating_4_cbqdcn.png","step_by_rating_5_viyhls.png","step_by_rating_6_zzfgki.png","step_by_rating_7_pjjhhq.png","step_by_rating_8_vgetsd.png","step_by_rating_9_t6tenz.png","step_by_rating_10_yjywr0.png"]),r),S={ALL:"all",WANT_COME_BACK:"good",LOVE_THIS_PLACE:"best"},A=S.ALL,_=n(285);function j(e){var t=e.visitsCount;switch(!0){case t>10:return 5;case t>5:return 4;case t>2:return 3;case t>1:return 2;default:return 1}}function R(e){switch(e.locationRating){case _.LOCATION_RATING.PLACE_TO_LIVE:return 1;case _.LOCATION_RATING.FEW_PER_YEAR:case _.LOCATION_RATING.ONCE_PER_YEAR:return 3;case _.LOCATION_RATING.ONCE_PER_TWO_YEARS:case _.LOCATION_RATING.ONCE_PER_FIVE_YEARS:return 4;case _.LOCATION_RATING.ONCE_PER_DECADE:case _.LOCATION_RATING.TWICE_PER_LIVE:return 7;case _.LOCATION_RATING.ONCE_PER_LIVE:return 9;case _.LOCATION_RATING.NEVER:return 10;default:return 6}}function P(e){return{resolveStep:function(t,n){var r=(t[e]-n.minTime)/n.diff*6;return Math.min(Math.max(Math.floor(r),0),6)},resolveOptions:function(t){var n=t.map((function(t){return t[e]&&t[e].getTime()})).filter(Boolean),r=m()(n);return{minTime:r,diff:y()(n)+1-r}}}}n(355);var N=n(842),C=n(847);function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"eeeeee, d MMMM yyyy";return Object(C.a)(e,t,{locale:N.a})}function D(e){switch(e){case _.LOCATION_RATING.PLACE_TO_LIVE:return"Жил бы здесь";case _.LOCATION_RATING.FEW_PER_YEAR:case _.LOCATION_RATING.ONCE_PER_YEAR:return"Готов ездить сюда постоянно";case _.LOCATION_RATING.ONCE_PER_TWO_YEARS:case _.LOCATION_RATING.ONCE_PER_FIVE_YEARS:return"Приезжал бы иногда";case _.LOCATION_RATING.ONCE_PER_DECADE:case _.LOCATION_RATING.TWICE_PER_LIVE:return"Заглянул бы еще разок";case _.LOCATION_RATING.ONCE_PER_LIVE:return"Одного посещения достаточно";case _.LOCATION_RATING.NEVER:return"Тут нечего делать";default:return"?"}}n(64);function x(e,t){if(!t)return"".concat("https://res.cloudinary.com/dc2eke0gj/image/upload/markers/").concat(I[0]);var n=w[t],r=n[e-1]||n[0];return"".concat("https://res.cloudinary.com/dc2eke0gj/image/upload/markers/").concat(r)}n(43),n(29),n(30),n(17),n(20),n(18),n(40),n(42),n(41),n(24),n(36);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=n(232),V=n(815),z=n(816),B=n(818),Y=n(828),G=n(1279),U=n(1264);function H(e){var t=e.classes,n=e.scaleBy,r=e.onClose,i=e.onChange;return(a.a.createElement(V.a,null,a.a.createElement(z.a,null,a.a.createElement(B.a,{className:t.formControl},a.a.createElement(Y.a,{shrink:!0,id:"select-scaleBy-filter-label"},"Раскрасить маркеры"),a.a.createElement(G.a,{labelId:"select-scaleBy-filter-label",autoWidth:!0,id:"select-scaleBy-filter",value:n,onChange:function(e){r();var t,n,a,o=e.target.value,l=(a=o,(n="scale")in(t={})?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t);o!==E.BY_RATING&&(l.rating=void 0),i(l)}},a.a.createElement(U.a,{key:E.BY_FIRST_VISIT,value:E.BY_FIRST_VISIT},"По первому посещению"),a.a.createElement(U.a,{key:E.BY_LAST_VISIT,value:E.BY_LAST_VISIT},"По последнему посещению"),a.a.createElement(U.a,{key:E.BY_VISITS_COUNT,value:E.BY_VISITS_COUNT},"По числу посещений"),a.a.createElement(U.a,{key:E.BY_RATING,value:E.BY_RATING},"По рейтингу"))))))}function W(e){var t=e.classes,n=e.ratingLevel,r=e.onClose,i=e.onChange;return(a.a.createElement(V.a,null,a.a.createElement(z.a,null,a.a.createElement(B.a,{className:t.formControl},a.a.createElement(Y.a,{shrink:!0,id:"select-ratingLevel-filter-label"},"Фильтр по рейтингу"),a.a.createElement(G.a,{labelId:"select-ratingLevel-filter-label",autoWidth:!0,id:"select-ratingLevel-filter",value:n,onChange:function(e){var t,n,a;r(),i((t={},n="rating",a=e.target.value,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))}},a.a.createElement(U.a,{key:S.ALL,value:S.ALL},"Все"),a.a.createElement(U.a,{key:S.WANT_COME_BACK,value:S.WANT_COME_BACK},"Куда бы вернулся"),a.a.createElement(U.a,{key:S.LOVE_THIS_PLACE,value:S.LOVE_THIS_PLACE},"Лучшие места"))))))}H.propTypes={classes:l.a.shape({formControl:l.a.string.isRequired}).isRequired,scaleBy:l.a.oneOf(Object.values(E)).isRequired,onClose:l.a.func.isRequired,onChange:l.a.func.isRequired},W.propTypes={classes:l.a.shape({formControl:l.a.string.isRequired}).isRequired,ratingLevel:l.a.oneOf(Object.values(S)).isRequired,onClose:l.a.func.isRequired,onChange:l.a.func.isRequired};var q=Object(d.a)({formControl:{width:"100%"}}),$=function(e,t){var n=q(),r=t||{},i=r.scale,o=r.rating,l=function(e){return Object.values(E).includes(e)?e:T}(i),s=function(e){return Object.values(S).includes(e)?e:A}(o);return Object(F.b)((function(t){var r=t.closeSidebar;return(a.a.createElement(a.a.Fragment,null,a.a.createElement(H,{classes:n,onClose:r,scaleBy:l,onChange:e}),l===E.BY_RATING&&a.a.createElement(W,{classes:n,onClose:r,ratingLevel:s,onChange:e})))}),[l,s]),{scaleBy:l,ratingLevel:s}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=Object(d.a)({googleMapContainer:{margin:"12px 0",maxWidth:"100%",flexGrow:1,minHeight:function(e){return e.minHeight},position:"relative"},googleMapPosition:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}});function Q(e){var t=e.className,n=e.locationsDict,r=e.visitsDict,o=e.locationsRating,l=e.locationsIds,s=e.minHeight,c=e.scaleBy,d=e.ratingLevel,p=Z({minHeight:s}),h=function(e){var t=k(Object(i.useState)(null),2),n=t[0],r=t[1],a=Object(i.useRef)(!0);return Object(i.useEffect)((function(){if(n){var t=n.map,r=n.maps,i=new r.LatLngBounds,o=e.map((function(e){var n=e.lat,a=e.lon,o=e.iconUrl,l=e.title,s=e.zIndex,u=new r.Marker({map:t,position:{lat:n,lng:a},icon:{url:o,scaledSize:new r.Size(24,24)},scale:.5,title:l,zIndex:s});return i.extend(u.position),u}));return a.current&&(t.setOptions({maxZoom:11,minZoom:2}),t.fitBounds(i),t.setOptions({maxZoom:null,minZoom:null}),a.current=!1),function(){o.forEach((function(e){e.setMap(null),e.setVisible(!1)})),o.length=0}}}),[n,e]),{handleGoogleApiLoaded:function(e){return r(e)}}}(Object(i.useMemo)((function(){var e=function(e,t){var n=t.ratingLevel,r=e.filter(Boolean);return Object.values(S).includes(n)&&n!==S.ALL?r.filter((function(e){var t=e.locationRating,r=e.visitsCount;switch(n){case S.WANT_COME_BACK:return r<2?t<=_.LOCATION_RATING.TWICE_PER_LIVE:t<=_.LOCATION_RATING.ONCE_PER_DECADE;case S.LOVE_THIS_PLACE:return t<=_.LOCATION_RATING.ONCE_PER_YEAR;default:return!0}})):r}(g({locationsDict:n,visitsDict:r,locationsRating:o,locationsIds:l}),{ratingLevel:d}),t=function(e){switch(e){case E.BY_VISITS_COUNT:return{resolveStep:j};case E.BY_RATING:return{resolveStep:R};case E.BY_LAST_VISIT:return P("lastVisitDateTime");case E.BY_FIRST_VISIT:return P("firstVisitDateTime");default:return{resolveStep:function(){return 1}}}}(c),i=t.resolveStep,a=t.resolveOptions,s=a&&a(e);return e.map((function(e){var t,n,r,a,o,l,u=i(e,s);return X(X({},e),{},{zIndex:[E.BY_RATING,E.BY_FIRST_VISIT].includes(c)?10-u:u,iconUrl:x(u,c),title:(t=e,n=t.locationName,r=t.locationRating,a=t.visitsCount,o=t.firstVisitDateTime,l=t.lastVisitDateTime,[n,"Посещено ".concat(a," раз"),"Впервые ".concat(L(o)),a>1&&"Прошлое посешение ".concat(L(l)),"Рейтинг: ".concat(D(r))].filter(Boolean).join("\n"))})}))}),[n,r,o,l,c,d])).handleGoogleApiLoaded;return a.a.createElement("div",{className:u()(t,p.googleMapContainer)},a.a.createElement("div",{className:p.googleMapPosition},a.a.createElement(f.a,{bootstrapURLKeys:{key:"AIzaSyCvP0e64ui7WpXKBdzOyEmkb4l5RuGy3Zs"},center:{lat:0,lng:0},zoom:11,onGoogleApiLoaded:h})))}Q.propTypes={className:l.a.string,visitsDict:l.a.objectOf(l.a.shape(h.default)).isRequired,locationsDict:l.a.objectOf(l.a.shape(p.default)).isRequired,locationsIds:l.a.arrayOf(l.a.number).isRequired,locationsRating:l.a.objectOf(l.a.number).isRequired,minHeight:l.a.number,scaleBy:l.a.oneOf(Object.values(E)).isRequired,ratingLevel:l.a.oneOf(Object.values(S)).isRequired},Q.defaultProps={className:void 0,minHeight:"400px"}},932:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),i=n.n(r),a=n(811),o=n(1024),l=n.n(o),s=n(836),u=n(128),c=n(907),f=Object(a.a)({icon:{color:"gray",fontSize:16,height:16},absoluteIcon:{color:"gray",fontSize:16,height:16,position:"absolute"},detail:{color:"gray",fontSize:12}});function d(e){var t=e.ride,n=e.ride,r=(n=void 0===n?{}:n).rideType,a=e.className,o=e.isLong,d=f();return t?i.a.createElement("div",{className:a},i.a.createElement(c.a,{ride:t,className:d.icon}),r===u.RIDE_TYPES.HITCH_HIKING&&i.a.createElement(l.a,{className:d.absoluteIcon}),o&&Object(s.b)(t)):null}},933:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(68);function a(e){var t=e.editable,n=e.userAlias,a=e.section,o=Object(i.d)().travel;return Object(r.useMemo)((function(){return{hyperlinks:function(){},locationsUrl:o.locations.toUrl({userAlias:n,section:a}),tripCreateUrl:t?o.tripCreate.toUrl({userAlias:n}):null,resolveLocationUrl:function(e){var t=e.locationId;return o.location.toUrl({userAlias:n,section:a,strLocationId:String(t)})},resolveCountryUrl:function(e){var t=e.countryId;return o.country.toUrl({userAlias:n,section:a,strCountryId:String(t)})},resolveTripEditUrl:function(e){var r=e.tripId;return t?o.tripEdit.toUrl({strTripId:String(r),userAlias:n}):null},resolveVisitUrl:function(e){var r=e.visitId;return t?o.visit.toUrl({userAlias:n,section:a,strVisitId:String(r)}):null}}}),[t,o])}},940:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(858),n(71),n(72),n(73),n(35),n(26),n(12),n(27),n(22),n(28),n(64),n(284);var r=n(1005),i=n(1006),a=n(930),o=n.n(a),l=(n(355),n(40),n(931)),s=n.n(l),u=function(e,t){var n=t.maxLength,r=t.separator,i=void 0===r?", ":r,a=s()(e),o=a.slice(0,n).join(i);return a.length>n?"".concat(o,"..."):o},c=n(290),f=n(836);function d(e,t,n,a){var l,s=e||{},d=s.visits,p=s.originLocationId,h=s.tripName,v=s.hasAutogeneratedTripName,m=null===(l=a[p])||void 0===l?void 0:l.countryId;if(!v)return h||"Без названия";if(!d.length)return"Без названия";var b=Object(f.c)({arrivalDateTime:Object(r.a)(d.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.arrivalDateTime}))),departureDateTime:Object(i.a)(d.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.departureDateTime})))}),y=Object.keys(o()(d.filter((function(e){var n;return(null===(n=t[e])||void 0===n?void 0:n.visitType)!==c.VISIT_TYPES.TRANSIT})),"countryId"));if(1===y.length){var g=u(d.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.locationName})),{maxLength:4});return"".concat(g||"Без названия",", ").concat(b)}var O=u(y.map((function(e){return Number(e)!==m&&n[e]&&n[e].countryName})).filter(Boolean),{maxLength:4});return"".concat(O||"Без названия",", ").concat(b)}}}]);
//# sourceMappingURL=travel-Places-2ed9671ef870d21865b6.js.map