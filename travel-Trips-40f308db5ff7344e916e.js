(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1128:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a.n(i),n=a(1),o=a.n(n),l=a(292),s=a.n(l),c=a(211),u=a(30),d=a(129),p=a(106),f=a(869),m=(a(865),a(906)),v=a(205),E=a(203),b=(a(925),a(846)),O=a(207),g=a(204),y=a(1069),I=a(827),h=a(9),S=a(297),R=a.n(S),T=a(946),P=a.n(T),C=function(e){for(var t=e.target;t;){if(t.dataset&&"enabled"===t.dataset.sortHandler)return!1;t=t.parentNode}return!0};function j(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var V=a(130),N=a(926),L=a(209),D=a(959),A=a(149),w=a.n(A),_=a(927),q=a(935),Y=a.n(q),H=a(934),U=a.n(H),x=a(932),k=a.n(x),F=a(929),M=a.n(F),B=a(943),G=a.n(B),W=a(931),K=a.n(W),z=a(937),$=a.n(z),J=a(938),X=a.n(J),Q=a(930),Z=a.n(Q),ee=a(900),te=a.n(ee),ae=a(933),ie=a.n(ae),re=a(936),ne=a.n(re),oe=a(939),le=a.n(oe),se=a(940),ce=a.n(se),ue=a(941),de=a.n(ue),pe=a(942),fe=a.n(pe),me=a(945),ve=a.n(me),Ee=a(944),be=a.n(Ee),Oe=a(928),ge=a(80),ye=a(279),Ie=a(1097),he=a(1061),Se=a(1118),Re=a(1122),Te=a(1120),Pe=a(1121),Ce=a(1119);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ne=function(e){var t=e.children,a=e.description,i=e.onReject,n=e.onSubmit,o=e.title,l=Ve(e,["children","description","onReject","onSubmit","title"]);return r.a.createElement(Ie.a,je({},l,{onSubmit:n}),function(e){var n=e.handleSubmit,l=Ve(e,["handleSubmit"]);return r.a.createElement(Se.a,{transitionDuration:500,open:!0,onClose:i,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ce.a,{id:"form-dialog-title"},o),r.a.createElement(Te.a,null,r.a.createElement(Pe.a,null,a),r.a.cloneElement(t,l)),r.a.createElement(Re.a,null,r.a.createElement(he.a,{onClick:i,color:"secondary"},"Отмена"),r.a.createElement(he.a,{onClick:n,color:"primary"},"Сохранить")))})};Ne.propTypes={children:o.a.node.isRequired,description:o.a.node,onReject:o.a.func.isRequired,onSubmit:o.a.func.isRequired,title:o.a.node},Ne.defaultProps={description:void 0,title:void 0};var Le=Ne,De=a(1124),Ae=a(1139),we=a(1132),_e=a(1123),qe=a(1136),Ye=a(899),He=a(898),Ue=a(331),xe=a(332),ke=a(278),Fe=a(188),Me=function(e){var t=e.dateFrom,a=e.timeFrom;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())},Be=function(e){var t=e.values,a=t.rideDeparture,i=t.rideArrival,r=e.handleChange,n=Object(Ue.a)(a,i),o=function(e,t){var n,o,l=(n=e,o=t,Object(Fe.a)(n,o)),s=l?t:e,c=l?e:t;Object(xe.a)(a,s)||function(e){r("departureDateTime")(e)}(s),Object(xe.a)(i,c)||function(e){r("arrivalDateTime")(e)}(c)};return{isSameDateField:{value:n,onChange:function(e){Boolean(n)!==Boolean(e)&&o(a,Me({dateFrom:e?a:Object(ke.a)(a,1),timeFrom:i}))}},rideDepartureField:{value:a,onChange:function(e){var t=n?Me({timeFrom:i,dateFrom:e}):i;o(e,t)}},rideArrivalField:{value:i,onChange:function(e){var t=n?Me({timeFrom:a,dateFrom:e}):a;o(t,e)}}}};function Ge(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var We=null,Ke=function(e){var t=e.option;return t?He.d[t]:"Не указан"},ze=function(e){var t=e.option;return t?He.c[t]:"Не указан"},$e=function(e){var t=e.option;return t?He.a[t]:"Не указан"},Je=function(e){var t=e.option;return t?He.b[t]:"Не указан"},Xe=function(e){var t=e.classes,a=e.availableVisits,n=e.originLocation,o=e.values,l=o.departureVisitId,s=o.arrivalVisitId,c=o.vehicleType,u=o.rideType,d=o.rideComment,p=o.rideClass,f=o.rideOccupation,m=o.departureDateTime,v=o.arrivalDateTime,E=e.handleChange,b=a.map(function(e){return e.visitId}),O=Object.fromEntries(a.map(function(e){return[e.visitId,e]})),g=Be({values:{rideDeparture:m,rideArrival:v},handleChange:E}),y=g.rideArrivalField,I=g.rideDepartureField,h=g.isSameDateField,S=Object(i.useCallback)(function(e){var t=e.option;if(t===We)return n.locationName;var a=O[t];return a?a.locationName:"Не указано"},[O]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.optionGroup},r.a.createElement(Ye.a,{name:"departureVisitId",caption:"Отправление из",inputId:"RideEditCard-departureVisitId",optionRender:S,hasNullOption:!1,options:[We].concat(Ge(b)),value:l,onChange:E}),r.a.createElement(Ye.a,{name:"arrivalVisitId",caption:"Прибытие в",inputId:"RideEditCard-arrivalVisitId",hasNullOption:!1,optionRender:S,options:[].concat(Ge(b),[We]),onChange:E,value:s})),r.a.createElement("div",{className:t.optionGroup},r.a.createElement(Ye.a,{name:"vehicleType",caption:"Транспорт",inputId:"RideEditCard-VehicleTypeOptions",optionRender:Ke,options:Object.values(ge.VEHICLE_TYPES),onChange:E,value:c}),r.a.createElement(Ye.a,{name:"rideType",caption:"Тип поездки",inputId:"RideEditCard-RideTypeOptions",optionRender:ze,options:Object.values(ge.RIDE_TYPES),onChange:E,value:u})),r.a.createElement("div",{className:t.optionGroup},r.a.createElement(Ye.a,{name:"rideClass",caption:"Класс поездки",inputId:"RideEditCard-RideClassOptions",optionRender:$e,options:Object.values(ge.RIDE_CLASSES),onChange:E,value:p}),r.a.createElement(Ye.a,{name:"rideOccupation",caption:"Роль",inputId:"RideEditCard-RideOccupationOptions",optionRender:Je,options:Object.values(ge.RIDE_OCCUPATION),onChange:E,value:f})),r.a.createElement("div",{className:t.optionGroup},r.a.createElement(_e.a,{name:"departureDateTime",autoOk:!0,className:t.option,label:"Дата отправления",value:I.value,onChange:I.onChange,format:"dd/MM/yyyy"}),h.value?r.a.createElement(De.a,{control:r.a.createElement(we.a,{checked:h.value,onChange:function(e){return h.onChange(e.target.checked)}}),label:"Прибытие в тот же день"}):r.a.createElement(_e.a,{name:"arrivalDateTime",autoOk:!0,className:t.option,label:"Дата прибытия",value:y.value,onChange:y.onChange,format:"dd/MM/yyyy"})),r.a.createElement("div",{className:t.optionGroup},r.a.createElement(qe.a,{name:"departureDateTime",ampm:!1,autoOk:!0,className:t.option,label:"Время отправления",value:I.value,onChange:I.onChange}),r.a.createElement(qe.a,{name:"arrivalDateTime",ampm:!1,autoOk:!0,className:t.option,label:"Время прибытия",value:y.value,onChange:y.onChange})),r.a.createElement("div",{className:t.optionGroup},r.a.createElement(Ae.a,{name:"rideComment",className:t.option,label:"Комментарий",multiline:!0,onChange:E,rows:1,rowsMax:12,value:d})))};Xe.propTypes={className:o.a.string,classes:o.a.objectOf(o.a.string).isRequired},Xe.defaultProps={className:void 0};var Qe=Object(h.a)({optionGroup:{display:"flex"},option:{flexGrow:"1"}})(Xe);function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var et=function(e){var t=e.availableVisits,a=e.initialState,i=e.children,n=e.className,o=e.onSubmit,l=e.originLocation,s=Ze(r.a.useState(!1),2),c=s[0],u=s[1],d=function(){return u(!1)};return r.a.createElement("div",{className:n},r.a.createElement(I.a,{"data-sort-handler":"disabled",size:"small",variant:"outlined",color:"primary",onClick:function(){return u(!0)}},i),c&&r.a.createElement(Le,{initialValues:a,enableReinitialize:!0,onSubmit:function(e){o(e),d()},onReject:d,title:"Транспорт",description:"Как вы добрались в место назначения и как уехали из него?"},r.a.createElement(Qe,{availableVisits:t,originLocation:l})))};et.propTypes={availableVisits:o.a.arrayOf(o.a.shape(g.default)),initialState:o.a.shape(E.default).isRequired,children:o.a.node.isRequired,className:o.a.string,onSubmit:o.a.func.isRequired,originLocation:o.a.shape(v.default).isRequired},et.defaultProps={className:void 0,availableVisits:[]};var tt=et;function at(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var it=function(e){var t=e.availableVisits,a=e.originLocation,i=e.classes,n=e.className,o=e.defaultArrivalVisitId,l=e.defaultDepartureVisitId,s=e.isEditable,c=e.onRideUpdate,u=e.ride,d=e.ride,p=d.rideId,f=d.vehicleType,m=d.rideType,v=d.arrivalDateTime,E=d.departureDateTime,b=e.showDetails,O=p?u:Object(ye.a)({defaultDepartureVisitId:l,defaultArrivalVisitId:o}),g=p?function(e){switch(e){case ge.VEHICLE_TYPES.CAR:return M.a;case ge.VEHICLE_TYPES.TRAIN:return Z.a;case ge.VEHICLE_TYPES.AIRCRAFT:return K.a;case ge.VEHICLE_TYPES.BUS:case ge.VEHICLE_TYPES.TROLLEY:case ge.VEHICLE_TYPES.CITY_BUS:return k.a;case ge.VEHICLE_TYPES.MOTORHOME:case ge.VEHICLE_TYPES.JITNEY:return ie.a;case ge.VEHICLE_TYPES.LOCAL_TRAIN:return Z.a;case ge.VEHICLE_TYPES.FERRY:return U.a;case ge.VEHICLE_TYPES.BIKE:return Y.a;case ge.VEHICLE_TYPES.BY_FEET:return ne.a;case ge.VEHICLE_TYPES.MOTORBIKE:return $.a;case ge.VEHICLE_TYPES.TRUCK:return te.a;case ge.VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:return X.a;case ge.VEHICLE_TYPES.TRAM:return le.a;case ge.VEHICLE_TYPES.TAXI:return ce.a;case ge.VEHICLE_TYPES.SUBWAY:return de.a;case ge.VEHICLE_TYPES.PUBLIC_TRANSPORT:return fe.a;case ge.VEHICLE_TYPES.ROPEWAY:case ge.VEHICLE_TYPES.FUNICULAR:default:return G.a}}(f):be.a,y=r.a.createElement(g,{className:i.icon}),I=s?r.a.createElement(tt,{className:i.editDialogTrigger,initialState:O,availableVisits:t,onSubmit:function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){at(e,t,a[t])})}return e}({},u,e))},originLocation:a},y):y;return r.a.createElement("div",{className:w()(n,i.container)},m===ge.RIDE_TYPES.HITCH_HIKING&&r.a.createElement(ve.a,{className:i.icon}),I,Boolean(p&&b)&&r.a.createElement("span",{className:i.details},Object(Oe.a)(E,v)))};it.propTypes={availableVisits:o.a.arrayOf(o.a.shape(g.default)),classes:o.a.objectOf(o.a.string).isRequired,className:o.a.string,defaultArrivalVisitId:o.a.number,defaultDepartureVisitId:o.a.number,isEditable:o.a.bool,onRideUpdate:o.a.func.isRequired,originLocation:o.a.shape(v.default).isRequired,ride:o.a.shape(E.default),showDetails:o.a.bool},it.defaultProps={availableVisits:[],className:void 0,defaultArrivalVisitId:void 0,defaultDepartureVisitId:void 0,isEditable:!1,ride:{},showDetails:!1};var rt=Object(h.a)({container:{display:"inline-block"},icon:{marginRight:"4px",display:"inline-block",verticalAlign:"text-bottom"},details:{marginRight:"4px"},editDialogTrigger:{display:"inline-block"}})(it),nt=a(1076),ot=a.n(nt),lt=function(e){var t=e.className,a=e.classes;return r.a.createElement(ot.a,{className:w()(t,a.dragHandler),"data-sort-handler":"enabled"})};lt.propTypes={className:o.a.string,classes:o.a.objectOf(o.a.string).isRequired},lt.defaultProps={className:void 0};var st=Object(h.a)({dragHandler:{cursor:"grab",marginLeft:"4px",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block"}})(lt);function ct(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ut=function(e){var t,a,i=e.visit,n=e.visit,o=(n=void 0===n?{}:n).visitId,l=n.arrivalRideId,s=n.departureRideId,c=e.ridesDict,u=e.classes,d=e.prevVisitId,p=e.nextVisitId,f=e.tripVisitsList,m=e.isEditable,v=e.isSortable,E=e.isSorting,b=e.isArrivalRideMatch,O=e.isDepartureRideMatch,g=e.onRideUpdate,y=e.onVisitUpdate,I=e.originLocation,h=e.locationsPath,S=m&&!b,R=m&&!O;return r.a.createElement("div",{className:u.container},r.a.createElement(rt,{availableVisits:f,defaultDepartureVisitId:d,defaultArrivalVisitId:o,visitId:o,isEditable:m,className:w()(u.ride,(t={},ct(t,u.alwaysVisible,E||!O),ct(t,u.warning,S),t)),ride:c[l],showDetails:E||S,onRideUpdate:g,originLocation:I}),r.a.createElement(_.a,{classes:{editIcon:u.visibleOnlyOnHover},isEditable:m,onVisitUpdate:y,visit:i,locationsPath:h}),(!O||E)&&r.a.createElement(rt,{className:w()(u.ride,(a={},ct(a,u.alwaysVisible,E||!O),ct(a,u.warning,R),a)),ride:c[s],availableVisits:f,defaultDepartureVisitId:o,defaultArrivalVisitId:p,isEditable:m&&!O,showDetails:E||R,onRideUpdate:g,originLocation:I}),v&&!E&&r.a.createElement(st,{className:u.visibleOnlyOnHover}))};ut.propTypes={classes:o.a.objectOf(o.a.string).isRequired,isArrivalRideMatch:o.a.bool,isDepartureRideMatch:o.a.bool,isEditable:o.a.bool,isSortable:o.a.bool,isSorting:o.a.bool,nextVisitId:o.a.number,onRideUpdate:o.a.func.isRequired,onVisitUpdate:o.a.func.isRequired,originLocation:o.a.shape(v.default).isRequired,prevVisitId:o.a.number,ridesDict:o.a.objectOf(o.a.shape(E.default)).isRequired,tripVisitsList:o.a.arrayOf(o.a.shape(g.default)),visit:o.a.shape(g.default).isRequired,locationsPath:o.a.instanceOf(V.a).isRequired},ut.defaultProps={isArrivalRideMatch:!0,isDepartureRideMatch:!0,isEditable:!1,isSortable:!1,isSorting:!1,nextVisitId:null,prevVisitId:null,tripVisitsList:[]};var dt,pt=Object(h.a)({alwaysVisible:{},container:{position:"relative","&:hover $editDialogTrigger":{visibility:"visible"},"&:hover $visibleOnlyOnHover":{visibility:"visible"}},editDialogTrigger:{marginLeft:"4px",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",visibility:"hidden"},visibleOnlyOnHover:{visibility:"hidden"},ride:{},warning:{color:"red"}})(ut),ft=a(956),mt=a(210);function vt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Et=(vt(dt={},mt.VISIT_TYPES.TRANSIT,"Транзит"),vt(dt,mt.VISIT_TYPES.REGULAR,"Посещение"),vt(dt,mt.VISIT_TYPES.BASE_CAMP,"Базовый лагерь"),vt(dt,mt.VISIT_TYPES.RELOCATION,"Переезд"),dt);function bt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var gt=function(e){var t=e.option;return t?Et[t]:"Не указан"},yt=function(e){var t=e.visitType,a=e.visitComment,r=e.locationId,n=e.locationName,o=e.geonameId,l=Ot(Object(i.useState)({visitComment:a,visitType:t,locationId:r,locationName:n,geonameId:o}),2),s=l[0],c=l[1];return{visitState:s,setVisitState:function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){bt(e,t,a[t])})}return e}({},s,e))}}},It=function(e){var t=e.classes,a=e.visitState,n=a.visitType,o=a.visitComment,l=a.locationName,s=e.setVisitState,c=Object(i.useCallback)(function(e){var t=e.target.value;return s({visitType:t})},[s]),u=Object(i.useCallback)(function(e){var t=e.geonameId;return s({geonameId:t})},[s]),d=Object(i.useCallback)(function(e){var t=e.target.value;return s({visitComment:t})},[s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.optionGroup},r.a.createElement(ft.b,{classes:{root:t.suggest},textFieldProps:{label:"Место посещения"},initialInputValue:l,inputProps:{placeholder:"Населенный пункт..."},onChange:u,sourceProps:{filterField:"locationName",modelName:"geonames",domain:"visitEditCard.geoname",queryFormat:ft.a.SEARCH,resolveDetails:function(e){return[e.countryName,e.regionName].filter(Boolean).join(", ")}}})),r.a.createElement("div",{className:t.optionGroup},r.a.createElement(Ye.a,{caption:"Тип посещения",inputId:"VisitEditCard-VisitTypeOptions",onChange:c,optionRender:gt,options:Object.values(mt.VISIT_TYPES),hasNullOption:!0,value:n})),r.a.createElement("div",{className:t.optionGroup},r.a.createElement(Ae.a,{label:"Комментарий",fullWidth:!0,value:o,onChange:d,multiline:!0,rows:1,rowsMax:12})))};It.propTypes={className:o.a.string,classes:o.a.objectOf(o.a.string).isRequired},It.defaultProps={className:void 0};var ht=Object(h.a)({optionGroup:{display:"flex",minWidth:"400px"},suggest:{flexGrow:1}})(It);function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Rt=function(e){var t=e.initialState,a=e.children,i=e.onSubmit,n=yt(t),o=n.visitState,l=n.setVisitState,s=St(r.a.useState(!1),2),c=s[0],u=s[1],d=function(){return u(!1)};return r.a.createElement(r.a.Fragment,null,r.a.cloneElement(a,{onClick:function(){return u(!0)}}),c&&r.a.createElement(Se.a,{transitionDuration:500,open:c,onClose:d,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Посещение"),r.a.createElement(Te.a,null,r.a.createElement(Pe.a,null,"Редактирование посещения"),r.a.createElement(ht,{visitState:o,setVisitState:l})),r.a.createElement(Re.a,null,r.a.createElement(he.a,{onClick:d,color:"secondary"},"Отмена"),r.a.createElement(he.a,{onClick:function(){i(o),d()},color:"primary"},"Сохранить"))))};Rt.propTypes={initialState:o.a.shape(E.default).isRequired,children:o.a.node.isRequired,onSubmit:o.a.func.isRequired},Rt.defaultProps={};var Tt=Rt;var Pt=function(e){var t,a,i,n=e.classes,o=e.isSorting,l=e.onVisitUpdate;return r.a.createElement("div",{className:w()((t={},a=n.draggableContainer,i=!o,a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t))},r.a.createElement(Tt,{initialState:{visitType:null,visitComment:""},onSubmit:l},r.a.createElement(he.a,{"data-sort-handler":"disabled",size:"small",variant:"outlined",color:"primary"},r.a.createElement("span",null,"Добавить посещение"))),r.a.createElement(st,{className:n.visibleOnlyOnHover}))};Pt.propTypes={classes:o.a.objectOf(o.a.string).isRequired,isSorting:o.a.bool,onVisitUpdate:o.a.func.isRequired},Pt.defaultProps={isSorting:!1};var Ct=Object(h.a)({visibleOnlyOnHover:{visibility:"hidden"},draggableContainer:{position:"relative","&:hover $visibleOnlyOnHover":{visibility:"visible"}}})(Pt);function jt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Dt=Object(y.SortableContainer)(function(e){var t=e.children;return r.a.createElement("div",null,t)}),At=Object(y.SortableElement)(function(e){var t=e.replaceWithNode,a=e.onVisitUpdate,i=Lt(e,["replaceWithNode","onVisitUpdate"]);return t||r.a.createElement(pt,Nt({onVisitUpdate:a},i))}),wt=function(e){var t=e.classes,a=e.countriesDict,n=e.locationsDict,o=e.onRideUpdate,l=e.onVisitsOrderUpdate,s=e.ridesDict,c=e.trip,u=e.trip,d=u.tripId,p=u.originLocationId,f=u.tripName,v=u.tripType,E=e.tripVisitsList,O=e.onTripUpdate,g=e.onVisitUpdate,y=e.locationsPath,h=Vt(Object(i.useState)(!1),2),S=h[0],T=h[1],V=Vt(Object(i.useState)(E.length),2),A=V[0],w=V[1],_=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return[].concat(j(e.slice(0,a)),[t],j(e.slice(a)))}(E,{isItVisitCreatorControl:!0},A).map(function(e,t){var a=e.isItVisitCreatorControl,i=e.visitId;if(a)return r.a.createElement(At,{key:"visitCreator",index:t,replaceWithNode:r.a.createElement(Ct,{isSorting:S,onVisitUpdate:function(e){return g(e,{indexInCollection:A,collection:E,tripId:d})}})});var l=Vt(function(e,t,a){var i=t-1-(t>a?1:0),r=t+1-(t+1>a?1:0);return[i>=0?e[i]:null,r<e.length?e[r]:null]}(E,t,A),2),c=l[0],u=l[1],f=(c||{}).visitId,m=(u||{}).visitId;return r.a.createElement(At,{index:t,isArrivalRideMatch:Object(N.a)(c,e),isDepartureRideMatch:Object(N.a)(e,u),isEditable:!0,isSortable:!0,isSorting:S,key:i,nextVisitId:m,onRideUpdate:o,onVisitUpdate:g,originLocation:n[p],prevVisitId:f,ridesDict:s,tripVisitsList:E,visit:e,locationsPath:y})}),q=r.a.createElement(Dt,{onSortEnd:function(e,t){T(!1);var a=e.oldIndex,i=e.newIndex;a===A?w(i):l(t,{oldIndex:a>A?a-1:a,newIndex:i>A?i-1:i,collection:E})},shouldCancelStart:C,updateBeforeSortStart:function(){return T(!0)},lockAxis:"y",lockToContainerEdges:!0},_),Y=r.a.createElement(D.a,{location:n[p],Icon:R.a,locationsPath:y}),H=r.a.createElement(m.a,{initialState:c,onSubmit:function(e){return O(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){jt(e,t,a[t])})}return e}({},c,e))}},r.a.createElement(I.a,{"data-sort-handler":"disabled",size:"small",variant:"outlined",color:"primary"},r.a.createElement(P.a,{className:t.visibleOnlyOnHover}))),U=E[E.length-1],x=E[E.length-2],k=U||{},F=k.departureRideId,M=k.visitId,B=v===L.TRIP_TYPES.RELOCATION,G=B?null:r.a.createElement(rt,{availableVisits:E,defaultDepartureVisitId:M,isEditable:!0,onRideUpdate:o,originLocation:n[p],ride:s[F],showDetails:S||Object(N.a)(x,U)});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:t.container},Object(b.b)(E,a,n[p]&&n[p].countryId,f),H),Y,q,!B&&r.a.createElement(r.a.Fragment,null,G,Y))};wt.propTypes={classes:o.a.objectOf(o.a.string).isRequired,tripIndex:o.a.number.isRequired,locationsDict:o.a.objectOf(o.a.shape(v.default)).isRequired,onRideUpdate:o.a.func.isRequired,onTripUpdate:o.a.func.isRequired,onVisitsOrderUpdate:o.a.func.isRequired,ridesDict:o.a.objectOf(o.a.shape(E.default)).isRequired,trip:o.a.shape(O.default).isRequired,tripVisitsList:o.a.arrayOf(o.a.shape(g.default)),tripStoryPath:o.a.instanceOf(V.a).isRequired,locationsPath:o.a.instanceOf(V.a).isRequired},wt.defaultProps={tripVisitsList:[]};var _t=Object(h.a)({container:{"&:hover $visibleOnlyOnHover":{visibility:"visible"}},visibleOnlyOnHover:{visibility:"hidden"}})(wt);function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){Yt(e,t,a[t])})}return e}function Yt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ht,Ut,xt=(Ht={orderResolver:function(e){return e.orderInTrip}}.orderResolver,function(e){var t=e.index,a=e.collection;if(!a.length)return 100;if(t<=0)return Ht(a[0])-1;if(t>=a.length-1)return Ht(a[a.length-1])+1;var i=Ht(a[t-1]),r=Ht(a[t]);return(i+r)/2+(Math.random()-.5)*(r-i)/2}),kt=function(e){var t=e.oldIndex,a=e.newIndex,i=e.collection;return{domain:"tripsPage.visits.sort",modelName:"visits",query:{id:i[t].visitId,body:{orderInTrip:xt({index:a,collection:i})}}}},Ft=function(e){var t=e.ride;return{domain:"tripsPage.visits.rides",modelName:"rides",query:{id:e.ride.rideId,body:t}}},Mt=function(e){var t=e.trip;return{domain:"tripsPage.visits.trips",modelName:"trips",query:{id:e.trip.tripId,body:t}}},Bt=function(e){var t=e.visit,a=e.visit.visitId,i=e.tripId,r=e.indexInCollection,n=e.collection;return{domain:"tripsPage.visits.visit",modelName:"visits",query:{id:a,body:qt({},t,{tripId:i,orderInTrip:r||0===r?xt({index:r,collection:n}):void 0})}}};function Gt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Wt=Object(c.a)(b.a);function Kt(e){var t=e.match.params,a=t.userAlias,n=t.strTripId,o=e.isTripsComplete,l=e.userTrips,s=(l=void 0===l?{}:l).data,c=void 0===s?[]:s,d=e.userVisits,f=(d=void 0===d?{}:d).data,m=void 0===f?[]:f,v=e.countriesDict,E=e.locationsDict,b=e.ridesDict,O=e.request,g=e.invalidateRequest,y=Object(p.c)(),I=y.isAuthenticated,h=y.userAlias,S=Object(u.d)().travel,R=S.tripStory,T=S.locations,P=Object(i.useCallback)(function(e,t){var a=t.oldIndex,i=t.newIndex,r=t.collection;a!==i&&O(kt({oldIndex:a,newIndex:i,collection:r}))},[O]),C=Object(i.useCallback)(function(e){return O(Ft({ride:e}))},[O]),j=Object(i.useCallback)(function(e){return O(Mt({trip:e})).then(function(){return g({domain:"tripsPage.trips"})})},[O]),V=Object(i.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.indexInCollection,i=t.collection,r=t.tripId;return O(Bt({visit:e,tripId:r,indexInCollection:a,collection:i})).then(function(){return g({domain:"tripsPage.visits"})})},[O]),N=parseInt(n,10),L=N&&c.find(function(e){return e.tripId===N});if(!o||!L||!(I&&h===a))return null;var D=Wt(m),A=L.tripId;return r.a.createElement(_t,{locationsDict:E,countriesDict:v,onRideUpdate:C,onTripUpdate:j,onVisitUpdate:V,onVisitsOrderUpdate:P,ridesDict:b,trip:L,tripVisitsList:D[A],tripStoryPath:R,locationsPath:T})}Kt.propTypes={match:o.a.shape({params:o.a.shape({userAlias:o.a.string.isRequired}).isRequired}).isRequired,request:o.a.func.isRequired,isTripsComplete:o.a.bool.isRequired,trips:o.a.shape({data:o.a.arrayOf(o.a.shape(O.default))}).isRequired,visits:o.a.shape({data:o.a.arrayOf(o.a.shape(g.default))}).isRequired,ridesDict:o.a.objectOf(o.a.shape(E.default)).isRequired,locationsDict:o.a.objectOf(o.a.shape(v.default)).isRequired};t.default=s()(Object(f.b)({domain:"tripsPage",mapStateToProps:function(e){return{countriesDict:Object(d.d)(e,"countries"),locationsDict:Object(d.d)(e,"locations"),ridesDict:Object(d.d)(e,"rides"),isTripsComplete:Object(d.h)(e,"tripsPage.userTrips").isComplete}},requirementsConfig:(Ut={},Gt(Ut,f.a.COMMON.COUNTRIES,!0),Gt(Ut,f.a.USER.TRIPS,!0),Gt(Ut,f.a.USER.LOCATIONS,!0),Gt(Ut,f.a.USER.VISITS,!0),Gt(Ut,f.a.USER.RIDES,!0),Ut)}))(Kt)},1131:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a.n(i),n=a(1),o=a.n(n),l=a(292),s=a.n(l),c=a(1061),u=a(211),d=a(30),p=a(129),f=a(106),m=a(869),v=a(865),E=a(906),b=a(205),O=a(203),g=a(925),y=a(846),I=a(207),h=a(204),S=a(72),R=a(827),T=a(9),P=a(297),C=a.n(P),j=a(946),V=a.n(j),N=a(130),L=a(926),D=a(209),A=a(959);var w=a(149),_=a.n(w),q=a(927),Y=a(935),H=a.n(Y),U=a(934),x=a.n(U),k=a(932),F=a.n(k),M=a(929),B=a.n(M),G=a(943),W=a.n(G),K=a(931),z=a.n(K),$=a(937),J=a.n($),X=a(938),Q=a.n(X),Z=a(930),ee=a.n(Z),te=a(900),ae=a.n(te),ie=a(933),re=a.n(ie),ne=a(936),oe=a.n(ne),le=a(939),se=a.n(le),ce=a(940),ue=a.n(ce),de=a(941),pe=a.n(de),fe=a(942),me=a.n(fe),ve=a(945),Ee=a.n(ve),be=a(944),Oe=a.n(be),ge=a(928),ye=a(80),Ie=function(e){var t=e.classes,a=e.className,i=e.ride,n=i.rideId,o=i.vehicleType,l=i.rideType,s=i.arrivalDateTime,c=i.departureDateTime,u=e.showDetails,d=n?function(e){switch(e){case ye.VEHICLE_TYPES.CAR:return B.a;case ye.VEHICLE_TYPES.TRAIN:return ee.a;case ye.VEHICLE_TYPES.AIRCRAFT:return z.a;case ye.VEHICLE_TYPES.BUS:case ye.VEHICLE_TYPES.TROLLEY:case ye.VEHICLE_TYPES.CITY_BUS:return F.a;case ye.VEHICLE_TYPES.MOTORHOME:case ye.VEHICLE_TYPES.JITNEY:return re.a;case ye.VEHICLE_TYPES.LOCAL_TRAIN:return ee.a;case ye.VEHICLE_TYPES.FERRY:return x.a;case ye.VEHICLE_TYPES.BIKE:return H.a;case ye.VEHICLE_TYPES.BY_FEET:return oe.a;case ye.VEHICLE_TYPES.MOTORBIKE:return J.a;case ye.VEHICLE_TYPES.TRUCK:return ae.a;case ye.VEHICLE_TYPES.ALL_TERRAIN_VEHICLE:return Q.a;case ye.VEHICLE_TYPES.TRAM:return se.a;case ye.VEHICLE_TYPES.TAXI:return ue.a;case ye.VEHICLE_TYPES.SUBWAY:return pe.a;case ye.VEHICLE_TYPES.PUBLIC_TRANSPORT:return me.a;case ye.VEHICLE_TYPES.ROPEWAY:case ye.VEHICLE_TYPES.FUNICULAR:default:return W.a}}(o):Oe.a;return r.a.createElement("div",{className:_()(a,t.container)},l===ye.RIDE_TYPES.HITCH_HIKING&&r.a.createElement(Ee.a,{className:t.icon}),r.a.createElement(d,{className:t.icon}),Boolean(n&&u)&&r.a.createElement("span",{className:t.details},Object(ge.a)(c,s)))};Ie.propTypes={classes:o.a.objectOf(o.a.string).isRequired,className:o.a.string,ride:o.a.shape(O.default),showDetails:o.a.bool},Ie.defaultProps={className:void 0,ride:{},showDetails:!1};var he=Object(T.a)({container:{display:"inline-block"},icon:{marginRight:"4px",display:"inline-block",verticalAlign:"text-bottom"},details:{marginRight:"4px"},editDialogTrigger:{display:"inline-block"}})(Ie);function Se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Re=function(e){var t,a,i=e.visit,n=e.visit,o=(n=void 0===n?{}:n).visitId,l=n.arrivalRideId,s=n.departureRideId,c=e.ridesDict,u=e.classes,d=e.isEditable,p=e.isArrivalRideMatch,f=e.isDepartureRideMatch,m=e.locationsPath,v=d&&!p,E=d&&!f;return r.a.createElement("div",{className:u.container},r.a.createElement(he,{visitId:o,className:_()(u.ride,(t={},Se(t,u.alwaysVisible,!f),Se(t,u.warning,v),t)),ride:c[l],showDetails:v}),r.a.createElement(q.a,{classes:{editIcon:u.visibleOnlyOnHover},visit:i,locationsPath:m}),!f&&r.a.createElement(he,{className:_()(u.ride,(a={},Se(a,u.alwaysVisible,!f),Se(a,u.warning,E),a)),ride:c[s],showDetails:E}))};Re.propTypes={classes:o.a.objectOf(o.a.string).isRequired,isArrivalRideMatch:o.a.bool,isDepartureRideMatch:o.a.bool,isEditable:o.a.bool,ridesDict:o.a.objectOf(o.a.shape(O.default)).isRequired,visit:o.a.shape(h.default).isRequired,locationsPath:o.a.instanceOf(N.a).isRequired},Re.defaultProps={isArrivalRideMatch:!0,isDepartureRideMatch:!0,isEditable:!1,tripVisitsList:[]};var Te=Object(T.a)({alwaysVisible:{},container:{position:"relative","&:hover $editDialogTrigger":{visibility:"visible"},"&:hover $visibleOnlyOnHover":{visibility:"visible"}},editDialogTrigger:{marginLeft:"4px",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block",visibility:"hidden"},visibleOnlyOnHover:{visibility:"hidden"},ride:{},warning:{color:"red"}})(Re);function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ce=function(e){var t=e.classes,a=e.countriesDict,i=e.isEditable,n=e.locationsDict,o=e.ridesDict,l=e.trip,s=l.originLocationId,c=l.tripName,u=l.tripType,d=e.tripIndex,p=e.tripVisitsList,f=e.tripEditUrl,m=e.tripStoryUrl,v=e.locationsPath,E=p.length,b=p.map(function(e,t){var a=e.visitId,n=Pe(function(e,t,a){var i=t-1-(t>a?1:0),r=t+1-(t+1>a?1:0);return[i>=0?e[i]:null,r<e.length?e[r]:null]}(p,t,E),2),l=n[0],s=n[1];return r.a.createElement(Te,{isArrivalRideMatch:Object(L.a)(l,e),isDepartureRideMatch:Object(L.a)(e,s),key:a,ridesDict:o,isEditable:i,visit:e,locationsPath:v})}),O=r.a.createElement(A.a,{location:n[s],Icon:C.a,locationsPath:v}),g=r.a.createElement(R.a,{"data-sort-handler":"disabled",size:"small",variant:"outlined",color:"primary",component:S.b,to:f},r.a.createElement(V.a,{className:t.visibleOnlyOnHover})),I=(p[p.length-1]||{}).departureRideId,h=u===D.TRIP_TYPES.RELOCATION,T=h?null:r.a.createElement(he,{ride:o[I],showDetails:!1}),P=function(e,t){e.some(function(e){var a=e.visitComment,i=e.arrivalRideId,r=e.departureRideId;if(a)return!0;if((t[i]||{}).rideComment)return!0;var n=(t[r]||{}).rideComment;return Boolean(n)})}(p,o);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:t.container},"".concat(d+1,". ").concat(Object(y.b)(p,a,n[s]&&n[s].countryId,c)),i&&g),O,r.a.createElement("div",null,b),!h&&r.a.createElement(r.a.Fragment,null,T,O),P&&r.a.createElement("div",null,r.a.createElement(S.b,{to:m},"Заметки")))};Ce.propTypes={classes:o.a.objectOf(o.a.string).isRequired,tripIndex:o.a.number.isRequired,isEditable:o.a.bool,locationsDict:o.a.objectOf(o.a.shape(b.default)).isRequired,onTripUpdate:o.a.func.isRequired,ridesDict:o.a.objectOf(o.a.shape(O.default)).isRequired,trip:o.a.shape(I.default).isRequired,tripVisitsList:o.a.arrayOf(o.a.shape(h.default)),locationsPath:o.a.instanceOf(N.a).isRequired,tripEditUrl:o.a.string.isRequired,tripStoryUrl:o.a.string.isRequired},Ce.defaultProps={tripVisitsList:[]};var je,Ve=Object(T.a)({container:{"&:hover $visibleOnlyOnHover":{visibility:"visible"}},visibleOnlyOnHover:{visibility:"hidden"}})(Ce),Ne=function(e){var t=e.trip;return{domain:"tripsPage.visits.trips",modelName:"trips",query:{id:e.trip.tripId,body:t}}};function Le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var De=Object(u.a)(y.a);function Ae(e){var t=e.match.params,a=t.userAlias,n=t.strTripId,o=e.isTripsComplete,l=e.userTrips,s=(l=void 0===l?{}:l).data,u=void 0===s?[]:s,p=e.userVisits,m=(p=void 0===p?{}:p).data,b=void 0===m?[]:m,O=e.countriesDict,y=e.locationsDict,I=e.ridesDict,h=e.request,S=e.invalidateRequest,R=Object(f.c)(),T=R.isAuthenticated,P=R.userAlias,C=Object(d.d)().travel,j=C.tripStory,V=C.locations,N=C.tripEdit,L=parseInt(n,10),D=L?u.filter(function(e){return e.tripId===L}):u,A=T&&P===a,w=Object(i.useCallback)(function(e){return h(Ne({trip:e})).then(function(){return S({domain:"tripsPage.trips"})})},[h]),_=Object(i.useMemo)(function(){return r.a.createElement(E.a,{initialState:Object(g.a)(),onSubmit:w},r.a.createElement(c.a,{size:"small",variant:"outlined",color:"primary"},"Добавить поездку"))},[w]);if(o&&!D.length)return r.a.createElement(v.a,{shouldShowLinkToTrips:!1},_);var q=De(b);return r.a.createElement(r.a.Fragment,null,A&&_,D.map(function(e,t){var i=e.tripId;return r.a.createElement("div",{key:i},r.a.createElement(Ve,{locationsDict:y,countriesDict:O,onTripUpdate:w,ridesDict:I,trip:e,tripIndex:t,tripVisitsList:q[i],isEditable:A,tripStoryUrl:j.toUrl({strTripId:String(i),userAlias:a}),locationsPath:V,tripEditUrl:N.toUrl({strTripId:String(i),userAlias:a})}))}))}Ae.propTypes={match:o.a.shape({params:o.a.shape({userAlias:o.a.string.isRequired}).isRequired}).isRequired,request:o.a.func.isRequired,isTripsComplete:o.a.bool.isRequired,trips:o.a.shape({data:o.a.arrayOf(o.a.shape(I.default))}).isRequired,visits:o.a.shape({data:o.a.arrayOf(o.a.shape(h.default))}).isRequired,ridesDict:o.a.objectOf(o.a.shape(O.default)).isRequired,locationsDict:o.a.objectOf(o.a.shape(b.default)).isRequired};t.default=s()(Object(m.b)({domain:"tripsPage",mapStateToProps:function(e){return{countriesDict:Object(p.d)(e,"countries"),locationsDict:Object(p.d)(e,"locations"),ridesDict:Object(p.d)(e,"rides"),isTripsComplete:Object(p.h)(e,"tripsPage.userTrips").isComplete}},requirementsConfig:(je={},Le(je,m.a.COMMON.COUNTRIES,!0),Le(je,m.a.USER.TRIPS,!0),Le(je,m.a.USER.LOCATIONS,!0),Le(je,m.a.USER.VISITS,!0),Le(je,m.a.USER.RIDES,!0),je)}))(Ae)},836:function(e,t,a){"use strict";var i=a(0),r=a.n(i),n=a(294),o=function(e){return function(t){var a=t.provision,i=(a=void 0===a?{}:a).isPending,o=void 0===i||i,l=a.hasFallback;return o&&!l?r.a.createElement(n.a,null):r.a.createElement(e,t)}},l=a(129);t.a=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(l.a.apply(void 0,t),o)(e)}}},846:function(e,t,a){"use strict";var i=a(844),r=a.n(i),n=a(145),o=a.n(n),l=a(851),s=a.n(l),c=function(e,t){var a=t.maxLength,i=t.separator,r=void 0===i?", ":i,n=s()(e),o=n.slice(0,a).join(r);return n.length>a?"".concat(o,"..."):o},u=a(210),d=function(e,t,a,i){if(!e.length)return i;var n=Object.keys(r()(e.filter(function(e){return e.visitType!==u.VISIT_TYPES.TRANSIT}),"countryId"));return 1===n.length?c(e.map(function(e){return e.locationName}),{maxLength:4})||i:c(n.map(function(e){return Number(e)!==a&&t[e]&&t[e].countryName}).filter(Boolean),{maxLength:4})||i};a.d(t,"c",function(){return p}),a.d(t,"a",function(){return f}),a.d(t,"b",function(){return d});var p=function(e){return e.sort(function(e,t){return e.orderInTrip-t.orderInTrip})},f=function(e){return o()(r()(e,"tripId"),p)}},865:function(e,t,a){"use strict";var i=a(0),r=a.n(i),n=a(1),o=a.n(n),l=a(19),s=(a(130),a(30)),c=a(106),u=function(e){var t=e.children,a=e.match.params.userAlias,n=Object(s.d)().travel.trips,o=Object(c.c)().userAlias;if(a!==o)return r.a.createElement("span",null,"Пользователь пока еще не внес информацию о своих поездках");var u=Object(i.useCallback)(function(){return r.a.createElement("div",null,r.a.createElement("span",null,"Нам пока ничего не известно о ваших путешествиях. Но очень интересно узнать. Создайте вашу первую поездку, а мы подготовим по ней отчет"),t)},[t]);return r.a.createElement(l.d,null,r.a.createElement(l.b,{path:n.toUrl({userAlias:o}),component:u}),r.a.createElement(l.a,{to:n.toUrl({userAlias:o})}))};u.propTypes={children:o.a.node,match:o.a.shape({params:o.a.shape({userAlias:o.a.string})}).isRequired},u.defaultProps={children:null},t.a=Object(l.g)(u)},869:function(e,t,a){"use strict";var i=a(0),r=a.n(i),n=a(19),o=a(151),l=a.n(o),s=a(292),c=a.n(s),u=a(836),d=a(851),p=a.n(d),f=a(129);a.d(t,"a",function(){return m});var m={COMMON:{COUNTRIES:"COMMON.COUNTRIES"},USER:{TRIPS:"USER.TRIPS",LOCATIONS:"USER.LOCATIONS",VISITS:"USER.VISITS",RIDES:"USER.RIDES"}};t.b=function(e){var t=e.domain,a=e.mapStateToProps,i=e.requirementsConfig;return function(e){var o=c()(n.g,Object(u.a)(function(e,a){var r=a.countriesDict,n=a.match.params.userAlias,o=function(e,t){return(Object(f.g)(e,"".concat(t,".userTrips"))||{}).data}(e,t),s=l()(i)?i(e,a):i,c={};if(s[m.COMMON.COUNTRIES]&&(c.countries={modelName:"countries",condition:!r||!Object.keys(r).length,query:{navigation:{isDisabled:!0}}}),s[m.USER.TRIPS]&&(c.userTrips={modelName:"trips",observe:n,query:{userAlias:n,navigation:{isDisabled:!0}}}),s[m.USER.LOCATIONS]){var u=function(e,t){var a=Object(f.d)(e,"trips"),i=Object(f.d)(e,"locations"),r=t?p()(t.reduce(function(e,t){var i=a[t];if(i){var r=i.originLocationId;r&&e.push(r)}return e},[])):[],n=r.filter(function(e){return!i[e]});return{requiredLocationsIds:r,missingLocationsIds:n}}(e,o),d=u.requiredLocationsIds,v=u.missingLocationsIds;c.userLocations={modelName:"locations",observe:d,condition:v.length,query:{filter:{id:{comparator:"in",value:v}},navigation:{isDisabled:!0}}}}if(s[m.USER.VISITS]){var E=s[m.USER.VISITS].year,b=parseInt(/^\d{4}$/.test(String(E))?E:void 0,10);c.userVisits={modelName:"visits",observe:{userTripsIds:o,year:E},condition:o&&o.length,query:{filter:{trip_id:{comparator:"in",value:o},departure_date_time:b?{comparator:">=",value:"".concat(b,"-01-01")}:void 0,arrival_date_time:b?{comparator:"<",value:"".concat(b+1,"-01-01")}:void 0},navigation:{isDisabled:!0}}}}return s[m.USER.RIDES]&&(c.userRides={modelName:"rides",observe:o,condition:o&&o.length,query:{filter:{trip_id:{comparator:"in",value:o}},navigation:{isDisabled:!0}}}),{domain:t,request:c}},a))(e);return function(e){return r.a.createElement(o,e)}}}},898:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return u}),a.d(t,"c",function(){return d}),a.d(t,"d",function(){return p});var i,r,n,o,l=a(80);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=(s(i={},l.RIDE_CLASSES.ECONOMY,"Эконом"),s(i,l.RIDE_CLASSES.COMFORT,"Комфорт"),s(i,l.RIDE_CLASSES.BUSINESS,"Бизнес"),s(i,l.RIDE_CLASSES.FIRST,"Первый"),s(i,l.RIDE_CLASSES.PRIVATE,"Частный"),i),u=(s(r={},l.RIDE_OCCUPATION.PASSENGER,"Пассажир"),s(r,l.RIDE_OCCUPATION.STUFF,"Персонал"),s(r,l.RIDE_OCCUPATION.DRIVER,"Водитель"),r),d=(s(n={},l.RIDE_TYPES.SELF_DRIVE,"Самостоятельная поездка"),s(n,l.RIDE_TYPES.SCHEDULED,"Регулярный рейс"),s(n,l.RIDE_TYPES.CHARTER,"Чартерный рейс"),s(n,l.RIDE_TYPES.TOUR,"Тур"),s(n,l.RIDE_TYPES.CARPOOL,"Попутный автомобиль"),s(n,l.RIDE_TYPES.HITCH_HIKING,"Автостоп"),s(n,l.RIDE_TYPES.DROP_OFF,"Подбросили до места"),n),p=(s(o={},l.VEHICLE_TYPES.CAR,"Автомобиль"),s(o,l.VEHICLE_TYPES.TRAIN,"Поезд"),s(o,l.VEHICLE_TYPES.AIRCRAFT,"Самолет"),s(o,l.VEHICLE_TYPES.BUS,"Автобус"),s(o,l.VEHICLE_TYPES.MOTORHOME,"Дом на колесах"),s(o,l.VEHICLE_TYPES.LOCAL_TRAIN,"Электричка"),s(o,l.VEHICLE_TYPES.FERRY,"Паром"),s(o,l.VEHICLE_TYPES.BIKE,"Велосипед"),s(o,l.VEHICLE_TYPES.BY_FEET,"Пешком"),s(o,l.VEHICLE_TYPES.ROPEWAY,"Канатная дорога"),s(o,l.VEHICLE_TYPES.FUNICULAR,"Фуникулер"),s(o,l.VEHICLE_TYPES.MOTORBIKE,"Мотоцикл"),s(o,l.VEHICLE_TYPES.TRUCK,"Грузовик"),s(o,l.VEHICLE_TYPES.ALL_TERRAIN_VEHICLE,"Вездеход"),s(o,l.VEHICLE_TYPES.TRAM,"Трамвай"),s(o,l.VEHICLE_TYPES.TROLLEY,"Троллейбус"),s(o,l.VEHICLE_TYPES.TAXI,"Такси"),s(o,l.VEHICLE_TYPES.CITY_BUS,"Муниципальный автобус"),s(o,l.VEHICLE_TYPES.JITNEY,"Маршрутное такси"),s(o,l.VEHICLE_TYPES.SUBWAY,"Метро"),s(o,l.VEHICLE_TYPES.PUBLIC_TRANSPORT,"Общественный транспорт"),o)},899:function(e,t,a){"use strict";var i=a(0),r=a.n(i),n=a(1),o=a.n(n),l=a(9),s=a(1137),c=a(1114),u=a(1116),d=a(1130),p=function(e){var t=e.caption,a=e.classes,i=e.hasNullOption,n=e.inputId,o=e.name,l=e.onChange,p=e.optionRender,f=e.options,m=e.value;return r.a.createElement("div",{className:a.container},r.a.createElement(s.a,{component:"label",shrink:!0,htmlFor:n},t),r.a.createElement(d.a,{name:o,value:m,displayEmpty:!0,onChange:l,input:r.a.createElement(c.a,{id:n}),className:a.selectRoot},i&&r.a.createElement(u.a,{key:null,value:null},p({option:null,index:-1,options:f})),f.map(function(e,t){return r.a.createElement(u.a,{key:e,value:e},p({option:e,index:t,options:f}))})))},f=o.a.oneOfType([o.a.number,o.a.string]);p.propTypes={name:o.a.string,caption:o.a.string.isRequired,classes:o.a.objectOf(o.a.string).isRequired,hasNullOption:o.a.bool,inputId:o.a.string.isRequired,onChange:o.a.func.isRequired,optionRender:o.a.func,options:o.a.arrayOf(f),value:f},p.defaultProps={name:void 0,hasNullOption:!0,optionRender:function(e){return e.option||""},options:[],value:void 0},t.a=Object(l.a)({container:{display:"inline-block",flexGrow:"1",flexBasis:"0"},selectRoot:{display:"block"}})(p)},906:function(e,t,a){"use strict";var i,r=a(0),n=a.n(r),o=a(1),l=a.n(o),s=a(1061),c=a(1118),u=a(1122),d=a(1120),p=a(1121),f=a(1119),m=a(203),v=a(58),E=a(9),b=a(1139),O=a(292),g=a.n(O),y=a(899),I=a(956),h=a(129),S=a(209);function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var T=(R(i={},S.TRIP_TYPES.LEISURE,"Отдых"),R(i,S.TRIP_TYPES.BUSINESS,"Работа"),R(i,S.TRIP_TYPES.MIXED,"Смешанный"),R(i,S.TRIP_TYPES.RELOCATION,"Переезд"),R(i,S.TRIP_TYPES.OTHER,"Другой"),i);function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=function(e){var t=e.option;return t?T[t]:"Не указан"},V=function(e){var t=e.tripName,a=e.tripType,i=e.originLocationId,n=e.originGeonameId,o=C(Object(r.useState)({tripName:t,tripType:a,originLocationId:i,originGeonameId:n}),2),l=o[0],s=o[1];return{tripState:l,setTripState:function(e){return s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){P(e,t,a[t])})}return e}({},l,e))}}},N=function(e){var t=e.classes,a=e.locationsDict,i=e.tripState,o=i.tripType,l=i.tripName,s=i.originLocationId,c=e.setTripState,u=Object(r.useCallback)(function(e){var t=e.target.value;return c({tripName:t})},[c]),d=Object(r.useCallback)(function(e){var t=e.target.value;return c({tripType:t})},[c]),p=Object(r.useCallback)(function(e){var t=e.geonameId;return c({originGeonameId:t})},[c]),f=(a[s]||{}).locationName;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:t.optionGroup},n.a.createElement(b.a,{fullWidth:!0,label:"Название поездки",value:l,onChange:u})),n.a.createElement("div",{className:t.optionGroup},n.a.createElement(I.b,{classes:{root:t.suggest},textFieldProps:{label:"Старт из"},initialInputValue:f,inputProps:{placeholder:"Пункт отправления..."},onChange:p,sourceProps:{filterField:"locationName",modelName:"geonames",domain:"tripEditCard.geoname",queryFormat:I.a.SEARCH,resolveDetails:function(e){return[e.countryName,e.regionName].filter(Boolean).join(", ")}}})),n.a.createElement("div",{className:t.optionGroup},n.a.createElement(y.a,{caption:"Тип поездки",inputId:"TripEditCard-TripTypeOptions",onChange:d,optionRender:j,options:Object.values(S.TRIP_TYPES),hasNullOption:!0,value:o})))};N.propTypes={className:l.a.string,classes:l.a.objectOf(l.a.string).isRequired},N.defaultProps={className:void 0};var L=g()(Object(v.b)(function(e){return{locationsDict:Object(h.d)(e,"locations")}}),Object(E.a)({optionGroup:{display:"flex",minWidth:"400px"},suggest:{flexGrow:1}}))(N);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],i=!0,r=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw n}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=function(e){var t=e.initialState,a=e.children,i=e.onSubmit,r=V(t),o=r.tripState,l=r.setTripState,m=D(n.a.useState(!1),2),v=m[0],E=m[1],b=function(){return E(!1)};return n.a.createElement(n.a.Fragment,null,n.a.cloneElement(a,{onClick:function(){return E(!0)}}),v&&n.a.createElement(c.a,{transitionDuration:500,open:v,onClose:b,"aria-labelledby":"form-dialog-title"},n.a.createElement(f.a,{id:"form-dialog-title"},"Поездка"),n.a.createElement(d.a,null,n.a.createElement(p.a,null,"Редактирование поездки"),n.a.createElement(L,{tripState:o,setTripState:l})),n.a.createElement(u.a,null,n.a.createElement(s.a,{onClick:b,color:"secondary"},"Отмена"),n.a.createElement(s.a,{onClick:function(){i(o),b()},color:"primary"},"Сохранить"))))};A.propTypes={initialState:l.a.shape(m.default).isRequired,children:l.a.node.isRequired,onSubmit:l.a.func.isRequired},A.defaultProps={};t.a=A},925:function(e,t,a){"use strict";t.a=function(){return{tripType:null}}},926:function(e,t,a){"use strict";t.a=function(e,t){return!e||!t||e.departureRideId===t.arrivalRideId}},927:function(e,t,a){"use strict";var i=a(0),r=a.n(i),n=a(1),o=a.n(n),l=a(72),s=a(9),c=a(1068),u=a.n(c),d=a(1066),p=a.n(d),f=a(900),m=a.n(f),v=a(1067),E=a.n(v),b=a(130),O=a(204),g=function(e){var t=e.visit,a=e.classes,i=e.locationsPath;if(!t)return"Не указано";var n=t.locationName,o=t.visitType,s=t.locationId,c=function(e){switch(e){case"Transit":return p.a;case"BaseCamp":return E.a;case"Relocation":return m.a;case"Regular":default:return u.a}}(o);return r.a.createElement("div",{className:a.container},c&&r.a.createElement(c,{className:a.icon}),r.a.createElement(l.b,{to:i.toUrl({strLocationId:String(s)})},n))};g.propTypes={classes:o.a.objectOf(o.a.string).isRequired,visit:o.a.shape(O.default),locationsPath:o.a.instanceOf(b.a).isRequired},g.defaultProps={visit:{}},t.a=Object(s.a)({container:{display:"inline-block",marginRight:"4px"},icon:{marginRight:"4px",display:"inline-block",verticalAlign:"text-bottom"},editIcon:{}})(g)},928:function(e,t,a){"use strict";t.a=function(e,t){var a=Boolean(t)&&t.toLocaleDateString(),i=Boolean(e)&&e.toLocaleDateString();return a===i?a:"".concat(i,"—").concat(a)}},956:function(e,t,a){"use strict";var i=a(836),r=a(0),n=a.n(r),o=a(1098),l=a(819),s=a(825),c=a(1),u=a.n(c),d=function(e){var t=e.inputValue,a=e.sourceProps,i=(a=void 0===a?{}:a).suggestions,r=void 0===i?[]:i,o=e.children,l=t.toLowerCase();return n.a.createElement(n.a.Fragment,null,o(r.filter(function(e){return e.label.toLowerCase().includes(l)})))};d.propTypes={inputValue:u.a.string.isRequired,sourceProps:u.a.shape({suggestions:u.a.array}).isRequired,children:u.a.func.isRequired};var p=d,f=a(1139);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){E(e,t,a[t])})}return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var O=function(e){var t=e.inputProps,a=e.classes,i=e.ref,r=b(e,["inputProps","classes","ref"]);return n.a.createElement(f.a,m({InputProps:v({inputRef:i,classes:{root:a.inputRoot,input:a.inputInput}},t)},r))},g=a(1116),y=a(824);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}var h=function(e){var t=e.itemProps,a=e.isHighlighted,i=e.isSelected,r=e.children,o=r.label,l=r.details;return n.a.createElement(g.a,I({},t,{selected:a,component:"div",style:{fontWeight:i?500:400}}),n.a.createElement(y.a,{primary:o,secondary:l}))};h.propTypes={itemProps:u.a.object,isHighlighted:u.a.bool,isSelected:u.a.bool,children:u.a.func.isRequired},h.defaultProps={itemProps:void 0,isHighlighted:!1,isSelected:!1};var S=h;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function P(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var C=Object(l.a)(function(e){return{root:{},container:{},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},inputRoot:{},inputInput:{}}}),j=function(e){return(e||{}).label},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.SuggestionsResolver,a=void 0===t?p:t,i=e.SuggestionItemComponent,r=void 0===i?S:i,l=e.InputComponent,c=void 0===l?O:l;return function(e){var t=e.classes,i=e.sourceProps,l=e.inputProps,u=e.inputFieldProps,d=P(e,["classes","sourceProps","inputProps","inputFieldProps"]),p=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){T(e,t,a[t])})}return e}({},C(),t);return n.a.createElement("div",{className:p.root},n.a.createElement(o.a,R({itemToString:j},d),function(e){var t=e.getInputProps,o=e.getItemProps,d=e.getMenuProps,f=e.highlightedIndex,m=e.inputValue,v=e.isOpen,E=e.selectedItem;return n.a.createElement("div",{className:p.container},n.a.createElement(c,R({fullWidth:!0,classes:p,inputProps:t(l)},u)),n.a.createElement("div",d(),v&&n.a.createElement(s.a,{className:p.paper,square:!0},n.a.createElement(a,{inputValue:m,sourceProps:i},function(e){return e.map(function(e,t){return n.a.createElement(r,{key:e.label,itemProps:o({item:e}),isHighlighted:f===t,isSelected:Boolean(E)&&E.label===e.label},e)})}))))}))}};V();function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",function(){return L});var L={FILTER:"FILTER",SEARCH:"SEARCH"},D=function(e){var t=e.queryFormat,a=e.filterField,i=e.inputValue,r={pageSize:e.numberOfItemsToRequest};switch(t){case L.SEARCH:return{navigation:r,search:i};case L.FILTER:default:return{navigation:r,filter:N({},a,{comparator:"~",value:"%".concat(i,"%")})}}};t.b=V({SuggestionsResolver:Object(i.a)(function(e,t){var a=t.inputValue,i=t.sourceProps,r=i.modelName,n=i.domain,o=i.filterField,l=i.numberOfItemsToRequest,s=i.queryFormat;return{domain:n,identity:a,request:{entities:{modelName:r,observe:a,query:D({queryFormat:s,filterField:o,inputValue:a,numberOfItemsToRequest:l})}},debounceRequest:500}})(function(e){var t=e.sourceProps,a=(t=void 0===t?{}:t).filterField,i=t.resolveDetails,r=t.convertEntityToSuggestion,n=void 0===r?function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){N(e,t,a[t])})}return e}({},e,{label:e[a],details:i?i(e):void 0})}:r,o=e.entities,l=(o=void 0===o?{}:o).data,s=void 0===l?[]:l;return(0,e.children)((s||[]).map(n))})})},959:function(e,t,a){"use strict";var i=a(0),r=a.n(i),n=a(1),o=a.n(n),l=a(72),s=a(9),c=a(130),u=a(206),d=a(205),p=function(e){var t=e.location,a=t.locationId,i=t.locationName,n=void 0===i?"unknown":i,o=e.locationsPath,s=e.Icon,c=e.classes,u=o?r.a.createElement(l.b,{to:o.toUrl({strLocationId:String(a)})},n):n;return r.a.createElement("div",{className:c.container},s&&r.a.createElement(s,{className:c.icon}),u)};p.propTypes={classes:o.a.objectOf(o.a.string).isRequired,location:o.a.shape(d.default),Icon:function(e,t,a){if(e[t]&&!Object(u.isValidElementType)(e[t]))return new Error("Invalid prop '".concat(t,"' supplied to '").concat(a,"': the prop is not a valid React component"))},locationsPath:o.a.instanceOf(c.a)},p.defaultProps={location:{},Icon:void 0,locationsPath:void 0};t.a=Object(s.a)({container:{display:"inline-block",marginRight:"4px"},icon:{marginRight:"4px",display:"inline-block",verticalAlign:"text-bottom"}})(p)}}]);
//# sourceMappingURL=travel-Trips-40f308db5ff7344e916e.js.map